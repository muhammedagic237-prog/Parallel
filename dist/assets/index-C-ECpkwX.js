function Tx(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ex(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bp={exports:{}},Hl={};var cT;function Sx(){if(cT)return Hl;cT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Hl.Fragment=t,Hl.jsx=n,Hl.jsxs=n,Hl}var fT;function bx(){return fT||(fT=1,Bp.exports=Sx()),Bp.exports}var st=bx(),zp={exports:{}},Ct={};var hT;function Cx(){if(hT)return Ct;hT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function C(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function H(U,et,ut){this.props=U,this.context=et,this.refs=L,this.updater=ut||w}H.prototype.isReactComponent={},H.prototype.setState=function(U,et){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,et,"setState")},H.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=H.prototype;function j(U,et,ut){this.props=U,this.context=et,this.refs=L,this.updater=ut||w}var nt=j.prototype=new $;nt.constructor=j,O(nt,H.prototype),nt.isPureReactComponent=!0;var W=Array.isArray;function at(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(U,et,ut){var ft=ut.ref;return{$$typeof:e,type:U,key:et,ref:ft!==void 0?ft:null,props:ut}}function I(U,et){return x(U.type,et,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function B(U){var et={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ut){return et[ut]})}var M=/\/+/g;function te(U,et){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):et.toString(36)}function he(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(at,at):(U.status="pending",U.then(function(et){U.status==="pending"&&(U.status="fulfilled",U.value=et)},function(et){U.status==="pending"&&(U.status="rejected",U.reason=et)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,et,ut,ft,St){var wt=typeof U;(wt==="undefined"||wt==="boolean")&&(U=null);var Bt=!1;if(U===null)Bt=!0;else switch(wt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(U.$$typeof){case e:case t:Bt=!0;break;case y:return Bt=U._init,J(Bt(U._payload),et,ut,ft,St)}}if(Bt)return St=St(U),Bt=ft===""?"."+te(U,0):ft,W(St)?(ut="",Bt!=null&&(ut=Bt.replace(M,"$&/")+"/"),J(St,et,ut,"",function(vr){return vr})):St!=null&&(P(St)&&(St=I(St,ut+(St.key==null||U&&U.key===St.key?"":(""+St.key).replace(M,"$&/")+"/")+Bt)),et.push(St)),1;Bt=0;var Oe=ft===""?".":ft+":";if(W(U))for(var oe=0;oe<U.length;oe++)ft=U[oe],wt=Oe+te(ft,oe),Bt+=J(ft,et,ut,wt,St);else if(oe=C(U),typeof oe=="function")for(U=oe.call(U),oe=0;!(ft=U.next()).done;)ft=ft.value,wt=Oe+te(ft,oe++),Bt+=J(ft,et,ut,wt,St);else if(wt==="object"){if(typeof U.then=="function")return J(he(U),et,ut,ft,St);throw et=String(U),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function ot(U,et,ut){if(U==null)return U;var ft=[],St=0;return J(U,ft,"","",function(wt){return et.call(ut,wt,St++)}),ft}function ht(U){if(U._status===-1){var et=U._result;et=et(),et.then(function(ut){(U._status===0||U._status===-1)&&(U._status=1,U._result=ut)},function(ut){(U._status===0||U._status===-1)&&(U._status=2,U._result=ut)}),U._status===-1&&(U._status=0,U._result=et)}if(U._status===1)return U._result.default;throw U._result}var Dt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Pt={map:ot,forEach:function(U,et,ut){ot(U,function(){et.apply(this,arguments)},ut)},count:function(U){var et=0;return ot(U,function(){et++}),et},toArray:function(U){return ot(U,function(et){return et})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ct.Activity=v,Ct.Children=Pt,Ct.Component=H,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=j,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Ct.cache=function(U){return function(){return U.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(U,et,ut){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ft=O({},U.props),St=U.key;if(et!=null)for(wt in et.key!==void 0&&(St=""+et.key),et)!R.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(ft[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)ft.children=ut;else if(1<wt){for(var Bt=Array(wt),Oe=0;Oe<wt;Oe++)Bt[Oe]=arguments[Oe+2];ft.children=Bt}return x(U.type,St,ft)},Ct.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ct.createElement=function(U,et,ut){var ft,St={},wt=null;if(et!=null)for(ft in et.key!==void 0&&(wt=""+et.key),et)R.call(et,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=et[ft]);var Bt=arguments.length-2;if(Bt===1)St.children=ut;else if(1<Bt){for(var Oe=Array(Bt),oe=0;oe<Bt;oe++)Oe[oe]=arguments[oe+2];St.children=Oe}if(U&&U.defaultProps)for(ft in Bt=U.defaultProps,Bt)St[ft]===void 0&&(St[ft]=Bt[ft]);return x(U,wt,St)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(U){return{$$typeof:h,render:U}},Ct.isValidElement=P,Ct.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ht}},Ct.memo=function(U,et){return{$$typeof:m,type:U,compare:et===void 0?null:et}},Ct.startTransition=function(U){var et=D.T,ut={};D.T=ut;try{var ft=U(),St=D.S;St!==null&&St(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(at,Dt)}catch(wt){Dt(wt)}finally{et!==null&&ut.types!==null&&(et.types=ut.types),D.T=et}},Ct.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ct.use=function(U){return D.H.use(U)},Ct.useActionState=function(U,et,ut){return D.H.useActionState(U,et,ut)},Ct.useCallback=function(U,et){return D.H.useCallback(U,et)},Ct.useContext=function(U){return D.H.useContext(U)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(U,et){return D.H.useDeferredValue(U,et)},Ct.useEffect=function(U,et){return D.H.useEffect(U,et)},Ct.useEffectEvent=function(U){return D.H.useEffectEvent(U)},Ct.useId=function(){return D.H.useId()},Ct.useImperativeHandle=function(U,et,ut){return D.H.useImperativeHandle(U,et,ut)},Ct.useInsertionEffect=function(U,et){return D.H.useInsertionEffect(U,et)},Ct.useLayoutEffect=function(U,et){return D.H.useLayoutEffect(U,et)},Ct.useMemo=function(U,et){return D.H.useMemo(U,et)},Ct.useOptimistic=function(U,et){return D.H.useOptimistic(U,et)},Ct.useReducer=function(U,et,ut){return D.H.useReducer(U,et,ut)},Ct.useRef=function(U){return D.H.useRef(U)},Ct.useState=function(U){return D.H.useState(U)},Ct.useSyncExternalStore=function(U,et,ut){return D.H.useSyncExternalStore(U,et,ut)},Ct.useTransition=function(){return D.H.useTransition()},Ct.version="19.2.4",Ct}var dT;function Sg(){return dT||(dT=1,zp.exports=Cx()),zp.exports}var k=Sg(),jp={exports:{}},ql={},Fp={exports:{}},Hp={};var pT;function Ax(){return pT||(pT=1,(function(e){function t(J,ot){var ht=J.length;J.push(ot);t:for(;0<ht;){var Dt=ht-1>>>1,Pt=J[Dt];if(0<a(Pt,ot))J[Dt]=ot,J[ht]=Pt,ht=Dt;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ot=J[0],ht=J.pop();if(ht!==ot){J[0]=ht;t:for(var Dt=0,Pt=J.length,U=Pt>>>1;Dt<U;){var et=2*(Dt+1)-1,ut=J[et],ft=et+1,St=J[ft];if(0>a(ut,ht))ft<Pt&&0>a(St,ut)?(J[Dt]=St,J[ft]=ht,Dt=ft):(J[Dt]=ut,J[et]=ht,Dt=et);else if(ft<Pt&&0>a(St,ht))J[Dt]=St,J[ft]=ht,Dt=ft;else break t}}return ot}function a(J,ot){var ht=J.sortIndex-ot.sortIndex;return ht!==0?ht:J.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,v=null,E=3,C=!1,w=!1,O=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function nt(J){for(var ot=n(m);ot!==null;){if(ot.callback===null)s(m);else if(ot.startTime<=J)s(m),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(m)}}function W(J){if(O=!1,nt(J),!w)if(n(p)!==null)w=!0,at||(at=!0,B());else{var ot=n(m);ot!==null&&he(W,ot.startTime-J)}}var at=!1,D=-1,R=5,x=-1;function I(){return L?!0:!(e.unstable_now()-x<R)}function P(){if(L=!1,at){var J=e.unstable_now();x=J;var ot=!0;try{t:{w=!1,O&&(O=!1,$(D),D=-1),C=!0;var ht=E;try{e:{for(nt(J),v=n(p);v!==null&&!(v.expirationTime>J&&I());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var Pt=Dt(v.expirationTime<=J);if(J=e.unstable_now(),typeof Pt=="function"){v.callback=Pt,nt(J),ot=!0;break e}v===n(p)&&s(p),nt(J)}else s(p);v=n(p)}if(v!==null)ot=!0;else{var U=n(m);U!==null&&he(W,U.startTime-J),ot=!1}}break t}finally{v=null,E=ht,C=!1}ot=void 0}}finally{ot?B():at=!1}}}var B;if(typeof j=="function")B=function(){j(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,te=M.port2;M.port1.onmessage=P,B=function(){te.postMessage(null)}}else B=function(){H(P,0)};function he(J,ot){D=H(function(){J(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(J){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var ht=E;E=ot;try{return J()}finally{E=ht}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(J,ot){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ht=E;E=J;try{return ot()}finally{E=ht}},e.unstable_scheduleCallback=function(J,ot,ht){var Dt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Dt+ht:Dt):ht=Dt,J){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ht+Pt,J={id:y++,callback:ot,priorityLevel:J,startTime:ht,expirationTime:Pt,sortIndex:-1},ht>Dt?(J.sortIndex=ht,t(m,J),n(p)===null&&J===n(m)&&(O?($(D),D=-1):O=!0,he(W,ht-Dt))):(J.sortIndex=Pt,t(p,J),w||C||(w=!0,at||(at=!0,B()))),J},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(J){var ot=E;return function(){var ht=E;E=ot;try{return J.apply(this,arguments)}finally{E=ht}}}})(Hp)),Hp}var mT;function Rx(){return mT||(mT=1,Fp.exports=Ax()),Fp.exports}var qp={exports:{}},nn={};var gT;function xx(){if(gT)return nn;gT=1;var e=Sg();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,y)},nn.flushSync=function(p){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=y,s.d.f()}},nn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},nn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,m){return p(m)},nn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var yT;function Dx(){if(yT)return qp.exports;yT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qp.exports=xx(),qp.exports}var vT;function wx(){if(vT)return ql;vT=1;var e=Rx(),t=Sg(),n=Dx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return p(d),i;if(g===u)return p(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,b=d.child;b;){if(b===o){T=!0,o=d,u=g;break}if(b===u){T=!0,u=d,o=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===o){T=!0,o=g,u=d;break}if(b===u){T=!0,u=g,o=d;break}b=b.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),j=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case W:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case j:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case nt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:te(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return te(i(r))}catch{}}return null}var he=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Dt=[],Pt=-1;function U(i){return{current:i}}function et(i){0>Pt||(i.current=Dt[Pt],Dt[Pt]=null,Pt--)}function ut(i,r){Pt++,Dt[Pt]=i.current,i.current=r}var ft=U(null),St=U(null),wt=U(null),Bt=U(null);function Oe(i,r){switch(ut(wt,r),ut(St,i),ut(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?P_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=P_(r),i=O_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(ft),ut(ft,i)}function oe(){et(ft),et(St),et(wt)}function vr(i){i.memoizedState!==null&&ut(Bt,i);var r=ft.current,o=O_(r,i.type);r!==o&&(ut(St,i),ut(ft,o))}function ma(i){St.current===i&&(et(ft),et(St)),Bt.current===i&&(et(Bt),Bl._currentValue=ht)}var ga,ya;function gi(i){if(ga===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ga=r&&r[1]||"",ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+i+ya}var Bo=!1;function _r(i,r){if(!i||Bo)return"";Bo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var K=Q}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(Q){K=Q}i.call(tt.prototype)}}else{try{throw Error()}catch(Q){K=Q}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var V=T.split(`
`),G=b.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===G.length)for(u=V.length-1,d=G.length-1;1<=u&&0<=d&&V[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==G[d]){var X=`
`+V[u].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=u&&0<=d);break}}}finally{Bo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gi(o):""}function zo(i,r){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return i.child!==r&&r!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return _r(i.type,!1);case 11:return _r(i.type.render,!1);case 1:return _r(i.type,!0);case 31:return gi("Activity");default:return""}}function jo(i){try{var r="",o=null;do r+=zo(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ee=Object.prototype.hasOwnProperty,Ne=e.unstable_scheduleCallback,Es=e.unstable_cancelCallback,jh=e.unstable_shouldYield,Uu=e.unstable_requestPaint,cn=e.unstable_now,Tr=e.unstable_getCurrentPriorityLevel,Fo=e.unstable_ImmediatePriority,Ho=e.unstable_UserBlockingPriority,Ss=e.unstable_NormalPriority,Fh=e.unstable_LowPriority,Bu=e.unstable_IdlePriority,zu=e.log,ju=e.unstable_setDisableYieldValue,Zn=null,$e=null;function On(i){if(typeof zu=="function"&&ju(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Zn,i)}catch{}}var ge=Math.clz32?Math.clz32:Hu,Fu=Math.log,va=Math.LN2;function Hu(i){return i>>>=0,i===0?32:31-(Fu(i)/va|0)|0}var yi=256,Er=262144,Se=4194304;function vi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _i(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?d=vi(u):(T&=b,T!==0?d=vi(T):o||(o=b&~i,o!==0&&(d=vi(o))))):(b=u&~g,b!==0?d=vi(b):T!==0?d=vi(T):o||(o=u&~i,o!==0&&(d=vi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Wn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Hh(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function Ti(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Sr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qh(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,V=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var X=31-ge(o),tt=1<<X;b[X]=0,V[X]=-1;var K=G[X];if(K!==null)for(G[X]=null,X=0;X<K.length;X++){var Q=K[X];Q!==null&&(Q.lane&=-536870913)}o&=~tt}u!==0&&br(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function br(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ge(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function qo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ge(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Go(i,r){var o=r&-r;return o=(o&42)!==0?1:Cr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Cr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gu(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:iT(i.type))}function ti(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var ei=Math.random().toString(36).slice(2),be="__reactFiber$"+ei,Fe="__reactProps$"+ei,Ei="__reactContainer$"+ei,_a="__reactEvents$"+ei,Gh="__reactListeners$"+ei,$u="__reactHandles$"+ei,Ku="__reactResources$"+ei,Si="__reactMarker$"+ei;function Ta(i){delete i[be],delete i[Fe],delete i[_a],delete i[Gh],delete i[$u]}function bi(i){var r=i[be];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ei]||o[be]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=j_(i);i!==null;){if(o=i[be])return o;i=j_(i)}return r}i=o,o=i.parentNode}return null}function Nn(i){if(i=i[be]||i[Ei]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function An(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ci(i){var r=i[Ku];return r||(r=i[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[Si]=!0}var $o=new Set,Ko={};function Ai(i,r){Ri(i,r),Ri(i+"Capture",r)}function Ri(i,r){for(Ko[i]=r,i=0;i<r.length;i++)$o.add(r[i])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Xo={};function Yu(i){return Ee.call(Xo,i)?!0:Ee.call(Qo,i)?!1:Yo.test(i)?Xo[i]=!0:(Qo[i]=!0,!1)}function Ea(i,r,o){if(Yu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Rn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ae(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function He(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function bs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jo(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Kt(i){if(!i._valueTracker){var r=bs(i)?"checked":"value";i._valueTracker=Jo(i,r,""+i[r])}}function Ar(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=bs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rr=/[\n"\\]/g;function gn(i){return i.replace(Rr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sa(i,r,o,u,d,g,T,b){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+He(r)):i.value!==""+He(r)&&(i.value=""+He(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Zo(i,T,He(r)):o!=null?Zo(i,T,He(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+He(b):i.removeAttribute("name")}function Qu(i,r,o,u,d,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Kt(i);return}o=o!=null?""+He(o):"",r=r!=null?""+He(r):o,b||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Kt(i)}function Zo(i,r,o){r==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Cs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+He(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xu(i,r,o){if(r!=null&&(r=""+He(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+He(o):""}function As(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(he(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=He(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Kt(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Ju.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function tl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Wo(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Wo(i,g,r[g])}function ba(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(i){return Rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ni(){}var el=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,Di=null;function xr(i){var r=Nn(i);if(r&&(i=r.stateNode)){var o=i[Fe]||null;t:switch(i=r.stateNode,r.type){case"input":if(Sa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Fe]||null;if(!d)throw Error(s(90));Sa(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Ar(u)}break t;case"textarea":Xu(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Cs(i,!!o.multiple,r,!1)}}}var Aa=!1;function Ds(i,r,o){if(Aa)return i(r,o);Aa=!0;try{var u=i(r);return u}finally{if(Aa=!1,(xs!==null||Di!==null)&&(Gc(),xs&&(r=xs,i=Di,Di=xs=null,xr(r),i)))for(r=0;r<i.length;r++)xr(i[r])}}function ii(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Fe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Ln)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Dr=!1}var wi=null,nl=null,wr=null;function il(){if(wr)return wr;var i,r=nl,o=r.length,u,d="value"in wi?wi.value:wi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return wr=d.slice(i,1<u?1-u:void 0)}function Mr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Qi(){return!0}function si(){return!1}function Ke(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qi:si,this.isPropagationStopped=si,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),r}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Ke(Xi),ws=v({},Xi,{view:0,detail:0}),sl=Ke(ws),Ms,Ra,Vi,xa=v({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(Ms=i.screenX-Vi.screenX,Ra=i.screenY-Vi.screenY):Ra=Ms=0,Vi=i),Ms)},movementY:function(i){return"movementY"in i?i.movementY:Ra}}),rl=Ke(xa),Vr=v({},xa,{dataTransfer:0}),Wu=Ke(Vr),tc=v({},ws,{relatedTarget:0}),Ir=Ke(tc),al=v({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ec=Ke(al),Da=v({},Xi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nc=Ke(Da),ic=v({},Xi,{data:0}),Ii=Ke(ic),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ac[i])?!!r[i]:!1}function Vs(){return oc}var fn=v({},ws,{key:function(i){if(i.key){var r=sc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Mr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Mr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lc=Ke(fn),uc=v({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Ke(uc),f=v({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),_=Ke(f),S=v({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(S),F=v({},xa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ke(F),lt=v({},Xi,{newState:0,oldState:0}),Rt=Ke(lt),ye=[9,13,27,32],qt=Ln&&"CompositionEvent"in window,le=null;Ln&&"documentMode"in document&&(le=document.documentMode);var Un=Ln&&"TextEvent"in window&&!le,Pi=Ln&&(!qt||le&&8<le&&11>=le),ri=" ",ai=!1;function Pr(i,r){switch(i){case"keyup":return ye.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ma=!1;function qR(i,r){switch(i){case"compositionend":return wa(r);case"keypress":return r.which!==32?null:(ai=!0,ri);case"textInput":return i=r.data,i===ri&&ai?null:i;default:return null}}function GR(i,r){if(Ma)return i==="compositionend"||!qt&&Pr(i,r)?(i=il(),wr=nl=wi=null,Ma=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var $R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!$R[i.type]:r==="textarea"}function Gy(i,r,o,u){xs?Di?Di.push(u):Di=[u]:xs=u,r=Zc(r,"onChange"),0<r.length&&(o=new Mi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ol=null,ll=null;function KR(i){x_(i,0)}function cc(i){var r=An(i);if(Ar(r))return i}function $y(i,r){if(i==="change")return r}var Ky=!1;if(Ln){var $h;if(Ln){var Kh="oninput"in document;if(!Kh){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Kh=typeof Yy.oninput=="function"}$h=Kh}else $h=!1;Ky=$h&&(!document.documentMode||9<document.documentMode)}function Qy(){ol&&(ol.detachEvent("onpropertychange",Xy),ll=ol=null)}function Xy(i){if(i.propertyName==="value"&&cc(ll)){var r=[];Gy(r,ll,i,kn(i)),Ds(KR,r)}}function YR(i,r,o){i==="focusin"?(Qy(),ol=r,ll=o,ol.attachEvent("onpropertychange",Xy)):i==="focusout"&&Qy()}function QR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cc(ll)}function XR(i,r){if(i==="click")return cc(r)}function JR(i,r){if(i==="input"||i==="change")return cc(r)}function ZR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var xn=typeof Object.is=="function"?Object.is:ZR;function ul(i,r){if(xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ee.call(r,d)||!xn(i[d],r[d]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zy(i,r){var o=Jy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Jy(o)}}function Wy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Wy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function tv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=xi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=xi(i.document)}return r}function Yh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var WR=Ln&&"documentMode"in document&&11>=document.documentMode,Va=null,Qh=null,cl=null,Xh=!1;function ev(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xh||Va==null||Va!==xi(u)||(u=Va,"selectionStart"in u&&Yh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cl&&ul(cl,u)||(cl=u,u=Zc(Qh,"onSelect"),0<u.length&&(r=new Mi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Va)))}function Or(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ia={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Jh={},nv={};Ln&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Nr(i){if(Jh[i])return Jh[i];if(!Ia[i])return i;var r=Ia[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in nv)return Jh[i]=r[o];return i}var iv=Nr("animationend"),sv=Nr("animationiteration"),rv=Nr("animationstart"),t2=Nr("transitionrun"),e2=Nr("transitionstart"),n2=Nr("transitioncancel"),av=Nr("transitionend"),ov=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function oi(i,r){ov.set(i,r),Ai(r,[i])}var fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],Pa=0,Wh=0;function hc(){for(var i=Pa,r=Wh=Pa=0;r<i;){var o=Bn[r];Bn[r++]=null;var u=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&lv(o,d,g)}}function dc(i,r,o,u){Bn[Pa++]=i,Bn[Pa++]=r,Bn[Pa++]=o,Bn[Pa++]=u,Wh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function td(i,r,o,u){return dc(i,r,o,u),pc(i)}function kr(i,r){return dc(i,null,null,r),pc(i)}function lv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-ge(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function pc(i){if(50<Il)throw Il=0,up=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Oa={};function i2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new i2(i,r,o,u)}function ed(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function uv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function mc(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")ed(i)&&(T=1);else if(typeof i=="string")T=lx(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Dn(31,o,r,d),i.elementType=x,i.lanes=g,i;case O:return Lr(o.children,d,g,r);case L:T=8,d|=24;break;case H:return i=Dn(12,o,r,d|2),i.elementType=H,i.lanes=g,i;case W:return i=Dn(13,o,r,d),i.elementType=W,i.lanes=g,i;case at:return i=Dn(19,o,r,d),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:T=10;break t;case $:T=9;break t;case nt:T=11;break t;case D:T=14;break t;case R:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function Lr(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function nd(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function cv(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function id(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var fv=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=fv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:jo(r)},fv.set(i,r),r)}return{value:i,source:r,stack:jo(r)}}var Na=[],ka=0,gc=null,fl=0,jn=[],Fn=0,Is=null,Oi=1,Ni="";function Wi(i,r){Na[ka++]=fl,Na[ka++]=gc,gc=i,fl=r}function hv(i,r,o){jn[Fn++]=Oi,jn[Fn++]=Ni,jn[Fn++]=Is,Is=i;var u=Oi;i=Ni;var d=32-ge(u)-1;u&=~(1<<d),o+=1;var g=32-ge(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Oi=1<<32-ge(r)+d|o<<d|u,Ni=g+i}else Oi=1<<g|o<<d|u,Ni=i}function sd(i){i.return!==null&&(Wi(i,1),hv(i,1,0))}function rd(i){for(;i===gc;)gc=Na[--ka],Na[ka]=null,fl=Na[--ka],Na[ka]=null;for(;i===Is;)Is=jn[--Fn],jn[Fn]=null,Ni=jn[--Fn],jn[Fn]=null,Oi=jn[--Fn],jn[Fn]=null}function dv(i,r){jn[Fn++]=Oi,jn[Fn++]=Ni,jn[Fn++]=Is,Oi=r.id,Ni=r.overflow,Is=i}var Ye=null,ie=null,Ut=!1,Ps=null,Hn=!1,ad=Error(s(519));function Os(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(zn(r,i)),ad}function pv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[be]=i,r[Fe]=u,o){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(o=0;o<Ol.length;o++)It(Ol[o],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":It("invalid",r),Qu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":It("invalid",r);break;case"textarea":It("invalid",r),As(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||V_(r.textContent,o)?(u.popover!=null&&(It("beforetoggle",r),It("toggle",r)),u.onScroll!=null&&It("scroll",r),u.onScrollEnd!=null&&It("scrollend",r),u.onClick!=null&&(r.onclick=ni),r=!0):r=!1,r||Os(i,!0)}function mv(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ye=Ye.return}}function La(i){if(i!==Ye)return!1;if(!Ut)return mv(i),Ut=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Cp(i.type,i.memoizedProps)),o=!o),o&&ie&&Os(i),mv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=z_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=z_(i)}else r===27?(r=ie,Ys(i.type)?(i=wp,wp=null,ie=i):ie=r):ie=Ye?Gn(i.stateNode.nextSibling):null;return!0}function Ur(){ie=Ye=null,Ut=!1}function od(){var i=Ps;return i!==null&&(En===null?En=i:En.push.apply(En,i),Ps=null),i}function hl(i){Ps===null?Ps=[i]:Ps.push(i)}var ld=U(null),Br=null,ts=null;function Ns(i,r,o){ut(ld,r._currentValue),r._currentValue=o}function es(i){i._currentValue=ld.current,et(ld)}function ud(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function cd(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=d;for(var V=0;V<r.length;V++)if(b.context===r[V]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),ud(g.return,o,i),u||(T=null);break t}g=b.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),ud(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ua(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=d.type;xn(d.pendingProps.value,T.value)||(i!==null?i.push(b):i=[b])}}else if(d===Bt.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Bl):i=[Bl])}d=d.return}i!==null&&cd(r,i,o,u),r.flags|=262144}function yc(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function zr(i){Br=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return gv(Br,i)}function vc(i,r){return Br===null&&zr(i),gv(i,r)}function gv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ts===null){if(i===null)throw Error(s(308));ts=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ts=ts.next=r;return o}var s2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},r2=e.unstable_scheduleCallback,a2=e.unstable_NormalPriority,Re={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new s2,data:new Map,refCount:0}}function dl(i){i.refCount--,i.refCount===0&&r2(a2,function(){i.controller.abort()})}var pl=null,hd=0,Ba=0,za=null;function o2(i,r){if(pl===null){var o=pl=[];hd=0,Ba=mp(),za={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hd++,r.then(yv,yv),r}function yv(){if(--hd===0&&pl!==null){za!==null&&(za.status="fulfilled");var i=pl;pl=null,Ba=0,za=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function l2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var vv=J.S;J.S=function(i,r){e_=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&o2(i,r),vv!==null&&vv(i,r)};var jr=U(null);function dd(){var i=jr.current;return i!==null?i:ee.pooledCache}function _c(i,r){r===null?ut(jr,jr.current):ut(jr,r.pool)}function _v(){var i=dd();return i===null?null:{parent:Re._currentValue,pool:i}}var ja=Error(s(460)),pd=Error(s(474)),Tc=Error(s(542)),Ec={then:function(){}};function Tv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ev(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ni,ni),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,bv(i),i;default:if(typeof r.status=="string")r.then(ni,ni);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,bv(i),i}throw Hr=r,ja}}function Fr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Hr=o,ja):o}}var Hr=null;function Sv(){if(Hr===null)throw Error(s(459));var i=Hr;return Hr=null,i}function bv(i){if(i===ja||i===Tc)throw Error(s(483))}var Fa=null,ml=0;function Sc(i){var r=ml;return ml+=1,Fa===null&&(Fa=[]),Ev(Fa,i,r)}function gl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function bc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Cv(i){function r(z,N){if(i){var q=z.deletions;q===null?(z.deletions=[N],z.flags|=16):q.push(N)}}function o(z,N){if(!i)return null;for(;N!==null;)r(z,N),N=N.sibling;return null}function u(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function d(z,N){return z=Zi(z,N),z.index=0,z.sibling=null,z}function g(z,N,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<N?(z.flags|=67108866,N):q):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function b(z,N,q,Z){return N===null||N.tag!==6?(N=nd(q,z.mode,Z),N.return=z,N):(N=d(N,q),N.return=z,N)}function V(z,N,q,Z){var vt=q.type;return vt===O?X(z,N,q.props.children,Z,q.key):N!==null&&(N.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Fr(vt)===N.type)?(N=d(N,q.props),gl(N,q),N.return=z,N):(N=mc(q.type,q.key,q.props,null,z.mode,Z),gl(N,q),N.return=z,N)}function G(z,N,q,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==q.containerInfo||N.stateNode.implementation!==q.implementation?(N=id(q,z.mode,Z),N.return=z,N):(N=d(N,q.children||[]),N.return=z,N)}function X(z,N,q,Z,vt){return N===null||N.tag!==7?(N=Lr(q,z.mode,Z,vt),N.return=z,N):(N=d(N,q),N.return=z,N)}function tt(z,N,q){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=nd(""+N,z.mode,q),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return q=mc(N.type,N.key,N.props,null,z.mode,q),gl(q,N),q.return=z,q;case w:return N=id(N,z.mode,q),N.return=z,N;case R:return N=Fr(N),tt(z,N,q)}if(he(N)||B(N))return N=Lr(N,z.mode,q,null),N.return=z,N;if(typeof N.then=="function")return tt(z,Sc(N),q);if(N.$$typeof===j)return tt(z,vc(z,N),q);bc(z,N)}return null}function K(z,N,q,Z){var vt=N!==null?N.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return vt!==null?null:b(z,N,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===vt?V(z,N,q,Z):null;case w:return q.key===vt?G(z,N,q,Z):null;case R:return q=Fr(q),K(z,N,q,Z)}if(he(q)||B(q))return vt!==null?null:X(z,N,q,Z,null);if(typeof q.then=="function")return K(z,N,Sc(q),Z);if(q.$$typeof===j)return K(z,N,vc(z,q),Z);bc(z,q)}return null}function Q(z,N,q,Z,vt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,b(N,z,""+Z,vt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return z=z.get(Z.key===null?q:Z.key)||null,V(N,z,Z,vt);case w:return z=z.get(Z.key===null?q:Z.key)||null,G(N,z,Z,vt);case R:return Z=Fr(Z),Q(z,N,q,Z,vt)}if(he(Z)||B(Z))return z=z.get(q)||null,X(N,z,Z,vt,null);if(typeof Z.then=="function")return Q(z,N,q,Sc(Z),vt);if(Z.$$typeof===j)return Q(z,N,q,vc(N,Z),vt);bc(N,Z)}return null}function dt(z,N,q,Z){for(var vt=null,Ft=null,gt=N,Mt=N=0,Nt=null;gt!==null&&Mt<q.length;Mt++){gt.index>Mt?(Nt=gt,gt=null):Nt=gt.sibling;var Ht=K(z,gt,q[Mt],Z);if(Ht===null){gt===null&&(gt=Nt);break}i&&gt&&Ht.alternate===null&&r(z,gt),N=g(Ht,N,Mt),Ft===null?vt=Ht:Ft.sibling=Ht,Ft=Ht,gt=Nt}if(Mt===q.length)return o(z,gt),Ut&&Wi(z,Mt),vt;if(gt===null){for(;Mt<q.length;Mt++)gt=tt(z,q[Mt],Z),gt!==null&&(N=g(gt,N,Mt),Ft===null?vt=gt:Ft.sibling=gt,Ft=gt);return Ut&&Wi(z,Mt),vt}for(gt=u(gt);Mt<q.length;Mt++)Nt=Q(gt,z,Mt,q[Mt],Z),Nt!==null&&(i&&Nt.alternate!==null&&gt.delete(Nt.key===null?Mt:Nt.key),N=g(Nt,N,Mt),Ft===null?vt=Nt:Ft.sibling=Nt,Ft=Nt);return i&&gt.forEach(function(Ws){return r(z,Ws)}),Ut&&Wi(z,Mt),vt}function Tt(z,N,q,Z){if(q==null)throw Error(s(151));for(var vt=null,Ft=null,gt=N,Mt=N=0,Nt=null,Ht=q.next();gt!==null&&!Ht.done;Mt++,Ht=q.next()){gt.index>Mt?(Nt=gt,gt=null):Nt=gt.sibling;var Ws=K(z,gt,Ht.value,Z);if(Ws===null){gt===null&&(gt=Nt);break}i&&gt&&Ws.alternate===null&&r(z,gt),N=g(Ws,N,Mt),Ft===null?vt=Ws:Ft.sibling=Ws,Ft=Ws,gt=Nt}if(Ht.done)return o(z,gt),Ut&&Wi(z,Mt),vt;if(gt===null){for(;!Ht.done;Mt++,Ht=q.next())Ht=tt(z,Ht.value,Z),Ht!==null&&(N=g(Ht,N,Mt),Ft===null?vt=Ht:Ft.sibling=Ht,Ft=Ht);return Ut&&Wi(z,Mt),vt}for(gt=u(gt);!Ht.done;Mt++,Ht=q.next())Ht=Q(gt,z,Mt,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&gt.delete(Ht.key===null?Mt:Ht.key),N=g(Ht,N,Mt),Ft===null?vt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&gt.forEach(function(_x){return r(z,_x)}),Ut&&Wi(z,Mt),vt}function Wt(z,N,q,Z){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:t:{for(var vt=q.key;N!==null;){if(N.key===vt){if(vt=q.type,vt===O){if(N.tag===7){o(z,N.sibling),Z=d(N,q.props.children),Z.return=z,z=Z;break t}}else if(N.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Fr(vt)===N.type){o(z,N.sibling),Z=d(N,q.props),gl(Z,q),Z.return=z,z=Z;break t}o(z,N);break}else r(z,N);N=N.sibling}q.type===O?(Z=Lr(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=mc(q.type,q.key,q.props,null,z.mode,Z),gl(Z,q),Z.return=z,z=Z)}return T(z);case w:t:{for(vt=q.key;N!==null;){if(N.key===vt)if(N.tag===4&&N.stateNode.containerInfo===q.containerInfo&&N.stateNode.implementation===q.implementation){o(z,N.sibling),Z=d(N,q.children||[]),Z.return=z,z=Z;break t}else{o(z,N);break}else r(z,N);N=N.sibling}Z=id(q,z.mode,Z),Z.return=z,z=Z}return T(z);case R:return q=Fr(q),Wt(z,N,q,Z)}if(he(q))return dt(z,N,q,Z);if(B(q)){if(vt=B(q),typeof vt!="function")throw Error(s(150));return q=vt.call(q),Tt(z,N,q,Z)}if(typeof q.then=="function")return Wt(z,N,Sc(q),Z);if(q.$$typeof===j)return Wt(z,N,vc(z,q),Z);bc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,N!==null&&N.tag===6?(o(z,N.sibling),Z=d(N,q),Z.return=z,z=Z):(o(z,N),Z=nd(q,z.mode,Z),Z.return=z,z=Z),T(z)):o(z,N)}return function(z,N,q,Z){try{ml=0;var vt=Wt(z,N,q,Z);return Fa=null,vt}catch(gt){if(gt===ja||gt===Tc)throw gt;var Ft=Dn(29,gt,null,z.mode);return Ft.lanes=Z,Ft.return=z,Ft}}}var qr=Cv(!0),Av=Cv(!1),ks=!1;function md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ls(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Us(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=pc(i),lv(i,null,o),r}return dc(i,u,r,o),pc(i)}function yl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,qo(i,o)}}function yd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var vd=!1;function vl(){if(vd){var i=za;if(i!==null)throw i}}function _l(i,r,o,u){vd=!1;var d=i.updateQueue;ks=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var V=b,G=V.next;V.next=null,T===null?g=G:T.next=G,T=V;var X=i.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==T&&(b===null?X.firstBaseUpdate=G:b.next=G,X.lastBaseUpdate=V))}if(g!==null){var tt=d.baseState;T=0,X=G=V=null,b=g;do{var K=b.lane&-536870913,Q=K!==b.lane;if(Q?(Ot&K)===K:(u&K)===K){K!==0&&K===Ba&&(vd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var dt=i,Tt=b;K=r;var Wt=o;switch(Tt.tag){case 1:if(dt=Tt.payload,typeof dt=="function"){tt=dt.call(Wt,tt,K);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Tt.payload,K=typeof dt=="function"?dt.call(Wt,tt,K):dt,K==null)break t;tt=v({},tt,K);break t;case 2:ks=!0}}K=b.callback,K!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(G=X=Q,V=tt):X=X.next=Q,T|=K;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);X===null&&(V=tt),d.baseState=V,d.firstBaseUpdate=G,d.lastBaseUpdate=X,g===null&&(d.shared.lanes=0),Hs|=T,i.lanes=T,i.memoizedState=tt}}function Rv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function xv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Rv(o[i],r)}var Ha=U(null),Cc=U(0);function Dv(i,r){i=cs,ut(Cc,i),ut(Ha,r),cs=i|r.baseLanes}function _d(){ut(Cc,cs),ut(Ha,Ha.current)}function Td(){cs=Cc.current,et(Ha),et(Cc)}var wn=U(null),qn=null;function Bs(i){var r=i.alternate;ut(ve,ve.current&1),ut(wn,i),qn===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(qn=i)}function Ed(i){ut(ve,ve.current),ut(wn,i),qn===null&&(qn=i)}function wv(i){i.tag===22?(ut(ve,ve.current),ut(wn,i),qn===null&&(qn=i)):zs()}function zs(){ut(ve,ve.current),ut(wn,wn.current)}function Mn(i){et(wn),qn===i&&(qn=null),et(ve)}var ve=U(0);function Ac(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xp(o)||Dp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ns=0,xt=null,Jt=null,xe=null,Rc=!1,qa=!1,Gr=!1,xc=0,Tl=0,Ga=null,u2=0;function de(){throw Error(s(321))}function Sd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!xn(i[o],r[o]))return!1;return!0}function bd(i,r,o,u,d,g){return ns=g,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?h0:Ud,Gr=!1,g=o(u,d),Gr=!1,qa&&(g=Vv(r,o,u,d)),Mv(i),g}function Mv(i){J.H=bl;var r=Jt!==null&&Jt.next!==null;if(ns=0,xe=Jt=xt=null,Rc=!1,Tl=0,Ga=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&yc(i)&&(De=!0))}function Vv(i,r,o,u){xt=i;var d=0;do{if(qa&&(Ga=null),Tl=0,qa=!1,25<=d)throw Error(s(301));if(d+=1,xe=Jt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=d0,g=r(o,u)}while(qa);return g}function c2(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?El(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(xt.flags|=1024),r}function Cd(){var i=xc!==0;return xc=0,i}function Ad(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rd(i){if(Rc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Rc=!1}ns=0,xe=Jt=xt=null,qa=!1,Tl=xc=0,Ga=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?xt.memoizedState=xe=i:xe=xe.next=i,xe}function _e(){if(Jt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=xe===null?xt.memoizedState:xe.next;if(r!==null)xe=r,Jt=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},xe===null?xt.memoizedState=xe=i:xe=xe.next=i}return xe}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(i){var r=Tl;return Tl+=1,Ga===null&&(Ga=[]),i=Ev(Ga,i,r),r=xt,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?h0:Ud),i}function wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return El(i);if(i.$$typeof===j)return Qe(i)}throw Error(s(438,String(i)))}function xd(i){var r=null,o=xt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Dc(),xt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=I;return r.index++,o}function is(i,r){return typeof r=="function"?r(i):r}function Mc(i){var r=_e();return Dd(r,Jt,i)}function Dd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var b=T=null,V=null,G=r,X=!1;do{var tt=G.lane&-536870913;if(tt!==G.lane?(Ot&tt)===tt:(ns&tt)===tt){var K=G.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),tt===Ba&&(X=!0);else if((ns&K)===K){G=G.next,K===Ba&&(X=!0);continue}else tt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(b=V=tt,T=g):V=V.next=tt,xt.lanes|=K,Hs|=K;tt=G.action,Gr&&o(g,tt),g=G.hasEagerState?G.eagerState:o(g,tt)}else K={lane:tt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(b=V=K,T=g):V=V.next=K,xt.lanes|=tt,Hs|=tt;G=G.next}while(G!==null&&G!==r);if(V===null?T=g:V.next=b,!xn(g,i.memoizedState)&&(De=!0,X&&(o=za,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function wd(i){var r=_e(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);xn(g,r.memoizedState)||(De=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Iv(i,r,o){var u=xt,d=_e(),g=Ut;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!xn((Jt||d).memoizedState,o);if(T&&(d.memoizedState=o,De=!0),d=d.queue,Id(Nv.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||xe!==null&&xe.memoizedState.tag&1){if(u.flags|=2048,$a(9,{destroy:void 0},Ov.bind(null,u,d,o,r),null),ee===null)throw Error(s(349));g||(ns&127)!==0||Pv(u,r,o)}return o}function Pv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r=Dc(),xt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Ov(i,r,o,u){r.value=o,r.getSnapshot=u,kv(r)&&Lv(i)}function Nv(i,r,o){return o(function(){kv(r)&&Lv(i)})}function kv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!xn(i,o)}catch{return!0}}function Lv(i){var r=kr(i,2);r!==null&&Sn(r,i,2)}function Md(i){var r=hn();if(typeof i=="function"){var o=i;if(i=o(),Gr){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},r}function Uv(i,r,o,u){return i.baseState=o,Dd(i,Jt,typeof u=="function"?u:is)}function f2(i,r,o,u,d){if(Pc(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Bv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Bv(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=J.T,T={};J.T=T;try{var b=o(d,u),V=J.S;V!==null&&V(T,b),zv(i,r,b)}catch(G){Vd(i,r,G)}finally{g!==null&&T.types!==null&&(g.types=T.types),J.T=g}}else try{g=o(d,u),zv(i,r,g)}catch(G){Vd(i,r,G)}}function zv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){jv(i,r,u)},function(u){return Vd(i,r,u)}):jv(i,r,o)}function jv(i,r,o){r.status="fulfilled",r.value=o,Fv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Bv(i,o)))}function Vd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Fv(r),r=r.next;while(r!==u)}i.action=null}function Fv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Hv(i,r){return r}function qv(i,r){if(Ut){var o=ee.formState;if(o!==null){t:{var u=xt;if(Ut){if(ie){e:{for(var d=ie,g=Hn;d.nodeType!==8;){if(!g){d=null;break e}if(d=Gn(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ie=Gn(d.nextSibling),u=d.data==="F!";break t}}Os(u)}u=!1}u&&(r=o[0])}}return o=hn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hv,lastRenderedState:r},o.queue=u,o=u0.bind(null,xt,u),u.dispatch=o,u=Md(!1),g=Ld.bind(null,xt,!1,u.queue),u=hn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=f2.bind(null,xt,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function Gv(i){var r=_e();return $v(r,Jt,i)}function $v(i,r,o){if(r=Dd(i,r,Hv)[0],i=Mc(is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=El(r)}catch(T){throw T===ja?Tc:T}else u=r;r=_e();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(xt.flags|=2048,$a(9,{destroy:void 0},h2.bind(null,d,o),null)),[u,g,i]}function h2(i,r){i.action=r}function Kv(i){var r=_e(),o=Jt;if(o!==null)return $v(r,o,i);_e(),r=r.memoizedState,o=_e();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function $a(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=xt.updateQueue,r===null&&(r=Dc(),xt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Yv(){return _e().memoizedState}function Vc(i,r,o,u){var d=hn();xt.flags|=i,d.memoizedState=$a(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ic(i,r,o,u){var d=_e();u=u===void 0?null:u;var g=d.memoizedState.inst;Jt!==null&&u!==null&&Sd(u,Jt.memoizedState.deps)?d.memoizedState=$a(r,g,o,u):(xt.flags|=i,d.memoizedState=$a(1|r,g,o,u))}function Qv(i,r){Vc(8390656,8,i,r)}function Id(i,r){Ic(2048,8,i,r)}function d2(i){xt.flags|=4;var r=xt.updateQueue;if(r===null)r=Dc(),xt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Xv(i){var r=_e().memoizedState;return d2({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Jv(i,r){return Ic(4,2,i,r)}function Zv(i,r){return Ic(4,4,i,r)}function Wv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function t0(i,r,o){o=o!=null?o.concat([i]):null,Ic(4,4,Wv.bind(null,r,i),o)}function Pd(){}function e0(i,r){var o=_e();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Sd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function n0(i,r){var o=_e();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Sd(r,u[1]))return u[0];if(u=i(),Gr){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function Od(i,r,o){return o===void 0||(ns&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=i_(),xt.lanes|=i,Hs|=i,o)}function i0(i,r,o,u){return xn(o,r)?o:Ha.current!==null?(i=Od(i,o,u),xn(i,r)||(De=!0),i):(ns&42)===0||(ns&1073741824)!==0&&(Ot&261930)===0?(De=!0,i.memoizedState=o):(i=i_(),xt.lanes|=i,Hs|=i,r)}function s0(i,r,o,u,d){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=J.T,b={};J.T=b,Ld(i,!1,r,o);try{var V=d(),G=J.S;if(G!==null&&G(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=l2(V,u);Sl(i,r,X,Pn(i))}else Sl(i,r,u,Pn(i))}catch(tt){Sl(i,r,{then:function(){},status:"rejected",reason:tt},Pn())}finally{ot.p=g,T!==null&&b.types!==null&&(T.types=b.types),J.T=T}}function p2(){}function Nd(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=r0(i).queue;s0(i,d,r,ht,o===null?p2:function(){return a0(i),o(u)})}function r0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ht},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function a0(i){var r=r0(i);r.next===null&&(r=i.alternate.memoizedState),Sl(i,r.next.queue,{},Pn())}function kd(){return Qe(Bl)}function o0(){return _e().memoizedState}function l0(){return _e().memoizedState}function m2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=Ls(o);var u=Us(r,i,o);u!==null&&(Sn(u,r,o),yl(u,r,o)),r={cache:fd()},i.payload=r;return}r=r.return}}function g2(i,r,o){var u=Pn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(i)?c0(r,o):(o=td(i,r,o,u),o!==null&&(Sn(o,i,u),f0(o,r,u)))}function u0(i,r,o){var u=Pn();Sl(i,r,o,u)}function Sl(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pc(i))c0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,b=g(T,o);if(d.hasEagerState=!0,d.eagerState=b,xn(b,T))return dc(i,r,d,0),ee===null&&hc(),!1}catch{}if(o=td(i,r,d,u),o!==null)return Sn(o,i,u),f0(o,r,u),!0}return!1}function Ld(i,r,o,u){if(u={lane:2,revertLane:mp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Pc(i)){if(r)throw Error(s(479))}else r=td(i,o,u,2),r!==null&&Sn(r,i,2)}function Pc(i){var r=i.alternate;return i===xt||r!==null&&r===xt}function c0(i,r){qa=Rc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function f0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,qo(i,o)}}var bl={readContext:Qe,use:wc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};bl.useEffectEvent=de;var h0={readContext:Qe,use:wc,useCallback:function(i,r){return hn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:Qv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Vc(4194308,4,Wv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Vc(4194308,4,i,r)},useInsertionEffect:function(i,r){Vc(4,2,i,r)},useMemo:function(i,r){var o=hn();r=r===void 0?null:r;var u=i();if(Gr){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=hn();if(o!==void 0){var d=o(r);if(Gr){On(!0);try{o(r)}finally{On(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=g2.bind(null,xt,i),[u.memoizedState,i]},useRef:function(i){var r=hn();return i={current:i},r.memoizedState=i},useState:function(i){i=Md(i);var r=i.queue,o=u0.bind(null,xt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Pd,useDeferredValue:function(i,r){var o=hn();return Od(o,i,r)},useTransition:function(){var i=Md(!1);return i=s0.bind(null,xt,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=xt,d=hn();if(Ut){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ee===null)throw Error(s(349));(Ot&127)!==0||Pv(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,Qv(Nv.bind(null,u,g,i),[i]),u.flags|=2048,$a(9,{destroy:void 0},Ov.bind(null,u,g,o,r),null),o},useId:function(){var i=hn(),r=ee.identifierPrefix;if(Ut){var o=Ni,u=Oi;o=(u&~(1<<32-ge(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=xc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=u2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:kd,useFormState:qv,useActionState:qv,useOptimistic:function(i){var r=hn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Ld.bind(null,xt,!0,o),o.dispatch=r,[i,r]},useMemoCache:xd,useCacheRefresh:function(){return hn().memoizedState=m2.bind(null,xt)},useEffectEvent:function(i){var r=hn(),o={impl:i};return r.memoizedState=o,function(){if((Gt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Ud={readContext:Qe,use:wc,useCallback:e0,useContext:Qe,useEffect:Id,useImperativeHandle:t0,useInsertionEffect:Jv,useLayoutEffect:Zv,useMemo:n0,useReducer:Mc,useRef:Yv,useState:function(){return Mc(is)},useDebugValue:Pd,useDeferredValue:function(i,r){var o=_e();return i0(o,Jt.memoizedState,i,r)},useTransition:function(){var i=Mc(is)[0],r=_e().memoizedState;return[typeof i=="boolean"?i:El(i),r]},useSyncExternalStore:Iv,useId:o0,useHostTransitionStatus:kd,useFormState:Gv,useActionState:Gv,useOptimistic:function(i,r){var o=_e();return Uv(o,Jt,i,r)},useMemoCache:xd,useCacheRefresh:l0};Ud.useEffectEvent=Xv;var d0={readContext:Qe,use:wc,useCallback:e0,useContext:Qe,useEffect:Id,useImperativeHandle:t0,useInsertionEffect:Jv,useLayoutEffect:Zv,useMemo:n0,useReducer:wd,useRef:Yv,useState:function(){return wd(is)},useDebugValue:Pd,useDeferredValue:function(i,r){var o=_e();return Jt===null?Od(o,i,r):i0(o,Jt.memoizedState,i,r)},useTransition:function(){var i=wd(is)[0],r=_e().memoizedState;return[typeof i=="boolean"?i:El(i),r]},useSyncExternalStore:Iv,useId:o0,useHostTransitionStatus:kd,useFormState:Kv,useActionState:Kv,useOptimistic:function(i,r){var o=_e();return Jt!==null?Uv(o,Jt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:xd,useCacheRefresh:l0};d0.useEffectEvent=Xv;function Bd(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var zd={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=Ls(u);d.payload=r,o!=null&&(d.callback=o),r=Us(i,d,u),r!==null&&(Sn(r,i,u),yl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=Ls(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Us(i,d,u),r!==null&&(Sn(r,i,u),yl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),u=Ls(o);u.tag=2,r!=null&&(u.callback=r),r=Us(i,u,o),r!==null&&(Sn(r,i,o),yl(r,i,o))}};function p0(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!ul(o,u)||!ul(d,g):!0}function m0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&zd.enqueueReplaceState(r,r.state,null)}function $r(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function g0(i){fc(i)}function y0(i){console.error(i)}function v0(i){fc(i)}function Oc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function _0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jd(i,r,o){return o=Ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Oc(i,r)},o}function T0(i){return i=Ls(i),i.tag=3,i}function E0(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){_0(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){_0(r,o,u),typeof d!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function y2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ua(r,o,d,!0),o=wn.current,o!==null){switch(o.tag){case 31:case 13:return qn===null?$c():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ec?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),hp(i,u,d)),!1;case 22:return o.flags|=65536,u===Ec?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),hp(i,u,d)),!1}throw Error(s(435,o.tag))}return hp(i,u,d),$c(),!1}if(Ut)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==ad&&(i=Error(s(422),{cause:u}),hl(zn(i,o)))):(u!==ad&&(r=Error(s(423),{cause:u}),hl(zn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=zn(u,o),d=jd(i.stateNode,u,d),yd(i,d),pe!==4&&(pe=2)),!1;var g=Error(s(520),{cause:u});if(g=zn(g,o),Vl===null?Vl=[g]:Vl.push(g),pe!==4&&(pe=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=jd(o.stateNode,u,i),yd(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qs===null||!qs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=T0(d),E0(d,i,o,u),yd(o,d),!1}o=o.return}while(o!==null);return!1}var Fd=Error(s(461)),De=!1;function Xe(i,r,o,u){r.child=i===null?Av(r,null,o,u):qr(r,i.child,o,u)}function S0(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return zr(r),u=bd(i,r,o,T,g,d),b=Cd(),i!==null&&!De?(Ad(i,r,d),ss(i,r,d)):(Ut&&b&&sd(r),r.flags|=1,Xe(i,r,u,d),r.child)}function b0(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!ed(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,C0(i,r,g,u,d)):(i=mc(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Xd(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:ul,o(T,u)&&i.ref===r.ref)return ss(i,r,d)}return r.flags|=1,i=Zi(g,u),i.ref=r.ref,i.return=r,r.child=i}function C0(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(ul(g,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=g,Xd(i,d))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,ss(i,r,d)}return Hd(i,r,o,u,d)}function A0(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return R0(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_c(r,g!==null?g.cachePool:null),g!==null?Dv(r,g):_d(),wv(r);else return u=r.lanes=536870912,R0(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(_c(r,g.cachePool),Dv(r,g),zs(),r.memoizedState=null):(i!==null&&_c(r,null),_d(),zs());return Xe(i,r,d,o),r.child}function Cl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function R0(i,r,o,u,d){var g=dd();return g=g===null?null:{parent:Re._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&_c(r,null),_d(),wv(r),i!==null&&Ua(i,r,u,!0),r.childLanes=d,null}function Nc(i,r){return r=Lc({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function x0(i,r,o){return qr(r,i.child,null,o),i=Nc(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function v2(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ut){if(u.mode==="hidden")return i=Nc(r,u),r.lanes=536870912,Cl(null,i);if(Ed(r),(i=ie)?(i=B_(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=cv(i),o.return=r,r.child=o,Ye=r,ie=null)):i=null,i===null)throw Os(r);return r.lanes=536870912,null}return Nc(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Ed(r),d)if(r.flags&256)r.flags&=-257,r=x0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||Ua(i,r,o,!1),d=(o&i.childLanes)!==0,De||d){if(u=ee,u!==null&&(T=Go(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,kr(i,T),Sn(u,i,T),Fd;$c(),r=x0(i,r,o)}else i=g.treeContext,ie=Gn(T.nextSibling),Ye=r,Ut=!0,Ps=null,Hn=!1,i!==null&&dv(r,i),r=Nc(r,u),r.flags|=4096;return r}return i=Zi(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Hd(i,r,o,u,d){return zr(r),o=bd(i,r,o,u,void 0,d),u=Cd(),i!==null&&!De?(Ad(i,r,d),ss(i,r,d)):(Ut&&u&&sd(r),r.flags|=1,Xe(i,r,o,d),r.child)}function D0(i,r,o,u,d,g){return zr(r),r.updateQueue=null,o=Vv(r,u,o,d),Mv(i),u=Cd(),i!==null&&!De?(Ad(i,r,g),ss(i,r,g)):(Ut&&u&&sd(r),r.flags|=1,Xe(i,r,o,g),r.child)}function w0(i,r,o,u,d){if(zr(r),r.stateNode===null){var g=Oa,T=o.contextType;typeof T=="object"&&T!==null&&(g=Qe(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=zd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},md(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Qe(T):Oa,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Bd(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&zd.enqueueReplaceState(g,g.state,null),_l(r,u,g,d),vl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var b=r.memoizedProps,V=$r(o,b);g.props=V;var G=g.context,X=o.contextType;T=Oa,typeof X=="object"&&X!==null&&(T=Qe(X));var tt=o.getDerivedStateFromProps;X=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||G!==T)&&m0(r,g,u,T),ks=!1;var K=r.memoizedState;g.state=K,_l(r,u,g,d),vl(),G=r.memoizedState,b||K!==G||ks?(typeof tt=="function"&&(Bd(r,o,tt,u),G=r.memoizedState),(V=ks||p0(r,o,V,u,K,G,T))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,gd(i,r),T=r.memoizedProps,X=$r(o,T),g.props=X,tt=r.pendingProps,K=g.context,G=o.contextType,V=Oa,typeof G=="object"&&G!==null&&(V=Qe(G)),b=o.getDerivedStateFromProps,(G=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==tt||K!==V)&&m0(r,g,u,V),ks=!1,K=r.memoizedState,g.state=K,_l(r,u,g,d),vl();var Q=r.memoizedState;T!==tt||K!==Q||ks||i!==null&&i.dependencies!==null&&yc(i.dependencies)?(typeof b=="function"&&(Bd(r,o,b,u),Q=r.memoizedState),(X=ks||p0(r,o,X,u,K,Q,V)||i!==null&&i.dependencies!==null&&yc(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=V,u=X):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,kc(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=qr(r,i.child,null,d),r.child=qr(r,null,o,d)):Xe(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ss(i,r,d),i}function M0(i,r,o,u){return Ur(),r.flags|=256,Xe(i,r,o,u),r.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(i){return{baseLanes:i,cachePool:_v()}}function $d(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=In),i}function V0(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ut){if(d?Bs(r):zs(),(i=ie)?(i=B_(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=cv(i),o.return=r,r.child=o,Ye=r,ie=null)):i=null,i===null)throw Os(r);return Dp(i)?r.lanes=32:r.lanes=536870912,null}var b=u.children;return u=u.fallback,d?(zs(),d=r.mode,b=Lc({mode:"hidden",children:b},d),u=Lr(u,d,o,null),b.return=r,u.return=r,b.sibling=u,r.child=b,u=r.child,u.memoizedState=Gd(o),u.childLanes=$d(i,T,o),r.memoizedState=qd,Cl(null,u)):(Bs(r),Kd(r,b))}var V=i.memoizedState;if(V!==null&&(b=V.dehydrated,b!==null)){if(g)r.flags&256?(Bs(r),r.flags&=-257,r=Yd(i,r,o)):r.memoizedState!==null?(zs(),r.child=i.child,r.flags|=128,r=null):(zs(),b=u.fallback,d=r.mode,u=Lc({mode:"visible",children:u.children},d),b=Lr(b,d,o,null),b.flags|=2,u.return=r,b.return=r,u.sibling=b,r.child=u,qr(r,i.child,null,o),u=r.child,u.memoizedState=Gd(o),u.childLanes=$d(i,T,o),r.memoizedState=qd,r=Cl(null,u));else if(Bs(r),Dp(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(s(419)),u.stack="",u.digest=T,hl({value:u,source:null,stack:null}),r=Yd(i,r,o)}else if(De||Ua(i,r,o,!1),T=(o&i.childLanes)!==0,De||T){if(T=ee,T!==null&&(u=Go(T,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,kr(i,u),Sn(T,i,u),Fd;xp(b)||$c(),r=Yd(i,r,o)}else xp(b)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,ie=Gn(b.nextSibling),Ye=r,Ut=!0,Ps=null,Hn=!1,i!==null&&dv(r,i),r=Kd(r,u.children),r.flags|=4096);return r}return d?(zs(),b=u.fallback,d=r.mode,V=i.child,G=V.sibling,u=Zi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,G!==null?b=Zi(G,b):(b=Lr(b,d,o,null),b.flags|=2),b.return=r,u.return=r,u.sibling=b,r.child=u,Cl(null,u),u=r.child,b=i.child.memoizedState,b===null?b=Gd(o):(d=b.cachePool,d!==null?(V=Re._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=_v(),b={baseLanes:b.baseLanes|o,cachePool:d}),u.memoizedState=b,u.childLanes=$d(i,T,o),r.memoizedState=qd,Cl(i.child,u)):(Bs(r),o=i.child,i=o.sibling,o=Zi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Kd(i,r){return r=Lc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lc(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function Yd(i,r,o){return qr(r,i.child,null,o),i=Kd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function I0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),ud(i.return,r,o)}function Qd(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function P0(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=ve.current,b=(T&2)!==0;if(b?(T=T&1|2,r.flags|=128):T&=1,ut(ve,T),Xe(i,r,u,o),u=Ut?fl:0,!b&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I0(i,o,r);else if(i.tag===19)I0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ac(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Qd(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ac(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Qd(r,!0,o,null,g,u);break;case"together":Qd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ss(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Hs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ua(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Zi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Zi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Xd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yc(i)))}function _2(i,r,o){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),Ns(r,Re,i.memoizedState.cache),Ur();break;case 27:case 5:vr(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:Ns(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ed(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Bs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?V0(i,r,o):(Bs(r),i=ss(i,r,o),i!==null?i.sibling:null);Bs(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ua(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return P0(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ut(ve,ve.current),u)break;return null;case 22:return r.lanes=0,A0(i,r,o,r.pendingProps);case 24:Ns(r,Re,i.memoizedState.cache)}return ss(i,r,o)}function O0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!Xd(i,o)&&(r.flags&128)===0)return De=!1,_2(i,r,o);De=(i.flags&131072)!==0}else De=!1,Ut&&(r.flags&1048576)!==0&&hv(r,fl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=Fr(r.elementType),r.type=i,typeof i=="function")ed(i)?(u=$r(i,u),r.tag=1,r=w0(null,r,i,u,o)):(r.tag=0,r=Hd(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===nt){r.tag=11,r=S0(null,r,i,u,o);break t}else if(d===D){r.tag=14,r=b0(null,r,i,u,o);break t}}throw r=te(i)||i,Error(s(306,r,""))}}return r;case 0:return Hd(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=$r(u,r.pendingProps),w0(i,r,u,d,o);case 3:t:{if(Oe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,gd(i,r),_l(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Ns(r,Re,u),u!==g.cache&&cd(r,[Re],o,!0),vl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=M0(i,r,u,o);break t}else if(u!==d){d=zn(Error(s(424)),r),hl(d),r=M0(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ie=Gn(i.firstChild),Ye=r,Ut=!0,Ps=null,Hn=!0,o=Av(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ur(),u===d){r=ss(i,r,o);break t}Xe(i,r,u,o)}r=r.child}return r;case 26:return kc(i,r),i===null?(o=G_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ut||(o=r.type,i=r.pendingProps,u=Wc(wt.current).createElement(o),u[be]=r,u[Fe]=i,Je(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=G_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vr(r),i===null&&Ut&&(u=r.stateNode=F_(r.type,r.pendingProps,wt.current),Ye=r,Hn=!0,d=ie,Ys(r.type)?(wp=d,ie=Gn(u.firstChild)):ie=d),Xe(i,r,r.pendingProps.children,o),kc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ut&&((d=u=ie)&&(u=Q2(u,r.type,r.pendingProps,Hn),u!==null?(r.stateNode=u,Ye=r,ie=Gn(u.firstChild),Hn=!1,d=!0):d=!1),d||Os(r)),vr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Cp(d,g)?u=null:T!==null&&Cp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=bd(i,r,c2,null,null,o),Bl._currentValue=d),kc(i,r),Xe(i,r,u,o),r.child;case 6:return i===null&&Ut&&((i=o=ie)&&(o=X2(o,r.pendingProps,Hn),o!==null?(r.stateNode=o,Ye=r,ie=null,i=!0):i=!1),i||Os(r)),null;case 13:return V0(i,r,o);case 4:return Oe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=qr(r,null,u,o):Xe(i,r,u,o),r.child;case 11:return S0(i,r,r.type,r.pendingProps,o);case 7:return Xe(i,r,r.pendingProps,o),r.child;case 8:return Xe(i,r,r.pendingProps.children,o),r.child;case 12:return Xe(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ns(r,r.type,u.value),Xe(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,zr(r),d=Qe(d),u=u(d),r.flags|=1,Xe(i,r,u,o),r.child;case 14:return b0(i,r,r.type,r.pendingProps,o);case 15:return C0(i,r,r.type,r.pendingProps,o);case 19:return P0(i,r,o);case 31:return v2(i,r,o);case 22:return A0(i,r,o,r.pendingProps);case 24:return zr(r),u=Qe(Re),i===null?(d=dd(),d===null&&(d=ee,g=fd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},md(r),Ns(r,Re,d)):((i.lanes&o)!==0&&(gd(i,r),_l(r,null,null,o),vl()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ns(r,Re,u)):(u=g.cache,Ns(r,Re,u),u!==d.cache&&cd(r,[Re],o,!0))),Xe(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rs(i){i.flags|=4}function Jd(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(o_())i.flags|=8192;else throw Hr=Ec,pd}else i.flags&=-16777217}function N0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!X_(r))if(o_())i.flags|=8192;else throw Hr=Ec,pd}function Uc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?qu():536870912,i.lanes|=r,Xa|=r)}function Al(i,r){if(!Ut)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function T2(i,r,o){var u=r.pendingProps;switch(rd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),es(Re),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(La(r)?rs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,od())),se(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(rs(r),g!==null?(se(r),N0(r,g)):(se(r),Jd(r,d,null,u,o))):g?g!==i.memoizedState?(rs(r),se(r),N0(r,g)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&rs(r),se(r),Jd(r,d,i,u,o)),null;case 27:if(ma(r),o=wt.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=ft.current,La(r)?pv(r):(i=F_(d,u,o),r.stateNode=i,rs(r))}return se(r),null;case 5:if(ma(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(g=ft.current,La(r))pv(r);else{var T=Wc(wt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[be]=r,g[Fe]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(Je(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&rs(r)}}return se(r),Jd(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=wt.current,La(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Ye,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[be]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||V_(i.nodeValue,o)),i||Os(r,!0)}else i=Wc(i).createTextNode(u),i[be]=r,r.stateNode=i}return se(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=La(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else o=od(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=La(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[be]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),d=!1}else d=od(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uc(r,r.updateQueue),se(r),null);case 4:return oe(),i===null&&_p(r.stateNode.containerInfo),se(r),null;case 10:return es(r.type),se(r),null;case 19:if(et(ve),u=r.memoizedState,u===null)return se(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)Al(u,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ac(i),g!==null){for(r.flags|=128,Al(u,!1),i=g.updateQueue,r.updateQueue=i,Uc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)uv(o,i),o=o.sibling;return ut(ve,ve.current&1|2),Ut&&Wi(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&cn()>Hc&&(r.flags|=128,d=!0,Al(u,!1),r.lanes=4194304)}else{if(!d)if(i=Ac(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Uc(r,i),Al(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ut)return se(r),null}else 2*cn()-u.renderingStartTime>Hc&&o!==536870912&&(r.flags|=128,d=!0,Al(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=ve.current,ut(ve,d?o&1|2:o&1),Ut&&Wi(r,u.treeForkCount),i):(se(r),null);case 22:case 23:return Mn(r),Td(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),o=r.updateQueue,o!==null&&Uc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&et(jr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),es(Re),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function E2(i,r){switch(rd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return es(Re),oe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ma(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return et(ve),null;case 4:return oe(),null;case 10:return es(r.type),null;case 22:case 23:return Mn(r),Td(),i!==null&&et(jr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return es(Re),null;case 25:return null;default:return null}}function k0(i,r){switch(rd(r),r.tag){case 3:es(Re),oe();break;case 26:case 27:case 5:ma(r);break;case 4:oe();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:et(ve);break;case 10:es(r.type);break;case 22:case 23:Mn(r),Td(),i!==null&&et(jr);break;case 24:es(Re)}}function Rl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(b){Qt(r,r.return,b)}}function js(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,d=r;var V=o,G=b;try{G()}catch(X){Qt(d,V,X)}}}u=u.next}while(u!==g)}}catch(X){Qt(r,r.return,X)}}function L0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{xv(r,o)}catch(u){Qt(i,i.return,u)}}}function U0(i,r,o){o.props=$r(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Qt(i,r,u)}}function xl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Qt(i,r,d)}}function ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Qt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Qt(i,r,d)}else o.current=null}function B0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Qt(i,i.return,d)}}function Zd(i,r,o){try{var u=i.stateNode;H2(u,i.type,o,r),u[Fe]=r}catch(d){Qt(i,i.return,d)}}function z0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function Wd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||z0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ni));else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(tp(i,r,o),i=i.sibling;i!==null;)tp(i,r,o),i=i.sibling}function Bc(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Bc(i,r,o),i=i.sibling;i!==null;)Bc(i,r,o),i=i.sibling}function j0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Je(r,u,o),r[be]=i,r[Fe]=o}catch(g){Qt(i,i.return,g)}}var as=!1,we=!1,ep=!1,F0=typeof WeakSet=="function"?WeakSet:Set,qe=null;function S2(i,r){if(i=i.containerInfo,Sp=of,i=tv(i),Yh(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,b=-1,V=-1,G=0,X=0,tt=i,K=null;e:for(;;){for(var Q;tt!==o||d!==0&&tt.nodeType!==3||(b=T+d),tt!==g||u!==0&&tt.nodeType!==3||(V=T+u),tt.nodeType===3&&(T+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)K=tt,tt=Q;for(;;){if(tt===i)break e;if(K===o&&++G===d&&(b=T),K===g&&++X===u&&(V=T),(Q=tt.nextSibling)!==null)break;tt=K,K=tt.parentNode}tt=Q}o=b===-1||V===-1?null:{start:b,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:i,selectionRange:o},of=!1,qe=r;qe!==null;)if(r=qe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qe=i;else for(;qe!==null;){switch(r=qe,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var dt=$r(o.type,d);i=u.getSnapshotBeforeUpdate(dt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Qt(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qe=i;break}qe=r.return}}function H0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ls(i,o),u&4&&Rl(5,o);break;case 1:if(ls(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Qt(o,o.return,T)}else{var d=$r(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Qt(o,o.return,T)}}u&64&&L0(o),u&512&&xl(o,o.return);break;case 3:if(ls(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{xv(i,r)}catch(T){Qt(o,o.return,T)}}break;case 27:r===null&&u&4&&j0(o);case 26:case 5:ls(i,o),r===null&&u&4&&B0(o),u&512&&xl(o,o.return);break;case 12:ls(i,o);break;case 31:ls(i,o),u&4&&$0(i,o);break;case 13:ls(i,o),u&4&&K0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=V2.bind(null,o),J2(i,o))));break;case 22:if(u=o.memoizedState!==null||as,!u){r=r!==null&&r.memoizedState!==null||we,d=as;var g=we;as=u,(we=r)&&!g?us(i,o,(o.subtreeFlags&8772)!==0):ls(i,o),as=d,we=g}break;case 30:break;default:ls(i,o)}}function q0(i){var r=i.alternate;r!==null&&(i.alternate=null,q0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ta(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,vn=!1;function os(i,r,o){for(o=o.child;o!==null;)G0(i,r,o),o=o.sibling}function G0(i,r,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:we||ki(o,r),os(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:we||ki(o,r);var u=ue,d=vn;Ys(o.type)&&(ue=o.stateNode,vn=!1),os(i,r,o),kl(o.stateNode),ue=u,vn=d;break;case 5:we||ki(o,r);case 6:if(u=ue,d=vn,ue=null,os(i,r,o),ue=u,vn=d,ue!==null)if(vn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(g){Qt(o,r,g)}else try{ue.removeChild(o.stateNode)}catch(g){Qt(o,r,g)}break;case 18:ue!==null&&(vn?(i=ue,L_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),so(i)):L_(ue,o.stateNode));break;case 4:u=ue,d=vn,ue=o.stateNode.containerInfo,vn=!0,os(i,r,o),ue=u,vn=d;break;case 0:case 11:case 14:case 15:js(2,o,r),we||js(4,o,r),os(i,r,o);break;case 1:we||(ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&U0(o,r,u)),os(i,r,o);break;case 21:os(i,r,o);break;case 22:we=(u=we)||o.memoizedState!==null,os(i,r,o),we=u;break;default:os(i,r,o)}}function $0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{so(i)}catch(o){Qt(r,r.return,o)}}}function K0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{so(i)}catch(o){Qt(r,r.return,o)}}function b2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new F0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new F0),r;default:throw Error(s(435,i.tag))}}function zc(i,r){var o=b2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=I2.bind(null,i,u);u.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(Ys(b.type)){ue=b.stateNode,vn=!1;break t}break;case 5:ue=b.stateNode,vn=!1;break t;case 3:case 4:ue=b.stateNode.containerInfo,vn=!0;break t}b=b.return}if(ue===null)throw Error(s(160));G0(g,T,d),ue=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Y0(r,i),r=r.sibling}var li=null;function Y0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),u&4&&(js(3,i,i.return),Rl(3,i),js(5,i,i.return));break;case 1:_n(r,i),Tn(i),u&512&&(we||o===null||ki(o,o.return)),u&64&&as&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=li;if(_n(r,i),Tn(i),u&512&&(we||o===null||ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Si]||g[be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Je(g,u,o),g[be]=i,Ce(g),u=g;break t;case"link":var T=Y_("link","href",d).get(u+(o.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(b,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;case"meta":if(T=Y_("meta","content",d).get(u+(o.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(b,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[be]=i,Ce(g),u=g}i.stateNode=u}else Q_(d,i.type,i.stateNode);else i.stateNode=K_(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Q_(d,i.type,i.stateNode):K_(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Zd(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),u&512&&(we||o===null||ki(o,o.return)),o!==null&&u&4&&Zd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),u&512&&(we||o===null||ki(o,o.return)),i.flags&32){d=i.stateNode;try{yn(d,"")}catch(dt){Qt(i,i.return,dt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Zd(i,d,o!==null?o.memoizedProps:d)),u&1024&&(ep=!0);break;case 6:if(_n(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(dt){Qt(i,i.return,dt)}}break;case 3:if(nf=null,d=li,li=tf(r.containerInfo),_n(r,i),li=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{so(r.containerInfo)}catch(dt){Qt(i,i.return,dt)}ep&&(ep=!1,Q0(i));break;case 4:u=li,li=tf(i.stateNode.containerInfo),_n(r,i),Tn(i),li=u;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zc(i,u)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fc=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zc(i,u)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,G=as,X=we;if(as=G||d,we=X||V,_n(r,i),we=X,as=G,Tn(i),u&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||V||as||we||Kr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=V.stateNode;var tt=V.memoizedProps.style,K=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(dt){Qt(V,V.return,dt)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(dt){Qt(V,V.return,dt)}}}else if(r.tag===18){if(o===null){V=r;try{var Q=V.stateNode;d?U_(Q,!0):U_(V.stateNode,!1)}catch(dt){Qt(V,V.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zc(i,o))));break;case 19:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zc(i,u)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(z0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Wd(i);Bc(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var b=Wd(i);Bc(i,b,T);break;case 3:case 4:var V=o.stateNode.containerInfo,G=Wd(i);tp(i,G,V);break;default:throw Error(s(161))}}catch(X){Qt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Q0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Q0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ls(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)H0(i,r.alternate,r),r=r.sibling}function Kr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:js(4,r,r.return),Kr(r);break;case 1:ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&U0(r,r.return,o),Kr(r);break;case 27:kl(r.stateNode);case 26:case 5:ki(r,r.return),Kr(r);break;case 22:r.memoizedState===null&&Kr(r);break;case 30:Kr(r);break;default:Kr(r)}i=i.sibling}}function us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:us(d,g,o),Rl(4,g);break;case 1:if(us(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){Qt(u,u.return,G)}if(u=g,d=u.updateQueue,d!==null){var b=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)Rv(V[d],b)}catch(G){Qt(u,u.return,G)}}o&&T&64&&L0(g),xl(g,g.return);break;case 27:j0(g);case 26:case 5:us(d,g,o),o&&u===null&&T&4&&B0(g),xl(g,g.return);break;case 12:us(d,g,o);break;case 31:us(d,g,o),o&&T&4&&$0(d,g);break;case 13:us(d,g,o),o&&T&4&&K0(d,g);break;case 22:g.memoizedState===null&&us(d,g,o),xl(g,g.return);break;case 30:break;default:us(d,g,o)}r=r.sibling}}function np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&dl(o))}function ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dl(i))}function ui(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)X0(i,r,o,u),r=r.sibling}function X0(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ui(i,r,o,u),d&2048&&Rl(9,r);break;case 1:ui(i,r,o,u);break;case 3:ui(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dl(i)));break;case 12:if(d&2048){ui(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Qt(r,r.return,V)}}else ui(i,r,o,u);break;case 31:ui(i,r,o,u);break;case 13:ui(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?ui(i,r,o,u):Dl(i,r):g._visibility&2?ui(i,r,o,u):(g._visibility|=2,Ka(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&np(T,r);break;case 24:ui(i,r,o,u),d&2048&&ip(r.alternate,r);break;default:ui(i,r,o,u)}}function Ka(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,b=o,V=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:Ka(g,T,b,V,d),Rl(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Ka(g,T,b,V,d):Dl(g,T):(X._visibility|=2,Ka(g,T,b,V,d)),d&&G&2048&&np(T.alternate,T);break;case 24:Ka(g,T,b,V,d),d&&G&2048&&ip(T.alternate,T);break;default:Ka(g,T,b,V,d)}r=r.sibling}}function Dl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:Dl(o,u),d&2048&&np(u.alternate,u);break;case 24:Dl(o,u),d&2048&&ip(u.alternate,u);break;default:Dl(o,u)}r=r.sibling}}var wl=8192;function Ya(i,r,o){if(i.subtreeFlags&wl)for(i=i.child;i!==null;)J0(i,r,o),i=i.sibling}function J0(i,r,o){switch(i.tag){case 26:Ya(i,r,o),i.flags&wl&&i.memoizedState!==null&&ux(o,li,i.memoizedState,i.memoizedProps);break;case 5:Ya(i,r,o);break;case 3:case 4:var u=li;li=tf(i.stateNode.containerInfo),Ya(i,r,o),li=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=wl,wl=16777216,Ya(i,r,o),wl=u):Ya(i,r,o));break;default:Ya(i,r,o)}}function Z0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ml(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qe=u,t_(u,i)}Z0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W0(i),i=i.sibling}function W0(i){switch(i.tag){case 0:case 11:case 15:Ml(i),i.flags&2048&&js(9,i,i.return);break;case 3:Ml(i);break;case 12:Ml(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,jc(i)):Ml(i);break;default:Ml(i)}}function jc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qe=u,t_(u,i)}Z0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:js(8,r,r.return),jc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,jc(r));break;default:jc(r)}i=i.sibling}}function t_(i,r){for(;qe!==null;){var o=qe;switch(o.tag){case 0:case 11:case 15:js(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qe=u;else t:for(o=i;qe!==null;){u=qe;var d=u.sibling,g=u.return;if(q0(u),u===o){qe=null;break t}if(d!==null){d.return=g,qe=d;break t}qe=g}}}var C2={getCacheForType:function(i){var r=Qe(Re),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Qe(Re).controller.signal}},A2=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Ot=0,Yt=0,Vn=null,Fs=!1,Qa=!1,sp=!1,cs=0,pe=0,Hs=0,Yr=0,rp=0,In=0,Xa=0,Vl=null,En=null,ap=!1,Fc=0,e_=0,Hc=1/0,qc=null,qs=null,ke=0,Gs=null,Ja=null,fs=0,op=0,lp=null,n_=null,Il=0,up=null;function Pn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:J.T!==null?mp():Gu()}function i_(){if(In===0)if((Ot&536870912)===0||Ut){var i=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),In=i}else In=536870912;return i=wn.current,i!==null&&(i.flags|=32),In}function Sn(i,r,o){(i===ee&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(Za(i,0),$s(i,Ot,In,!1)),Sr(i,o),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(Yr|=o),pe===4&&$s(i,Ot,In,!1)),Li(i))}function s_(i,r,o){if((Gt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Wn(i,r),d=u?D2(i,r):fp(i,r,!0),g=u;do{if(d===0){Qa&&!u&&$s(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!R2(o)){d=fp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var b=i;d=Vl;var V=b.current.memoizedState.isDehydrated;if(V&&(Za(b,T).flags|=256),T=fp(b,T,!1),T!==2){if(sp&&!V){b.errorRecoveryDisabledLanes|=g,Yr|=g,d=4;break t}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Za(i,0),$s(i,r,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$s(u,r,In,!Fs);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Fc+300-cn(),10<d)){if($s(u,r,In,!Fs),_i(u,0,!0)!==0)break t;fs=r,u.timeoutHandle=N_(r_.bind(null,u,o,En,qc,ap,r,In,Yr,Xa,Fs,g,"Throttled",-0,0),d);break t}r_(u,o,En,qc,ap,r,In,Yr,Xa,Fs,g,null,-0,0)}}break}while(!0);Li(i)}function r_(i,r,o,u,d,g,T,b,V,G,X,tt,K,Q){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},J0(r,g,tt);var dt=(g&62914560)===g?Fc-cn():(g&4194048)===g?e_-cn():0;if(dt=cx(tt,dt),dt!==null){fs=g,i.cancelPendingCommit=dt(d_.bind(null,i,r,g,o,u,d,T,b,V,X,tt,null,K,Q)),$s(i,g,T,!G);return}}d_(i,r,g,o,u,d,T,b,V)}function R2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!xn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $s(i,r,o,u){r&=~rp,r&=~Yr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-ge(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&br(i,o,r)}function Gc(){return(Gt&6)===0?(Pl(0),!1):!0}function cp(){if(Vt!==null){if(Yt===0)var i=Vt.return;else i=Vt,ts=Br=null,Rd(i),Fa=null,ml=0,i=Vt;for(;i!==null;)k0(i.alternate,i),i=i.return;Vt=null}}function Za(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,$2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),fs=0,cp(),ee=i,Vt=o=Zi(i.current,null),Ot=r,Yt=0,Vn=null,Fs=!1,Qa=Wn(i,r),sp=!1,Xa=In=rp=Yr=Hs=pe=0,En=Vl=null,ap=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-ge(u),g=1<<d;r|=i[d],u&=~g}return cs=r,hc(),o}function a_(i,r){xt=null,J.H=bl,r===ja||r===Tc?(r=Sv(),Yt=3):r===pd?(r=Sv(),Yt=4):Yt=r===Fd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Vt===null&&(pe=1,Oc(i,zn(r,i.current)))}function o_(){var i=wn.current;return i===null?!0:(Ot&4194048)===Ot?qn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===qn:!1}function l_(){var i=J.H;return J.H=bl,i===null?bl:i}function u_(){var i=J.A;return J.A=C2,i}function $c(){pe=4,Fs||(Ot&4194048)!==Ot&&wn.current!==null||(Qa=!0),(Hs&134217727)===0&&(Yr&134217727)===0||ee===null||$s(ee,Ot,In,!1)}function fp(i,r,o){var u=Gt;Gt|=2;var d=l_(),g=u_();(ee!==i||Ot!==r)&&(qc=null,Za(i,r)),r=!1;var T=pe;t:do try{if(Yt!==0&&Vt!==null){var b=Vt,V=Vn;switch(Yt){case 8:cp(),T=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var G=Yt;if(Yt=0,Vn=null,Wa(i,b,V,G),o&&Qa){T=0;break t}break;default:G=Yt,Yt=0,Vn=null,Wa(i,b,V,G)}}x2(),T=pe;break}catch(X){a_(i,X)}while(!0);return r&&i.shellSuspendCounter++,ts=Br=null,Gt=u,J.H=d,J.A=g,Vt===null&&(ee=null,Ot=0,hc()),T}function x2(){for(;Vt!==null;)c_(Vt)}function D2(i,r){var o=Gt;Gt|=2;var u=l_(),d=u_();ee!==i||Ot!==r?(qc=null,Hc=cn()+500,Za(i,r)):Qa=Wn(i,r);t:do try{if(Yt!==0&&Vt!==null){r=Vt;var g=Vn;e:switch(Yt){case 1:Yt=0,Vn=null,Wa(i,r,g,1);break;case 2:case 9:if(Tv(g)){Yt=0,Vn=null,f_(r);break}r=function(){Yt!==2&&Yt!==9||ee!==i||(Yt=7),Li(i)},g.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Tv(g)?(Yt=0,Vn=null,f_(r)):(Yt=0,Vn=null,Wa(i,r,g,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var b=Vt;if(T?X_(T):b.stateNode.complete){Yt=0,Vn=null;var V=b.sibling;if(V!==null)Vt=V;else{var G=b.return;G!==null?(Vt=G,Kc(G)):Vt=null}break e}}Yt=0,Vn=null,Wa(i,r,g,5);break;case 6:Yt=0,Vn=null,Wa(i,r,g,6);break;case 8:cp(),pe=6;break t;default:throw Error(s(462))}}w2();break}catch(X){a_(i,X)}while(!0);return ts=Br=null,J.H=u,J.A=d,Gt=o,Vt!==null?0:(ee=null,Ot=0,hc(),pe)}function w2(){for(;Vt!==null&&!jh();)c_(Vt)}function c_(i){var r=O0(i.alternate,i,cs);i.memoizedProps=i.pendingProps,r===null?Kc(i):Vt=r}function f_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=D0(o,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=D0(o,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:Rd(r);default:k0(o,r),r=Vt=uv(r,cs),r=O0(o,r,cs)}i.memoizedProps=i.pendingProps,r===null?Kc(i):Vt=r}function Wa(i,r,o,u){ts=Br=null,Rd(r),Fa=null,ml=0;var d=r.return;try{if(y2(i,d,r,o,Ot)){pe=1,Oc(i,zn(o,i.current)),Vt=null;return}}catch(g){if(d!==null)throw Vt=d,g;pe=1,Oc(i,zn(o,i.current)),Vt=null;return}r.flags&32768?(Ut||u===1?i=!0:Qa||(Ot&536870912)!==0?i=!1:(Fs=i=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),h_(r,i)):Kc(r)}function Kc(i){var r=i;do{if((r.flags&32768)!==0){h_(r,Fs);return}i=r.return;var o=T2(r.alternate,r,cs);if(o!==null){Vt=o;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);pe===0&&(pe=5)}function h_(i,r){do{var o=E2(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);pe=6,Vt=null}function d_(i,r,o,u,d,g,T,b,V){i.cancelPendingCommit=null;do Yc();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Wh,qh(i,o,g,T,b,V),i===ee&&(Vt=ee=null,Ot=0),Ja=r,Gs=i,fs=o,op=g,lp=d,n_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,P2(Ss,function(){return v_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=ot.p,ot.p=2,T=Gt,Gt|=4;try{S2(i,r,o)}finally{Gt=T,ot.p=d,J.T=u}}ke=1,p_(),m_(),g_()}}function p_(){if(ke===1){ke=0;var i=Gs,r=Ja,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=ot.p;ot.p=2;var d=Gt;Gt|=4;try{Y0(r,i);var g=bp,T=tv(i.containerInfo),b=g.focusedElem,V=g.selectionRange;if(T!==b&&b&&b.ownerDocument&&Wy(b.ownerDocument.documentElement,b)){if(V!==null&&Yh(b)){var G=V.start,X=V.end;if(X===void 0&&(X=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(X,b.value.length);else{var tt=b.ownerDocument||document,K=tt&&tt.defaultView||window;if(K.getSelection){var Q=K.getSelection(),dt=b.textContent.length,Tt=Math.min(V.start,dt),Wt=V.end===void 0?Tt:Math.min(V.end,dt);!Q.extend&&Tt>Wt&&(T=Wt,Wt=Tt,Tt=T);var z=Zy(b,Tt),N=Zy(b,Wt);if(z&&N&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==N.node||Q.focusOffset!==N.offset)){var q=tt.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),Tt>Wt?(Q.addRange(q),Q.extend(N.node,N.offset)):(q.setEnd(N.node,N.offset),Q.addRange(q))}}}}for(tt=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var Z=tt[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}of=!!Sp,bp=Sp=null}finally{Gt=d,ot.p=u,J.T=o}}i.current=r,ke=2}}function m_(){if(ke===2){ke=0;var i=Gs,r=Ja,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=ot.p;ot.p=2;var d=Gt;Gt|=4;try{H0(i,r.alternate,r)}finally{Gt=d,ot.p=u,J.T=o}}ke=3}}function g_(){if(ke===4||ke===3){ke=0,Uu();var i=Gs,r=Ja,o=fs,u=n_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ke=5:(ke=0,Ja=Gs=null,y_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(qs=null),Yi(o),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=ot.p,ot.p=2,J.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var b=u[T];g(b.value,{componentStack:b.stack})}}finally{J.T=r,ot.p=d}}(fs&3)!==0&&Yc(),Li(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===up?Il++:(Il=0,up=i):Il=0,Pl(0)}}function y_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,dl(r)))}function Yc(){return p_(),m_(),g_(),v_()}function v_(){if(ke!==5)return!1;var i=Gs,r=op;op=0;var o=Yi(fs),u=J.T,d=ot.p;try{ot.p=32>o?32:o,J.T=null,o=lp,lp=null;var g=Gs,T=fs;if(ke=0,Ja=Gs=null,fs=0,(Gt&6)!==0)throw Error(s(331));var b=Gt;if(Gt|=4,W0(g.current),X0(g,g.current,T,o),Gt=b,Pl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Zn,g)}catch{}return!0}finally{ot.p=d,J.T=u,y_(i,r)}}function __(i,r,o){r=zn(o,r),r=jd(i.stateNode,r,2),i=Us(i,r,2),i!==null&&(Sr(i,2),Li(i))}function Qt(i,r,o){if(i.tag===3)__(i,i,o);else for(;r!==null;){if(r.tag===3){__(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){i=zn(o,i),o=T0(2),u=Us(r,o,2),u!==null&&(E0(o,u,r,i),Sr(u,2),Li(u));break}}r=r.return}}function hp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new A2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(sp=!0,d.add(o),i=M2.bind(null,i,r,o),r.then(i,i))}function M2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Ot&o)===o&&(pe===4||pe===3&&(Ot&62914560)===Ot&&300>cn()-Fc?(Gt&2)===0&&Za(i,0):rp|=o,Xa===Ot&&(Xa=0)),Li(i)}function T_(i,r){r===0&&(r=qu()),i=kr(i,r),i!==null&&(Sr(i,r),Li(i))}function V2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),T_(i,o)}function I2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),T_(i,o)}function P2(i,r){return Ne(i,r)}var Qc=null,to=null,dp=!1,Xc=!1,pp=!1,Ks=0;function Li(i){i!==to&&i.next===null&&(to===null?Qc=to=i:to=to.next=i),Xc=!0,dp||(dp=!0,N2())}function Pl(i,r){if(!pp&&Xc){pp=!0;do for(var o=!1,u=Qc;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-ge(42|i)+1)-1,g&=d&~(T&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,C_(u,g))}else g=Ot,g=_i(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Wn(u,g)||(o=!0,C_(u,g));u=u.next}while(o);pp=!1}}function O2(){E_()}function E_(){Xc=dp=!1;var i=0;Ks!==0&&G2()&&(i=Ks);for(var r=cn(),o=null,u=Qc;u!==null;){var d=u.next,g=S_(u,r);g===0?(u.next=null,o===null?Qc=d:o.next=d,d===null&&(to=o)):(o=u,(i!==0||(g&3)!==0)&&(Xc=!0)),u=d}ke!==0&&ke!==5||Pl(i),Ks!==0&&(Ks=0)}function S_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-ge(g),b=1<<T,V=d[T];V===-1?((b&o)===0||(b&u)!==0)&&(d[T]=Hh(b,r)):V<=r&&(i.expiredLanes|=b),g&=~b}if(r=ee,o=Ot,o=_i(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Es(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Wn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Es(u),Yi(o)){case 2:case 8:o=Ho;break;case 32:o=Ss;break;case 268435456:o=Bu;break;default:o=Ss}return u=b_.bind(null,i),o=Ne(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Es(u),i.callbackPriority=2,i.callbackNode=null,2}function b_(i,r){if(ke!==0&&ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yc()&&i.callbackNode!==o)return null;var u=Ot;return u=_i(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(s_(i,u,r),S_(i,cn()),i.callbackNode!=null&&i.callbackNode===o?b_.bind(null,i):null)}function C_(i,r){if(Yc())return null;s_(i,r,!0)}function N2(){K2(function(){(Gt&6)!==0?Ne(Fo,O2):E_()})}function mp(){if(Ks===0){var i=Ba;i===0&&(i=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ks=i}return Ks}function A_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ca(""+i)}function R_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function k2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=A_((d[Fe]||null).action),T=u.submitter;T&&(r=(r=T[Fe]||null)?A_(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var b=new Mi("action","action",null,u,d);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ks!==0){var V=T?R_(d,T):new FormData(d);Nd(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(b.preventDefault(),V=T?R_(d,T):new FormData(d),Nd(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var gp=0;gp<Zh.length;gp++){var yp=Zh[gp],L2=yp.toLowerCase(),U2=yp[0].toUpperCase()+yp.slice(1);oi(L2,"on"+U2)}oi(iv,"onAnimationEnd"),oi(sv,"onAnimationIteration"),oi(rv,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(t2,"onTransitionRun"),oi(e2,"onTransitionStart"),oi(n2,"onTransitionCancel"),oi(av,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function x_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var b=u[T],V=b.instance,G=b.currentTarget;if(b=b.listener,V!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=G;try{g(d)}catch(X){fc(X)}d.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(b=u[T],V=b.instance,G=b.currentTarget,b=b.listener,V!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=G;try{g(d)}catch(X){fc(X)}d.currentTarget=null,g=V}}}}function It(i,r){var o=r[_a];o===void 0&&(o=r[_a]=new Set);var u=i+"__bubble";o.has(u)||(D_(r,i,2,!1),o.add(u))}function vp(i,r,o){var u=0;r&&(u|=4),D_(o,i,u,r)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function _p(i){if(!i[Jc]){i[Jc]=!0,$o.forEach(function(o){o!=="selectionchange"&&(B2.has(o)||vp(o,!1,i),vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jc]||(r[Jc]=!0,vp("selectionchange",!1,r))}}function D_(i,r,o,u){switch(iT(r)){case 2:var d=dx;break;case 8:d=px;break;default:d=Op}o=d.bind(null,r,o,i),d=void 0,!Dr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Tp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===d)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;b!==null;){if(T=bi(b),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue t}b=b.parentNode}}u=u.return}Ds(function(){var G=g,X=kn(o),tt=[];t:{var K=ov.get(i);if(K!==void 0){var Q=Mi,dt=i;switch(i){case"keypress":if(Mr(o)===0)break t;case"keydown":case"keyup":Q=lc;break;case"focusin":dt="focus",Q=Ir;break;case"focusout":dt="blur",Q=Ir;break;case"beforeblur":case"afterblur":Q=Ir;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case iv:case sv:case rv:Q=ec;break;case av:Q=A;break;case"scroll":case"scrollend":Q=sl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ji;break;case"toggle":case"beforetoggle":Q=Rt}var Tt=(r&4)!==0,Wt=!Tt&&(i==="scroll"||i==="scrollend"),z=Tt?K!==null?K+"Capture":null:K;Tt=[];for(var N=G,q;N!==null;){var Z=N;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=ii(N,z),Z!=null&&Tt.push(Nl(N,Z,q))),Wt)break;N=N.return}0<Tt.length&&(K=new Q(K,dt,null,o,X),tt.push({event:K,listeners:Tt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",K&&o!==el&&(dt=o.relatedTarget||o.fromElement)&&(bi(dt)||dt[Ei]))break t;if((Q||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(dt=o.relatedTarget||o.toElement,Q=G,dt=dt?bi(dt):null,dt!==null&&(Wt=l(dt),Tt=dt.tag,dt!==Wt||Tt!==5&&Tt!==27&&Tt!==6)&&(dt=null)):(Q=null,dt=G),Q!==dt)){if(Tt=rl,Z="onMouseLeave",z="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=Ji,Z="onPointerLeave",z="onPointerEnter",N="pointer"),Wt=Q==null?K:An(Q),q=dt==null?K:An(dt),K=new Tt(Z,N+"leave",Q,o,X),K.target=Wt,K.relatedTarget=q,Z=null,bi(X)===G&&(Tt=new Tt(z,N+"enter",dt,o,X),Tt.target=q,Tt.relatedTarget=Wt,Z=Tt),Wt=Z,Q&&dt)e:{for(Tt=z2,z=Q,N=dt,q=0,Z=z;Z;Z=Tt(Z))q++;Z=0;for(var vt=N;vt;vt=Tt(vt))Z++;for(;0<q-Z;)z=Tt(z),q--;for(;0<Z-q;)N=Tt(N),Z--;for(;q--;){if(z===N||N!==null&&z===N.alternate){Tt=z;break e}z=Tt(z),N=Tt(N)}Tt=null}else Tt=null;Q!==null&&w_(tt,K,Q,Tt,!1),dt!==null&&Wt!==null&&w_(tt,Wt,dt,Tt,!0)}}t:{if(K=G?An(G):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Ft=$y;else if(qy(K))if(Ky)Ft=JR;else{Ft=QR;var gt=YR}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&ba(G.elementType)&&(Ft=$y):Ft=XR;if(Ft&&(Ft=Ft(i,G))){Gy(tt,Ft,o,X);break t}gt&&gt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Zo(K,"number",K.value)}switch(gt=G?An(G):window,i){case"focusin":(qy(gt)||gt.contentEditable==="true")&&(Va=gt,Qh=G,cl=null);break;case"focusout":cl=Qh=Va=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,ev(tt,o,X);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":ev(tt,o,X)}var Mt;if(qt)t:{switch(i){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Ma?Pr(i,o)&&(Nt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Nt="onCompositionStart");Nt&&(Pi&&o.locale!=="ko"&&(Ma||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ma&&(Mt=il()):(wi=X,nl="value"in wi?wi.value:wi.textContent,Ma=!0)),gt=Zc(G,Nt),0<gt.length&&(Nt=new Ii(Nt,i,null,o,X),tt.push({event:Nt,listeners:gt}),Mt?Nt.data=Mt:(Mt=wa(o),Mt!==null&&(Nt.data=Mt)))),(Mt=Un?qR(i,o):GR(i,o))&&(Nt=Zc(G,"onBeforeInput"),0<Nt.length&&(gt=new Ii("onBeforeInput","beforeinput",null,o,X),tt.push({event:gt,listeners:Nt}),gt.data=Mt)),k2(tt,i,G,o,X)}x_(tt,r)})}function Nl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Zc(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ii(i,o),d!=null&&u.unshift(Nl(i,d,g)),d=ii(i,r),d!=null&&u.push(Nl(i,d,g))),i.tag===3)return u;i=i.return}return[]}function z2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function w_(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var b=o,V=b.alternate,G=b.stateNode;if(b=b.tag,V!==null&&V===u)break;b!==5&&b!==26&&b!==27||G===null||(V=G,d?(G=ii(o,g),G!=null&&T.unshift(Nl(o,G,V))):d||(G=ii(o,g),G!=null&&T.push(Nl(o,G,V)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var j2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function M_(i){return(typeof i=="string"?i:""+i).replace(j2,`
`).replace(F2,"")}function V_(i,r){return r=M_(r),M_(i)===r}function Zt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(i,""+u);break;case"className":Rn(i,"class",u);break;case"tabIndex":Rn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(i,o,u);break;case"style":tl(i,u,g);break;case"data":if(r!=="object"){Rn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ca(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",d.name,d,null),Zt(i,r,"formEncType",d.formEncType,d,null),Zt(i,r,"formMethod",d.formMethod,d,null),Zt(i,r,"formTarget",d.formTarget,d,null)):(Zt(i,r,"encType",d.encType,d,null),Zt(i,r,"method",d.method,d,null),Zt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ca(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ni);break;case"onScroll":u!=null&&It("scroll",i);break;case"onScrollEnd":u!=null&&It("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ca(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":It("beforetoggle",i),It("toggle",i),Ea(i,"popover",u);break;case"xlinkActuate":Ae(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ae(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ae(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ae(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ae(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ae(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ae(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ae(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ae(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ea(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zu.get(o)||o,Ea(i,o,u))}}function Ep(i,r,o,u,d,g){switch(o){case"style":tl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&It("scroll",i);break;case"onScrollEnd":u!=null&&It("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ea(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",i),It("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,g,T,o,null)}}d&&Zt(i,r,"srcSet",o.srcSet,o,null),u&&Zt(i,r,"src",o.src,o,null);return;case"input":It("invalid",i);var b=g=T=d=null,V=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":d=X;break;case"type":T=X;break;case"checked":V=X;break;case"defaultChecked":G=X;break;case"value":g=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Zt(i,r,u,X,o,null)}}Qu(i,g,b,V,G,T,d,!1);return;case"select":It("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Zt(i,r,d,b,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Cs(i,!!u,r,!1):o!=null&&Cs(i,!!u,o,!0);return;case"textarea":It("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(b=o[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":d=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Zt(i,r,T,b,o,null)}As(i,u,d,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Zt(i,r,V,u,o,null));return;case"dialog":It("beforetoggle",i),It("toggle",i),It("cancel",i),It("close",i);break;case"iframe":case"object":It("load",i);break;case"video":case"audio":for(u=0;u<Ol.length;u++)It(Ol[u],i);break;case"image":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"embed":case"source":case"link":It("error",i),It("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,G,u,o,null)}return;default:if(ba(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Ep(i,r,X,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Zt(i,r,b,u,o,null))}function H2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,b=null,V=null,G=null,X=null;for(Q in o){var tt=o[Q];if(o.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=tt;default:u.hasOwnProperty(Q)||Zt(i,r,Q,null,u,tt)}}for(var K in u){var Q=u[K];if(tt=o[K],u.hasOwnProperty(K)&&(Q!=null||tt!=null))switch(K){case"type":g=Q;break;case"name":d=Q;break;case"checked":G=Q;break;case"defaultChecked":X=Q;break;case"value":T=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==tt&&Zt(i,r,K,Q,u,tt)}}Sa(i,T,b,V,G,X,g,d);return;case"select":Q=T=b=K=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(g)||Zt(i,r,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":K=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==V&&Zt(i,r,d,g,u,V)}r=b,o=T,u=Q,K!=null?Cs(i,!!o,K,!1):!!u!=!!o&&(r!=null?Cs(i,!!o,r,!0):Cs(i,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Zt(i,r,b,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":K=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&Zt(i,r,T,d,u,g)}Xu(i,K,Q);return;case"option":for(var dt in o)K=o[dt],o.hasOwnProperty(dt)&&K!=null&&!u.hasOwnProperty(dt)&&(dt==="selected"?i.selected=!1:Zt(i,r,dt,null,u,K));for(V in u)K=u[V],Q=o[V],u.hasOwnProperty(V)&&K!==Q&&(K!=null||Q!=null)&&(V==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":Zt(i,r,V,K,u,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)K=o[Tt],o.hasOwnProperty(Tt)&&K!=null&&!u.hasOwnProperty(Tt)&&Zt(i,r,Tt,null,u,K);for(G in u)if(K=u[G],Q=o[G],u.hasOwnProperty(G)&&K!==Q&&(K!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Zt(i,r,G,K,u,Q)}return;default:if(ba(r)){for(var Wt in o)K=o[Wt],o.hasOwnProperty(Wt)&&K!==void 0&&!u.hasOwnProperty(Wt)&&Ep(i,r,Wt,void 0,u,K);for(X in u)K=u[X],Q=o[X],!u.hasOwnProperty(X)||K===Q||K===void 0&&Q===void 0||Ep(i,r,X,K,u,Q);return}}for(var z in o)K=o[z],o.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Zt(i,r,z,null,u,K);for(tt in u)K=u[tt],Q=o[tt],!u.hasOwnProperty(tt)||K===Q||K==null&&Q==null||Zt(i,r,tt,K,u,Q)}function I_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,b=d.duration;if(g&&b&&I_(T)){for(T=0,b=d.responseEnd,u+=1;u<o.length;u++){var V=o[u],G=V.startTime;if(G>b)break;var X=V.transferSize,tt=V.initiatorType;X&&I_(tt)&&(V=V.responseEnd,T+=X*(V<b?1:(b-G)/(V-G)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Sp=null,bp=null;function Wc(i){return i.nodeType===9?i:i.ownerDocument}function P_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Cp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ap=null;function G2(){var i=window.event;return i&&i.type==="popstate"?i===Ap?!1:(Ap=i,!0):(Ap=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(i){return k_.resolve(null).then(i).catch(Y2)}:N_;function Y2(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function L_(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),so(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")kl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,kl(o);for(var g=o.firstChild;g;){var T=g.nextSibling,b=g.nodeName;g[Si]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&kl(i.ownerDocument.body);o=d}while(o);so(r)}function U_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),Ta(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Q2(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Si])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Gn(i.nextSibling),i===null)break}return null}function X2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Gn(i.nextSibling),i===null))return null;return i}function B_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Gn(i.nextSibling),i===null))return null;return i}function xp(i){return i.data==="$?"||i.data==="$~"}function Dp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function J2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Gn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var wp=null;function z_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Gn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function j_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function F_(i,r,o){switch(r=Wc(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function kl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ta(i)}var $n=new Map,H_=new Set;function tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hs=ot.d;ot.d={f:Z2,r:W2,D:tx,C:ex,L:nx,m:ix,X:rx,S:sx,M:ax};function Z2(){var i=hs.f(),r=Gc();return i||r}function W2(i){var r=Nn(i);r!==null&&r.tag===5&&r.type==="form"?a0(r):hs.r(i)}var eo=typeof document>"u"?null:document;function q_(i,r,o){var u=eo;if(u&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),H_.has(d)||(H_.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function tx(i){hs.D(i),q_("dns-prefetch",i,null)}function ex(i,r){hs.C(i,r),q_("preconnect",i,r)}function nx(i,r,o){hs.L(i,r,o);var u=eo;if(u&&i&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(i)+'"]';var g=d;switch(r){case"style":g=no(i);break;case"script":g=io(i)}$n.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),$n.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Ll(g))||r==="script"&&u.querySelector(Ul(g))||(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function ix(i,r){hs.m(i,r);var o=eo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=io(i)}if(!$n.has(g)&&(i=v({rel:"modulepreload",href:i},r),$n.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ul(g)))return}u=o.createElement("link"),Je(u,"link",i),Ce(u),o.head.appendChild(u)}}}function sx(i,r,o){hs.S(i,r,o);var u=eo;if(u&&i){var d=Ci(u).hoistableStyles,g=no(i);r=r||"default";var T=d.get(g);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(Ll(g)))b.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=$n.get(g))&&Mp(i,o);var V=T=u.createElement("link");Ce(V),Je(V,"link",i),V._p=new Promise(function(G,X){V.onload=G,V.onerror=X}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ef(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:b},d.set(g,T)}}}function rx(i,r){hs.X(i,r);var o=eo;if(o&&i){var u=Ci(o).hoistableScripts,d=io(i),g=u.get(d);g||(g=o.querySelector(Ul(d)),g||(i=v({src:i,async:!0},r),(r=$n.get(d))&&Vp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function ax(i,r){hs.M(i,r);var o=eo;if(o&&i){var u=Ci(o).hoistableScripts,d=io(i),g=u.get(d);g||(g=o.querySelector(Ul(d)),g||(i=v({src:i,async:!0,type:"module"},r),(r=$n.get(d))&&Vp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function G_(i,r,o,u){var d=(d=wt.current)?tf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=no(o.href),o=Ci(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=no(o.href);var g=Ci(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Ll(i)))&&!g._p&&(T.instance=g,T.state.loading=5),$n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(i,o),g||ox(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(o),o=Ci(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function no(i){return'href="'+gn(i)+'"'}function Ll(i){return'link[rel="stylesheet"]['+i+"]"}function $_(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function ox(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ce(r),i.head.appendChild(r))}function io(i){return'[src="'+gn(i)+'"]'}function Ul(i){return"script[async]"+i}function K_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Je(u,"style",d),ef(u,o.precedence,i),r.instance=u;case"stylesheet":d=no(o.href);var g=i.querySelector(Ll(d));if(g)return r.state.loading|=4,r.instance=g,Ce(g),g;u=$_(o),(d=$n.get(d))&&Mp(u,d),g=(i.ownerDocument||i).createElement("link"),Ce(g);var T=g;return T._p=new Promise(function(b,V){T.onload=b,T.onerror=V}),Je(g,"link",u),r.state.loading|=4,ef(g,o.precedence,i),r.instance=g;case"script":return g=io(o.src),(d=i.querySelector(Ul(g)))?(r.instance=d,Ce(d),d):(u=o,(d=$n.get(g))&&(u=v({},o),Vp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ce(d),Je(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ef(u,o.precedence,i));return r.instance}function ef(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===r)g=b;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Mp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Vp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function Y_(i,r,o){if(nf===null){var u=new Map,d=nf=new Map;d.set(o,u)}else d=nf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Si]||g[be]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var b=u.get(T);b?b.push(g):u.set(T,[g])}}return u}function Q_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function lx(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function X_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ux(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=no(u.href),g=r.querySelector(Ll(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ce(g);return}g=r.ownerDocument||r,u=$_(u),(d=$n.get(d))&&Mp(u,d),g=g.createElement("link"),Ce(g);var T=g;T._p=new Promise(function(b,V){T.onload=b,T.onerror=V}),Je(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ip=0;function cx(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Ip===0&&(Ip=62500*q2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Ip?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(fx,i),rf=null,sf.call(i))}function fx(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=sf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Bl={$$typeof:j,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function hx(i,r,o,u,d,g,T,b,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function J_(i,r,o,u,d,g,T,b,V,G,X,tt){return i=new hx(i,r,o,T,V,G,X,tt,b),r=1,g===!0&&(r|=24),g=Dn(3,null,null,r),i.current=g,g.stateNode=i,r=fd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},md(g),i}function Z_(i){return i?(i=Oa,i):Oa}function W_(i,r,o,u,d,g){d=Z_(d),u.context===null?u.context=d:u.pendingContext=d,u=Ls(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Us(i,u,r),o!==null&&(Sn(o,i,r),yl(o,i,r))}function tT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Pp(i,r){tT(i,r),(i=i.alternate)&&tT(i,r)}function eT(i){if(i.tag===13||i.tag===31){var r=kr(i,67108864);r!==null&&Sn(r,i,67108864),Pp(i,67108864)}}function nT(i){if(i.tag===13||i.tag===31){var r=Pn();r=Cr(r);var o=kr(i,r);o!==null&&Sn(o,i,r),Pp(i,r)}}var of=!0;function dx(i,r,o,u){var d=J.T;J.T=null;var g=ot.p;try{ot.p=2,Op(i,r,o,u)}finally{ot.p=g,J.T=d}}function px(i,r,o,u){var d=J.T;J.T=null;var g=ot.p;try{ot.p=8,Op(i,r,o,u)}finally{ot.p=g,J.T=d}}function Op(i,r,o,u){if(of){var d=Np(u);if(d===null)Tp(i,r,u,lf,o),sT(i,u);else if(gx(d,i,r,o,u))u.stopPropagation();else if(sT(i,u),r&4&&-1<mx.indexOf(i)){for(;d!==null;){var g=Nn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=vi(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var V=1<<31-ge(T);b.entanglements[1]|=V,T&=~V}Li(g),(Gt&6)===0&&(Hc=cn()+500,Pl(0))}}break;case 31:case 13:b=kr(g,2),b!==null&&Sn(b,g,2),Gc(),Pp(g,2)}if(g=Np(u),g===null&&Tp(i,r,u,lf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Tp(i,r,u,null,o)}}function Np(i){return i=kn(i),kp(i)}var lf=null;function kp(i){if(lf=null,i=bi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function iT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Fo:return 2;case Ho:return 8;case Ss:case Fh:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var Lp=!1,Qs=null,Xs=null,Js=null,zl=new Map,jl=new Map,Zs=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sT(i,r){switch(i){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function Fl(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Nn(r),r!==null&&eT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function gx(i,r,o,u,d){switch(r){case"focusin":return Qs=Fl(Qs,i,r,o,u,d),!0;case"dragenter":return Xs=Fl(Xs,i,r,o,u,d),!0;case"mouseover":return Js=Fl(Js,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return zl.set(g,Fl(zl.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,jl.set(g,Fl(jl.get(g)||null,i,r,o,u,d)),!0}return!1}function rT(i){var r=bi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ti(i.priority,function(){nT(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,ti(i.priority,function(){nT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Np(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);el=u,o.target.dispatchEvent(u),el=null}else return r=Nn(o),r!==null&&eT(r),i.blockedOn=o,!1;r.shift()}return!0}function aT(i,r,o){uf(i)&&o.delete(r)}function yx(){Lp=!1,Qs!==null&&uf(Qs)&&(Qs=null),Xs!==null&&uf(Xs)&&(Xs=null),Js!==null&&uf(Js)&&(Js=null),zl.forEach(aT),jl.forEach(aT)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,Lp||(Lp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yx)))}var ff=null;function oT(i){ff!==i&&(ff=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ff===i&&(ff=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var g=Nn(o);g!==null&&(i.splice(r,3),r-=3,Nd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function so(i){function r(V){return cf(V,i)}Qs!==null&&cf(Qs,i),Xs!==null&&cf(Xs,i),Js!==null&&cf(Js,i),zl.forEach(r),jl.forEach(r);for(var o=0;o<Zs.length;o++){var u=Zs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zs.length&&(o=Zs[0],o.blockedOn===null);)rT(o),o.blockedOn===null&&Zs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Fe]||null;if(typeof g=="function")T||oT(o);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Fe]||null)b=T.formAction;else if(kp(d)!==null)continue}else b=T.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),oT(o)}}}function lT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Up(i){this._internalRoot=i}hf.prototype.render=Up.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Pn();W_(o,u,i,r,null,null)},hf.prototype.unmount=Up.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;W_(i.current,2,null,i,null,null),Gc(),r[Ei]=null}};function hf(i){this._internalRoot=i}hf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Zs.length&&r!==0&&r<Zs[o].priority;o++);Zs.splice(o,0,i),o===0&&rT(i)}};var uT=t.version;if(uT!=="19.2.4")throw Error(s(527,uT,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var vx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Zn=df.inject(vx),$e=df}catch{}}return ql.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=g0,g=y0,T=v0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=J_(i,1,!1,null,null,o,u,null,d,g,T,lT),i[Ei]=r.current,_p(i),new Up(r)},ql.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=g0,T=y0,b=v0,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=J_(i,1,!0,r,o??null,u,d,V,g,T,b,lT),r.context=Z_(null),o=r.current,u=Pn(),u=Cr(u),d=Ls(u),d.callback=null,Us(o,d,u),o=u,r.current.lanes=o,Sr(r,o),Li(r),i[Ei]=r.current,_p(i),new hf(r)},ql.version="19.2.4",ql}var _T;function Mx(){if(_T)return jp.exports;_T=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jp.exports=wx(),jp.exports}var Vx=Mx();var TT="popstate";function Ix(e={}){function t(s,a){let{pathname:l,search:c,hash:h}=s.location;return Cm("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:cu(a)}return Ox(t,n,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Px(){return Math.random().toString(36).substring(2,10)}function ET(e,t){return{usr:e.state,key:e.key,idx:t}}function Cm(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ru(t):t,state:n,key:t&&t.key||s||Px()}}function cu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ru(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Ox(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){h="POP";let L=y(),H=L==null?null:L-m;m=L,p&&p({action:h,location:O.location,delta:H})}function E(L,H){h="PUSH";let $=Cm(O.location,L,H);m=y()+1;let j=ET($,m),nt=O.createHref($);try{c.pushState(j,"",nt)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(nt)}l&&p&&p({action:h,location:O.location,delta:1})}function C(L,H){h="REPLACE";let $=Cm(O.location,L,H);m=y();let j=ET($,m),nt=O.createHref($);c.replaceState(j,"",nt),l&&p&&p({action:h,location:O.location,delta:0})}function w(L){return Nx(L)}let O={get action(){return h},get location(){return e(a,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(TT,v),p=L,()=>{a.removeEventListener(TT,v),p=null}},createHref(L){return t(a,L)},createURL:w,encodeLocation(L){let H=w(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:C,go(L){return c.go(L)}};return O}function Nx(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:cu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function lb(e,t,n="/"){return kx(e,t,n,!1)}function kx(e,t,n,s){let a=typeof t=="string"?Ru(t):t,l=ms(a.pathname||"/",n);if(l==null)return null;let c=ub(e);Lx(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=Yx(l);h=$x(c[p],m,s)}return h}function ub(e,t=[],n=[],s="",a=!1){let l=(c,h,p=a,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;ze(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=ds([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ub(c.children,t,E,v,p)),!(c.path==null&&!c.index)&&t.push({path:v,score:qx(v,c.index),routesMeta:E})};return e.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let p of cb(c.path))l(c,h,!0,p)}),t}function cb(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=cb(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function Lx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gx(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ux=/^:[\w-]+$/,Bx=3,zx=2,jx=1,Fx=10,Hx=-2,ST=e=>e==="*";function qx(e,t){let n=e.split("/"),s=n.length;return n.some(ST)&&(s+=Hx),t&&(s+=zx),n.filter(a=>!ST(a)).reduce((a,l)=>a+(Ux.test(l)?Bx:l===""?jx:Fx),s)}function Gx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function $x(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=$f({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!v&&m&&n&&!s[s.length-1].route.index&&(v=$f({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ds([l,v.pathname]),pathnameBase:Zx(ds([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=ds([l,v.pathnameBase]))}return c}function $f(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Kx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},E)=>{if(y==="*"){let w=h[E]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const C=h[E];return v&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function Kx(e,t=!1,n=!0){qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Yx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var Qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Xx(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ru(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=bT(n.substring(1),"/"):l=bT(n,t)):l=t,{pathname:l,search:Wx(s),hash:tD(a)}}function bT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fb(e){let t=Jx(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function hb(e,t,n,s=!1){let a;typeof e=="string"?a=Ru(e):(a={...e},ze(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?t[v]:"/"}let p=Xx(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var ds=e=>e.join("/").replace(/\/\/+/g,"/"),Zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,eD=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function iD(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pb(e,t){let n=e;if(typeof n!="string"||!Qx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(db)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=ms(c.pathname,t);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var sD=["GET",...mb];new Set(sD);var Mo=k.createContext(null);Mo.displayName="DataRouter";var _h=k.createContext(null);_h.displayName="DataRouterState";var rD=k.createContext(!1),gb=k.createContext({isTransitioning:!1});gb.displayName="ViewTransition";var aD=k.createContext(new Map);aD.displayName="Fetchers";var oD=k.createContext(null);oD.displayName="Await";var Jn=k.createContext(null);Jn.displayName="Navigation";var Th=k.createContext(null);Th.displayName="Location";var Ts=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var bg=k.createContext(null);bg.displayName="RouteError";var yb="REACT_ROUTER_ERROR",lD="REDIRECT",uD="ROUTE_ERROR_RESPONSE";function cD(e){if(e.startsWith(`${yb}:${lD}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function fD(e){if(e.startsWith(`${yb}:${uD}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new eD(t.status,t.statusText,t.data)}catch{}}function hD(e,{relative:t}={}){ze(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(Jn),{hash:a,pathname:l,search:c}=Du(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:ds([n,l])),s.createHref({pathname:h,search:c,hash:a})}function xu(){return k.useContext(Th)!=null}function oa(){return ze(xu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Th).location}var vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(e){k.useContext(Jn).static||k.useLayoutEffect(e)}function dD(){let{isDataRoute:e}=k.useContext(Ts);return e?RD():pD()}function pD(){ze(xu(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Mo),{basename:t,navigator:n}=k.useContext(Jn),{matches:s}=k.useContext(Ts),{pathname:a}=oa(),l=JSON.stringify(fb(s)),c=k.useRef(!1);return _b(()=>{c.current=!0}),k.useCallback((p,m={})=>{if(qi(c.current,vb),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=hb(p,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ds([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,l,a,e])}k.createContext(null);function Du(e,{relative:t}={}){let{matches:n}=k.useContext(Ts),{pathname:s}=oa(),a=JSON.stringify(fb(n));return k.useMemo(()=>hb(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function mD(e,t,n,s,a){ze(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Jn),{matches:c}=k.useContext(Ts),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let $=v&&v.path||"";Eb(m,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=oa(),C;C=E;let w=C.pathname||"/",O=w;if(y!=="/"){let $=y.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice($.length).join("/")}let L=lb(e,{pathname:O});return qi(v||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),qi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),TD(L&&L.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:ds([y,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:ds([y,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,s,a)}function gD(){let e=AD(),t=nD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:a},n):null,c)}var yD=k.createElement(gD,null),Tb=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=fD(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(Ts.Provider,{value:this.props.routeContext},k.createElement(bg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(vD,{error:e},t):t}};Tb.contextType=rD;var $p=new WeakMap;function vD({children:e,error:t}){let{basename:n}=k.useContext(Jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=cD(t.digest);if(s){let a=$p.get(t);if(a)throw a;let l=pb(s.location,n);if(db&&!$p.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw $p.set(t,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function _D({routeContext:e,match:t,children:n}){let s=k.useContext(Mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Ts.Provider,{value:e},n)}function TD(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:C}=n,w=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||w){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:iD(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,E)=>{let C,w=!1,O=null,L=null;n&&(C=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||yD,h&&(p<0&&E===0?(Eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):p===E&&(w=!0,L=v.route.hydrateFallbackElement||null)));let H=t.concat(l.slice(0,E+1)),$=()=>{let j;return C?j=O:w?j=L:v.route.Component?j=k.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,k.createElement(_D,{match:v,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?k.createElement(Tb,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:m}):$()},null)}function Cg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ED(e){let t=k.useContext(Mo);return ze(t,Cg(e)),t}function SD(e){let t=k.useContext(_h);return ze(t,Cg(e)),t}function bD(e){let t=k.useContext(Ts);return ze(t,Cg(e)),t}function Ag(e){let t=bD(e),n=t.matches[t.matches.length-1];return ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function CD(){return Ag("useRouteId")}function AD(){let e=k.useContext(bg),t=SD("useRouteError"),n=Ag("useRouteError");return e!==void 0?e:t.errors?.[n]}function RD(){let{router:e}=ED("useNavigate"),t=Ag("useNavigate"),n=k.useRef(!1);return _b(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{qi(n.current,vb),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var CT={};function Eb(e,t,n){!t&&!CT[e]&&(CT[e]=!0,qi(!1,n))}k.memo(xD);function xD({routes:e,future:t,state:n,onError:s}){return mD(e,void 0,n,s,t)}function DD({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ze(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=Ru(n));let{pathname:m="/",search:y="",hash:v="",state:E=null,key:C="default"}=n,w=k.useMemo(()=>{let O=ms(m,h);return O==null?null:{location:{pathname:O,search:y,hash:v,state:E,key:C},navigationType:s}},[h,m,y,v,E,C,s]);return qi(w!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Jn.Provider,{value:p},k.createElement(Th.Provider,{children:t,value:w}))}var Af="get",Rf="application/x-www-form-urlencoded";function Eh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function wD(e){return Eh(e)&&e.tagName.toLowerCase()==="button"}function MD(e){return Eh(e)&&e.tagName.toLowerCase()==="form"}function VD(e){return Eh(e)&&e.tagName.toLowerCase()==="input"}function ID(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PD(e,t){return e.button===0&&(!t||t==="_self")&&!ID(e)}var pf=null;function OD(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var ND=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(e){return e!=null&&!ND.has(e)?(qi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):e}function kD(e,t){let n,s,a,l,c;if(MD(e)){let h=e.getAttribute("action");s=h?ms(h,t):null,n=e.getAttribute("method")||Af,a=Kp(e.getAttribute("enctype"))||Rf,l=new FormData(e)}else if(wD(e)||VD(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||h.getAttribute("action");if(s=p?ms(p,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Af,a=Kp(e.getAttribute("formenctype"))||Kp(h.getAttribute("enctype"))||Rf,l=new FormData(h,e),!OD()){let{name:m,type:y,value:v}=e;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,v)}}else{if(Eh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Af,s=null,a=Rf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function LD(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&ms(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function UD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zD(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await UD(l,n);return c.links?c.links():[]}return[]}));return qD(s.flat(1).filter(BD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AT(e,t,n,s,a,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?t.filter((p,m)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function jD(e,t,{includeHydrateFallback:n}={}){return FD(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function FD(e){return[...new Set(e)]}function HD(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function qD(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(HD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Sb(){let e=k.useContext(Mo);return Rg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GD(){let e=k.useContext(_h);return Rg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xg=k.createContext(void 0);xg.displayName="FrameworkContext";function bb(){let e=k.useContext(xg);return Rg(e,"You must render this element inside a <HydratedRouter> element"),e}function $D(e,t){let n=k.useContext(xg),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,E=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let O=H=>{H.forEach($=>{c($.isIntersecting)})},L=new IntersectionObserver(O,{threshold:.5});return E.current&&L.observe(E.current),()=>{L.disconnect()}}},[e]),k.useEffect(()=>{if(s){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[s]);let C=()=>{a(!0)},w=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:Gl(h,C),onBlur:Gl(p,w),onMouseEnter:Gl(m,C),onMouseLeave:Gl(y,w),onTouchStart:Gl(v,C)}]:[!1,E,{}]}function Gl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KD({page:e,...t}){let{router:n}=Sb(),s=k.useMemo(()=>lb(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?k.createElement(QD,{page:e,matches:s,...t}):null}function YD(e){let{manifest:t,routeModules:n}=bb(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return zD(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function QD({page:e,matches:t,...n}){let s=oa(),{future:a,manifest:l,routeModules:c}=bb(),{basename:h}=Sb(),{loaderData:p,matches:m}=GD(),y=k.useMemo(()=>AT(e,t,m,l,s,"data"),[e,t,m,l,s]),v=k.useMemo(()=>AT(e,t,m,l,s,"assets"),[e,t,m,l,s]),E=k.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let O=new Set,L=!1;if(t.forEach($=>{let j=l.routes[$.route.id];!j||!j.hasLoader||(!y.some(nt=>nt.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||j.hasClientLoader?L=!0:O.add($.route.id))}),O.size===0)return[];let H=LD(e,h,a.unstable_trailingSlashAwareDataRequests,"data");return L&&O.size>0&&H.searchParams.set("_routes",t.filter($=>O.has($.route.id)).map($=>$.route.id).join(",")),[H.pathname+H.search]},[h,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,t,e,c]),C=k.useMemo(()=>jD(v,l),[v,l]),w=YD(v);return k.createElement(k.Fragment,null,E.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),w.map(({key:O,link:L})=>k.createElement("link",{key:O,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function XD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JD&&(window.__reactRouterVersion="7.13.0")}catch{}function ZD({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=k.useRef();a.current==null&&(a.current=Ix({window:s,v5Compat:!0}));let l=a.current,[c,h]=k.useState({action:l.action,location:l.location}),p=k.useCallback(m=>{n===!1?h(m):k.startTransition(()=>h(m))},[n]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.createElement(DD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ab=k.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...C},w){let{basename:O,unstable_useTransitions:L}=k.useContext(Jn),H=typeof m=="string"&&Cb.test(m),$=pb(m,O);m=$.to;let j=hD(m,{relative:a}),[nt,W,at]=$D(s,C),D=nw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:L});function R(I){t&&t(I),I.defaultPrevented||D(I)}let x=k.createElement("a",{...C,...at,href:$.absoluteURL||j,onClick:$.isExternal||l?t:R,ref:XD(w,W),target:p,"data-discover":!H&&n==="render"?"true":void 0});return nt&&!H?k.createElement(k.Fragment,null,x,k.createElement(KD,{page:j})):x});Ab.displayName="Link";var WD=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:p,...m},y){let v=Du(c,{relative:m.relative}),E=oa(),C=k.useContext(_h),{navigator:w,basename:O}=k.useContext(Jn),L=C!=null&&ow(v)&&h===!0,H=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,$=E.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||($=$.toLowerCase(),j=j?j.toLowerCase():null,H=H.toLowerCase()),j&&O&&(j=ms(j,O)||j);const nt=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let W=$===H||!a&&$.startsWith(H)&&$.charAt(nt)==="/",at=j!=null&&(j===H||!a&&j.startsWith(H)&&j.charAt(H.length)==="/"),D={isActive:W,isPending:at,isTransitioning:L},R=W?t:void 0,x;typeof s=="function"?x=s(D):x=[s,W?"active":null,at?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(D):l;return k.createElement(Ab,{...m,"aria-current":R,className:x,ref:y,style:I,to:c,viewTransition:h},typeof p=="function"?p(D):p)});WD.displayName="NavLink";var tw=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Af,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...C},w)=>{let{unstable_useTransitions:O}=k.useContext(Jn),L=rw(),H=aw(h,{relative:m}),$=c.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&Cb.test(h),nt=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let at=W.nativeEvent.submitter,D=at?.getAttribute("formmethod")||c,R=()=>L(at||W.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});O&&n!==!1?k.startTransition(()=>R()):R()};return k.createElement("form",{ref:w,method:$,action:H,onSubmit:s?p:nt,...C,"data-discover":!j&&e==="render"?"true":void 0})});tw.displayName="Form";function ew(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(e){let t=k.useContext(Mo);return ze(t,ew(e)),t}function nw(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=dD(),y=oa(),v=Du(e,{relative:l});return k.useCallback(E=>{if(PD(E,t)){E.preventDefault();let C=n!==void 0?n:cu(y)===cu(v),w=()=>m(e,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});p?k.startTransition(()=>w()):w()}},[y,m,v,n,s,t,e,a,l,c,h,p])}var iw=0,sw=()=>`__${String(++iw)}__`;function rw(){let{router:e}=Rb("useSubmit"),{basename:t}=k.useContext(Jn),n=CD(),s=e.fetch,a=e.navigate;return k.useCallback(async(l,c={})=>{let{action:h,method:p,encType:m,formData:y,body:v}=kD(l,t);if(c.navigate===!1){let E=c.fetcherKey||sw();await s(E,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function aw(e,{relative:t}={}){let{basename:n}=k.useContext(Jn),s=k.useContext(Ts);ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Du(e||".",{relative:t})},c=oa();if(e==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ds([n,l.pathname])),cu(l)}function ow(e,{relative:t}={}){let n=k.useContext(gb);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rb("useViewTransitionState"),a=Du(e,{relative:t});if(!n.isTransitioning)return!1;let l=ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return $f(a.pathname,c)!=null||$f(a.pathname,l)!=null}const Dg=k.createContext({});function wg(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const xb=typeof window<"u",Db=xb?k.useLayoutEffect:k.useEffect,Sh=k.createContext(null);function Mg(e,t){e.indexOf(t)===-1&&e.push(t)}function Kf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gi=(e,t,n)=>n>t?t:n<e?e:n;let Vg=()=>{};const gs={},wb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Mb(e){return typeof e=="object"&&e!==null}const Vb=e=>/^0[^.\s]+$/u.test(e);function Ig(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xn=e=>e,lw=(e,t)=>n=>t(e(n)),wu=(...e)=>e.reduce(lw),fu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Pg{constructor(){this.subscriptions=[]}add(t){return Mg(this.subscriptions,t),()=>Kf(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const di=e=>e*1e3,Qn=e=>e/1e3;function Ib(e,t){return t?e*(1e3/t):0}const Pb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uw=1e-7,cw=12;function fw(e,t,n,s,a){let l,c,h=0;do c=t+(n-t)/2,l=Pb(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>uw&&++h<cw);return c}function Mu(e,t,n,s){if(e===t&&n===s)return Xn;const a=l=>fw(l,0,1,e,n);return l=>l===0||l===1?l:Pb(a(l),t,s)}const Ob=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Nb=e=>t=>1-e(1-t),kb=Mu(.33,1.53,.69,.99),Og=Nb(kb),Lb=Ob(Og),Ub=e=>(e*=2)<1?.5*Og(e):.5*(2-Math.pow(2,-10*(e-1))),Ng=e=>1-Math.sin(Math.acos(e)),Bb=Nb(Ng),zb=Ob(Ng),hw=Mu(.42,0,1,1),dw=Mu(0,0,.58,1),jb=Mu(.42,0,.58,1),pw=e=>Array.isArray(e)&&typeof e[0]!="number",Fb=e=>Array.isArray(e)&&typeof e[0]=="number",mw={linear:Xn,easeIn:hw,easeInOut:jb,easeOut:dw,circIn:Ng,circInOut:zb,circOut:Bb,backIn:Og,backInOut:Lb,backOut:kb,anticipate:Ub},gw=e=>typeof e=="string",RT=e=>{if(Fb(e)){Vg(e.length===4);const[t,n,s,a]=e;return Mu(t,n,s,a)}else if(gw(e))return mw[e];return e},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yw(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(m.schedule(y),e()),y(h)}const m={schedule:(y,v=!1,E=!1)=>{const w=E&&a?n:s;return v&&c.add(y),w.has(y)||w.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const vw=40;function Hb(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=mf.reduce((j,nt)=>(j[nt]=yw(l),j),{}),{setup:h,read:p,resolveKeyframes:m,preUpdate:y,update:v,preRender:E,render:C,postRender:w}=c,O=()=>{const j=gs.useManualTiming?a.timestamp:performance.now();n=!1,gs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(j-a.timestamp,vw),1)),a.timestamp=j,a.isProcessing=!0,h.process(a),p.process(a),m.process(a),y.process(a),v.process(a),E.process(a),C.process(a),w.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(O))},L=()=>{n=!0,s=!0,a.isProcessing||e(O)};return{schedule:mf.reduce((j,nt)=>{const W=c[nt];return j[nt]=(at,D=!1,R=!1)=>(n||L(),W.schedule(at,D,R)),j},{}),cancel:j=>{for(let nt=0;nt<mf.length;nt++)c[mf[nt]].cancel(j)},state:a,steps:c}}const{schedule:ne,cancel:ur,state:Ze,steps:Yp}=Hb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let xf;function _w(){xf=void 0}const dn={now:()=>(xf===void 0&&dn.set(Ze.isProcessing||gs.useManualTiming?Ze.timestamp:performance.now()),xf),set:e=>{xf=e,queueMicrotask(_w)}},qb=e=>t=>typeof t=="string"&&t.startsWith(e),Gb=qb("--"),Tw=qb("var(--"),kg=e=>Tw(e)?Ew.test(e.split("/*")[0].trim()):!1,Ew=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Vo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hu={...Vo,transform:e=>Gi(0,1,e)},gf={...Vo,default:1},eu=e=>Math.round(e*1e5)/1e5,Lg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sw(e){return e==null}const bw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ug=(e,t)=>n=>!!(typeof n=="string"&&bw.test(n)&&n.startsWith(e)||t&&!Sw(n)&&Object.prototype.hasOwnProperty.call(n,t)),$b=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Lg);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},Cw=e=>Gi(0,255,e),Qp={...Vo,transform:e=>Math.round(Cw(e))},Zr={test:Ug("rgb","red"),parse:$b("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Qp.transform(e)+", "+Qp.transform(t)+", "+Qp.transform(n)+", "+eu(hu.transform(s))+")"};function Aw(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Am={test:Ug("#"),parse:Aw,transform:Zr.transform},Vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tr=Vu("deg"),zi=Vu("%"),pt=Vu("px"),Rw=Vu("vh"),xw=Vu("vw"),DT={...zi,parse:e=>zi.parse(e)/100,transform:e=>zi.transform(e*100)},co={test:Ug("hsl","hue"),parse:$b("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+zi.transform(eu(t))+", "+zi.transform(eu(n))+", "+eu(hu.transform(s))+")"},Ie={test:e=>Zr.test(e)||Am.test(e)||co.test(e),parse:e=>Zr.test(e)?Zr.parse(e):co.test(e)?co.parse(e):Am.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zr.transform(e):co.transform(e),getAnimatableNone:e=>{const t=Ie.parse(e);return t.alpha=0,Ie.transform(t)}},Dw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ww(e){return isNaN(e)&&typeof e=="string"&&(e.match(Lg)?.length||0)+(e.match(Dw)?.length||0)>0}const Kb="number",Yb="color",Mw="var",Vw="var(",wT="${}",Iw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function du(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(Iw,p=>(Ie.test(p)?(s.color.push(l),a.push(Yb),n.push(Ie.parse(p))):p.startsWith(Vw)?(s.var.push(l),a.push(Mw),n.push(p)):(s.number.push(l),a.push(Kb),n.push(parseFloat(p))),++l,wT)).split(wT);return{values:n,split:h,indexes:s,types:a}}function Qb(e){return du(e).values}function Xb(e){const{split:t,types:n}=du(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const h=n[c];h===Kb?l+=eu(a[c]):h===Yb?l+=Ie.transform(a[c]):l+=a[c]}return l}}const Pw=e=>typeof e=="number"?0:Ie.test(e)?Ie.getAnimatableNone(e):e;function Ow(e){const t=Qb(e);return Xb(e)(t.map(Pw))}const cr={test:ww,parse:Qb,createTransformer:Xb,getAnimatableNone:Ow};function Xp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Nw({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const h=n<.5?n*(1+t):n+t-n*t,p=2*n-h;a=Xp(p,h,e+1/3),l=Xp(p,h,e),c=Xp(p,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Yf(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,Jp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},kw=[Am,Zr,co],Lw=e=>kw.find(t=>t.test(e));function MT(e){const t=Lw(e);if(!t)return!1;let n=t.parse(e);return t===co&&(n=Nw(n)),n}const VT=(e,t)=>{const n=MT(e),s=MT(t);if(!n||!s)return Yf(e,t);const a={...n};return l=>(a.red=Jp(n.red,s.red,l),a.green=Jp(n.green,s.green,l),a.blue=Jp(n.blue,s.blue,l),a.alpha=ce(n.alpha,s.alpha,l),Zr.transform(a))},Rm=new Set(["none","hidden"]);function Uw(e,t){return Rm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Bw(e,t){return n=>ce(e,t,n)}function Bg(e){return typeof e=="number"?Bw:typeof e=="string"?kg(e)?Yf:Ie.test(e)?VT:Fw:Array.isArray(e)?Jb:typeof e=="object"?Ie.test(e)?VT:zw:Yf}function Jb(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Bg(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function zw(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Bg(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function jw(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],h=e.values[c]??0;n[a]=h,s[l]++}return n}const Fw=(e,t)=>{const n=cr.createTransformer(t),s=du(e),a=du(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Rm.has(e)&&!a.values.length||Rm.has(t)&&!s.values.length?Uw(e,t):wu(Jb(jw(s,a),a.values),n):Yf(e,t)};function Zb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):Bg(e)(e,t)}const Hw=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ne.update(t,n),stop:()=>ur(t),now:()=>Ze.isProcessing?Ze.timestamp:dn.now()}},Wb=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Qf=2e4;function zg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Qf;)t+=n,s=e.next(t);return t>=Qf?1/0:t}function qw(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(zg(s),Qf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Qn(a)}}const Gw=5;function t1(e,t,n){const s=Math.max(t-Gw,0);return Ib(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zp=.001;function $w({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=Gi(me.minDamping,me.maxDamping,c),e=Gi(me.minDuration,me.maxDuration,Qn(e)),c<1?(a=m=>{const y=m*c,v=y*e,E=y-n,C=xm(m,c),w=Math.exp(-v);return Zp-E/C*w},l=m=>{const v=m*c*e,E=v*n+n,C=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-v),O=xm(Math.pow(m,2),c);return(-a(m)+Zp>0?-1:1)*((E-C)*w)/O}):(a=m=>{const y=Math.exp(-m*e),v=(m-n)*e+1;return-Zp+y*v},l=m=>{const y=Math.exp(-m*e),v=(n-m)*(e*e);return y*v});const h=5/e,p=Yw(a,l,h);if(e=di(e),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const m=Math.pow(p,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:e}}}const Kw=12;function Yw(e,t,n){let s=n;for(let a=1;a<Kw;a++)s=s-e(s)/t(s);return s}function xm(e,t){return e*Math.sqrt(1-t*t)}const Qw=["duration","bounce"],Xw=["stiffness","damping","mass"];function IT(e,t){return t.some(n=>e[n]!==void 0)}function Jw(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!IT(e,Xw)&&IT(e,Qw))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Gi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=$w(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Xf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:v,velocity:E,isResolvedFromDuration:C}=Jw({...n,velocity:-Qn(n.velocity||0)}),w=E||0,O=m/(2*Math.sqrt(p*y)),L=c-l,H=Qn(Math.sqrt(p/y)),$=Math.abs(L)<5;s||(s=$?me.restSpeed.granular:me.restSpeed.default),a||(a=$?me.restDelta.granular:me.restDelta.default);let j;if(O<1){const W=xm(H,O);j=at=>{const D=Math.exp(-O*H*at);return c-D*((w+O*H*L)/W*Math.sin(W*at)+L*Math.cos(W*at))}}else if(O===1)j=W=>c-Math.exp(-H*W)*(L+(w+H*L)*W);else{const W=H*Math.sqrt(O*O-1);j=at=>{const D=Math.exp(-O*H*at),R=Math.min(W*at,300);return c-D*((w+O*H*L)*Math.sinh(R)+W*L*Math.cosh(R))/W}}const nt={calculatedDuration:C&&v||null,next:W=>{const at=j(W);if(C)h.done=W>=v;else{let D=W===0?w:0;O<1&&(D=W===0?di(w):t1(j,W,at));const R=Math.abs(D)<=s,x=Math.abs(c-at)<=a;h.done=R&&x}return h.value=h.done?c:at,h},toString:()=>{const W=Math.min(zg(nt),Qf),at=Wb(D=>nt.next(W*D).value,W,30);return W+"ms "+at},toTransition:()=>{}};return nt}Xf.applyToOptions=e=>{const t=qw(e,100,Xf);return e.ease=t.ease,e.duration=di(t.duration),e.type="keyframes",e};function Dm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const v=e[0],E={done:!1,value:v},C=R=>h!==void 0&&R<h||p!==void 0&&R>p,w=R=>h===void 0?p:p===void 0||Math.abs(h-R)<Math.abs(p-R)?h:p;let O=n*t;const L=v+O,H=c===void 0?L:c(L);H!==L&&(O=H-v);const $=R=>-O*Math.exp(-R/s),j=R=>H+$(R),nt=R=>{const x=$(R),I=j(R);E.done=Math.abs(x)<=m,E.value=E.done?H:I};let W,at;const D=R=>{C(E.value)&&(W=R,at=Xf({keyframes:[E.value,w(E.value)],velocity:t1(j,R,E.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return D(0),{calculatedDuration:null,next:R=>{let x=!1;return!at&&W===void 0&&(x=!0,nt(R),D(R)),W!==void 0&&R>=W?at.next(R-W):(!x&&nt(R),E)}}}function Zw(e,t,n){const s=[],a=n||gs.mix||Zb,l=e.length-1;for(let c=0;c<l;c++){let h=a(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Xn:t;h=wu(p,h)}s.push(h)}return s}function Ww(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Vg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=Zw(t,s,a),p=h.length,m=y=>{if(c&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const E=fu(e[v],e[v+1],y);return h[v](E)};return n?y=>m(Gi(e[0],e[l-1],y)):m}function tM(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=fu(0,t,s);e.push(ce(n,1,a))}}function eM(e){const t=[0];return tM(t,e.length-1),t}function nM(e,t){return e.map(n=>n*t)}function iM(e,t){return e.map(()=>t||jb).splice(0,e.length-1)}function nu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=pw(s)?s.map(RT):RT(s),l={done:!1,value:t[0]},c=nM(n&&n.length===t.length?n:eM(t),e),h=Ww(c,t,{ease:Array.isArray(a)?a:iM(t,a)});return{calculatedDuration:e,next:p=>(l.value=h(p),l.done=p>=e,l)}}const sM=e=>e!==null;function jg(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(sM),h=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const rM={decay:Dm,inertia:Dm,tween:nu,keyframes:nu,spring:Xf};function e1(e){typeof e.type=="string"&&(e.type=rM[e.type])}class Fg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const aM=e=>e/100;class Hg extends Fg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;e1(t);const{type:n=nu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const p=n||nu;p!==nu&&typeof h[0]!="number"&&(this.mixKeyframes=wu(aM,Zb(h[0],h[1])),h=[0,100]);const m=p({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=zg(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:C,type:w,onUpdate:O,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const H=this.currentTime-m*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,nt=s;if(v){const R=Math.min(this.currentTime,a)/h;let x=Math.floor(R),I=R%1;!I&&R>=1&&(I=1),I===1&&x--,x=Math.min(x,v+1),x%2&&(E==="reverse"?(I=1-I,C&&(I-=C/h)):E==="mirror"&&(nt=c)),j=Gi(0,1,I)*h}const W=$?{done:!1,value:y[0]}:nt.next(j);l&&(W.value=l(W.value));let{done:at}=W;!$&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return D&&w!==Dm&&(W.value=jg(y,this.options,L,this.speed)),O&&O(W.value),D&&this.finish(),W}then(t,n){return this.finished.then(t,n)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=di(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Hw,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function oM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wr=e=>e*180/Math.PI,wm=e=>{const t=Wr(Math.atan2(e[1],e[0]));return Mm(t)},lM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:wm,rotateZ:wm,skewX:e=>Wr(Math.atan(e[1])),skewY:e=>Wr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mm=e=>(e=e%360,e<0&&(e+=360),e),PT=wm,OT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),NT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),uM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OT,scaleY:NT,scale:e=>(OT(e)+NT(e))/2,rotateX:e=>Mm(Wr(Math.atan2(e[6],e[5]))),rotateY:e=>Mm(Wr(Math.atan2(-e[2],e[0]))),rotateZ:PT,rotate:PT,skewX:e=>Wr(Math.atan(e[4])),skewY:e=>Wr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vm(e){return e.includes("scale")?1:0}function Im(e,t){if(!e||e==="none")return Vm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=uM,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=lM,a=h}if(!a)return Vm(t);const l=s[t],c=a[1].split(",").map(fM);return typeof l=="function"?l(c):c[l]}const cM=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Im(n,t)};function fM(e){return parseFloat(e.trim())}const Io=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(Io),kT=e=>e===Vo||e===pt,hM=new Set(["x","y","z"]),dM=Io.filter(e=>!hM.has(e));function pM(e){const t=[];return dM.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const er={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Im(t,"x"),y:(e,{transform:t})=>Im(t,"y")};er.translateX=er.x;er.translateY=er.y;const ea=new Set;let Pm=!1,Om=!1,Nm=!1;function n1(){if(Om){const e=Array.from(ea).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=pM(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Om=!1,Pm=!1,ea.forEach(e=>e.complete(Nm)),ea.clear()}function i1(){ea.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Om=!0)})}function mM(){Nm=!0,i1(),n1(),Nm=!1}class qg{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),Pm||(Pm=!0,ne.read(i1),ne.resolveKeyframes(n1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}oM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gM=e=>e.startsWith("--");function yM(e,t,n){gM(t)?e.style.setProperty(t,n):e.style[t]=n}const vM=Ig(()=>window.ScrollTimeline!==void 0),_M={};function TM(e,t){const n=Ig(e);return()=>_M[t]??n()}const s1=TM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ql=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,LT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ql([0,.65,.55,1]),circOut:Ql([.55,0,1,.45]),backIn:Ql([.31,.01,.66,-.59]),backOut:Ql([.33,1.53,.69,.99])};function r1(e,t){if(e)return typeof e=="function"?s1()?Wb(e,t):"ease-out":Fb(e)?Ql(e):Array.isArray(e)?e.map(n=>r1(n,t)||LT.easeOut):LT[e]}function EM(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:p}={},m=void 0){const y={[t]:n};p&&(y.offset=p);const v=r1(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),e.animate(y,E)}function a1(e){return typeof e=="function"&&"applyToOptions"in e}function SM({type:e,...t}){return a1(e)&&s1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class o1 extends Fg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Vg(typeof t.type!="string");const m=SM(t);this.animation=EM(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=jg(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):yM(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=di(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&vM()?(this.animation.timeline=t,Xn):n(this)}}const l1={anticipate:Ub,backInOut:Lb,circInOut:zb};function bM(e){return e in l1}function CM(e){typeof e.ease=="string"&&bM(e.ease)&&(e.ease=l1[e.ease])}const Wp=10;class AM extends o1{constructor(t){CM(t),e1(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new Hg({...c,autoplay:!1}),p=Math.max(Wp,dn.now()-this.startTime),m=Gi(0,Wp,p-Wp);n.setWithVelocity(h.sample(Math.max(0,p-m)).value,h.sample(p).value,m),h.stop()}}const UT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cr.test(e)||e==="0")&&!e.startsWith("url("));function RM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xM(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=UT(a,t),h=UT(l,t);return!c||!h?!1:RM(e)||(n==="spring"||a1(n))&&s}function km(e){e.duration=0,e.type="keyframes"}const DM=new Set(["opacity","clipPath","filter","transform"]),wM=Ig(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MM(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return wM()&&n&&DM.has(n)&&(n!=="transform"||!m)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const VM=40;class IM extends Fg{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:p,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=dn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:m,element:y,...v},C=y?.KeyframeResolver||qg;this.keyframeResolver=new C(h,(w,O,L)=>this.onKeyframesResolved(w,O,E,!L),p,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:p,isHandoff:m,onUpdate:y}=s;this.resolvedAt=dn.now(),xM(t,l,c,h)||((gs.instantAnimations||!p)&&y?.(jg(t,s,n)),t[0]=t[t.length-1],km(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>VM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!m&&MM(E),w=E.motionValue?.owner?.current,O=C?new AM({...E,element:w}):new Hg(E);O.finished.then(()=>{this.notifyFinished()}).catch(Xn),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function u1(e,t,n,s=0,a=1){const l=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),c=e.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const PM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OM(e){const t=PM.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function c1(e,t,n=1){const[s,a]=OM(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return wb(c)?parseFloat(c):c}return kg(a)?c1(a,t,n+1):a}const NM={type:"spring",stiffness:500,damping:25,restSpeed:10},kM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LM={type:"keyframes",duration:.8},UM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BM=(e,{keyframes:t})=>t.length>2?LM:Po.has(e)?e.startsWith("scale")?kM(t[1]):NM:UM,zM=e=>e!==null;function jM(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(zM),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function f1(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Gg(e,t){const n=e?.[t]??e?.default??e;return n!==e?f1(n,e):n}function FM({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const $g=(e,t,n,s={},a,l)=>c=>{const h=Gg(s,e)||{},p=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-di(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:a};FM(h)||Object.assign(y,BM(e,y)),y.duration&&(y.duration=di(y.duration)),y.repeatDelay&&(y.repeatDelay=di(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(km(y),y.delay===0&&(v=!0)),(gs.instantAnimations||gs.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,km(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=jM(y.keyframes,h);if(E!==void 0){ne.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new Hg(y):new IM(y)};function BT(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Kg(e,t,n,s){if(typeof t=="function"){const[a,l]=BT(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=BT(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function go(e,t,n){const s=e.getProps();return Kg(s,t,n!==void 0?n:s.custom,e)}const h1=new Set(["width","height","top","left","right","bottom",...Io]),zT=30,HM=e=>!isNaN(parseFloat(e));class qM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=HM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Pg);const s=this.events[t].add(n);return t==="change"?()=>{s(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(e,t){return new qM(e,t)}const Lm=e=>Array.isArray(e);function GM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bo(n))}function $M(e){return Lm(e)?e[e.length-1]||0:e}function KM(e,t){const n=go(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=$M(l[c]);GM(e,c,h)}}const ln=e=>!!(e&&e.getVelocity);function YM(e){return!!(ln(e)&&e.add)}function Um(e,t){const n=e.getValue("willChange");if(YM(n))return n.add(t);if(!n&&gs.WillChange){const s=new gs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Yg(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const QM="framerAppearId",d1="data-"+Yg(QM);function p1(e){return e.props[d1]}function XM({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function m1(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...h}=t;const p=e.getDefaultTransition();l=l?f1(l,p):p;const m=l?.reduceMotion;s&&(l=s);const y=[],v=a&&e.animationState&&e.animationState.getState()[a];for(const E in h){const C=e.getValue(E,e.latestValues[E]??null),w=h[E];if(w===void 0||v&&XM(v,E))continue;const O={delay:n,...Gg(l||{},E)},L=C.get();if(L!==void 0&&!C.isAnimating&&!Array.isArray(w)&&w===L&&!O.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const nt=p1(e);if(nt){const W=window.MotionHandoffAnimation(nt,E,ne);W!==null&&(O.startTime=W,H=!0)}}Um(e,E);const $=m??e.shouldReduceMotion;C.start($g(E,C,w,$&&h1.has(E)?{type:!1}:O,e,H));const j=C.animation;j&&y.push(j)}if(c){const E=()=>ne.update(()=>{c&&KM(e,c)});y.length?Promise.all(y).then(E):E()}return y}function Bm(e,t,n={}){const s=go(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(m1(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return JM(e,t,p,m,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,m]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function JM(e,t,n=0,s=0,a=0,l=1,c){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(Bm(p,t,{...c,delay:n+(typeof s=="function"?0:s)+u1(e.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function ZM(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Bm(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Bm(e,t,n);else{const a=typeof t=="function"?go(e,t,n.custom):t;s=Promise.all(m1(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const WM={test:e=>e==="auto",parse:e=>e},g1=e=>t=>t.test(e),y1=[Vo,pt,zi,tr,xw,Rw,WM],jT=e=>y1.find(g1(e));function tV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Vb(e):!0}const eV=new Set(["brightness","contrast","saturate","opacity"]);function nV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Lg)||[];if(!s)return e;const a=n.replace(s,"");let l=eV.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const iV=/\b([a-z-]*)\(.*?\)/gu,zm={...cr,getAnimatableNone:e=>{const t=e.match(iV);return t?t.map(nV).join(" "):e}},FT={...Vo,transform:Math.round},sV={rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:tr,skewX:tr,skewY:tr,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:hu,originX:DT,originY:DT,originZ:pt},Qg={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...sV,zIndex:FT,fillOpacity:hu,strokeOpacity:hu,numOctaves:FT},rV={...Qg,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:zm,WebkitFilter:zm},v1=e=>rV[e];function _1(e,t){let n=v1(e);return n!==zm&&(n=cr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aV=new Set(["auto","none","0"]);function oV(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!aV.has(l)&&du(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=_1(n,a)}class lV extends qg{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),kg(v))){const E=c1(v,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!h1.has(s)||t.length!==2)return;const[a,l]=t,c=jT(a),h=jT(l),p=xT(a),m=xT(l);if(p!==m&&er[s]){this.needsMeasurement=!0;return}if(c!==h)if(kT(c)&&kT(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else er[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||tV(t[a]))&&s.push(a);s.length&&oV(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=er[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=er[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const uV=new Set(["opacity","clipPath","filter","transform"]);function T1(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const E1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function jm(e){return Mb(e)&&"offsetHeight"in e}const{schedule:Xg}=Hb(queueMicrotask,!1),fi={x:!1,y:!1};function S1(){return fi.x||fi.y}function cV(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function b1(e,t){const n=T1(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function fV(e){return!(e.pointerType==="touch"||S1())}function hV(e,t,n={}){const[s,a,l]=b1(e,n);return s.forEach(c=>{let h=!1,p=!1,m;const y=()=>{c.removeEventListener("pointerleave",w)},v=L=>{m&&(m(L),m=void 0),y()},E=L=>{h=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),p&&(p=!1,v(L))},C=()=>{h=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},w=L=>{if(L.pointerType!=="touch"){if(h){p=!0;return}v(L)}},O=L=>{if(!fV(L))return;p=!1;const H=t(c,L);typeof H=="function"&&(m=H,c.addEventListener("pointerleave",w,a))};c.addEventListener("pointerenter",O,a),c.addEventListener("pointerdown",C,a)}),l}const C1=(e,t)=>t?e===t?!0:C1(e,t.parentElement):!1,Jg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pV(e){return dV.has(e.tagName)||e.isContentEditable===!0}const mV=new Set(["INPUT","SELECT","TEXTAREA"]);function gV(e){return mV.has(e.tagName)||e.isContentEditable===!0}const Df=new WeakSet;function HT(e){return t=>{t.key==="Enter"&&e(t)}}function tm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yV=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=HT(()=>{if(Df.has(n))return;tm(n,"down");const a=HT(()=>{tm(n,"up")}),l=()=>tm(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function qT(e){return Jg(e)&&!S1()}const GT=new WeakSet;function vV(e,t,n={}){const[s,a,l]=b1(e,n),c=h=>{const p=h.currentTarget;if(!qT(h)||GT.has(h))return;Df.add(p),n.stopPropagation&&GT.add(h);const m=t(p,h),y=(C,w)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Df.has(p)&&Df.delete(p),qT(C)&&typeof m=="function"&&m(C,{success:w})},v=C=>{y(C,p===window||p===document||n.useGlobalTarget||C1(p,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),jm(h)&&(h.addEventListener("focus",m=>yV(m,a)),!pV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Zg(e){return Mb(e)&&"ownerSVGElement"in e}const wf=new WeakMap;let Mf;const A1=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:Zg(s)&&"getBBox"in s?s.getBBox()[t]:s[n],_V=A1("inline","width","offsetWidth"),TV=A1("block","height","offsetHeight");function EV({target:e,borderBoxSize:t}){wf.get(e)?.forEach(n=>{n(e,{get width(){return _V(e,t)},get height(){return TV(e,t)}})})}function SV(e){e.forEach(EV)}function bV(){typeof ResizeObserver>"u"||(Mf=new ResizeObserver(SV))}function CV(e,t){Mf||bV();const n=T1(e);return n.forEach(s=>{let a=wf.get(s);a||(a=new Set,wf.set(s,a)),a.add(t),Mf?.observe(s)}),()=>{n.forEach(s=>{const a=wf.get(s);a?.delete(t),a?.size||Mf?.unobserve(s)})}}const Vf=new Set;let fo;function AV(){fo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Vf.forEach(t=>t(e))},window.addEventListener("resize",fo)}function RV(e){return Vf.add(e),fo||AV(),()=>{Vf.delete(e),!Vf.size&&typeof fo=="function"&&(window.removeEventListener("resize",fo),fo=void 0)}}function $T(e,t){return typeof e=="function"?RV(e):CV(e,t)}function xV(e){return Zg(e)&&e.tagName==="svg"}const DV=[...y1,Ie,cr],wV=e=>DV.find(g1(e)),KT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:KT(),y:KT()}),YT=()=>({min:0,max:0}),Le=()=>({x:YT(),y:YT()}),MV=new WeakMap;function bh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const Wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ty=["initial",...Wg];function Ch(e){return bh(e.animate)||ty.some(t=>pu(e[t]))}function R1(e){return!!(Ch(e)||e.variants)}function VV(e,t,n){for(const s in t){const a=t[s],l=n[s];if(ln(a))e.addValue(s,a);else if(ln(l))e.addValue(s,bo(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,bo(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Fm={current:null},x1={current:!1},IV=typeof window<"u";function PV(){if(x1.current=!0,!!IV)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fm.current=e.matches;e.addEventListener("change",t),t()}else Fm.current=!1}const QT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Jf={};function D1(e){Jf=e}function OV(){return Jf}class NV{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=qg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=dn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ne.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=Ch(n),this.isVariantNode=R1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in E){const w=E[C];m[C]!==void 0&&ln(w)&&w.set(m[C])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,MV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(x1.current||PV(),this.shouldReduceMotion=Fm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&uV.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:p,ease:m,duration:y}=n.accelerate,v=new o1({element:this.current,name:t,keyframes:h,times:p,ease:m,duration:di(y)}),E=c(v);this.valueSubscriptions.set(t,()=>{E(),v.cancel()});return}const s=Po.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ne.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jf){const n=Jf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<QT.length;s++){const a=QT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=VV(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=bo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(wb(s)||Vb(s))?s=parseFloat(s):!wV(s)&&cr.test(n)&&(s=_1(t,n)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Kg(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Pg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Xg.render(this.render)}}class w1 extends NV{constructor(){super(...arguments),this.KeyframeResolver=lV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function M1({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function kV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function em(e){return e===void 0||e===1}function Hm({scale:e,scaleX:t,scaleY:n}){return!em(e)||!em(t)||!em(n)}function Xr(e){return Hm(e)||V1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function V1(e){return XT(e.x)||XT(e.y)}function XT(e){return e&&e!=="0%"}function Zf(e,t,n){const s=e-n,a=t*s;return n+a}function JT(e,t,n,s,a){return a!==void 0&&(e=Zf(e,a,s)),Zf(e,n,s)+t}function qm(e,t=0,n=1,s,a){e.min=JT(e.min,t,n,s,a),e.max=JT(e.max,t,n,s,a)}function I1(e,{x:t,y:n}){qm(e.x,t.translate,t.scale,t.originPoint),qm(e.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,WT=1.0000000000001;function UV(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&mo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,I1(e,c)),s&&Xr(l.latestValues)&&mo(e,l.latestValues))}t.x<WT&&t.x>ZT&&(t.x=1),t.y<WT&&t.y>ZT&&(t.y=1)}function po(e,t){e.min=e.min+t,e.max=e.max+t}function tE(e,t,n,s,a=.5){const l=ce(e.min,e.max,a);qm(e,t,n,l,s)}function mo(e,t){tE(e.x,t.x,t.scaleX,t.scale,t.originX),tE(e.y,t.y,t.scaleY,t.scale,t.originY)}function P1(e,t){return M1(LV(e.getBoundingClientRect(),t))}function BV(e,t,n){const s=P1(e,n),{scroll:a}=t;return a&&(po(s.x,a.offset.x),po(s.y,a.offset.y)),s}const zV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jV=Io.length;function FV(e,t,n){let s="",a=!0;for(let l=0;l<jV;l++){const c=Io[l],h=e[c];if(h===void 0)continue;let p=!0;if(typeof h=="number")p=h===(c.startsWith("scale")?1:0);else{const m=parseFloat(h);p=c.startsWith("scale")?m===1:m===0}if(!p||n){const m=E1(h,Qg[c]);if(!p){a=!1;const y=zV[c]||c;s+=`${y}(${m}) `}n&&(t[c]=m)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function ey(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,h=!1;for(const p in t){const m=t[p];if(Po.has(p)){c=!0;continue}else if(Gb(p)){a[p]=m;continue}else{const y=E1(m,Qg[p]);p.startsWith("origin")?(h=!0,l[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=FV(t,e.transform,n):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${m} ${y}`}}function O1(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function eE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $l={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=eE(e,t.target.x),s=eE(e,t.target.y);return`${n}% ${s}%`}},HV={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=cr.parse(e);if(a.length>5)return s;const l=cr.createTransformer(e),c=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,p=n.y.scale*t.y;a[0+c]/=h,a[1+c]/=p;const m=ce(h,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Gm={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:HV};function N1(e,{layout:t,layoutId:n}){return Po.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gm[e]||e==="opacity")}function ny(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(ln(s[c])||a&&ln(a[c])||N1(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function qV(e){return window.getComputedStyle(e)}class GV extends w1{constructor(){super(...arguments),this.type="html",this.renderInstance=O1}readValueFromInstance(t,n){if(Po.has(n))return this.projection?.isProjecting?Vm(n):cM(t,n);{const s=qV(t),a=(Gb(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return P1(t,n)}build(t,n,s){ey(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ny(t,n,s)}}const $V={offset:"stroke-dashoffset",array:"stroke-dasharray"},KV={offset:"strokeDashoffset",array:"strokeDasharray"};function YV(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?$V:KV;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const QV=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function k1(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},p,m,y){if(ey(e,h,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:E}=e;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const C of QV)v[C]!==void 0&&(E[C]=v[C],delete v[C]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&YV(v,a,l,c,!1)}const L1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),U1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function XV(e,t,n,s){O1(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(L1.has(a)?a:Yg(a),t.attrs[a])}function B1(e,t,n){const s=ny(e,t,n);for(const a in e)if(ln(e[a])||ln(t[a])){const l=Io.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class JV extends w1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Po.has(n)){const s=v1(n);return s&&s.default||0}return n=L1.has(n)?n:Yg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return B1(t,n,s)}build(t,n,s){k1(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){XV(t,n,s,a)}mount(t){this.isSVGTag=U1(t.tagName),super.mount(t)}}const ZV=ty.length;function z1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?z1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ZV;n++){const s=ty[n],a=e.props[s];(pu(a)||a===!1)&&(t[s]=a)}return t}function j1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const WV=[...Wg].reverse(),tI=Wg.length;function eI(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ZM(e,n,s)))}function nI(e){let t=eI(e),n=nE(),s=!0;const a=p=>(m,y)=>{const v=go(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:C,...w}=v;m={...m,...w,...C}}return m};function l(p){t=p(e)}function c(p){const{props:m}=e,y=z1(e.parent)||{},v=[],E=new Set;let C={},w=1/0;for(let L=0;L<tI;L++){const H=WV[L],$=n[H],j=m[H]!==void 0?m[H]:y[H],nt=pu(j),W=H===p?$.isActive:null;W===!1&&(w=L);let at=j===y[H]&&j!==m[H]&&nt;if(at&&s&&e.manuallyAnimateOnMount&&(at=!1),$.protectedKeys={...C},!$.isActive&&W===null||!j&&!$.prevProp||bh(j)||typeof j=="boolean")continue;if(H==="exit"&&$.isActive&&W!==!0){$.prevResolvedValues&&(C={...C,...$.prevResolvedValues});continue}const D=iI($.prevProp,j);let R=D||H===p&&$.isActive&&!at&&nt||L>w&&nt,x=!1;const I=Array.isArray(j)?j:[j];let P=I.reduce(a(H),{});W===!1&&(P={});const{prevResolvedValues:B={}}=$,M={...B,...P},te=ot=>{R=!0,E.has(ot)&&(x=!0,E.delete(ot)),$.needsAnimating[ot]=!0;const ht=e.getValue(ot);ht&&(ht.liveStyle=!1)};for(const ot in M){const ht=P[ot],Dt=B[ot];if(C.hasOwnProperty(ot))continue;let Pt=!1;Lm(ht)&&Lm(Dt)?Pt=!j1(ht,Dt):Pt=ht!==Dt,Pt?ht!=null?te(ot):E.add(ot):ht!==void 0&&E.has(ot)?te(ot):$.protectedKeys[ot]=!0}$.prevProp=j,$.prevResolvedValues=P,$.isActive&&(C={...C,...P}),s&&e.blockInitialAnimation&&(R=!1);const he=at&&D;R&&(!he||x)&&v.push(...I.map(ot=>{const ht={type:H};if(typeof ot=="string"&&s&&!he&&e.manuallyAnimateOnMount&&e.parent){const{parent:Dt}=e,Pt=go(Dt,ot);if(Dt.enteringChildren&&Pt){const{delayChildren:U}=Pt.transition||{};ht.delay=u1(Dt.enteringChildren,e,U)}}return{animation:ot,options:ht}}))}if(E.size){const L={};if(typeof m.initial!="boolean"){const H=go(e,Array.isArray(m.initial)?m.initial[0]:m.initial);H&&H.transition&&(L.transition=H.transition)}E.forEach(H=>{const $=e.getBaseTarget(H),j=e.getValue(H);j&&(j.liveStyle=!0),L[H]=$??null}),v.push({animation:L})}let O=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(O=!1),s=!1,O?t(v):Promise.resolve()}function h(p,m){if(n[p].isActive===m)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,m)),n[p].isActive=m;const y=c(p);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=nE()}}}function iI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!j1(t,e):!1}function Qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nE(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}function iE(e,t){e.min=t.min,e.max=t.max}function ci(e,t){iE(e.x,t.x),iE(e.y,t.y)}function sE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const F1=1e-4,sI=1-F1,rI=1+F1,H1=.01,aI=0-H1,oI=0+H1;function pn(e){return e.max-e.min}function lI(e,t,n){return Math.abs(e-t)<=n}function rE(e,t,n,s=.5){e.origin=s,e.originPoint=ce(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sI&&e.scale<=rI||isNaN(e.scale))&&(e.scale=1),(e.translate>=aI&&e.translate<=oI||isNaN(e.translate))&&(e.translate=0)}function iu(e,t,n,s){rE(e.x,t.x,n.x,s?s.originX:void 0),rE(e.y,t.y,n.y,s?s.originY:void 0)}function aE(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function uI(e,t,n){aE(e.x,t.x,n.x),aE(e.y,t.y,n.y)}function oE(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Wf(e,t,n){oE(e.x,t.x,n.x),oE(e.y,t.y,n.y)}function lE(e,t,n,s,a){return e-=t,e=Zf(e,1/n,s),a!==void 0&&(e=Zf(e,1/a,s)),e}function cI(e,t=0,n=1,s=.5,a,l=e,c=e){if(zi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=ce(l.min,l.max,s);e===l&&(h-=t),e.min=lE(e.min,t,n,h,a),e.max=lE(e.max,t,n,h,a)}function uE(e,t,[n,s,a],l,c){cI(e,t[n],t[s],t[a],t.scale,l,c)}const fI=["x","scaleX","originX"],hI=["y","scaleY","originY"];function cE(e,t,n,s){uE(e.x,t,fI,n?n.x:void 0,s?s.x:void 0),uE(e.y,t,hI,n?n.y:void 0,s?s.y:void 0)}function fE(e){return e.translate===0&&e.scale===1}function q1(e){return fE(e.x)&&fE(e.y)}function hE(e,t){return e.min===t.min&&e.max===t.max}function dI(e,t){return hE(e.x,t.x)&&hE(e.y,t.y)}function dE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function G1(e,t){return dE(e.x,t.x)&&dE(e.y,t.y)}function pE(e){return pn(e.x)/pn(e.y)}function mE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ui(e){return[e("x"),e("y")]}function pI(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:E,skewX:C,skewY:w}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),w&&(s+=`skewY(${w}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(s+=`scale(${h}, ${p})`),s||"none"}const $1=["TopLeft","TopRight","BottomLeft","BottomRight"],mI=$1.length,gE=e=>typeof e=="string"?parseFloat(e):e,yE=e=>typeof e=="number"||pt.test(e);function gI(e,t,n,s,a,l){a?(e.opacity=ce(0,n.opacity??1,yI(s)),e.opacityExit=ce(t.opacity??1,0,vI(s))):l&&(e.opacity=ce(t.opacity??1,n.opacity??1,s));for(let c=0;c<mI;c++){const h=`border${$1[c]}Radius`;let p=vE(t,h),m=vE(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||yE(p)===yE(m)?(e[h]=Math.max(ce(gE(p),gE(m),s),0),(zi.test(m)||zi.test(p))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,s))}function vE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yI=K1(0,.5,Bb),vI=K1(.5,.95,Xn);function K1(e,t,n){return s=>s<e?0:s>t?1:n(fu(e,t,s))}function _I(e,t,n){const s=ln(e)?e:bo(e);return s.start($g("",s,t,n)),s.animation}function mu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const TI=(e,t)=>e.depth-t.depth;class EI{constructor(){this.children=[],this.isDirty=!1}add(t){Mg(this.children,t),this.isDirty=!0}remove(t){Kf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TI),this.isDirty=!1,this.children.forEach(t)}}function SI(e,t){const n=dn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(ur(s),e(l-t))};return ne.setup(s,!0),()=>ur(s)}function If(e){return ln(e)?e.get():e}class bI{constructor(){this.members=[]}add(t){Mg(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Kf(this.members,s)}t.scheduleRender()}remove(t){if(Kf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const p=s.instance;p&&p.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:h}=t.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},nm=["","X","Y","Z"],CI=1e3;let AI=0;function im(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Y1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=p1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ne,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Y1(s)}function Q1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=t?.()){this.id=AI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DI),this.nodes.forEach(II),this.nodes.forEach(PI),this.nodes.forEach(wI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new EI)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Pg),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Zg(c)&&!xV(c),this.instance=c;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ne.read(()=>{v=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=SI(E,250),Pf.hasAnimatedSinceResize&&(Pf.hasAnimatedSinceResize=!1,this.nodes.forEach(EE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||UI,{onLayoutAnimationStart:O,onLayoutAnimationComplete:L}=m.getProps(),H=!this.targetLayout||!G1(this.targetLayout,C),$=!v&&E;if(this.options.layoutRoot||this.resumeFrom||$||v&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Gg(w,"layout"),onPlay:O,onComplete:L};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,$)}else v||EE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OI),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_E);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VI),this.nodes.forEach(RI),this.nodes.forEach(xI)):this.nodes.forEach(TE),this.clearAllSnapshots();const h=dn.now();Ze.delta=Gi(0,1e3/60,h-Ze.timestamp),Ze.timestamp=h,Ze.isProcessing=!0,Yp.update.process(Ze),Yp.preRender.process(Ze),Yp.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MI),this.sharedNodes.forEach(NI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!q1(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Xr(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),BI(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Le();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zI))){const{scroll:m}=this.root;m&&(po(h.x,m.offset.x),po(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Le();if(ci(h,c),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ci(h,c),po(h.x,y.offset.x),po(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const p=Le();ci(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&mo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Xr(y.latestValues)&&mo(p,y.latestValues)}return Xr(this.latestValues)&&mo(p,this.latestValues),p}removeTransform(c){const h=Le();ci(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Xr(m.latestValues))continue;Hm(m.latestValues)&&m.updateSnapshot();const y=Le(),v=m.measurePageBox();ci(y,v),cE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Xr(this.latestValues)&&cE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Ze.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),I1(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hm(this.parent.latestValues)||V1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Wf(this.relativeTargetOrigin,h,p),ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;ci(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;UV(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sE(this.prevProjectionDelta.x,this.projectionDelta.x),sE(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!mE(this.projectionDelta.x,this.prevProjectionDelta.x)||!mE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},v=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Le(),C=p?p.source:void 0,w=this.layout?this.layout.source:void 0,O=C!==w,L=this.getStack(),H=!L||L.members.length<=1,$=!!(O&&!H&&this.options.crossfade===!0&&!this.path.some(LI));this.animationProgress=0;let j;this.mixTargetDelta=nt=>{const W=nt/1e3;SE(v.x,c.x,W),SE(v.y,c.y,W),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kI(this.relativeTarget,this.relativeTargetOrigin,E,W),j&&dI(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Le()),ci(j,this.relativeTarget)),O&&(this.animationValues=y,gI(y,m,this.latestValues,W,$,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Pf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bo(0)),this.currentAnimation=_I(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&X1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||Le();const v=pn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const E=pn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}ci(h,p),mo(h,y),iu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bI),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&im("z",c,m,this.animationValues);for(let y=0;y<nm.length;y++)im(`rotate${nm[y]}`,c,m,this.animationValues),im(`skew${nm[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=If(h?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=If(h?.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=pI(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),c.transform=v;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Gm){if(y[w]===void 0)continue;const{correct:O,applyTo:L,isCSSVariable:H}=Gm[w],$=v==="none"?y[w]:O(y[w],m);if(L){const j=L.length;for(let nt=0;nt<j;nt++)c[L[nt]]=$}else H?this.options.visualElement.renderState.vars[w]=$:c[w]=$}this.options.layoutId&&(c.pointerEvents=m===this?If(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(_E),this.root.sharedNodes.clear()}}}function RI(e){e.updateLayout()}function xI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Ui(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=pn(v);v.min=n[y].min,v.max=v.min+E}):X1(a,t.layoutBox,n)&&Ui(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=pn(n[y]);v.max=v.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+E)});const c=ho();iu(c,n,t.layoutBox);const h=ho();l?iu(h,e.applyTransform(s,!0),t.measuredBox):iu(h,n,t.layoutBox);const p=!q1(c);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const C=Le();Wf(C,t.layoutBox,v.layoutBox);const w=Le();Wf(w,n,E.layoutBox),G1(C,w)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function DI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MI(e){e.clearSnapshot()}function _E(e){e.clearMeasurements()}function TE(e){e.isLayoutDirty=!1}function VI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function EE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function II(e){e.resolveTargetDelta()}function PI(e){e.calcProjection()}function OI(e){e.resetSkewAndRotation()}function NI(e){e.removeLeadSnapshot()}function SE(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bE(e,t,n,s){e.min=ce(t.min,n.min,s),e.max=ce(t.max,n.max,s)}function kI(e,t,n,s){bE(e.x,t.x,n.x,s),bE(e.y,t.y,n.y,s)}function LI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const UI={duration:.45,ease:[.4,0,.1,1]},CE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),AE=CE("applewebkit/")&&!CE("chrome/")?Math.round:Xn;function RE(e){e.min=AE(e.min),e.max=AE(e.max)}function BI(e){RE(e.x),RE(e.y)}function X1(e,t,n){return e==="position"||e==="preserve-aspect"&&!lI(pE(t),pE(n),.2)}function zI(e){return e!==e.root&&e.scroll?.wasRoot}const jI=Q1({attachResizeListener:(e,t)=>mu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),sm={current:void 0},J1=Q1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sm.current){const e=new jI({});e.mount(window),e.setOptions({layoutScroll:!0}),sm.current=e}return sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),iy=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FI(...e){return t=>{let n=!1;const s=e.map(a=>{const l=xE(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():xE(e[a],null)}}}}function HI(...e){return k.useCallback(FI(...e),e)}class qI extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=jm(s)&&s.offsetWidth||0,l=jm(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function GI({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=k.useId(),h=k.useRef(null),p=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=k.useContext(iy),y=e.props?.ref??e?.ref,v=HI(h,y);return k.useInsertionEffect(()=>{const{width:E,height:C,top:w,left:O,right:L,bottom:H}=p.current;if(t||l===!1||!h.current||!E||!C)return;const $=n==="left"?`left: ${O}`:`right: ${L}`,j=s==="bottom"?`bottom: ${H}`:`top: ${w}`;h.current.dataset.motionPopId=c;const nt=document.createElement("style");m&&(nt.nonce=m);const W=a??document.head;return W.appendChild(nt),nt.sheet&&nt.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${C}px !important;
            ${$}px !important;
            ${j}px !important;
          }
        `),()=>{W.contains(nt)&&W.removeChild(nt)}},[t]),st.jsx(qI,{isPresent:t,childRef:h,sizeRef:p,pop:l,children:l===!1?e:k.cloneElement(e,{ref:v})})}const $I=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:p,root:m})=>{const y=wg(KI),v=k.useId();let E=!0,C=k.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:n,custom:a,onExitComplete:w=>{y.set(w,!0);for(const O of y.values())if(!O)return;s&&s()},register:w=>(y.set(w,!1),()=>y.delete(w))}),[n,y,s]);return l&&E&&(C={...C}),k.useMemo(()=>{y.forEach((w,O)=>y.set(O,!1))},[n]),k.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=st.jsx(GI,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:p,root:m,children:e}),st.jsx(Sh.Provider,{value:C,children:e})};function KI(){return new Map}function Z1(e=!0){const t=k.useContext(Sh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=k.useId();k.useEffect(()=>{if(e)return a(l)},[e]);const c=k.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const yf=e=>e.key||"";function DE(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const W1=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:p="top",root:m})=>{const[y,v]=Z1(c),E=k.useMemo(()=>DE(e),[e]),C=c&&!y?[]:E.map(yf),w=k.useRef(!0),O=k.useRef(E),L=wg(()=>new Map),H=k.useRef(new Set),[$,j]=k.useState(E),[nt,W]=k.useState(E);Db(()=>{w.current=!1,O.current=E;for(let R=0;R<nt.length;R++){const x=yf(nt[R]);C.includes(x)?(L.delete(x),H.current.delete(x)):L.get(x)!==!0&&L.set(x,!1)}},[nt,C.length,C.join("-")]);const at=[];if(E!==$){let R=[...E];for(let x=0;x<nt.length;x++){const I=nt[x],P=yf(I);C.includes(P)||(R.splice(x,0,I),at.push(I))}return l==="wait"&&at.length&&(R=at),W(DE(R)),j(E),null}const{forceRender:D}=k.useContext(Dg);return st.jsx(st.Fragment,{children:nt.map(R=>{const x=yf(R),I=c&&!y?!1:E===nt||C.includes(x),P=()=>{if(H.current.has(x))return;if(H.current.add(x),L.has(x))L.set(x,!0);else return;let B=!0;L.forEach(M=>{M||(B=!1)}),B&&(D?.(),W(O.current),c&&v?.(),s&&s())};return st.jsx($I,{isPresent:I,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:I?void 0:P,anchorX:h,anchorY:p,children:R},x)})})},tC=k.createContext({strict:!1}),wE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ME=!1;function YI(){if(ME)return;const e={};for(const t in wE)e[t]={isEnabled:n=>wE[t].some(s=>!!n[s])};D1(e),ME=!0}function eC(){return YI(),OV()}function QI(e){const t=eC();for(const n in e)t[n]={...t[n],...e[n]};D1(t)}const XI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function th(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XI.has(e)}let nC=e=>!th(e);function JI(e){typeof e=="function"&&(nC=t=>t.startsWith("on")?!th(t):e(t))}try{JI(require("@emotion/is-prop-valid").default)}catch{}function ZI(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(nC(a)||n===!0&&th(a)||!t&&!th(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Ah=k.createContext({});function WI(e,t){if(Ch(e)){const{initial:n,animate:s}=e;return{initial:n===!1||pu(n)?n:void 0,animate:pu(s)?s:void 0}}return e.inherit!==!1?t:{}}function t4(e){const{initial:t,animate:n}=WI(e,k.useContext(Ah));return k.useMemo(()=>({initial:t,animate:n}),[VE(t),VE(n)])}function VE(e){return Array.isArray(e)?e.join(" "):e}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iC(e,t,n){for(const s in t)!ln(t[s])&&!N1(s,n)&&(e[s]=t[s])}function e4({transformTemplate:e},t){return k.useMemo(()=>{const n=sy();return ey(n,t,e),Object.assign({},n.vars,n.style)},[t])}function n4(e,t){const n=e.style||{},s={};return iC(s,n,e),Object.assign(s,e4(e,t)),s}function i4(e,t){const n={},s=n4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const sC=()=>({...sy(),attrs:{}});function s4(e,t,n,s){const a=k.useMemo(()=>{const l=sC();return k1(l,t,U1(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};iC(l,e.style,e),a.style={...l,...a.style}}return a}const r4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ry(e){return typeof e!="string"||e.includes("-")?!1:!!(r4.indexOf(e)>-1||/[A-Z]/u.test(e))}function a4(e,t,n,{latestValues:s},a,l=!1,c){const p=(c??ry(e)?s4:i4)(t,s,a,e),m=ZI(t,typeof e=="string",l),y=e!==k.Fragment?{...m,...p,ref:n}:{},{children:v}=t,E=k.useMemo(()=>ln(v)?v.get():v,[v]);return k.createElement(e,{...y,children:E})}function o4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:l4(n,s,a,e),renderState:t()}}function l4(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=If(l[E]);let{initial:c,animate:h}=e;const p=Ch(e),m=R1(e);t&&m&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!bh(v)){const E=Array.isArray(v)?v:[v];for(let C=0;C<E.length;C++){const w=Kg(e,E[C]);if(w){const{transitionEnd:O,transition:L,...H}=w;for(const $ in H){let j=H[$];if(Array.isArray(j)){const nt=y?j.length-1:0;j=j[nt]}j!==null&&(a[$]=j)}for(const $ in O)a[$]=O[$]}}}return a}const rC=e=>(t,n)=>{const s=k.useContext(Ah),a=k.useContext(Sh),l=()=>o4(e,t,s,a);return n?l():wg(l)},u4=rC({scrapeMotionValuesFromProps:ny,createRenderState:sy}),c4=rC({scrapeMotionValuesFromProps:B1,createRenderState:sC}),f4=Symbol.for("motionComponentSymbol");function h4(e,t,n){const s=k.useRef(n);k.useInsertionEffect(()=>{s.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const aC=k.createContext({});function ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function d4(e,t,n,s,a,l){const{visualElement:c}=k.useContext(Ah),h=k.useContext(tC),p=k.useContext(Sh),m=k.useContext(iy),y=m.reducedMotion,v=m.skipAnimations,E=k.useRef(null),C=k.useRef(!1);s=s||h.renderer,!E.current&&s&&(E.current=s(e,{visualState:t,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),C.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const w=E.current,O=k.useContext(aC);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&p4(E.current,n,a,O);const L=k.useRef(!1);k.useInsertionEffect(()=>{w&&L.current&&w.update(n,p)});const H=n[d1],$=k.useRef(!!H&&!window.MotionHandoffIsComplete?.(H)&&window.MotionHasOptimisedAnimation?.(H));return Db(()=>{C.current=!0,w&&(L.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),$.current&&w.animationState&&w.animationState.animateChanges())}),k.useEffect(()=>{w&&(!$.current&&w.animationState&&w.animationState.animateChanges(),$.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(H)}),$.current=!1),w.enteringChildren=void 0)}),w}function p4(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&ro(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:m})}function oC(e){if(e)return e.options.allowProjection!==!1?e.projection:oC(e.parent)}function rm(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&QI(s);const l=n?n==="svg":ry(e),c=l?c4:u4;function h(m,y){let v;const E={...k.useContext(iy),...m,layoutId:m4(m)},{isStatic:C}=E,w=t4(m),O=c(m,C);if(!C&&xb){g4();const L=y4(E);v=L.MeasureLayout,w.visualElement=d4(e,O,E,a,L.ProjectionNode,l)}return st.jsxs(Ah.Provider,{value:w,children:[v&&w.visualElement?st.jsx(v,{visualElement:w.visualElement,...E}):null,a4(e,m,h4(O,w.visualElement,y),O,C,t,l)]})}h.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const p=k.forwardRef(h);return p[f4]=e,p}function m4({layoutId:e}){const t=k.useContext(Dg).id;return t&&e!==void 0?t+"-"+e:e}function g4(e,t){k.useContext(tC).strict}function y4(e){const t=eC(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function v4(e,t){if(typeof Proxy>"u")return rm;const n=new Map,s=(l,c)=>rm(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,rm(c,void 0,e,t)),n.get(c))})}const _4=(e,t)=>t.isSVG??ry(e)?new JV(t):new GV(t,{allowProjection:e!==k.Fragment});class T4 extends yr{constructor(t){super(t),t.animationState||(t.animationState=nI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let E4=0;class S4 extends yr{constructor(){super(...arguments),this.id=E4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const b4={animation:{Feature:T4},exit:{Feature:S4}};function Iu(e){return{point:{x:e.pageX,y:e.pageY}}}const C4=e=>t=>Jg(t)&&e(t,Iu(t));function su(e,t,n,s){return mu(e,t,C4(n),s)}const lC=({current:e})=>e?e.ownerDocument.defaultView:null,IE=(e,t)=>Math.abs(e-t);function A4(e,t){const n=IE(e.x,t.x),s=IE(e.y,t.y);return Math.sqrt(n**2+s**2)}const PE=new Set(["auto","scroll"]);class uC{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=om(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,O=A4(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!O)return;const{point:L}=C,{timestamp:H}=Ze;this.history.push({...L,timestamp:H});const{onStart:$,onMove:j}=this.handlers;w||($&&$(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,C)},this.handlePointerMove=(C,w)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=am(w,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(C,w)=>{this.end();const{onEnd:O,onSessionEnd:L,resumeAnimation:H}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=om(C.type==="pointercancel"?this.lastMoveEventInfo:am(w,this.transformPagePoint),this.history);this.startEvent&&O&&O(C,$),L&&L(C,$)},!Jg(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const p=Iu(t),m=am(p,this.transformPagePoint),{point:y}=m,{timestamp:v}=Ze;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=n;E&&E(t,om(m,this.history)),this.removeListeners=wu(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(PE.has(s.overflowX)||PE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ne.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ur(this.updatePoint)}}function am(e,t){return t?{point:t(e.point)}:e}function OE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function om({point:e},t){return{point:e,delta:OE(e,cC(t)),offset:OE(e,R4(t)),velocity:x4(t,.1)}}function R4(e){return e[0]}function cC(e){return e[e.length-1]}function x4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=cC(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>di(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>di(t)*2&&(s=e[1]);const l=Qn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function D4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ce(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ce(n,e,s.max):Math.min(e,n)),e}function NE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function w4(e,{top:t,left:n,bottom:s,right:a}){return{x:NE(e.x,n,a),y:NE(e.y,t,s)}}function kE(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function M4(e,t){return{x:kE(e.x,t.x),y:kE(e.y,t.y)}}function V4(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=fu(t.min,t.max-s,e.min):s>a&&(n=fu(e.min,e.max-a,t.min)),Gi(0,1,n)}function I4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $m=.35;function P4(e=$m){return e===!1?e=0:e===!0&&(e=$m),{x:LE(e,"left","right"),y:LE(e,"top","bottom")}}function LE(e,t,n){return{min:UE(e,t),max:UE(e,n)}}function UE(e,t){return typeof e=="number"?e:e[t]||0}const O4=new WeakMap;class N4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n&&this.snapToCursor(Iu(v).point),this.stopAnimation()},c=(v,E)=>{const{drag:C,dragPropagation:w,onDragStart:O}=this.getProps();if(C&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cV(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ui(H=>{let $=this.getAxisMotionValue(H).get()||0;if(zi.test($)){const{projection:j}=this.visualElement;if(j&&j.layout){const nt=j.layout.layoutBox[H];nt&&($=pn(nt)*(parseFloat($)/100))}}this.originPoint[H]=$}),O&&ne.update(()=>O(v,E),!1,!0),Um(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:w,onDirectionLock:O,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=E;if(w&&this.currentDirection===null){this.currentDirection=L4(H),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",E.point,H),this.updateAxis("y",E.point,H),this.visualElement.render(),L&&ne.update(()=>L(v,E),!1,!0)},p=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new uC(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:lC(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ne.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!vf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=D4(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ro(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=w4(s.layoutBox,t):this.constraints=!1,this.elastic=P4(n),a!==this.constraints&&!ro(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Ui(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=I4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ro(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=BV(s,a.root,this.visualElement.getTransformPagePoint());let c=M4(a.layout.layoutBox,l);if(n){const h=n(kV(c));this.hasMutatedConstraints=!!h,h&&(c=M1(h))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=Ui(y=>{if(!vf(y,n,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,w={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,w)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Um(this.visualElement,t),s.start($g(t,s,0,n,this.visualElement,!1))}stopAnimation(){Ui(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ui(n=>{const{drag:s}=this.getProps();if(!vf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],p=l.get()||0;l.set(t[n]-ce(c,h,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ro(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ui(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();a[c]=V4({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ui(c=>{if(!vf(c,t,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(ce(p,m,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;O4.set(this.visualElement,this);const t=this.visualElement.current,n=su(t,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps(),E=m.target,C=E!==t&&gV(E);y&&v&&!C&&this.start(m)});let s;const a=()=>{const{dragConstraints:m}=this.getProps();ro(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=k4(t,m.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ne.read(a);const h=mu(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Ui(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),p&&p(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=$m,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function BE(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function k4(e,t,n){const s=$T(e,BE(n)),a=$T(t,BE(n));return()=>{s(),a()}}function vf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function L4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class U4 extends yr{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new N4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const lm=e=>(t,n)=>{e&&ne.update(()=>e(t,n),!1,!0)};class B4 extends yr{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new uC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:lm(t),onStart:lm(n),onMove:lm(s),onEnd:(l,c)=>{delete this.session,a&&ne.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let um=!1;class z4 extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),um&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Pf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),um=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ne.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;um=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fC(e){const[t,n]=Z1(),s=k.useContext(Dg);return st.jsx(z4,{...e,layoutGroup:s,switchLayoutGroup:k.useContext(aC),isPresent:t,safeToRemove:n})}const j4={pan:{Feature:B4},drag:{Feature:U4,ProjectionNode:J1,MeasureLayout:fC}};function zE(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ne.postRender(()=>l(t,Iu(t)))}class F4 extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=hV(t,(n,s)=>(zE(this.node,s,"Start"),a=>zE(this.node,a,"End"))))}unmount(){}}class H4 extends yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jE(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ne.postRender(()=>l(t,Iu(t)))}class q4 extends yr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=vV(t,(a,l)=>(jE(this.node,l,"Start"),(c,{success:h})=>jE(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Km=new WeakMap,cm=new WeakMap,G4=e=>{const t=Km.get(e.target);t&&t(e)},$4=e=>{e.forEach(G4)};function K4({root:e,...t}){const n=e||document;cm.has(n)||cm.set(n,{});const s=cm.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver($4,{root:e,...t})),s[a]}function Y4(e,t,n){const s=K4(t);return Km.set(e,n),s.observe(e),()=>{Km.delete(e),s.unobserve(e)}}const Q4={some:0,all:1};class X4 extends yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Q4[a]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=m?y:v;E&&E(p)};return Y4(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(J4(t,n))&&this.startObserver()}unmount(){}}function J4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Z4={inView:{Feature:X4},tap:{Feature:q4},focus:{Feature:H4},hover:{Feature:F4}},W4={layout:{ProjectionNode:J1,MeasureLayout:fC}},tP={...b4,...Z4,...j4,...W4},eP=v4(tP,_4),nP=({onUnlock:e})=>st.jsxs("div",{style:{backgroundColor:"red",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",zIndex:99999},onClick:e,onTouchStart:e,children:[st.jsx("h1",{style:{fontSize:"40px",color:"white",fontWeight:"bold"},children:"DEBUG MODE ACTIVE"}),st.jsx("p",{style:{color:"white",fontSize:"20px"},children:"TAP ANYWHERE TO UNLOCK"}),st.jsx("p",{style:{color:"black",marginTop:"20px"},children:"If you see the bank UI, the cache is still broken."})]});const hC=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const iP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const FE=e=>{const t=sP(e);return t.charAt(0).toUpperCase()+t.slice(1)};var rP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aP=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const oP=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},p)=>k.createElement("svg",{ref:p,...rP,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:hC("lucide",a),...!l&&!aP(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>k.createElement(m,y)),...Array.isArray(l)?l:[l]]));const mi=(e,t)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(oP,{ref:l,iconNode:t,className:hC(`lucide-${iP(FE(e))}`,`lucide-${e}`,s),...a}));return n.displayName=FE(e),n};const lP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dC=mi("arrow-left",lP);const uP=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pC=mi("camera",uP);const cP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],fP=mi("ellipsis",cP);const hP=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],dP=mi("fingerprint-pattern",hP);const pP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mP=mi("image",pP);const gP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mC=mi("lock",gP);const yP=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],vP=mi("mic",yP);const _P=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TP=mi("phone",_P);const EP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SP=mi("search",EP);const bP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CP=mi("users",bP);const AP=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],gC=mi("video",AP),RP=({onAuthenticated:e,onCancel:t})=>{const[n,s]=k.useState(""),[a,l]=k.useState(!1),c="2025",h=m=>{if(n.length<4){const y=n+m;s(y),y.length===4&&(y===c?e():(l(!0),setTimeout(()=>{s(""),l(!1)},500)))}},p=()=>{s(n.slice(0,-1))};return st.jsxs(eP.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex flex-col items-center justify-center text-white select-none",children:[st.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[st.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-colors ${a?"bg-red-500":"bg-white/10"}`,children:a?st.jsx(mC,{size:32}):st.jsx("div",{className:"animate-pulse",children:st.jsx(dP,{size:40})})}),st.jsx("h2",{className:"text-xl font-medium tracking-wide",children:"Enter Passcode"}),st.jsx("div",{className:"flex gap-4 mt-6 h-4",children:[0,1,2,3].map(m=>st.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${m<n.length?"bg-white":"bg-white/20"}`},m))})]}),st.jsxs("div",{className:"grid grid-cols-3 gap-6 w-72",children:[[1,2,3,4,5,6,7,8,9].map(m=>st.jsx("button",{onClick:()=>h(m),className:"w-16 h-16 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 flex items-center justify-center text-2xl font-light transition-colors",children:m},m)),st.jsx("button",{className:"w-16 h-16 flex items-center justify-center text-sm font-medium text-gray-400",onClick:t,children:"Cancel"}),st.jsx("button",{onClick:()=>h(0),className:"w-16 h-16 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 flex items-center justify-center text-2xl font-light transition-colors",children:"0"}),st.jsx("button",{className:"w-16 h-16 flex items-center justify-center",onClick:p,children:st.jsx("span",{className:"text-xl",children:""})})]})]})};class xP{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return DP(t).buffer}}function DP(e){let t=0;for(const a of e)t+=a.byteLength;const n=new Uint8Array(t);let s=0;for(const a of e){const l=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(l,s),s+=a.byteLength}return n}function yC(e){return new wP(e).unpack()}function vC(e){const t=new MP,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class wP{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let s=0,a="",l,c;for(;s<t;)l=n[s],l<160?(c=l,s++):(l^192)<32?(c=(l&31)<<6|n[s+1]&63,s+=2):(l^224)<16?(c=(l&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(c=(l&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(c);return this.index+=t,a}unpack_array(t){const n=new Array(t);for(let s=0;s<t;s++)n[s]=this.unpack();return n}unpack_map(t){const n={};for(let s=0;s<t;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,s=(t>>23&255)-127,a=t&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),s=t>>31,a=(t>>20&2047)-1023,c=(t&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*c}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class MP{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const s=this.pack_array(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const s=t;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const l=this.pack(t[a]);return l instanceof Promise?l.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const s=Math.floor(Math.log(t)/Math.LN2),a=t/2**s-1,l=Math.floor(a*2**52),c=2**32,h=n<<31|s+1023<<20|l/c&1048575,p=l%c;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(p)}pack_object(t){const n=Object.keys(t),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=l=>{if(l<n.length){const c=n[l];if(t.hasOwnProperty(c)){this.pack(c);const h=this.pack(t[c]);if(h instanceof Promise)return h.then(()=>a(l+1))}return a(l+1)}};return a(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,s=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),s=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new xP,this._textEncoder=new TextEncoder}}let _C=!0,TC=!0;function Xl(e,t,n){const s=e.match(t);return s&&s.length>=n&&parseFloat(s[n],10)}function la(e,t,n){if(!e.RTCPeerConnection)return;const s=e.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(c,h){if(c!==t)return a.apply(this,arguments);const p=m=>{const y=n(m);y&&(h.handleEvent?h.handleEvent(y):h(y))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(h,p),a.apply(this,[c,p])};const l=s.removeEventListener;s.removeEventListener=function(c,h){if(c!==t||!this._eventMap||!this._eventMap[t])return l.apply(this,arguments);if(!this._eventMap[t].has(h))return l.apply(this,arguments);const p=this._eventMap[t].get(h);return this._eventMap[t].delete(h),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[c,p])},Object.defineProperty(s,"on"+t,{get(){return this["_on"+t]},set(c){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),c&&this.addEventListener(t,this["_on"+t]=c)},enumerable:!0,configurable:!0})}function VP(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(_C=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function IP(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(TC=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function EC(){if(typeof window=="object"){if(_C)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ay(e,t){TC&&console.warn(e+" is deprecated, please use "+t+" instead.")}function PP(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Xl(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Xl(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Xl(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Xl(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function HE(e){return Object.prototype.toString.call(e)==="[object Object]"}function SC(e){return HE(e)?Object.keys(e).reduce(function(t,n){const s=HE(e[n]),a=s?SC(e[n]):e[n],l=s&&!Object.keys(a).length;return a===void 0||l?t:Object.assign(t,{[n]:a})},{}):e}function Ym(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(s=>{s.endsWith("Id")?Ym(e,e.get(t[s]),n):s.endsWith("Ids")&&t[s].forEach(a=>{Ym(e,e.get(a),n)})}))}function qE(e,t,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;const l=[];return e.forEach(c=>{c.type==="track"&&c.trackIdentifier===t.id&&l.push(c)}),l.forEach(c=>{e.forEach(h=>{h.type===s&&h.trackId===c.id&&Ym(e,h,a)})}),a}const GE=EC;function bC(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const s=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const p={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const y=typeof h[m]=="object"?h[m]:{ideal:h[m]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const v=function(E,C){return E?E+C.charAt(0).toUpperCase()+C.slice(1):C==="deviceId"?"sourceId":C};if(y.ideal!==void 0){p.optional=p.optional||[];let E={};typeof y.ideal=="number"?(E[v("min",m)]=y.ideal,p.optional.push(E),E={},E[v("max",m)]=y.ideal,p.optional.push(E)):(E[v("",m)]=y.ideal,p.optional.push(E))}y.exact!==void 0&&typeof y.exact!="number"?(p.mandatory=p.mandatory||{},p.mandatory[v("",m)]=y.exact):["min","max"].forEach(E=>{y[E]!==void 0&&(p.mandatory=p.mandatory||{},p.mandatory[v(E,m)]=y[E])})}),h.advanced&&(p.optional=(p.optional||[]).concat(h.advanced)),p},a=function(h,p){if(t.version>=61)return p(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(y,v,E){v in y&&!(E in y)&&(y[E]=y[v],delete y[v])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=s(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const y=t.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete h.video.facingMode;let v;if(m.exact==="environment"||m.ideal==="environment"?v=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(v=["front"]),v)return n.mediaDevices.enumerateDevices().then(E=>{E=E.filter(w=>w.kind==="videoinput");let C=E.find(w=>v.some(O=>w.label.toLowerCase().includes(O)));return!C&&E.length&&v.includes("back")&&(C=E[E.length-1]),C&&(h.video.deviceId=m.exact?{exact:C.deviceId}:{ideal:C.deviceId}),h.video=s(h.video),GE("chrome: "+JSON.stringify(h)),p(h)})}h.video=s(h.video)}return GE("chrome: "+JSON.stringify(h)),p(h)},l=function(h){return t.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},c=function(h,p,m){a(h,y=>{n.webkitGetUserMedia(y,p,v=>{m&&m(l(v))})})};if(n.getUserMedia=c.bind(n),n.mediaDevices.getUserMedia){const h=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(p){return a(p,m=>h(m).then(y=>{if(m.audio&&!y.getAudioTracks().length||m.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(v=>{v.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(l(y))))}}}function CC(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function AC(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let l;e.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(h=>h.track&&h.track.id===a.track.id):l={track:a.track};const c=new Event("track");c.track=a.track,c.receiver=l,c.transceiver={receiver:l},c.streams=[s.stream],this.dispatchEvent(c)}),s.stream.getTracks().forEach(a=>{let l;e.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(h=>h.track&&h.track.id===a.id):l={track:a};const c=new Event("track");c.track=a,c.receiver=l,c.transceiver={receiver:l},c.streams=[s.stream],this.dispatchEvent(c)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else la(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function RC(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(a,l){return{track:l,get dtmf(){return this._dtmf===void 0&&(l.kind==="audio"?this._dtmf=a.createDTMFSender(l):this._dtmf=null),this._dtmf},_pc:a}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(h,p){let m=a.apply(this,arguments);return m||(m=t(this,h),this._senders.push(m)),m};const l=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(h){l.apply(this,arguments);const p=this._senders.indexOf(h);p!==-1&&this._senders.splice(p,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){this._senders=this._senders||[],n.apply(this,[l]),l.getTracks().forEach(c=>{this._senders.push(t(this,c))})};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(l){this._senders=this._senders||[],s.apply(this,[l]),l.getTracks().forEach(c=>{const h=this._senders.find(p=>p.track===c);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function xC(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const l=n.apply(this,[]);return l.forEach(c=>c._pc=this),l});const s=e.RTCPeerConnection.prototype.addTrack;s&&(e.RTCPeerConnection.prototype.addTrack=function(){const l=s.apply(this,arguments);return l._pc=this,l}),e.RTCRtpSender.prototype.getStats=function(){const l=this;return this._pc.getStats().then(c=>qE(c,l.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(l=>l._pc=this),a}),la(e,"track",s=>(s.receiver._pc=s.srcElement,s)),e.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(l=>qE(l,a.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const s=arguments[0];let a,l,c;return this.getSenders().forEach(h=>{h.track===s&&(a?c=!0:a=h)}),this.getReceivers().forEach(h=>(h.track===s&&(l?c=!0:l=h),h.track===s)),c||a&&l?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():l?l.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function DC(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(c=>this._shimmedLocalStreams[c][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(c,h){if(!h)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const p=t.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(p)===-1&&this._shimmedLocalStreams[h.id].push(p):this._shimmedLocalStreams[h.id]=[h,p],p};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._shimmedLocalStreams=this._shimmedLocalStreams||{},c.getTracks().forEach(m=>{if(this.getSenders().find(v=>v.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();n.apply(this,arguments);const p=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[c.id]=[c].concat(p)};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[c.id],s.apply(this,arguments)};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},c&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const p=this._shimmedLocalStreams[h].indexOf(c);p!==-1&&this._shimmedLocalStreams[h].splice(p,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),a.apply(this,arguments)}}function wC(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return DC(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(v=>this._reverseStreams[v.id])};const s=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(v=>{if(this.getSenders().find(C=>C.track===v))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const v=new e.MediaStream(y.getTracks());this._streams[y.id]=v,this._reverseStreams[v.id]=y,y=v}s.apply(this,[y])};const a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},e.RTCPeerConnection.prototype.addTrack=function(y,v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const E=[].slice.call(arguments,1);if(E.length!==1||!E[0].getTracks().find(O=>O===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(O=>O.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const w=this._streams[v.id];if(w)w.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const O=new e.MediaStream([y]);this._streams[v.id]=O,this._reverseStreams[O.id]=v,this.addStream(O)}return this.getSenders().find(O=>O.track===y)};function l(m,y){let v=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(E=>{const C=m._reverseStreams[E],w=m._streams[C.id];v=v.replace(new RegExp(w.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:v})}function c(m,y){let v=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(E=>{const C=m._reverseStreams[E],w=m._streams[C.id];v=v.replace(new RegExp(C.id,"g"),w.id)}),new RTCSessionDescription({type:y.type,sdp:v})}["createOffer","createAnswer"].forEach(function(m){const y=e.RTCPeerConnection.prototype[m],v={[m](){const E=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[w=>{const O=l(this,w);E[0].apply(null,[O])},w=>{E[1]&&E[1].apply(null,w)},arguments[2]]):y.apply(this,arguments).then(w=>l(this,w))}};e.RTCPeerConnection.prototype[m]=v[m]});const h=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=c(this,arguments[0]),h.apply(this,arguments))};const p=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const m=p.get.apply(this);return m.type===""?m:l(this,m)}}),e.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let E;Object.keys(this._streams).forEach(C=>{this._streams[C].getTracks().find(O=>y.track===O)&&(E=this._streams[C])}),E&&(E.getTracks().length===1?this.removeStream(this._reverseStreams[E.id]):E.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Qm(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=e.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=a[n]})}function MC(e,t){la(e,"negotiationneeded",n=>{const s=n.target;if(!((t.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const $E=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:MC,shimAddTrackRemoveTrack:wC,shimAddTrackRemoveTrackWithNative:DC,shimGetSendersWithDtmf:RC,shimGetUserMedia:bC,shimMediaStream:CC,shimOnTrack:AC,shimPeerConnection:Qm,shimSenderReceiverGetStats:xC},Symbol.toStringTag,{value:"Module"}));function VC(e,t){const n=e&&e.navigator,s=e&&e.MediaStreamTrack;if(n.getUserMedia=function(a,l,c){ay("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(l,c)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(c,h,p){h in c&&!(p in c)&&(c[p]=c[h],delete c[h])},l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(c){return typeof c=="object"&&typeof c.audio=="object"&&(c=JSON.parse(JSON.stringify(c)),a(c.audio,"autoGainControl","mozAutoGainControl"),a(c.audio,"noiseSuppression","mozNoiseSuppression")),l(c)},s&&s.prototype.getSettings){const c=s.prototype.getSettings;s.prototype.getSettings=function(){const h=c.apply(this,arguments);return a(h,"mozAutoGainControl","autoGainControl"),a(h,"mozNoiseSuppression","noiseSuppression"),h}}if(s&&s.prototype.applyConstraints){const c=s.prototype.applyConstraints;s.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),a(h,"autoGainControl","mozAutoGainControl"),a(h,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[h])}}}}function OP(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:t}:s.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(s)})}function IC(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Xm(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const l=e.RTCPeerConnection.prototype[a],c={[a](){return arguments[0]=new(a==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};e.RTCPeerConnection.prototype[a]=c[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[l,c,h]=arguments;return s.apply(this,[l||null]).then(p=>{if(t.version<53&&!c)try{p.forEach(m=>{m.type=n[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;p.forEach((y,v)=>{p.set(v,Object.assign({},y,{type:n[y.type]||y.type}))})}return p}).then(c,h)}}function PC(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(l=>l._pc=this),a});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function OC(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s}),la(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function NC(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){ay("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function kC(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function LC(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(c=>{if("rid"in c&&!/^[a-z0-9]{0,16}$/i.test(c.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in c&&!(parseFloat(c.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in c&&!(parseFloat(c.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const l=t.apply(this,arguments);if(a){const{sender:c}=l,h=c.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=s,c.sendEncodings=s,this.setParametersPromises.push(c.setParameters(h).then(()=>{delete c.sendEncodings}).catch(()=>{delete c.sendEncodings})))}return l})}function UC(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const s=t.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function BC(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function zC(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const KE=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:LC,shimCreateAnswer:zC,shimCreateOffer:BC,shimGetDisplayMedia:OP,shimGetParameters:UC,shimGetUserMedia:VC,shimOnTrack:IC,shimPeerConnection:Xm,shimRTCDataChannel:kC,shimReceiverGetStats:OC,shimRemoveStream:NC,shimSenderGetStats:PC},Symbol.toStringTag,{value:"Module"}));function jC(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>t.call(this,a,s)),s.getVideoTracks().forEach(a=>t.call(this,a,s))},e.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(l=>{a.includes(l.track)&&this.removeTrack(l)})})}}function FC(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const l=new Event("addstream");l.stream=a,this.dispatchEvent(l)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(l=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(l)>=0)return;s._remoteStreams.push(l);const c=new Event("addstream");c.stream=l,s.dispatchEvent(c)})}),t.apply(s,arguments)}}}function HC(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,s=t.createAnswer,a=t.setLocalDescription,l=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(m,y){const v=arguments.length>=2?arguments[2]:arguments[0],E=n.apply(this,[v]);return y?(E.then(m,y),Promise.resolve()):E},t.createAnswer=function(m,y){const v=arguments.length>=2?arguments[2]:arguments[0],E=s.apply(this,[v]);return y?(E.then(m,y),Promise.resolve()):E};let h=function(p,m,y){const v=a.apply(this,[p]);return y?(v.then(m,y),Promise.resolve()):v};t.setLocalDescription=h,h=function(p,m,y){const v=l.apply(this,[p]);return y?(v.then(m,y),Promise.resolve()):v},t.setRemoteDescription=h,h=function(p,m,y){const v=c.apply(this,[p]);return y?(v.then(m,y),Promise.resolve()):v},t.addIceCandidate=h}function qC(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,s=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=a=>s(GC(a))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(s,a,l){t.mediaDevices.getUserMedia(s).then(a,l)}).bind(t))}function GC(e){return e&&e.video!==void 0?Object.assign({},e,{video:SC(e.video)}):e}function $C(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const l=[];for(let c=0;c<s.iceServers.length;c++){let h=s.iceServers[c];h.urls===void 0&&h.url?(ay("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,l.push(h)):l.push(s.iceServers[c])}s.iceServers=l}return new t(s,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function KC(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function YC(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(c=>c.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const l=this.getTransceivers().find(c=>c.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveVideo===!0&&!l&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function QC(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const YE=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:QC,shimCallbacksAPI:HC,shimConstraints:GC,shimCreateOfferLegacy:YC,shimGetUserMedia:qC,shimLocalStreamsAPI:jC,shimRTCIceServerUrls:$C,shimRemoteStreamsAPI:FC,shimTrackEventTransceiver:KC},Symbol.toStringTag,{value:"Module"}));var fm={exports:{}},QE;function NP(){return QE||(QE=1,(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},t.splitSections=function(n){return n.split(`
m=`).map((a,l)=>(l>0?"m="+a:a).trim()+`\r
`)},t.getDescription=function(n){const s=t.splitSections(n);return s&&s[0]},t.getMediaSections=function(n){const s=t.splitSections(n);return s.shift(),s},t.matchPrefix=function(n,s){return t.splitLines(n).filter(a=>a.indexOf(s)===0)},t.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let l=8;l<s.length;l+=2)switch(s[l]){case"raddr":a.relatedAddress=s[l+1];break;case"rport":a.relatedPort=parseInt(s[l+1],10);break;case"tcptype":a.tcpType=s[l+1];break;case"ufrag":a.ufrag=s[l+1],a.usernameFragment=s[l+1];break;default:a[s[l]]===void 0&&(a[s[l]]=s[l+1]);break}return a},t.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const l=n.type;return s.push("typ"),s.push(l),l!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},t.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},t.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const s={};let a;const l=n.substring(n.indexOf(" ")+1).split(";");for(let c=0;c<l.length;c++)a=l[c].trim().split("="),s[a[0].trim()]=a[1];return s},t.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const l=[];Object.keys(n.parameters).forEach(c=>{n.parameters[c]!==void 0?l.push(c+"="+n.parameters[c]):l.push(c)}),s+="a=fmtp:"+a+" "+l.join(";")+`\r
`}return s},t.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},t.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(l=>{s+="a=rtcp-fb:"+a+" "+l.type+(l.parameter&&l.parameter.length?" "+l.parameter:"")+`\r
`}),s},t.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},l=n.indexOf(":",s);return l>-1?(a.attribute=n.substring(s+1,l),a.value=n.substring(l+1)):a.attribute=n.substring(s+1),a},t.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},t.getMid=function(n){const s=t.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},t.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},t.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:t.matchPrefix(n+s,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(l=>{a+="a=fingerprint:"+l.algorithm+" "+l.value+`\r
`}),a},t.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,s){return t.matchPrefix(n+s,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,s){const a=t.matchPrefix(n+s,"a=ice-ufrag:")[0],l=t.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&l?{usernameFragment:a.substring(12),password:l.substring(10)}:null},t.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},t.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},l=t.splitLines(n)[0].split(" ");s.profile=l[2];for(let h=3;h<l.length;h++){const p=l[h],m=t.matchPrefix(n,"a=rtpmap:"+p+" ")[0];if(m){const y=t.parseRtpMap(m),v=t.matchPrefix(n,"a=fmtp:"+p+" ");switch(y.parameters=v.length?t.parseFmtp(v[0]):{},y.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+p+" ").map(t.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(h=>{s.headerExtensions.push(t.parseExtmap(h))});const c=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return s.codecs.forEach(h=>{c.forEach(p=>{h.rtcpFeedback.find(y=>y.type===p.type&&y.parameter===p.parameter)||h.rtcpFeedback.push(p)})}),s},t.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(c=>c.preferredPayloadType!==void 0?c.preferredPayloadType:c.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(c=>{a+=t.writeRtpMap(c),a+=t.writeFmtp(c),a+=t.writeRtcpFb(c)});let l=0;return s.codecs.forEach(c=>{c.maxptime>l&&(l=c.maxptime)}),l>0&&(a+="a=maxptime:"+l+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(c=>{a+=t.writeExtmap(c)}),a},t.parseRtpEncodingParameters=function(n){const s=[],a=t.parseRtpParameters(n),l=a.fecMechanisms.indexOf("RED")!==-1,c=a.fecMechanisms.indexOf("ULPFEC")!==-1,h=t.matchPrefix(n,"a=ssrc:").map(E=>t.parseSsrcMedia(E)).filter(E=>E.attribute==="cname"),p=h.length>0&&h[0].ssrc;let m;const y=t.matchPrefix(n,"a=ssrc-group:FID").map(E=>E.substring(17).split(" ").map(w=>parseInt(w,10)));y.length>0&&y[0].length>1&&y[0][0]===p&&(m=y[0][1]),a.codecs.forEach(E=>{if(E.name.toUpperCase()==="RTX"&&E.parameters.apt){let C={ssrc:p,codecPayloadType:parseInt(E.parameters.apt,10)};p&&m&&(C.rtx={ssrc:m}),s.push(C),l&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:p,mechanism:c?"red+ulpfec":"red"},s.push(C))}}),s.length===0&&p&&s.push({ssrc:p});let v=t.matchPrefix(n,"b=");return v.length&&(v[0].indexOf("b=TIAS:")===0?v=parseInt(v[0].substring(7),10):v[0].indexOf("b=AS:")===0?v=parseInt(v[0].substring(5),10)*1e3*.95-2e3*8:v=void 0,s.forEach(E=>{E.maxBitrate=v})),s},t.parseRtcpParameters=function(n){const s={},a=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const l=t.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=l.length>0,s.compound=l.length===0;const c=t.matchPrefix(n,"a=rtcp-mux");return s.mux=c.length>0,s},t.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},t.parseMsid=function(n){let s;const a=t.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const l=t.matchPrefix(n,"a=ssrc:").map(c=>t.parseSsrcMedia(c)).filter(c=>c.attribute==="msid");if(l.length>0)return s=l[0].value.split(" "),{stream:s[0],track:s[1]}},t.parseSctpDescription=function(n){const s=t.parseMLine(n),a=t.matchPrefix(n,"a=max-message-size:");let l;a.length>0&&(l=parseInt(a[0].substring(19),10)),isNaN(l)&&(l=65536);const c=t.matchPrefix(n,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:s.fmt,maxMessageSize:l};const h=t.matchPrefix(n,"a=sctpmap:");if(h.length>0){const p=h[0].substring(10).split(" ");return{port:parseInt(p[0],10),protocol:p[1],maxMessageSize:l}}},t.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,s,a){let l;const c=s!==void 0?s:2;return n?l=n:l=t.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+l+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,s){const a=t.splitLines(n);for(let l=0;l<a.length;l++)switch(a[l]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[l].substring(2)}return s?t.getDirection(s):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const a=t.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},t.parseOLine=function(n){const a=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=t.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},e.exports=t})(fm)),fm.exports}var XC=NP();const yo=Ex(XC),kP=Tx({__proto__:null,default:yo},[XC]);function Of(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new t(s),l=yo.parseCandidate(s.candidate);for(const c in l)c in a||Object.defineProperty(a,c,{value:l[c]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(s)},e.RTCIceCandidate.prototype=t.prototype,la(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Jm(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||la(e,"icecandidate",t=>{if(t.candidate){const n=yo.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Nf(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(h){if(!h||!h.sdp)return!1;const p=yo.splitSections(h.sdp);return p.shift(),p.some(m=>{const y=yo.parseMLine(m);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(h){const p=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(p===null||p.length<2)return-1;const m=parseInt(p[1],10);return m!==m?-1:m},a=function(h){let p=65536;return t.browser==="firefox"&&(t.version<57?h===-1?p=16384:p=2147483637:t.version<60?p=t.version===57?65535:65536:p=2147483637),p},l=function(h,p){let m=65536;t.browser==="firefox"&&t.version===57&&(m=65535);const y=yo.matchPrefix(h.sdp,"a=max-message-size:");return y.length>0?m=parseInt(y[0].substring(19),10):t.browser==="firefox"&&p!==-1&&(m=2147483637),m},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:p}=this.getConfiguration();p==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const p=s(arguments[0]),m=a(p),y=l(arguments[0],p);let v;m===0&&y===0?v=Number.POSITIVE_INFINITY:m===0||y===0?v=Math.max(m,y):v=Math.min(m,y);const E={};Object.defineProperty(E,"maxMessageSize",{get(){return v}}),this._sctp=E}return c.apply(this,arguments)}}function kf(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(s,a){const l=s.send;s.send=function(){const h=arguments[0],p=h.length||h.size||h.byteLength;if(s.readyState==="open"&&a.sctp&&p>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return l.apply(s,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return t(a,this),a},la(e,"datachannel",s=>(t(s.channel,s.target),s))}function Zm(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const l=a.target;if(l._lastConnectionState!==l.connectionState){l._lastConnectionState=l.connectionState;const c=new Event("connectionstatechange",a);l.dispatchEvent(c)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Wm(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const l=a.sdp.split(`
`).filter(c=>c.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&a instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:a.type,sdp:l}):a.sdp=l}return n.apply(this,arguments)}}function Lf(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Uf(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(c=>n.apply(this,[c]))})}const LP=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Wm,shimAddIceCandidateNullOrEmpty:Lf,shimConnectionState:Zm,shimMaxMessageSize:Nf,shimParameterlessSetLocalDescription:Uf,shimRTCIceCandidate:Of,shimRTCIceCandidateRelayProtocol:Jm,shimSendThrowTypeError:kf},Symbol.toStringTag,{value:"Module"}));function UP({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=EC,s=PP(e),a={browserDetails:s,commonShim:LP,extractVersion:Xl,disableLog:VP,disableWarnings:IP,sdp:kP};switch(s.browser){case"chrome":if(!$E||!Qm||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=$E,Lf(e,s),Uf(e),bC(e,s),CC(e),Qm(e,s),AC(e),wC(e,s),RC(e),xC(e),MC(e,s),Of(e),Jm(e),Zm(e),Nf(e,s),kf(e),Wm(e,s);break;case"firefox":if(!KE||!Xm||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=KE,Lf(e,s),Uf(e),VC(e,s),Xm(e,s),IC(e),NC(e),PC(e),OC(e),kC(e),LC(e),UC(e),BC(e),zC(e),Of(e),Zm(e),Nf(e,s),kf(e);break;case"safari":if(!YE||!t.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=YE,Lf(e,s),Uf(e),$C(e),YC(e),HC(e),jC(e),FC(e),KC(e),qC(e),QC(e),Of(e),Jm(e),Nf(e,s),kf(e),Wm(e,s);break;default:n("Unsupported browser!");break}return a}const XE=UP({window:typeof window>"u"?void 0:window});function ua(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}class JC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],s=t.byteLength,a=Math.ceil(s/this.chunkedMTU);let l=0,c=0;for(;c<s;){const h=Math.min(s,c+this.chunkedMTU),p=t.slice(c,h),m={__peerData:this._dataCount,n:l,data:p,total:a};n.push(m),c=h,l++}return this._dataCount++,n}}}function BP(e){let t=0;for(const a of e)t+=a.byteLength;const n=new Uint8Array(t);let s=0;for(const a of e)n.set(a,s),s+=a.byteLength;return n}const hm=XE.default||XE,Kl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return hm.browserDetails.browser}getVersion(){return hm.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=hm.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},zP=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),ZC=()=>Math.random().toString(36).slice(2),JE={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class jP extends JC{noop(){}blobToArrayBuffer(t,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(t),s}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=JE,this.browser=Kl.getBrowser(),this.browserVersion=Kl.getVersion(),this.pack=vC,this.unpack=yC,this.supports=(function(){const n={browser:Kl.isBrowserSupported(),webRTC:Kl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(JE),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!Kl.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=zP,this.randomToken=ZC}}const bn=new jP,FP="PeerJS: ";class HP{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const s=[FP,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);t>=3?console.log(...s):t>=2?console.warn("WARNING",...s):t>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var mt=new HP,oy={},qP=Object.prototype.hasOwnProperty,mn="~";function gu(){}Object.create&&(gu.prototype=Object.create(null),new gu().__proto__||(mn=!1));function GP(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function WC(e,t,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var l=new GP(n,s||e,a),c=mn?mn+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],l]:e._events[c].push(l):(e._events[c]=l,e._eventsCount++),e}function Bf(e,t){--e._eventsCount===0?e._events=new gu:delete e._events[t]}function un(){this._events=new gu,this._eventsCount=0}un.prototype.eventNames=function(){var t=[],n,s;if(this._eventsCount===0)return t;for(s in n=this._events)qP.call(n,s)&&t.push(mn?s.slice(1):s);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};un.prototype.listeners=function(t){var n=mn?mn+t:t,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,l=s.length,c=new Array(l);a<l;a++)c[a]=s[a].fn;return c};un.prototype.listenerCount=function(t){var n=mn?mn+t:t,s=this._events[n];return s?s.fn?1:s.length:0};un.prototype.emit=function(t,n,s,a,l,c){var h=mn?mn+t:t;if(!this._events[h])return!1;var p=this._events[h],m=arguments.length,y,v;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,n),!0;case 3:return p.fn.call(p.context,n,s),!0;case 4:return p.fn.call(p.context,n,s,a),!0;case 5:return p.fn.call(p.context,n,s,a,l),!0;case 6:return p.fn.call(p.context,n,s,a,l,c),!0}for(v=1,y=new Array(m-1);v<m;v++)y[v-1]=arguments[v];p.fn.apply(p.context,y)}else{var E=p.length,C;for(v=0;v<E;v++)switch(p[v].once&&this.removeListener(t,p[v].fn,void 0,!0),m){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,n);break;case 3:p[v].fn.call(p[v].context,n,s);break;case 4:p[v].fn.call(p[v].context,n,s,a);break;default:if(!y)for(C=1,y=new Array(m-1);C<m;C++)y[C-1]=arguments[C];p[v].fn.apply(p[v].context,y)}}return!0};un.prototype.on=function(t,n,s){return WC(this,t,n,s,!1)};un.prototype.once=function(t,n,s){return WC(this,t,n,s,!0)};un.prototype.removeListener=function(t,n,s,a){var l=mn?mn+t:t;if(!this._events[l])return this;if(!n)return Bf(this,l),this;var c=this._events[l];if(c.fn)c.fn===n&&(!a||c.once)&&(!s||c.context===s)&&Bf(this,l);else{for(var h=0,p=[],m=c.length;h<m;h++)(c[h].fn!==n||a&&!c[h].once||s&&c[h].context!==s)&&p.push(c[h]);p.length?this._events[l]=p.length===1?p[0]:p:Bf(this,l)}return this};un.prototype.removeAllListeners=function(t){var n;return t?(n=mn?mn+t:t,this._events[n]&&Bf(this,n)):(this._events=new gu,this._eventsCount=0),this};un.prototype.off=un.prototype.removeListener;un.prototype.addListener=un.prototype.on;un.prefixed=mn;un.EventEmitter=un;oy=un;var ca={};ua(ca,"ConnectionType",()=>sr);ua(ca,"PeerErrorType",()=>Ve);ua(ca,"BaseConnectionErrorType",()=>tg);ua(ca,"DataConnectionErrorType",()=>ly);ua(ca,"SerializationType",()=>Rh);ua(ca,"SocketEventType",()=>nr);ua(ca,"ServerMessageType",()=>an);var sr=(function(e){return e.Data="data",e.Media="media",e})({}),Ve=(function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e})({}),tg=(function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e})({}),ly=(function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e})({}),Rh=(function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e})({}),nr=(function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e})({}),an=(function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e})({});const tA="1.5.5";class $P extends oy.EventEmitter{constructor(t,n,s,a,l,c=5e3){super(),this.pingInterval=c,this._disconnected=!0,this._messagesQueue=[];const h=t?"wss://":"ws://";this._baseUrl=h+n+":"+s+a+"peerjs?key="+l}start(t,n){this._id=t;const s=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+tA),this._disconnected=!1,this._socket.onmessage=a=>{let l;try{l=JSON.parse(a.data),mt.log("Server message received:",l)}catch{mt.log("Invalid server message",a.data);return}this.emit(nr.Message,l)},this._socket.onclose=a=>{this._disconnected||(mt.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(nr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),mt.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){mt.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:an.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(nr.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class eA{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===sr.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const s=this.connection,a={ordered:!!t.reliable},l=n.createDataChannel(s.label,a);s._initializeDataChannel(l),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){mt.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,l=this.connection.provider;mt.log("Listening for ICE candidates."),t.onicecandidate=c=>{!c.candidate||!c.candidate.candidate||(mt.log(`Received ICE candidates for ${n}:`,c.candidate),l.socket.send({type:an.Candidate,payload:{candidate:c.candidate,type:a,connectionId:s},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":mt.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(tg.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":mt.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(tg.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":mt.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},mt.log("Listening for data channel"),t.ondatachannel=c=>{mt.log("Received data channel");const h=c.channel;l.getConnection(n,s)._initializeDataChannel(h)},mt.log("Listening for remote stream"),t.ontrack=c=>{mt.log("Received remote stream");const h=c.streams[0],p=l.getConnection(n,s);if(p.type===sr.Media){const m=p;this._addStreamToMediaConnection(h,m)}}}cleanup(){mt.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const s=await t.createOffer(this.connection.options.constraints);mt.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),mt.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===sr.Data){const l=this.connection;a={...a,label:l.label,reliable:l.reliable,serialization:l.serialization}}n.socket.send({type:an.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Ve.WebRTC,a),mt.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(Ve.WebRTC,s),mt.log("Failed to createOffer, ",s)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const s=await t.createAnswer();mt.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),mt.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:an.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(Ve.WebRTC,a),mt.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(Ve.WebRTC,s),mt.log("Failed to create answer, ",s)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;mt.log("Setting remote description",n);const l=this;try{await s.setRemoteDescription(n),mt.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await l._makeAnswer()}catch(c){a.emitError(Ve.WebRTC,c),mt.log("Failed to setRemoteDescription, ",c)}}async handleCandidate(t){mt.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),mt.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Ve.WebRTC,n),mt.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(mt.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return mt.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(s=>{n.addTrack(s,t)})}_addStreamToMediaConnection(t,n){mt.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class nA extends oy.EventEmitter{emitError(t,n){mt.error("Error:",n),this.emit("error",new KP(`${t}`,n))}}class KP extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class iA extends nA{get open(){return this._open}constructor(t,n,s){super(),this.peer=t,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class eh extends iA{static#t=this.ID_PREFIX="mc_";get type(){return sr.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,s){super(t,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||eh.ID_PREFIX+bn.randomToken(),this._negotiator=new eA(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{mt.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{mt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){mt.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,s=t.payload;switch(t.type){case an.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case an.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:mt.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){mt.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class YP{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:s,port:a,path:l,key:c}=this._options,h=new URL(`${n}://${s}:${a}${l}${c}/${t}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",tA),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){mt.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==bn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===bn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw mt.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}class nh extends iA{static#t=this.ID_PREFIX="dc_";static#e=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return sr.Data}constructor(t,n,s){super(t,n,s),this.connectionId=this.options.connectionId||nh.ID_PREFIX+ZC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new eA(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{mt.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{mt.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{mt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(ly.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case an.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case an.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:mt.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}}class uy extends nh{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>nh.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return mt.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class dm extends uy{close(t){super.close(t),this._chunkedData={}}constructor(t,n,s){super(t,n,s),this.chunker=new JC,this.serialization=Rh.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=yC(t),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:t.total};if(s.data[t.n]=new Uint8Array(t.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=BP(s.data);this._handleDataMessage({data:a})}}_send(t,n){const s=vC(t);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);mt.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class QP extends uy{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Rh.None}}class XP extends uy{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const s=this.encoder.encode(this.stringify(t));if(s.byteLength>=bn.chunkedMTU){this.emitError(ly.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...t){super(...t),this.serialization=Rh.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class cy extends nA{static#t=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,s]of this._connections)t[n]=s;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:QP,json:XP,binary:dm,"binary-utf8":dm,default:dm},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(t&&t.constructor==Object?n=t:t&&(s=t.toString()),n={debug:0,host:bn.CLOUD_HOST,port:bn.CLOUD_PORT,path:"/",key:cy.DEFAULT_KEY,token:bn.randomToken(),config:bn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==bn.CLOUD_HOST?this._options.secure=bn.isSecure():this._options.host==bn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&mt.setLogFunction(this._options.logFunction),mt.logLevel=this._options.debug||0,this._api=new YP(n),this._socket=this._createServerConnection(),!bn.supports.audioVideo&&!bn.supports.data){this._delayedAbort(Ve.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!bn.validateId(s)){this._delayedAbort(Ve.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(Ve.ServerError,a))}_createServerConnection(){const t=new $P(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(nr.Message,n=>{this._handleMessage(n)}),t.on(nr.Error,n=>{this._abort(Ve.SocketError,n)}),t.on(nr.Disconnected,()=>{this.disconnected||(this.emitError(Ve.Network,"Lost connection to server."),this.disconnect())}),t.on(nr.Close,()=>{this.disconnected||this._abort(Ve.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,s=t.payload,a=t.src;switch(n){case an.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case an.Error:this._abort(Ve.ServerError,s.msg);break;case an.IdTaken:this._abort(Ve.UnavailableID,`ID "${this.id}" is taken`);break;case an.InvalidKey:this._abort(Ve.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case an.Leave:mt.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case an.Expire:this.emitError(Ve.PeerUnavailable,`Could not connect to peer ${a}`);break;case an.Offer:{const l=s.connectionId;let c=this.getConnection(a,l);if(c&&(c.close(),mt.warn(`Offer received for existing Connection ID:${l}`)),s.type===sr.Media){const p=new eh(a,this,{connectionId:l,_payload:s,metadata:s.metadata});c=p,this._addConnection(a,c),this.emit("call",p)}else if(s.type===sr.Data){const p=new this._serializers[s.serialization](a,this,{connectionId:l,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});c=p,this._addConnection(a,c),this.emit("connection",p)}else{mt.warn(`Received malformed connection type:${s.type}`);return}const h=this._getMessages(l);for(const p of h)c.handleMessage(p);break}default:{if(!s){mt.warn(`You received a malformed message from ${a} of type ${n}`);return}const l=s.connectionId,c=this.getConnection(a,l);c&&c.peerConnection?c.handleMessage(t):l?this._storeMessage(l,t):mt.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){mt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ve.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,s),s}call(t,n,s={}){if(this.disconnected){mt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ve.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){mt.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new eh(t,this,{...s,_stream:n});return this._addConnection(t,a),a}_addConnection(t,n){mt.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const s=this._connections.get(t);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){mt.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(mt.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const t=this.id;mt.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)mt.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)mt.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(Ve.ServerError,n))}}var JP=cy;const ZP=()=>{};var ZE={};const sA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},WP=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],h=e[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},rA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,h=c?e[a+1]:0,p=a+2<e.length,m=p?e[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|m>>6,C=m&63;p||(C=64,c||(E=64)),s.push(n[y],n[v],n[E],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],h=a<e.length?n[e.charAt(a)]:0;++a;const m=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new tO;const E=l<<2|h>>4;if(s.push(E),m!==64){const C=h<<4&240|m>>2;if(s.push(C),v!==64){const w=m<<6&192|v;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eO=function(e){const t=sA(e);return rA.encodeByteArray(t,!0)},ih=function(e){return eO(e).replace(/\./g,"")},nO=function(e){try{return rA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sO=()=>iO().__FIREBASE_DEFAULTS__,rO=()=>{if(typeof process>"u"||typeof ZE>"u")return;const e=ZE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},aO=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nO(e[1]);return t&&JSON.parse(t)},fy=()=>{try{return ZP()||sO()||rO()||aO()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oO=e=>fy()?.emulatorHosts?.[e],lO=e=>{const t=oO(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},aA=()=>fy()?.config;class uO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function hy(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cO(e){return(await fetch(e,{credentials:"include"})).ok}function fO(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ih(JSON.stringify(n)),ih(JSON.stringify(c)),""].join(".")}const ru={};function hO(){const e={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?e.emulator.push(t):e.prod.push(t);return e}function dO(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let WE=!1;function pO(e,t){if(typeof window>"u"||typeof document>"u"||!hy(window.location.host)||ru[e]===t||ru[e]||WE)return;ru[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=hO().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{WE=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=dO(s),C=n("text"),w=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),L=document.getElementById(O)||document.createElement("a"),H=n("preprendIcon"),$=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const j=E.element;h(j),y(L,O);const nt=m();p($,H),j.append($,w,L,nt),document.body.appendChild(j)}l?(w.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function mO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gO(){const e=fy()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){return!gO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vO(){try{return typeof indexedDB=="object"}catch{return!1}}function _O(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const TO="FirebaseError";class Oo extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=TO,Object.setPrototypeOf(this,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oA.prototype.create)}}class oA{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?EO(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Oo(a,h,s)}}function EO(e,t){return e.replace(SO,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const SO=/\{\$([^}]+)}/g;function sh(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(tS(l)&&tS(c)){if(!sh(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function tS(e){return e!==null&&typeof e=="object"}function Co(e){return e&&e._delegate?e._delegate:e}class yu{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class bO{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new uO;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AO(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CO(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(e){return e===Jr?void 0:e}function AO(e){return e.instantiationMode==="EAGER"}class RO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bO(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var jt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(jt||(jt={}));const xO={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},DO=jt.INFO,wO={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},MO=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=wO[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lA{constructor(t){this.name=t,this._logLevel=DO,this._logHandler=MO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const VO=(e,t)=>t.some(n=>e instanceof n);let eS,nS;function IO(){return eS||(eS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return nS||(nS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uA=new WeakMap,eg=new WeakMap,cA=new WeakMap,pm=new WeakMap,dy=new WeakMap;function OO(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(rr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&uA.set(n,e)}).catch(()=>{}),dy.set(t,e),t}function NO(e){if(eg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});eg.set(e,t)}let ng={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return eg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kO(e){ng=e(ng)}function LO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mm(this),t,...n);return cA.set(s,t.sort?t.sort():[t]),rr(s)}:PO().includes(e)?function(...t){return e.apply(mm(this),t),rr(uA.get(this))}:function(...t){return rr(e.apply(mm(this),t))}}function UO(e){return typeof e=="function"?LO(e):(e instanceof IDBTransaction&&NO(e),VO(e,IO())?new Proxy(e,ng):e)}function rr(e){if(e instanceof IDBRequest)return OO(e);if(pm.has(e))return pm.get(e);const t=UO(e);return t!==e&&(pm.set(e,t),dy.set(t,e)),t}const mm=e=>dy.get(e);function BO(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),h=rr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(rr(c.result),p.oldVersion,p.newVersion,rr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const zO=["get","getKey","getAll","getAllKeys","count"],jO=["put","add","delete","clear"],gm=new Map;function iS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gm.get(t))return gm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=jO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||zO.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&p.done]))[0]};return gm.set(t,l),l}kO(e=>({...e,get:(t,n,s)=>iS(t,n)||e.get(t,n,s),has:(t,n)=>!!iS(t,n)||e.has(t,n)}));class FO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function HO(e){return e.getComponent()?.type==="VERSION"}const ig="@firebase/app",sS="0.14.8";const ys=new lA("@firebase/app"),qO="@firebase/app-compat",GO="@firebase/analytics-compat",$O="@firebase/analytics",KO="@firebase/app-check-compat",YO="@firebase/app-check",QO="@firebase/auth",XO="@firebase/auth-compat",JO="@firebase/database",ZO="@firebase/data-connect",WO="@firebase/database-compat",t3="@firebase/functions",e3="@firebase/functions-compat",n3="@firebase/installations",i3="@firebase/installations-compat",s3="@firebase/messaging",r3="@firebase/messaging-compat",a3="@firebase/performance",o3="@firebase/performance-compat",l3="@firebase/remote-config",u3="@firebase/remote-config-compat",c3="@firebase/storage",f3="@firebase/storage-compat",h3="@firebase/firestore",d3="@firebase/ai",p3="@firebase/firestore-compat",m3="firebase",g3="12.9.0";const sg="[DEFAULT]",y3={[ig]:"fire-core",[qO]:"fire-core-compat",[$O]:"fire-analytics",[GO]:"fire-analytics-compat",[YO]:"fire-app-check",[KO]:"fire-app-check-compat",[QO]:"fire-auth",[XO]:"fire-auth-compat",[JO]:"fire-rtdb",[ZO]:"fire-data-connect",[WO]:"fire-rtdb-compat",[t3]:"fire-fn",[e3]:"fire-fn-compat",[n3]:"fire-iid",[i3]:"fire-iid-compat",[s3]:"fire-fcm",[r3]:"fire-fcm-compat",[a3]:"fire-perf",[o3]:"fire-perf-compat",[l3]:"fire-rc",[u3]:"fire-rc-compat",[c3]:"fire-gcs",[f3]:"fire-gcs-compat",[h3]:"fire-fst",[p3]:"fire-fst-compat",[d3]:"fire-vertex","fire-js":"fire-js",[m3]:"fire-js-all"};const rh=new Map,v3=new Map,rg=new Map;function rS(e,t){try{e.container.addComponent(t)}catch(n){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ah(e){const t=e.name;if(rg.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;rg.set(t,e);for(const n of rh.values())rS(n,e);for(const n of v3.values())rS(n,e);return!0}function _3(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function T3(e){return e==null?!1:e.settings!==void 0}const E3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new oA("app","Firebase",E3);class S3{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const b3=g3;function fA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:sg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw ar.create("bad-app-name",{appName:String(a)});if(n||(n=aA()),!n)throw ar.create("no-options");const l=rh.get(a);if(l){if(sh(n,l.options)&&sh(s,l.config))return l;throw ar.create("duplicate-app",{appName:a})}const c=new RO(a);for(const p of rg.values())c.addComponent(p);const h=new S3(n,s,c);return rh.set(a,h),h}function C3(e=sg){const t=rh.get(e);if(!t&&e===sg&&aA())return fA();if(!t)throw ar.create("no-app",{appName:e});return t}function vo(e,t,n){let s=y3[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}ah(new yu(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const A3="firebase-heartbeat-database",R3=1,vu="firebase-heartbeat-store";let ym=null;function hA(){return ym||(ym=BO(A3,R3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})})),ym}async function x3(e){try{const n=(await hA()).transaction(vu),s=await n.objectStore(vu).get(dA(e));return await n.done,s}catch(t){if(t instanceof Oo)ys.warn(t.message);else{const n=ar.create("idb-get",{originalErrorMessage:t?.message});ys.warn(n.message)}}}async function aS(e,t){try{const s=(await hA()).transaction(vu,"readwrite");await s.objectStore(vu).put(t,dA(e)),await s.done}catch(n){if(n instanceof Oo)ys.warn(n.message);else{const s=ar.create("idb-set",{originalErrorMessage:n?.message});ys.warn(s.message)}}}function dA(e){return`${e.name}!${e.options.appId}`}const D3=1024,w3=30;class M3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>w3){const a=P3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=oS(),{heartbeatsToSend:n,unsentEntries:s}=V3(this._heartbeatsCache.heartbeats),a=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function oS(){return new Date().toISOString().substring(0,10)}function V3(e,t=D3){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),lS(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lS(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vO()?_O().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return aS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return aS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function lS(e){return ih(JSON.stringify({version:2,heartbeats:e})).length}function P3(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function O3(e){ah(new yu("platform-logger",t=>new FO(t),"PRIVATE")),ah(new yu("heartbeat",t=>new M3(t),"PRIVATE")),vo(ig,sS,e),vo(ig,sS,"esm2020"),vo("fire-js","")}O3("");var N3="firebase",k3="12.9.0";vo(N3,k3,"app");var uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,pA;(function(){var e;function t(D,R){function x(){}x.prototype=R.prototype,D.F=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(I,P,B){for(var M=Array(arguments.length-2),te=2;te<arguments.length;te++)M[te-2]=arguments[te];return R.prototype[P].apply(I,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,x){x||(x=0);const I=Array(16);if(typeof R=="string")for(var P=0;P<16;++P)I[P]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(P=0;P<16;++P)I[P]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],P=D.g[2];let B=D.g[3],M;M=R+(B^x&(P^B))+I[0]+3614090360&4294967295,R=x+(M<<7&4294967295|M>>>25),M=B+(P^R&(x^P))+I[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(x^B&(R^x))+I[2]+606105819&4294967295,P=B+(M<<17&4294967295|M>>>15),M=x+(R^P&(B^R))+I[3]+3250441966&4294967295,x=P+(M<<22&4294967295|M>>>10),M=R+(B^x&(P^B))+I[4]+4118548399&4294967295,R=x+(M<<7&4294967295|M>>>25),M=B+(P^R&(x^P))+I[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(x^B&(R^x))+I[6]+2821735955&4294967295,P=B+(M<<17&4294967295|M>>>15),M=x+(R^P&(B^R))+I[7]+4249261313&4294967295,x=P+(M<<22&4294967295|M>>>10),M=R+(B^x&(P^B))+I[8]+1770035416&4294967295,R=x+(M<<7&4294967295|M>>>25),M=B+(P^R&(x^P))+I[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(x^B&(R^x))+I[10]+4294925233&4294967295,P=B+(M<<17&4294967295|M>>>15),M=x+(R^P&(B^R))+I[11]+2304563134&4294967295,x=P+(M<<22&4294967295|M>>>10),M=R+(B^x&(P^B))+I[12]+1804603682&4294967295,R=x+(M<<7&4294967295|M>>>25),M=B+(P^R&(x^P))+I[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(x^B&(R^x))+I[14]+2792965006&4294967295,P=B+(M<<17&4294967295|M>>>15),M=x+(R^P&(B^R))+I[15]+1236535329&4294967295,x=P+(M<<22&4294967295|M>>>10),M=R+(P^B&(x^P))+I[1]+4129170786&4294967295,R=x+(M<<5&4294967295|M>>>27),M=B+(x^P&(R^x))+I[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^x&(B^R))+I[11]+643717713&4294967295,P=B+(M<<14&4294967295|M>>>18),M=x+(B^R&(P^B))+I[0]+3921069994&4294967295,x=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(x^P))+I[5]+3593408605&4294967295,R=x+(M<<5&4294967295|M>>>27),M=B+(x^P&(R^x))+I[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^x&(B^R))+I[15]+3634488961&4294967295,P=B+(M<<14&4294967295|M>>>18),M=x+(B^R&(P^B))+I[4]+3889429448&4294967295,x=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(x^P))+I[9]+568446438&4294967295,R=x+(M<<5&4294967295|M>>>27),M=B+(x^P&(R^x))+I[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^x&(B^R))+I[3]+4107603335&4294967295,P=B+(M<<14&4294967295|M>>>18),M=x+(B^R&(P^B))+I[8]+1163531501&4294967295,x=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(x^P))+I[13]+2850285829&4294967295,R=x+(M<<5&4294967295|M>>>27),M=B+(x^P&(R^x))+I[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^x&(B^R))+I[7]+1735328473&4294967295,P=B+(M<<14&4294967295|M>>>18),M=x+(B^R&(P^B))+I[12]+2368359562&4294967295,x=P+(M<<20&4294967295|M>>>12),M=R+(x^P^B)+I[5]+4294588738&4294967295,R=x+(M<<4&4294967295|M>>>28),M=B+(R^x^P)+I[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^x)+I[11]+1839030562&4294967295,P=B+(M<<16&4294967295|M>>>16),M=x+(P^B^R)+I[14]+4259657740&4294967295,x=P+(M<<23&4294967295|M>>>9),M=R+(x^P^B)+I[1]+2763975236&4294967295,R=x+(M<<4&4294967295|M>>>28),M=B+(R^x^P)+I[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^x)+I[7]+4139469664&4294967295,P=B+(M<<16&4294967295|M>>>16),M=x+(P^B^R)+I[10]+3200236656&4294967295,x=P+(M<<23&4294967295|M>>>9),M=R+(x^P^B)+I[13]+681279174&4294967295,R=x+(M<<4&4294967295|M>>>28),M=B+(R^x^P)+I[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^x)+I[3]+3572445317&4294967295,P=B+(M<<16&4294967295|M>>>16),M=x+(P^B^R)+I[6]+76029189&4294967295,x=P+(M<<23&4294967295|M>>>9),M=R+(x^P^B)+I[9]+3654602809&4294967295,R=x+(M<<4&4294967295|M>>>28),M=B+(R^x^P)+I[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^x)+I[15]+530742520&4294967295,P=B+(M<<16&4294967295|M>>>16),M=x+(P^B^R)+I[2]+3299628645&4294967295,x=P+(M<<23&4294967295|M>>>9),M=R+(P^(x|~B))+I[0]+4096336452&4294967295,R=x+(M<<6&4294967295|M>>>26),M=B+(x^(R|~P))+I[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~x))+I[14]+2878612391&4294967295,P=B+(M<<15&4294967295|M>>>17),M=x+(B^(P|~R))+I[5]+4237533241&4294967295,x=P+(M<<21&4294967295|M>>>11),M=R+(P^(x|~B))+I[12]+1700485571&4294967295,R=x+(M<<6&4294967295|M>>>26),M=B+(x^(R|~P))+I[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~x))+I[10]+4293915773&4294967295,P=B+(M<<15&4294967295|M>>>17),M=x+(B^(P|~R))+I[1]+2240044497&4294967295,x=P+(M<<21&4294967295|M>>>11),M=R+(P^(x|~B))+I[8]+1873313359&4294967295,R=x+(M<<6&4294967295|M>>>26),M=B+(x^(R|~P))+I[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~x))+I[6]+2734768916&4294967295,P=B+(M<<15&4294967295|M>>>17),M=x+(B^(P|~R))+I[13]+1309151649&4294967295,x=P+(M<<21&4294967295|M>>>11),M=R+(P^(x|~B))+I[4]+4149444226&4294967295,R=x+(M<<6&4294967295|M>>>26),M=B+(x^(R|~P))+I[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~x))+I[2]+718787259&4294967295,P=B+(M<<15&4294967295|M>>>17),M=x+(B^(P|~R))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+B&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const x=R-this.blockSize,I=this.C;let P=this.h,B=0;for(;B<R;){if(P==0)for(;B<=x;)a(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<R;)if(I[P++]=D.charCodeAt(B++),P==this.blockSize){a(this,I),P=0;break}}else for(;B<R;)if(I[P++]=D[B++],P==this.blockSize){a(this,I),P=0;break}}this.h=P,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,x=0;x<4;++x)for(let I=0;I<32;I+=8)D[R++]=this.g[x]>>>I&255;return D};function l(D,R){var x=h;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function c(D,R){this.h=R;const x=[];let I=!0;for(let P=D.length-1;P>=0;P--){const B=D[P]|0;I&&B==R||(x[P]=B,I=!1)}this.g=x}var h={};function p(D){return-128<=D&&D<128?l(D,function(R){return new c([R|0],R<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return L(m(-D));const R=[];let x=1;for(let I=0;D>=x;I++)R[I]=D/x|0,x*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return L(y(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=m(Math.pow(R,8));let I=v;for(let B=0;B<D.length;B+=8){var P=Math.min(8,D.length-B);const M=parseInt(D.substring(B,B+P),R);P<8?(P=m(Math.pow(R,P)),I=I.j(P).add(m(M))):(I=I.j(x),I=I.add(m(M)))}return I}var v=p(0),E=p(1),C=p(16777216);e=c.prototype,e.m=function(){if(O(this))return-L(this).m();let D=0,R=1;for(let x=0;x<this.g.length;x++){const I=this.i(x);D+=(I>=0?I:4294967296+I)*R,R*=4294967296}return D},e.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(O(this))return"-"+L(this).toString(D);const R=m(Math.pow(D,6));var x=this;let I="";for(;;){const P=nt(x,R).g;x=H(x,P.j(R));let B=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=P,w(x))return B+I;for(;B.length<6;)B="0"+B;I=B+I}},e.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function O(D){return D.h==-1}e.l=function(D){return D=H(this,D),O(D)?-1:w(D)?0:1};function L(D){const R=D.g.length,x=[];for(let I=0;I<R;I++)x[I]=~D.g[I];return new c(x,~D.h).add(E)}e.abs=function(){return O(this)?L(this):this},e.add=function(D){const R=Math.max(this.g.length,D.g.length),x=[];let I=0;for(let P=0;P<=R;P++){let B=I+(this.i(P)&65535)+(D.i(P)&65535),M=(B>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);I=M>>>16,B&=65535,M&=65535,x[P]=M<<16|B}return new c(x,x[x.length-1]&-2147483648?-1:0)};function H(D,R){return D.add(L(R))}e.j=function(D){if(w(this)||w(D))return v;if(O(this))return O(D)?L(this).j(L(D)):L(L(this).j(D));if(O(D))return L(this.j(L(D)));if(this.l(C)<0&&D.l(C)<0)return m(this.m()*D.m());const R=this.g.length+D.g.length,x=[];for(var I=0;I<2*R;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(let P=0;P<D.g.length;P++){const B=this.i(I)>>>16,M=this.i(I)&65535,te=D.i(P)>>>16,he=D.i(P)&65535;x[2*I+2*P]+=M*he,$(x,2*I+2*P),x[2*I+2*P+1]+=B*he,$(x,2*I+2*P+1),x[2*I+2*P+1]+=M*te,$(x,2*I+2*P+1),x[2*I+2*P+2]+=B*te,$(x,2*I+2*P+2)}for(D=0;D<R;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=R;D<2*R;D++)x[D]=0;return new c(x,0)};function $(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function j(D,R){this.g=D,this.h=R}function nt(D,R){if(w(R))throw Error("division by zero");if(w(D))return new j(v,v);if(O(D))return R=nt(L(D),R),new j(L(R.g),L(R.h));if(O(R))return R=nt(D,L(R)),new j(L(R.g),R.h);if(D.g.length>30){if(O(D)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var x=E,I=R;I.l(D)<=0;)x=W(x),I=W(I);var P=at(x,1),B=at(I,1);for(I=at(I,2),x=at(x,2);!w(I);){var M=B.add(I);M.l(D)<=0&&(P=P.add(x),B=M),I=at(I,1),x=at(x,1)}return R=H(D,P.j(R)),new j(P,R)}for(P=v;D.l(R)>=0;){for(x=Math.max(1,Math.floor(D.m()/R.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),B=m(x),M=B.j(R);O(M)||M.l(D)>0;)x-=I,B=m(x),M=B.j(R);w(B)&&(B=E),P=P.add(B),D=H(D,M)}return new j(P,D)}e.B=function(D){return nt(this,D).h},e.and=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let I=0;I<R;I++)x[I]=this.i(I)&D.i(I);return new c(x,this.h&D.h)},e.or=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let I=0;I<R;I++)x[I]=this.i(I)|D.i(I);return new c(x,this.h|D.h)},e.xor=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let I=0;I<R;I++)x[I]=this.i(I)^D.i(I);return new c(x,this.h^D.h)};function W(D){const R=D.g.length+1,x=[];for(let I=0;I<R;I++)x[I]=D.i(I)<<1|D.i(I-1)>>>31;return new c(x,D.h)}function at(D,R){const x=R>>5;R%=32;const I=D.g.length-x,P=[];for(let B=0;B<I;B++)P[B]=R>0?D.i(B+x)>>>R|D.i(B+x+1)<<32-R:D.i(B+x);return new c(P,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,pA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,or=c}).apply(typeof uS<"u"?uS:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mA,Jl,gA,zf,ag,yA,vA,_A;(function(){var e,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var _=0;_<f.length;++_){var S=f[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)t:{var S=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var F=f[A];if(!(F in S))break t;S=S[F]}f=f[f.length-1],A=S[f],_=_(A),_!=A&&_!=null&&t(S,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var S=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&S.push([A,_[A]]);return S}});var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function p(f,_,S){return f.call.apply(f.bind,arguments)}function m(f,_,S){return m=p,m.apply(null,arguments)}function y(f,_){var S=Array.prototype.slice.call(arguments,1);return function(){var A=S.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function v(f,_){function S(){}S.prototype=_.prototype,f.Z=_.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(A,F,Y){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return _.prototype[F].apply(A,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const _=f.length;if(_>0){const S=Array(_);for(let A=0;A<_;A++)S[A]=f[A];return S}return[]}function w(f,_){for(let A=1;A<arguments.length;A++){const F=arguments[A];var S=typeof F;if(S=S!="object"?S:F?Array.isArray(F)?"array":S:"null",S=="array"||S=="object"&&typeof F.length=="number"){S=f.length||0;const Y=F.length||0;f.length=S+Y;for(let lt=0;lt<Y;lt++)f[S+lt]=F[lt]}else f.push(F)}}class O{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){c.setTimeout(()=>{throw f},0)}function H(){var f=D;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,S){const A=j.get();A.set(_,S),this.h?this.h.next=A:this.g=A,this.h=A}}var j=new O(()=>new nt,f=>f.reset());class nt{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let W,at=!1,D=new $,R=()=>{const f=Promise.resolve(void 0);W=()=>{f.then(x)}};function x(){for(var f;f=H();){try{f.h.call(f.g)}catch(S){L(S)}var _=j;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}at=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function te(f,_){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(te,P),te.prototype.init=function(f,_){const S=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(S=="mouseover"?_=f.fromElement:S=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),J=0;function ot(f,_,S,A,F){this.listener=f,this.proxy=null,this.src=_,this.type=S,this.capture=!!A,this.ha=F,this.key=++J,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,S){for(const A in f)_.call(S,f[A],A,f)}function Pt(f,_){for(const S in f)_.call(void 0,f[S],S,f)}function U(f){const _={};for(const S in f)_[S]=f[S];return _}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(f,_){let S,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(S in A)f[S]=A[S];for(let Y=0;Y<et.length;Y++)S=et[Y],Object.prototype.hasOwnProperty.call(A,S)&&(f[S]=A[S])}}function ft(f){this.src=f,this.g={},this.h=0}ft.prototype.add=function(f,_,S,A,F){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const lt=wt(f,_,A,F);return lt>-1?(_=f[lt],S||(_.fa=!1)):(_=new ot(_,this.src,Y,!!A,F),_.fa=S,f.push(_)),_};function St(f,_){const S=_.type;if(S in f.g){var A=f.g[S],F=Array.prototype.indexOf.call(A,_,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(ht(_),f.g[S].length==0&&(delete f.g[S],f.h--))}}function wt(f,_,S,A){for(let F=0;F<f.length;++F){const Y=f[F];if(!Y.da&&Y.listener==_&&Y.capture==!!S&&Y.ha==A)return F}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Oe={};function oe(f,_,S,A,F){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)oe(f,_[Y],S,A,F);return null}return S=jo(S),f&&f[he]?f.J(_,S,h(A)?!!A.capture:!1,F):vr(f,_,S,!1,A,F)}function vr(f,_,S,A,F,Y){if(!_)throw Error("Invalid event type");const lt=h(F)?!!F.capture:!!F;let Rt=_r(f);if(Rt||(f[Bt]=Rt=new ft(f)),S=Rt.add(_,S,A,lt,Y),S.proxy)return S;if(A=ma(),S.proxy=A,A.src=f,A.listener=S,f.addEventListener)B||(F=lt),F===void 0&&(F=!1),f.addEventListener(_.toString(),A,F);else if(f.attachEvent)f.attachEvent(gi(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ma(){function f(S){return _.call(f.src,f.listener,S)}const _=Bo;return f}function ga(f,_,S,A,F){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)ga(f,_[Y],S,A,F);else A=h(A)?!!A.capture:!!A,S=jo(S),f&&f[he]?(f=f.i,Y=String(_).toString(),Y in f.g&&(_=f.g[Y],S=wt(_,S,A,F),S>-1&&(ht(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete f.g[Y],f.h--)))):f&&(f=_r(f))&&(_=f.g[_.toString()],f=-1,_&&(f=wt(_,S,A,F)),(S=f>-1?_[f]:null)&&ya(S))}function ya(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[he])St(_.i,f);else{var S=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(S,A,f.capture):_.detachEvent?_.detachEvent(gi(S),A):_.addListener&&_.removeListener&&_.removeListener(A),(S=_r(_))?(St(S,f),S.h==0&&(S.src=null,_[Bt]=null)):ht(f)}}}function gi(f){return f in Oe?Oe[f]:Oe[f]="on"+f}function Bo(f,_){if(f.da)f=!0;else{_=new te(_,this);const S=f.listener,A=f.ha||f.src;f.fa&&ya(f),f=S.call(A,_)}return f}function _r(f){return f=f[Bt],f instanceof ft?f:null}var zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function jo(f){return typeof f=="function"?f:(f[zo]||(f[zo]=function(_){return f.handleEvent(_)}),f[zo])}function Ee(){I.call(this),this.i=new ft(this),this.M=this,this.G=null}v(Ee,I),Ee.prototype[he]=!0,Ee.prototype.removeEventListener=function(f,_,S,A){ga(this,f,_,S,A)};function Ne(f,_){var S,A=f.G;if(A)for(S=[];A;A=A.G)S.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new P(_,f);else if(_ instanceof P)_.target=_.target||f;else{var F=_;_=new P(A,f),ut(_,F)}F=!0;let Y,lt;if(S)for(lt=S.length-1;lt>=0;lt--)Y=_.g=S[lt],F=Es(Y,A,!0,_)&&F;if(Y=_.g=f,F=Es(Y,A,!0,_)&&F,F=Es(Y,A,!1,_)&&F,S)for(lt=0;lt<S.length;lt++)Y=_.g=S[lt],F=Es(Y,A,!1,_)&&F}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const S=f.g[_];for(let A=0;A<S.length;A++)ht(S[A]);delete f.g[_],f.h--}}this.G=null},Ee.prototype.J=function(f,_,S,A){return this.i.add(String(f),_,!1,S,A)},Ee.prototype.K=function(f,_,S,A){return this.i.add(String(f),_,!0,S,A)};function Es(f,_,S,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let Y=0;Y<_.length;++Y){const lt=_[Y];if(lt&&!lt.da&&lt.capture==S){const Rt=lt.listener,ye=lt.ha||lt.src;lt.fa&&St(f.i,lt),F=Rt.call(ye,A)!==!1&&F}}return F&&!A.defaultPrevented}function jh(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function Uu(f){f.g=jh(()=>{f.g=null,f.i&&(f.i=!1,Uu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class cn extends I{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(f){I.call(this),this.h=f,this.g={}}v(Tr,I);var Fo=[];function Ho(f){Dt(f.g,function(_,S){this.g.hasOwnProperty(S)&&ya(_)},f),f.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Ho(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=c.JSON.stringify,Fh=c.JSON.parse,Bu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function zu(){}function ju(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){P.call(this,"d")}v($e,P);function On(){P.call(this,"c")}v(On,P);var ge={},Fu=null;function va(){return Fu=Fu||new Ee}ge.Ia="serverreachability";function Hu(f){P.call(this,ge.Ia,f)}v(Hu,P);function yi(f){const _=va();Ne(_,new Hu(_))}ge.STAT_EVENT="statevent";function Er(f,_){P.call(this,ge.STAT_EVENT,f),this.stat=_}v(Er,P);function Se(f){const _=va();Ne(_,new Er(_,f))}ge.Ja="timingevent";function vi(f,_){P.call(this,ge.Ja,f),this.size=_}v(vi,P);function _i(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Hh(f,_,S,A,F,Y){f.info(function(){if(f.g)if(Y){var lt="",Rt=Y.split("&");for(let qt=0;qt<Rt.length;qt++){var ye=Rt[qt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const Un=le.split("_");lt=Un.length>=2&&Un[1]=="type"?lt+(le+"="+ye+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+_+`
`+S+`
`+lt})}function qu(f,_,S,A,F,Y,lt){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+_+`
`+S+`
`+Y+" "+lt})}function Ti(f,_,S,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+qh(f,S)+(A?" "+A:"")})}function Sr(f,_){f.info(function(){return"TIMEOUT: "+_})}Wn.prototype.info=function(){};function qh(f,_){if(!f.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var S=Y[f];if(!(S.length<2)){var A=S[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let lt=1;lt<A.length;lt++)A[lt]=""}}}}return Ss(Y)}catch{return _}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Cr(){}v(Cr,zu),Cr.prototype.g=function(){return new XMLHttpRequest},Go=new Cr;function Yi(f){return encodeURIComponent(String(f))}function Gu(f){var _=1;f=f.split(":");const S=[];for(;_>0&&f.length;)S.push(f.shift()),_--;return f.length&&S.push(f.join(":")),S}function ti(f,_,S,A){this.j=f,this.i=_,this.l=S,this.S=A||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var be={},Fe={};function Ei(f,_,S){f.M=1,f.A=Ar(Ae(_)),f.u=S,f.R=!0,_a(f,null)}function _a(f,_){f.F=Date.now(),Si(f),f.B=Ae(f.A);var S=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),ba(S.i,"t",A),f.C=0,S=f.j.L,f.h=new ei,f.g=ac(f.j,S?_:null,!f.u),f.P>0&&(f.O=new cn(m(f.Y,f,f.g),f.P)),_=f.V,S=f.g,A=f.ba;var F="readystatechange";Array.isArray(F)||(F&&(Fo[0]=F.toString()),F=Fo);for(let Y=0;Y<F.length;Y++){const lt=oe(S,F[Y],A||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),yi(),Hh(f.i,f.v,f.B,f.l,f.S,f.u)}ti.prototype.ba=function(f){f=f.target;const _=this.O;_&&si(f)==3?_.j():this.Y(f)},ti.prototype.Y=function(f){try{if(f==this.g)t:{const Rt=si(this.g),ye=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||ye==7||(ye==8||qt<=0?yi(3):yi(2)),bi(this);var _=this.g.ca();this.X=_;var S=Gh(this);if(this.o=_==200,qu(this.i,this.v,this.B,this.l,this.S,Rt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(A)){var Y=A;break e}}Y=null}if(f=Y)Ti(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,f);else{this.o=!1,this.m=3,Se(12),An(this),Nn(this);break t}}if(this.R){f=!0;let le;for(;!this.K&&this.C<S.length;)if(le=Ku(this,S),le==Fe){Rt==4&&(this.m=4,Se(14),f=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(le==be){this.m=4,Se(15),Ti(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Ti(this.i,this.l,le,null),Ci(this,le);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||S.length!=0||this.h.h||(this.m=1,Se(16),f=!1),this.o=this.o&&f,!f)Ti(this.i,this.l,S,"[Invalid Chunked Response]"),An(this),Nn(this);else if(S.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),al(lt),lt.P=!0,Se(11))}}else Ti(this.i,this.l,S,null),Ci(this,S);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?nc(this.j,this):(this.o=!1,Si(this)))}else Xi(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),An(this),Nn(this)}}}catch{}};function Gh(f){if(!$u(f))return f.g.la();const _=Ke(f.g);if(_==="")return"";let S="";const A=_.length,F=si(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return An(f),Nn(f),"";f.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)f.h.h=!0,S+=f.h.i.decode(_[Y],{stream:!(F&&Y==A-1)});return _.length=0,f.h.g+=S,f.C=0,f.h.g}function $u(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ku(f,_){var S=f.C,A=_.indexOf(`
`,S);return A==-1?Fe:(S=Number(_.substring(S,A)),isNaN(S)?be:(A+=1,A+S>_.length?Fe:(_=_.slice(A,A+S),f.C=A+S,_)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Si(f){f.T=Date.now()+f.H,Ta(f,f.H)}function Ta(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=_i(m(f.aa,f),_)}function bi(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(yi(),Se(17)),An(this),this.m=2,Nn(this)):Ta(this,this.T-f)};function Nn(f){f.j.I==0||f.K||nc(f.j,f)}function An(f){bi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Ho(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Ci(f,_){try{var S=f.j;if(S.I!=0&&(S.g==f||Ri(S.h,f))){if(!f.L&&Ri(S.h,f)&&S.I==3){try{var A=S.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)Da(S),Ms(S);else break t;Ir(S),Se(18)}}else S.xa=F[1],0<S.xa-S.K&&F[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=_i(m(S.Va,S),6e3));Ai(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ii(S,11)}else if((f.L||S.g==f)&&Da(S),!M(_))for(F=S.Ba.g.parse(_),_=0;_<F.length;_++){let qt=F[_];const le=qt[0];if(!(le<=S.K))if(S.K=le,qt=qt[1],S.I==2)if(qt[0]=="c"){S.M=qt[1],S.ba=qt[2];const Un=qt[3];Un!=null&&(S.ka=Un,S.j.info("VER="+S.ka));const Pi=qt[4];Pi!=null&&(S.za=Pi,S.j.info("SVER="+S.za));const ri=qt[5];ri!=null&&typeof ri=="number"&&ri>0&&(A=1.5*ri,S.O=A,S.j.info("backChannelRequestTimeoutMs_="+A)),A=S;const ai=f.g;if(ai){const Pr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var Y=A.h;Y.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yo(Y,Y.h),Y.h=null))}if(A.G){const wa=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Kt(A.J,A.G,wa))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),A=S;var lt=f;if(A.na=rc(A,A.L?A.ba:null,A.W),lt.L){Qo(A.h,lt);var Rt=lt,ye=A.O;ye&&(Rt.H=ye),Rt.D&&(bi(Rt),Si(Rt)),A.g=lt}else tc(A);S.i.length>0&&Vi(S)}else qt[0]!="stop"&&qt[0]!="close"||Ii(S,7);else S.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ii(S,7):sl(S):qt[0]!="noop"&&S.l&&S.l.qa(qt),S.A=0)}}yi(4)}catch{}}var Ce=class{constructor(f,_){this.g=f,this.map=_}};function $o(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ai(f){return f.h?1:f.g?f.g.size:0}function Ri(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Yo(f,_){f.g?f.g.add(_):f.h=_}function Qo(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}$o.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const S of f.g.values())_=_.concat(S.G);return _}return C(f.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(f,_){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const A=f[S].indexOf("=");let F,Y=null;A>=0?(F=f[S].substring(0,A),Y=f[S].substring(A+1)):F=f[S],_(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Rn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Rn?(this.l=f.l,He(this,f.j),this.o=f.o,this.g=f.g,bs(this,f.u),this.h=f.h,Jo(this,Zu(f.i)),this.m=f.m):f&&(_=String(f).match(Yu))?(this.l=!1,He(this,_[1]||"",!0),this.o=xi(_[2]||""),this.g=xi(_[3]||"",!0),bs(this,_[4]),this.h=xi(_[5]||"",!0),Jo(this,_[6]||"",!0),this.m=xi(_[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Rn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Rr(_,Sa,!0),":");var S=this.g;return(S||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Rr(_,Sa,!0),"@"),f.push(Yi(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Rr(S,S.charAt(0)=="/"?Zo:Qu,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Rr(S,Xu)),f.join("")},Rn.prototype.resolve=function(f){const _=Ae(this);let S=!!f.j;S?He(_,f.j):S=!!f.o,S?_.o=f.o:S=!!f.g,S?_.g=f.g:S=f.u!=null;var A=f.h;if(S)bs(_,f.u);else if(S=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=_.h.lastIndexOf("/");F!=-1&&(A=_.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let lt=0;lt<F.length;){const Rt=F[lt++];Rt=="."?A&&lt==F.length&&Y.push(""):Rt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&lt==F.length&&Y.push("")):(Y.push(Rt),A=!0)}A=Y.join("/")}else A=F}return S?_.h=A:S=f.i.toString()!=="",S?Jo(_,Zu(f.i)):S=!!f.m,S&&(_.m=f.m),_};function Ae(f){return new Rn(f)}function He(f,_,S){f.j=S?xi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function bs(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Jo(f,_,S){_ instanceof As?(f.i=_,Ca(f.i,f.l)):(S||(_=Rr(_,Cs)),f.i=new As(_,f.l))}function Kt(f,_,S){f.i.set(_,S)}function Ar(f){return Kt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Rr(f,_,S){return typeof f=="string"?(f=encodeURI(f).replace(_,gn),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function gn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Sa=/[#\/\?@]/g,Qu=/[#\?:]/g,Zo=/[#\?]/g,Cs=/[#\?@]/g,Xu=/#/g;function As(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function yn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ea(f.i,function(_,S){f.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}e=As.prototype,e.add=function(f,_){yn(this),this.i=null,f=Rs(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(_),this.h+=1,this};function Ju(f,_){yn(f),_=Rs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Wo(f,_){return yn(f),_=Rs(f,_),f.g.has(_)}e.forEach=function(f,_){yn(this),this.g.forEach(function(S,A){S.forEach(function(F){f.call(_,F,A,this)},this)},this)};function tl(f,_){yn(f);let S=[];if(typeof _=="string")Wo(f,_)&&(S=S.concat(f.g.get(Rs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)S=S.concat(f[_]);return S}e.set=function(f,_){return yn(this),this.i=null,f=Rs(this,f),Wo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},e.get=function(f,_){return f?(f=tl(this,f),f.length>0?String(f[0]):_):_};function ba(f,_,S){Ju(f,_),S.length>0&&(f.i=null,f.g.set(Rs(f,_),C(S)),f.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var S=_[A];const F=Yi(S);S=tl(this,S);for(let Y=0;Y<S.length;Y++){let lt=F;S[Y]!==""&&(lt+="="+Yi(S[Y])),f.push(lt)}}return this.i=f.join("&")};function Zu(f){const _=new As;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Rs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ca(f,_){_&&!f.j&&(yn(f),f.i=null,f.g.forEach(function(S,A){const F=A.toLowerCase();A!=F&&(Ju(this,A),ba(this,F,S))},f)),f.j=_}function ni(f,_){const S=new Wn;if(c.Image){const A=new Image;A.onload=y(kn,S,"TestLoadImage: loaded",!0,_,A),A.onerror=y(kn,S,"TestLoadImage: error",!1,_,A),A.onabort=y(kn,S,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(kn,S,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function el(f,_){const S=new Wn,A=new AbortController,F=setTimeout(()=>{A.abort(),kn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?kn(S,"TestPingServer: ok",!0,_):kn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),kn(S,"TestPingServer: error",!1,_)})}function kn(f,_,S,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(S)}catch{}}function xs(){this.g=new Bu}function Di(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Di,zu),Di.prototype.g=function(){return new xr(this.i,this.h)};function xr(f,_){Ee.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(xr,Ee),e=xr.prototype,e.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,ii(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ds(this):ii(this),this.readyState==3&&Aa(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,Ds(this))},e.Na=function(f){this.g&&(this.response=f,Ds(this))},e.ga=function(){this.g&&Ds(this)};function Ds(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ii(f)}e.setRequestHeader=function(f,_){this.A.append(f,_)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=_.next();return f.join(`\r
`)};function ii(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ln(f){let _="";return Dt(f,function(S,A){_+=A,_+=":",_+=S,_+=`\r
`}),_}function Dr(f,_,S){t:{for(A in S){var A=!1;break t}A=!0}A||(S=Ln(S),typeof f=="string"?S!=null&&Yi(S):Kt(f,_,S))}function Xt(f){Ee.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Xt,Ee);var wi=/^https?$/i,nl=["POST","PUT"];e=Xt.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,_,S,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){wr(this,Y);return}if(f=S||"",S=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)S.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())S.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(S.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(nl,_,void 0)>=0)||A||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of S)this.g.setRequestHeader(Y,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){wr(this,Y)}};function wr(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,il(f),Qi(f)}function il(f){f.A||(f.A=!0,Ne(f,"complete"),Ne(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ne(this,"complete"),Ne(this,"abort"),Qi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Xt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},e.Xa=function(){Mr(this)};function Mr(f){if(f.h&&typeof l<"u"){if(f.v&&si(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ne(f,"readystatechange"),si(f)==4){f.h=!1;try{const Y=f.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var S;if(!(S=_)){var A;if(A=Y===0){let lt=String(f.D).match(Yu)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),A=!wi.test(lt?lt.toLowerCase():"")}S=A}if(S)Ne(f,"complete"),Ne(f,"success");else{f.o=6;try{var F=si(f)>2?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.ca()+"]",il(f)}}finally{Qi(f)}}}}function Qi(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,_||Ne(f,"ready");try{S.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function si(f){return f.g?f.g.readyState:0}e.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Fh(_)}};function Ke(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(f){const _={};f=(f.g&&si(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(M(f[A]))continue;var S=Gu(f[A]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Y=_[F]||[];_[F]=Y,Y.push(S)}Pt(_,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(f,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||_}function ws(f){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,f),this.Za=Mi("retryDelaySeedMs",1e4,f),this.Ta=Mi("forwardChannelMaxRetries",2,f),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(f&&f.concurrentRequestLimit),this.Ba=new xs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ws.prototype,e.ka=8,e.I=1,e.connect=function(f,_,S,A){Se(0),this.W=f,this.H=_||{},S&&A!==void 0&&(this.H.OSID=S,this.H.OAID=A),this.F=this.X,this.J=rc(this,null,this.W),Vi(this)};function sl(f){if(Ra(f),f.I==3){var _=f.V++,S=Ae(f.J);if(Kt(S,"SID",f.M),Kt(S,"RID",_),Kt(S,"TYPE","terminate"),Vr(f,S),_=new ti(f,f.j,_),_.M=2,_.A=Ar(Ae(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=ac(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Si(_)}sc(f)}function Ms(f){f.g&&(al(f),f.g.cancel(),f.g=null)}function Ra(f){Ms(f),f.v&&(c.clearTimeout(f.v),f.v=null),Da(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Vi(f){if(!Ko(f.h)&&!f.m){f.m=!0;var _=f.Ea;W||R(),at||(W(),at=!0),D.add(_,f),f.D=0}}function xa(f,_){return Ai(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=_i(m(f.Ea,f,_),ic(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const F=new ti(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=U(Y),ut(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)t:{for(var _=0,S=0;S<this.i.length;S++){e:{var A=this.i[S];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=S;break t}if(_===4096||S===this.i.length-1){_=S+1;break t}}_=1e3}else _=1e3;_=Wu(this,F,_),S=Ae(this.J),Kt(S,"RID",f),Kt(S,"CVER",22),this.G&&Kt(S,"X-HTTP-Session-Id",this.G),Vr(this,S),Y&&(this.R?_="headers="+Yi(Ln(Y))+"&"+_:this.u&&Dr(S,this.u,Y)),Yo(this.h,F),this.Ra&&Kt(S,"TYPE","init"),this.S?(Kt(S,"$req",_),Kt(S,"SID","null"),F.U=!0,Ei(F,S,null)):Ei(F,S,_),this.I=2}}else this.I==3&&(f?rl(this,f):this.i.length==0||Ko(this.h)||rl(this))};function rl(f,_){var S;_?S=_.l:S=f.V++;const A=Ae(f.J);Kt(A,"SID",f.M),Kt(A,"RID",S),Kt(A,"AID",f.K),Vr(f,A),f.u&&f.o&&Dr(A,f.u,f.o),S=new ti(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Wu(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Yo(f.h,S),Ei(S,A,_)}function Vr(f,_){f.H&&Dt(f.H,function(S,A){Kt(_,A,S)}),f.l&&Dt({},function(S,A){Kt(_,A,S)})}function Wu(f,_,S){S=Math.min(f.i.length,S);const A=f.l?m(f.l.Ka,f.l,f):null;t:{var F=f.i;let Rt=-1;for(;;){const ye=["count="+S];Rt==-1?S>0?(Rt=F[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let qt=!0;for(let le=0;le<S;le++){var Y=F[le].g;const Un=F[le].map;if(Y-=Rt,Y<0)Rt=Math.max(0,F[le].g-100),qt=!1;else try{Y="req"+Y+"_"||"";try{var lt=Un instanceof Map?Un:Object.entries(Un);for(const[Pi,ri]of lt){let ai=ri;h(ri)&&(ai=Ss(ri)),ye.push(Y+Pi+"="+encodeURIComponent(ai))}}catch(Pi){throw ye.push(Y+"type="+encodeURIComponent("_badmap")),Pi}}catch{A&&A(Un)}}if(qt){lt=ye.join("&");break t}}lt=void 0}return f=f.i.splice(0,S),_.G=f,lt}function tc(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;W||R(),at||(W(),at=!0),D.add(_,f),f.A=0}}function Ir(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=_i(m(f.Da,f),ic(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=_i(m(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ms(this),ec(this))};function al(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function ec(f){f.g=new ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ae(f.na);Kt(_,"RID","rpc"),Kt(_,"SID",f.M),Kt(_,"AID",f.K),Kt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Kt(_,"TO",f.ia),Kt(_,"TYPE","xmlhttp"),Vr(f,_),f.u&&f.o&&Dr(_,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=Ar(Ae(_)),S.u=null,S.R=!0,_a(S,f)}e.Va=function(){this.C!=null&&(this.C=null,Ms(this),Ir(this),Se(19))};function Da(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function nc(f,_){var S=null;if(f.g==_){Da(f),al(f),f.g=null;var A=2}else if(Ri(f.h,_))S=_.G,Qo(f.h,_),A=1;else return;if(f.I!=0){if(_.o)if(A==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var F=f.D;A=va(),Ne(A,new vi(A,S)),Vi(f)}else tc(f);else if(F=_.m,F==3||F==0&&_.X>0||!(A==1&&xa(f,_)||A==2&&Ir(f)))switch(S&&S.length>0&&(_=f.h,_.i=_.i.concat(S)),F){case 1:Ii(f,5);break;case 4:Ii(f,10);break;case 3:Ii(f,6);break;default:Ii(f,2)}}}function ic(f,_){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*_}function Ii(f,_){if(f.j.info("Error code "+_),_==2){var S=m(f.bb,f),A=f.Ua;const F=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||He(A,"https"),Ar(A),F?ni(A.toString(),S):el(A.toString(),S)}else Se(2);f.I=0,f.l&&f.l.pa(_),sc(f),Ra(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function sc(f){if(f.I=0,f.ja=[],f.l){const _=Xo(f.h);(_.length!=0||f.i.length!=0)&&(w(f.ja,_),w(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function rc(f,_,S){var A=S instanceof Rn?Ae(S):new Rn(S);if(A.g!="")_&&(A.g=_+"."+A.g),bs(A,A.u);else{var F=c.location;A=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const Y=new Rn(null);A&&He(Y,A),_&&(Y.g=_),F&&bs(Y,F),S&&(Y.h=S),A=Y}return S=f.G,_=f.wa,S&&_&&Kt(A,S,_),Kt(A,"VER",f.ka),Vr(f,A),A}function ac(f,_,S){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Xt(new Di({ab:S})):new Xt(f.ma),_.Fa(f.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}e=oc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Vs(){}Vs.prototype.g=function(f,_){return new fn(f,_)};function fn(f,_){Ee.call(this),this.g=new ws(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!M(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ji(this)}v(fn,Ee),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){sl(this.g)},fn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=Ss(f),f=S);_.i.push(new Ce(_.Ya++,f)),_.I==3&&Vi(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,fn.Z.N.call(this)};function lc(f){$e.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const S in _){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(lc,$e);function uc(){On.call(this),this.status=1}v(uc,On);function Ji(f){this.g=f}v(Ji,oc),Ji.prototype.ra=function(){Ne(this.g,"a")},Ji.prototype.qa=function(f){Ne(this.g,new lc(f))},Ji.prototype.pa=function(f){Ne(this.g,new uc)},Ji.prototype.oa=function(){Ne(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,_A=function(){return new Vs},vA=function(){return va()},yA=ge,ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,zf=br,qo.COMPLETE="complete",gA=qo,ju.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Jl=ju,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,mA=Xt}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let No="12.9.0";function L3(e){No=e}const sa=new lA("@firebase/firestore");function ao(){return sa.logLevel}function ct(e,...t){if(sa.logLevel<=jt.DEBUG){const n=t.map(py);sa.debug(`Firestore (${No}): ${e}`,...n)}}function vs(e,...t){if(sa.logLevel<=jt.ERROR){const n=t.map(py);sa.error(`Firestore (${No}): ${e}`,...n)}}function ra(e,...t){if(sa.logLevel<=jt.WARN){const n=t.map(py);sa.warn(`Firestore (${No}): ${e}`,...n)}}function py(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Et(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,TA(e,s,n)}function TA(e,t,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vs(s),new Error(s)}function $t(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||TA(t,a,s)}function At(e,t){return e}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Oo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class EA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class U3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class B3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class z3{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new na;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new na,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},h=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new na)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new EA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class j3{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F3{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new j3(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,T3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=l=>{l.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class my{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=q3(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function og(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return vm(a)===vm(l)?kt(a,l):vm(a)?1:-1}return kt(e.length,t.length)}const G3=55296,$3=57343;function vm(e){const t=e.charCodeAt(0);return t>=G3&&t<=$3}function Ao(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const fS="__name__";class Bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Bi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const s=Bi.isNumericId(t),a=Bi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Bi.extractNumericId(t).compare(Bi.extractNumericId(n)):og(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class re extends Bi{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new re(n)}static emptyPath(){return new re([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Bi{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return K3.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fS}static keyField(){return new tn([fS])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new yt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new yt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new yt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(re.fromString(t))}static fromName(t){return new _t(re.fromString(t).popFirst(5))}static empty(){return new _t(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new re(t.slice()))}}function SA(e,t,n){if(!n)throw new yt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Y3(e,t,n,s){if(t===!0&&s===!0)throw new yt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hS(e){if(!_t.isDocumentKey(e))throw new yt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dS(e){if(_t.isDocumentKey(e))throw new yt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function bA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function gy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function _o(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gy(e);throw new yt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function Pu(e,t){if(!bA(e))throw new yt(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new yt(rt.INVALID_ARGUMENT,n);return!0}const pS=-62135596800,mS=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*mS);return new ae(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pS)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mS}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Pe("string",ae._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ae(0,0))}static max(){return new bt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function Q3(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=bt.fromTimestamp(s===1e9?new ae(n+1,0):new ae(n,s));return new fr(a,_t.empty(),t)}function X3(e){return new fr(e.readTime,e.key,_u)}class fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new fr(bt.min(),_t.empty(),_u)}static max(){return new fr(bt.max(),_t.empty(),_u)}}function J3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ko(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==Z3)throw e;ct("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let a=0,l=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(p=>s(p)))})),c=!0,l===a&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((a=>a?it.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,a)=>{const l=t.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;n(t[m]).next((y=>{c[m]=y,++h,h===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new it(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function t6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(e){return e.name==="IndexedDbTransactionError"}class xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xh.ce=-1;const yy=-1;function Dh(e){return e==null}function oh(e){return e===0&&1/e==-1/0}function e6(e){return typeof e=="number"&&Number.isInteger(e)&&!oh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const CA="";function n6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gS(t)),t=i6(e.get(n),t);return gS(t)}function i6(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case CA:n+="";break;default:n+=l}}return n}function gS(e){return e+CA+""}function yS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function AA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tf(this.root,t,this.comparator,!0)}}class Tf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??We.RED,this.left=a??We.EMPTY,this.right=l??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new We(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return We.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vS(this.data.getIterator())}getIteratorFrom(t){return new vS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new je(this.comparator);return n.data=t,n}}class vS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new hi([])}unionWith(t){let n=new je(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new hi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class RA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new RA("Invalid base64 string: "+l):l}})(t);return new en(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const s6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(e){if($t(!!e,39018),typeof e=="string"){let t=0;const n=s6.exec(e);if($t(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dr(e){return typeof e=="string"?en.fromBase64String(e):en.fromUint8Array(e)}const xA="server_timestamp",DA="__type__",wA="__previous_value__",MA="__local_write_time__";function vy(e){return(e?.mapValue?.fields||{})[DA]?.stringValue===xA}function wh(e){const t=e.mapValue.fields[wA];return vy(t)?wh(t):t}function Tu(e){const t=hr(e.mapValue.fields[MA].timestampValue);return new ae(t.seconds,t.nanos)}class r6{constructor(t,n,s,a,l,c,h,p,m,y,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const lh="(default)";class Eu{constructor(t,n){this.projectId=t,this.database=n||lh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Eu&&t.projectId===this.projectId&&t.database===this.database}}function a6(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(e.options.projectId,t)}const VA="__type__",o6="__max__",Ef={mapValue:{}},IA="__vector__",uh="value";function pr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vy(e)?4:u6(e)?9007199254740991:l6(e)?10:11:Et(28295,{value:e})}function $i(e,t){if(e===t)return!0;const n=pr(e);if(n!==pr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tu(e).isEqual(Tu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=hr(a.timestampValue),h=hr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return dr(a.bytesValue).isEqual(dr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Te(a.geoPointValue.latitude)===Te(l.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Te(a.integerValue)===Te(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Te(a.doubleValue),h=Te(l.doubleValue);return c===h?oh(c)===oh(h):isNaN(c)&&isNaN(h)}return!1})(e,t);case 9:return Ao(e.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(yS(c)!==yS(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!$i(c[p],h[p])))return!1;return!0})(e,t);default:return Et(52216,{left:e})}}function Su(e,t){return(e.values||[]).find((n=>$i(n,t)))!==void 0}function Ro(e,t){if(e===t)return 0;const n=pr(e),s=pr(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const h=Te(l.integerValue||l.doubleValue),p=Te(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(e,t);case 3:return _S(e.timestampValue,t.timestampValue);case 4:return _S(Tu(e),Tu(t));case 5:return og(e.stringValue,t.stringValue);case 6:return(function(l,c){const h=dr(l),p=dr(c);return h.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=kt(h[m],p[m]);if(y!==0)return y}return kt(h.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const h=kt(Te(l.latitude),Te(c.latitude));return h!==0?h:kt(Te(l.longitude),Te(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return TS(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const h=l.fields||{},p=c.fields||{},m=h[uh]?.arrayValue,y=p[uh]?.arrayValue,v=kt(m?.values?.length||0,y?.values?.length||0);return v!==0?v:TS(m,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Ef.mapValue&&c===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const E=og(p[v],y[v]);if(E!==0)return E;const C=Ro(h[p[v]],m[y[v]]);if(C!==0)return C}return kt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function _S(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=hr(e),s=hr(t),a=kt(n.seconds,s.seconds);return a!==0?a:kt(n.nanos,s.nanos)}function TS(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ro(n[a],s[a]);if(l)return l}return kt(n.length,s.length)}function xo(e){return lg(e)}function lg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=hr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return dr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return _t.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=lg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${lg(n.fields[c])}`;return a+"}"})(e.mapValue):Et(61005,{value:e})}function jf(e){switch(pr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wh(e);return t?16+jf(t):16;case 5:return 2*e.stringValue.length;case 6:return dr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+jf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return fa(s.fields,((l,c)=>{a+=l.length+jf(c)})),a})(e.mapValue);default:throw Et(13486,{value:e})}}function ug(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function ES(e){return!!e&&"nullValue"in e}function SS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ff(e){return!!e&&"mapValue"in e}function l6(e){return(e?.mapValue?.fields||{})[VA]?.stringValue===IA}function au(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return fa(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=au(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=au(e.arrayValue.values[n]);return t}return{...e}}function u6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===o6}class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ff(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(n)}setAll(t){let n=tn.emptyPath(),s={},a=[];t.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=au(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){fa(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Kn(au(this.value))}}function PA(e){const t=[];return fa(e.fields,((n,s)=>{const a=new tn([n]);if(Ff(s)){const l=PA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new hi(t)}class on{constructor(t,n,s,a,l,c,h){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),Kn.empty(),0)}static newFoundDocument(t,n,s,a){return new on(t,1,n,bt.min(),s,a,0)}static newNoDocument(t,n){return new on(t,2,n,bt.min(),bt.min(),Kn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,bt.min(),bt.min(),Kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(t,n){this.position=t,this.inclusive=n}}function bS(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=_t.comparator(_t.fromName(c.referenceValue),n.key):s=Ro(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function CS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$i(e.position[n],t.position[n]))return!1;return!0}class fh{constructor(t,n="asc"){this.field=t,this.dir=n}}function c6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class OA{}class Ue extends OA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new h6(t,n,s):n==="array-contains"?new m6(t,s):n==="in"?new g6(t,s):n==="not-in"?new y6(t,s):n==="array-contains-any"?new v6(t,s):new Ue(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new d6(t,s):new p6(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends OA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ki(t,n)}matches(t){return NA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NA(e){return e.op==="and"}function kA(e){return f6(e)&&NA(e)}function f6(e){for(const t of e.filters)if(t instanceof Ki)return!1;return!0}function cg(e){if(e instanceof Ue)return e.field.canonicalString()+e.op.toString()+xo(e.value);if(kA(e))return e.filters.map((t=>cg(t))).join(",");{const t=e.filters.map((n=>cg(n))).join(",");return`${e.op}(${t})`}}function LA(e,t){return e instanceof Ue?(function(s,a){return a instanceof Ue&&s.op===a.op&&s.field.isEqual(a.field)&&$i(s.value,a.value)})(e,t):e instanceof Ki?(function(s,a){return a instanceof Ki&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&LA(c,a.filters[h])),!0):!1})(e,t):void Et(19439)}function UA(e){return e instanceof Ue?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(e):e instanceof Ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(UA).join(" ,")+"}"})(e):"Filter"}class h6 extends Ue{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class d6 extends Ue{constructor(t,n){super(t,"in",n),this.keys=BA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class p6 extends Ue{constructor(t,n){super(t,"not-in",n),this.keys=BA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function BA(e,t){return(t.arrayValue?.values||[]).map((n=>_t.fromName(n.referenceValue)))}class m6 extends Ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _y(n)&&Su(n.arrayValue,this.value)}}class g6 extends Ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class y6 extends Ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class v6 extends Ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Su(this.value.arrayValue,s)))}}class _6{constructor(t,n=null,s=[],a=[],l=null,c=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function AS(e,t=null,n=[],s=[],a=null,l=null,c=null){return new _6(e,t,n,s,a,l,c)}function Ty(e){const t=At(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>cg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Dh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>xo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>xo(s))).join(",")),t.Te=n}return t.Te}function Ey(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!c6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!LA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!CS(e.startAt,t.startAt)&&CS(e.endAt,t.endAt)}function fg(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Mh{constructor(t,n=null,s=[],a=[],l=null,c="F",h=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function T6(e,t,n,s,a,l,c,h){return new Mh(e,t,n,s,a,l,c,h)}function Sy(e){return new Mh(e)}function RS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function E6(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function S6(e){return e.collectionGroup!==null}function ou(e){const t=At(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new je(tn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new fh(l,s))})),n.has(tn.keyField().canonicalString())||t.Ie.push(new fh(tn.keyField(),s))}return t.Ie}function ji(e){const t=At(e);return t.Ee||(t.Ee=b6(t,ou(e))),t.Ee}function b6(e,t){if(e.limitType==="F")return AS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new fh(a.field,l)}));const n=e.endAt?new ch(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ch(e.startAt.position,e.startAt.inclusive):null;return AS(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function hg(e,t,n){return new Mh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vh(e,t){return Ey(ji(e),ji(t))&&e.limitType===t.limitType}function zA(e){return`${Ty(ji(e))}|lt:${e.limitType}`}function oo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>UA(a))).join(", ")}]`),Dh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>xo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>xo(a))).join(",")),`Target(${s})`})(ji(e))}; limitType=${e.limitType})`}function Ih(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_t.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,h,p){const m=bS(c,h,p);return c.inclusive?m<=0:m<0})(s.startAt,ou(s),a)||s.endAt&&!(function(c,h,p){const m=bS(c,h,p);return c.inclusive?m>=0:m>0})(s.endAt,ou(s),a))})(e,t)}function C6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jA(e){return(t,n)=>{let s=!1;for(const a of ou(e)){const l=A6(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function A6(e,t,n){const s=e.field.isKeyField()?_t.comparator(t.key,n.key):(function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?Ro(p,m):Et(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:e.dir})}}class ha{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){fa(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return AA(this.inner)}size(){return this.innerSize}}const R6=new fe(_t.comparator);function _s(){return R6}const FA=new fe(_t.comparator);function Zl(...e){let t=FA;for(const n of e)t=t.insert(n.key,n);return t}function HA(e){let t=FA;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ta(){return lu()}function qA(){return lu()}function lu(){return new ha((e=>e.toString()),((e,t)=>e.isEqual(t)))}const x6=new fe(_t.comparator),D6=new je(_t.comparator);function Lt(...e){let t=D6;for(const n of e)t=t.add(n);return t}const w6=new je(kt);function M6(){return w6}function by(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function GA(e){return{integerValue:""+e}}function V6(e,t){return e6(t)?GA(t):by(e,t)}class Ph{constructor(){this._=void 0}}function I6(e,t,n){return e instanceof bu?(function(a,l){const c={fields:{[DA]:{stringValue:xA},[MA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vy(l)&&(l=wh(l)),l&&(c.fields[wA]=l),{mapValue:c}})(n,t):e instanceof Cu?KA(e,t):e instanceof Au?YA(e,t):(function(a,l){const c=$A(a,l),h=xS(c)+xS(a.Ae);return ug(c)&&ug(a.Ae)?GA(h):by(a.serializer,h)})(e,t)}function P6(e,t,n){return e instanceof Cu?KA(e,t):e instanceof Au?YA(e,t):n}function $A(e,t){return e instanceof hh?(function(s){return ug(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class bu extends Ph{}class Cu extends Ph{constructor(t){super(),this.elements=t}}function KA(e,t){const n=QA(t);for(const s of e.elements)n.some((a=>$i(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Au extends Ph{constructor(t){super(),this.elements=t}}function YA(e,t){let n=QA(t);for(const s of e.elements)n=n.filter((a=>!$i(a,s)));return{arrayValue:{values:n}}}class hh extends Ph{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xS(e){return Te(e.integerValue||e.doubleValue)}function QA(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class O6{constructor(t,n){this.field=t,this.transform=n}}function N6(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Au&&a instanceof Au?Ao(s.elements,a.elements,$i):s instanceof hh&&a instanceof hh?$i(s.Ae,a.Ae):s instanceof bu&&a instanceof bu})(e.transform,t.transform)}class k6{constructor(t,n){this.version=t,this.transformResults=n}}class ps{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ps}static exists(t){return new ps(void 0,t)}static updateTime(t){return new ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Oh{}function XA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ZA(e.key,ps.none()):new Ou(e.key,e.data,ps.none());{const n=e.data,s=Kn.empty();let a=new je(tn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new da(e.key,s,new hi(a.toArray()),ps.none())}}function L6(e,t,n){e instanceof Ou?(function(a,l,c){const h=a.value.clone(),p=wS(a.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(e,t,n):e instanceof da?(function(a,l,c){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=wS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(JA(a)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function uu(e,t,n,s){return e instanceof Ou?(function(l,c,h,p){if(!Hf(l.precondition,c))return h;const m=l.value.clone(),y=MS(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(e,t,n,s):e instanceof da?(function(l,c,h,p){if(!Hf(l.precondition,c))return h;const m=MS(l.fieldTransforms,p,c),y=c.data;return y.setAll(JA(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,s):(function(l,c,h){return Hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(e,t,n)}function U6(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=$A(s.transform,a||null);l!=null&&(n===null&&(n=Kn.empty()),n.set(s.field,l))}return n||null}function DS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ao(s,a,((l,c)=>N6(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ou extends Oh{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class da extends Oh{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JA(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function wS(e,t,n){const s=new Map;$t(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,h=t.data.field(l.field);s.set(l.field,P6(c,h,n[a]))}return s}function MS(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,I6(l,c,t))}return s}class ZA extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B6 extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z6{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&L6(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=uu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=uu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=qA();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const p=XA(c,h);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Ao(this.mutations,t.mutations,((n,s)=>DS(n,s)))&&Ao(this.baseMutations,t.baseMutations,((n,s)=>DS(n,s)))}}class Cy{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return x6})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Cy(t,n,s,a)}}class j6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class F6{constructor(t,n){this.count=t,this.unchangedNames=n}}var Me,zt;function H6(e){switch(e){case rt.OK:return Et(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function WA(e){if(e===void 0)return vs("GRPC error has no .code"),rt.UNKNOWN;switch(e){case Me.OK:return rt.OK;case Me.CANCELLED:return rt.CANCELLED;case Me.UNKNOWN:return rt.UNKNOWN;case Me.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Me.INTERNAL:return rt.INTERNAL;case Me.UNAVAILABLE:return rt.UNAVAILABLE;case Me.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Me.NOT_FOUND:return rt.NOT_FOUND;case Me.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Me.ABORTED:return rt.ABORTED;case Me.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Me.DATA_LOSS:return rt.DATA_LOSS;default:return Et(39323,{code:e})}}(zt=Me||(Me={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function q6(){return new TextEncoder}const G6=new or([4294967295,4294967295],0);function VS(e){const t=q6().encode(e),n=new pA;return n.update(t),new Uint8Array(n.digest())}function IS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new or([n,s],0),new or([a,l],0)]}class Ay{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=or.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(or.fromNumber(s)));return a.compare(G6)===1&&(a=new or([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=VS(t),[s,a]=IS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Ay(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const n=VS(t),[s,a]=IS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Nh(bt.min(),a,new fe(kt),_s(),Lt())}}class Nu{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nu(s,n,Lt(),Lt(),Lt())}}class qf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class tR{constructor(t,n){this.targetId=t,this.Ce=n}}class eR{constructor(t,n,s=en.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class PS{constructor(){this.ve=0,this.Fe=OS(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:l})}})),new Nu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=OS()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $6{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=Sf(),this.Je=Sf(),this.Ze=new fe(kt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(fg(l))if(s===0){const c=new _t(l.path);this.et(n,c,on.newNoDocument(c,bt.min()))}else $t(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(t),p=h?this.ct(h,t,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=dr(s).toUint8Array()}catch(p){if(p instanceof RA)return ra("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Ay(c,a,l)}catch(p){return ra(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&fg(h.target)){const p=new _t(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,on.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Lt();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Nh(t,n,this.Ze,this.je,s);return this.je=_s(),this.He=Sf(),this.Je=Sf(),this.Ze=new fe(kt),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new PS,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new je(kt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new je(kt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Sf(){return new fe(_t.comparator)}function OS(){return new fe(_t.comparator)}const K6={asc:"ASCENDING",desc:"DESCENDING"},Y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class X6{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dg(e,t){return e.useProto3Json||Dh(t)?t:{value:t}}function dh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function J6(e,t){return dh(e,t.toTimestamp())}function Fi(e){return $t(!!e,49232),bt.fromTimestamp((function(n){const s=hr(n);return new ae(s.seconds,s.nanos)})(e))}function Ry(e,t){return pg(e,t).canonicalString()}function pg(e,t){const n=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function iR(e){const t=re.fromString(e);return $t(lR(t),10190,{key:t.toString()}),t}function mg(e,t){return Ry(e.databaseId,t.path)}function _m(e,t){const n=iR(t);if(n.get(1)!==e.databaseId.projectId)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _t(rR(n))}function sR(e,t){return Ry(e.databaseId,t)}function Z6(e){const t=iR(e);return t.length===4?re.emptyPath():rR(t)}function gg(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rR(e){return $t(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function NS(e,t,n){return{name:mg(e,t),fields:n.value.mapValue.fields}}function W6(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?($t(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):($t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?rt.UNKNOWN:WA(m.code);return new yt(y,m.message||"")})(c);n=new eR(s,a,l,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=_m(e,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):bt.min(),h=new Kn({mapValue:{fields:s.document.fields}}),p=on.newFoundDocument(a,l,c,h),m=s.targetIds||[],y=s.removedTargetIds||[];n=new qf(m,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=_m(e,s.document),l=s.readTime?Fi(s.readTime):bt.min(),c=on.newNoDocument(a,l),h=s.removedTargetIds||[];n=new qf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=_m(e,s.document),l=s.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new F6(a,l),h=s.targetId;n=new tR(h,c)}}return n}function tN(e,t){let n;if(t instanceof Ou)n={update:NS(e,t.key,t.value)};else if(t instanceof ZA)n={delete:mg(e,t.key)};else if(t instanceof da)n={update:NS(e,t.key,t.data),updateMask:uN(t.fieldMask)};else{if(!(t instanceof B6))return Et(16599,{dt:t.type});n={verify:mg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof bu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:J6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(e,t.precondition)),n}function eN(e,t){return e&&e.length>0?($t(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(bt.min())&&(c=Fi(l)),new k6(c,a.transformResults||[])})(n,t)))):[]}function nN(e,t){return{documents:[sR(e,t.path)]}}function iN(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sR(e,a);const l=(function(m){if(m.length!==0)return oR(Ki.create(m,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:lo(E.field),direction:aN(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const h=dg(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:a}}function sN(e){let t=Z6(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$t(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=aR(v);return E instanceof Ki&&kA(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((E=>(function(w){return new fh(uo(w.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Dh(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(v){const E=!!v.before,C=v.values||[];return new ch(C,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const E=!v.before,C=v.values||[];return new ch(C,E)})(n.endAt)),T6(t,a,c,l,h,"F",p,m)}function rN(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=uo(n.unaryFilter.field);return Ue.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=uo(n.unaryFilter.field);return Ue.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uo(n.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ue.create(uo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ki.create(n.compositeFilter.filters.map((s=>aR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(e):Et(30097,{filter:e})}function aN(e){return K6[e]}function oN(e){return Y6[e]}function lN(e){return Q6[e]}function lo(e){return{fieldPath:e.canonicalString()}}function uo(e){return tn.fromServerFormat(e.fieldPath)}function oR(e){return e instanceof Ue?(function(n){if(n.op==="=="){if(SS(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(ES(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SS(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(ES(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:oN(n.op),value:n.value}}})(e):e instanceof Ki?(function(n){const s=n.getFilters().map((a=>oR(a)));return s.length===1?s[0]:{compositeFilter:{op:lN(n.op),filters:s}}})(e):Et(54877,{filter:e})}function uN(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function lR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function uR(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class ir{constructor(t,n,s,a,l=bt.min(),c=bt.min(),h=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cN{constructor(t){this.yt=t}}function fN(e){const t=sN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hg(t,t.limit,"L"):t}class hN{constructor(){this.Sn=new dN}addToCollectionParentIndex(t,n){return this.Sn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(fr.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class dN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new je(re.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new je(re.comparator)).toArray()}}const kS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cR=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(cR,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Do{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Do(0)}static ar(){return new Do(-1)}}const LS="LruGarbageCollector",pN=1048576;function US([e,t],[n,s]){const a=kt(e,n);return a===0?kt(t,s):a}class mN{constructor(t){this.Pr=t,this.buffer=new je(US),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();US(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ct(LS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?ct(LS,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Ar(3e5)}))}}class yN{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(xh.ce);const s=new mN(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(kS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kS):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,h,p,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(t,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(m=Date.now(),ao()<=jt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function vN(e,t){return new yN(e,t)}class _N{constructor(){this.changes=new ha((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class EN{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&uu(s.mutation,a,hi.empty(),ae.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const a=ta();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Zl();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(t,n,s,a){let l=_s();const c=lu(),h=(function(){return lu()})();return n.forEach(((p,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof da)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),uu(y.mutation,m,y.mutation.getFieldMask(),ae.now())):c.set(m.key,hi.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((m,y)=>c.set(m,y))),n.forEach(((m,y)=>h.set(m,new TN(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,n){const s=lu();let a=new fe(((c,h)=>c-h)),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=s.get(p)||hi.empty();y=h.applyToLocalView(m,y),s.set(p,y);const v=(a.get(h.batchId)||Lt()).add(p);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,v=qA();y.forEach((E=>{if(!l.has(E)){const C=XA(n.get(E),s.get(E));C!==null&&v.set(E,C),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return E6(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):S6(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):it.resolve(ta());let h=_u,p=l;return c.next((m=>it.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,p,m,Lt()))).next((y=>({batchId:h,changes:HA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let a=Zl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Zl();return this.indexManager.getCollectionParents(t,l).next((h=>it.forEach(h,(p=>{const m=(function(v,E){return new Mh(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,s,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let h=Zl();return c.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&uu(y.mutation,m,hi.empty(),ae.now()),Ih(n,m)&&(h=h.insert(p,m))})),h}))}}class SN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return it.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:fN(a.bundledQuery),readTime:Fi(a.readTime)}})(n)),it.resolve()}}class bN{constructor(){this.overlays=new fe(_t.comparator),this.Lr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ta();return it.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const a=ta(),l=n.length+1,c=new _t(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new fe(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=ta(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return it.resolve(h)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new j6(n,s));let l=this.Lr.get(n);l===void 0&&(l=Lt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class CN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class xy{constructor(){this.kr=new je(Ge.Kr),this.qr=new je(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ge(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ge(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new _t(new re([])),s=new Ge(n,t),a=new Ge(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new _t(new re([])),s=new Ge(n,t),a=new Ge(n,t+1);let l=Lt();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ge(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return _t.comparator(t.key,n.key)||kt(t.Hr,n.Hr)}static Ur(t,n){return kt(t.Hr,n.Hr)||_t.comparator(t.key,n.key)}}class AN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new je(Ge.Kr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new z6(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Ge(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?yy:this.Yn-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ge(n,0),a=new Ge(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new je(kt);return n.forEach((a=>{const l=new Ge(a,0),c=new Ge(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),it.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;_t.isDocumentKey(l)||(l=l.child(""));const c=new Ge(new _t(l),0);let h=new je(kt);return this.Jr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(p.Hr)),!0)}),c),it.resolve(this.Yr(h))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){$t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return it.forEach(n.mutations,(a=>{const l=new Ge(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ge(n,0),a=this.Jr.firstAfterOrEqual(s);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RN{constructor(t){this.ti=t,this.docs=(function(){return new fe(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=_s();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=_s();const c=n.path,h=new _t(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||J3(X3(y),s)<=0||(a.has(y.key)||Ih(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Et(9500)}ni(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new xN(this)}getSize(t){return it.resolve(this.size)}}class xN extends _N{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class DN{constructor(t){this.persistence=t,this.ri=new ha((n=>Ty(n)),Ey),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new xy,this.targetCount=0,this.oi=Do._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),it.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.lr(n),it.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),it.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this.si.containsKey(n))}}class fR{constructor(t,n){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new CN,this.referenceDelegate=t(this),this.li=new DN(this),this.indexManager=new hN,this.remoteDocumentCache=(function(a){return new RN(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new cN(n),this.Pi=new SN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new AN(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const a=new wN(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return it.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class wN extends W3{constructor(t){super(),this.currentSequenceNumber=t}}class Dy{constructor(t){this.persistence=t,this.Ri=new xy,this.Ai=null}static Vi(t){return new Dy(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.di,(s=>{const a=_t.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,bt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ph{constructor(t,n){this.persistence=t,this.fi=new ha((s=>n6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=vN(this,n)}static Vi(t,n){return new ph(t,n)}Ti(){}Ii(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return it.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?it.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((h=>{h||(s++,l.removeEntry(c,bt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),it.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=jf(t.data.value)),n}wr(t,n,s){return it.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return it.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class wy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wy(t,n.fromCache,s,a)}}class MN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class VN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yO()?8:t6(mO())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new MN;return this.ys(t,n,c).next((h=>{if(l.result=h,this.As)return this.ws(t,n,c,h.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(ao()<=jt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(ao()<=jt.DEBUG&&ct("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ao()<=jt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(n))):it.resolve())}gs(t,n){if(RS(n))return it.resolve(null);let s=ji(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=hg(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Lt(...l);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,s).next((p=>{const m=this.bs(n,h);return this.Ss(n,m,c,p.readTime)?this.gs(t,hg(n,null,"F")):this.Ds(t,m,n,p)}))))})))))}ps(t,n,s,a){return RS(n)||a.isEqual(bt.min())?it.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?it.resolve(null):(ao()<=jt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),oo(n)),this.Ds(t,c,n,Q3(a,_u)).next((h=>h)))}))}bs(t,n){let s=new je(jA(t));return n.forEach(((a,l)=>{Ih(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return ao()<=jt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",oo(n)),this.fs.getDocumentsMatchingQuery(t,n,fr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const My="LocalStore",IN=3e8;class PN{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new fe(kt),this.Fs=new ha((l=>Ty(l)),Ey),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function ON(e,t,n,s){return new PN(e,t,n,s)}async function hR(e,t){const n=At(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let p=Lt();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function NN(e,t){const n=At(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,y){const v=m.batch,E=v.keys();let C=it.resolve();return E.forEach((w=>{C=C.next((()=>y.getEntry(p,w))).next((O=>{const L=m.docVersions.get(w);$t(L!==null,48541),O.version.compareTo(L)<0&&(v.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=Lt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function dR(e){const t=At(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function kN(e,t){const n=At(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let C=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?C=C.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(v,C),(function(O,L,H){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=IN?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(E,C,y)&&h.push(n.li.updateTargetData(l,C))}));let p=_s(),m=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(LN(l,c,t.documentUpdates).next((y=>{p=y.Bs,m=y.Ls}))),!s.isEqual(bt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return it.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.vs=a,l)))}function LN(e,t,n){let s=Lt(),a=Lt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=_s();return n.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(h,p)):ct(My,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function UN(e,t){const n=At(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=yy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function BN(e,t){const n=At(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,it.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new ir(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function yg(e,t,n){const s=At(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Lo(c))throw c;ct(My,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function BS(e,t,n){const s=At(e);let a=bt.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const v=At(p),E=v.Fs.get(y);return E!==void 0?it.resolve(v.vs.get(E)):v.li.getTargetData(m,y)})(s,c,ji(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:bt.min(),n?l:Lt()))).next((h=>(zN(s,C6(t),h),{documents:h,ks:l})))))}function zN(e,t,n){let s=e.Ms.get(t)||bt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class zS{constructor(){this.activeTargetIds=M6()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jN{constructor(){this.vo=new zS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new zS,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FN{Mo(t){}shutdown(){}}const jS="ConnectivityMonitor";class FS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(jS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ct(jS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bf=null;function vg(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}const Tm="RestConnection",HN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=vg(),h=this.Qo(t,n.toUriEncodedString());ct(Tm,`Sending RPC '${t}' ${c}:`,h,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:m}=new URL(h),y=hy(m);return this.zo(t,h,p,s,y).then((v=>(ct(Tm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw ra(Tm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=HN[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class GN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",Yl=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class To extends qN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!To.c_){const t=vA();Yl(t,yA.STAT_EVENT,(n=>{n.stat===ag.PROXY?ct(sn,"STAT_EVENT: detected buffering proxy"):n.stat===ag.NOPROXY&&ct(sn,"STAT_EVENT: detected no buffering proxy")})),To.c_=!0}}zo(t,n,s,a,l){const c=vg();return new Promise(((h,p)=>{const m=new mA;m.setWithCredentials(!0),m.listenOnce(gA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case zf.NO_ERROR:const v=m.getResponseJson();ct(sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case zf.TIMEOUT:ct(sn,`RPC '${t}' ${c} timed out`),p(new yt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const E=m.getStatus();if(ct(sn,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const w=C?.error;if(w&&w.status&&w.message){const O=(function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf($)>=0?$:rt.UNKNOWN})(w.status);p(new yt(O,w.message))}else p(new yt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new yt(rt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ct(sn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ct(sn,`RPC '${t}' ${c} sending request:`,a),m.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=vg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");ct(sn,`Creating RPC '${t}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let v=!1,E=!1;const C=new GN({Ho:w=>{E?ct(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,w):(v||(ct(sn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),ct(sn,`RPC '${t}' stream ${a} sending:`,w),y.send(w))},Jo:()=>y.close()});return Yl(y,Jl.EventType.OPEN,(()=>{E||(ct(sn,`RPC '${t}' stream ${a} transport opened.`),C.i_())})),Yl(y,Jl.EventType.CLOSE,(()=>{E||(E=!0,ct(sn,`RPC '${t}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Yl(y,Jl.EventType.ERROR,(w=>{E||(E=!0,ra(sn,`RPC '${t}' stream ${a} transport errored. Name:`,w.name,"Message:",w.message),C.o_(new yt(rt.UNAVAILABLE,"The operation could not be completed")))})),Yl(y,Jl.EventType.MESSAGE,(w=>{if(!E){const O=w.data[0];$t(!!O,16349);const L=O,H=L?.error||L[0]?.error;if(H){ct(sn,`RPC '${t}' stream ${a} received error:`,H);const $=H.status;let j=(function(at){const D=Me[at];if(D!==void 0)return WA(D)})($),nt=H.message;$==="NOT_FOUND"&&nt.includes("database")&&nt.includes("does not exist")&&nt.includes(this.databaseId.database)&&ra(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),j===void 0&&(j=rt.INTERNAL,nt="Unknown error status: "+$+" with message "+H.message),E=!0,C.o_(new yt(j,nt)),y.close()}else ct(sn,`RPC '${t}' stream ${a} received:`,O),C.__(O)}})),To.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _A()}}function $N(e){return new To(e)}function Em(){return typeof document<"u"?document:null}function kh(e){return new X6(e,!0)}To.c_=!1;class pR{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const HS="PersistentStream";class mR{constructor(t,n,s,a,l,c,h,p){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new yt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(HS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ct(HS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KN extends mR{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=W6(this.serializer,t),s=(function(l){if(!("targetChange"in l))return bt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?Fi(c.readTime):bt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=gg(this.serializer),n.addTarget=(function(l,c){let h;const p=c.target;if(h=fg(p)?{documents:nN(l,p)}:{query:iN(l,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=nR(l,c.resumeToken);const m=dg(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(bt.min())>0){h.readTime=dh(l,c.snapshotVersion.toTimestamp());const m=dg(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const s=rN(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=gg(this.serializer),n.removeTarget=t,this.K_(n)}}class YN extends mR{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=eN(t.writeResults,t.commitTime),s=Fi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>tN(this.serializer,s)))};this.K_(n)}}class QN{}class XN extends QN{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,pg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(rt.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,pg(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JN(e,t,n,s){return new XN(e,t,n,s)}class ZN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class WN{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{pa(this)&&(ct(aa,"Restarting streams for network reachability change."),await(async function(p){const m=At(p);m.Ea.add(4),await ku(m),m.Va.set("Unknown"),m.Ea.delete(4),await Lh(m)})(this))}))})),this.Va=new ZN(s,a)}}async function Lh(e){if(pa(e))for(const t of e.Ra)await t(!0)}async function ku(e){for(const t of e.Ra)await t(!1)}function gR(e,t){const n=At(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Oy(n)?Py(n):Uo(n).O_()&&Iy(n,t))}function Vy(e,t){const n=At(e),s=Uo(n);n.Ia.delete(t),s.O_()&&yR(n,t),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Va.set("Unknown"))}function Iy(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Uo(e).Z_(t)}function yR(e,t){e.da.$e(t),Uo(e).X_(t)}function Py(e){e.da=new $6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Uo(e).start(),e.Va.ua()}function Oy(e){return pa(e)&&!Uo(e).x_()&&e.Ia.size>0}function pa(e){return At(e).Ea.size===0}function vR(e){e.da=void 0}async function tk(e){e.Va.set("Online")}async function ek(e){e.Ia.forEach(((t,n)=>{Iy(e,t)}))}async function nk(e,t){vR(e),Oy(e)?(e.Va.ha(t),Py(e)):e.Va.set("Unknown")}async function ik(e,t,n){if(e.Va.set("Online"),t instanceof eR&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(e,t)}catch(s){ct(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mh(e,s)}else if(t instanceof qf?e.da.Xe(t):t instanceof tR?e.da.st(t):e.da.tt(t),!n.isEqual(bt.min()))try{const s=await dR(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),yR(l,p);const v=new ir(y.target,p,m,y.sequenceNumber);Iy(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(s){ct(aa,"Failed to raise snapshot:",s),await mh(e,s)}}async function mh(e,t,n){if(!Lo(t))throw t;e.Ea.add(1),await ku(e),e.Va.set("Offline"),n||(n=()=>dR(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ct(aa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Lh(e)}))}function _R(e,t){return t().catch((n=>mh(e,n,t)))}async function Uh(e){const t=At(e),n=mr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:yy;for(;sk(t);)try{const a=await UN(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,rk(t,a)}catch(a){await mh(t,a)}TR(t)&&ER(t)}function sk(e){return pa(e)&&e.Ta.length<10}function rk(e,t){e.Ta.push(t);const n=mr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function TR(e){return pa(e)&&!mr(e).x_()&&e.Ta.length>0}function ER(e){mr(e).start()}async function ak(e){mr(e).ra()}async function ok(e){const t=mr(e);for(const n of e.Ta)t.ea(n.mutations)}async function lk(e,t,n){const s=e.Ta.shift(),a=Cy.from(s,t,n);await _R(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Uh(e)}async function uk(e,t){t&&mr(e).Y_&&await(async function(s,a){if((function(c){return H6(c)&&c!==rt.ABORTED})(a.code)){const l=s.Ta.shift();mr(s).B_(),await _R(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Uh(s)}})(e,t),TR(e)&&ER(e)}async function qS(e,t){const n=At(e);n.asyncQueue.verifyOperationInProgress(),ct(aa,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await ku(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Lh(n)}async function ck(e,t){const n=At(e);t?(n.Ea.delete(2),await Lh(n)):t||(n.Ea.add(2),await ku(n),n.Va.set("Unknown"))}function Uo(e){return e.ma||(e.ma=(function(n,s,a){const l=At(n);return l.sa(),new KN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:tk.bind(null,e),Yo:ek.bind(null,e),t_:nk.bind(null,e),J_:ik.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),Oy(e)?Py(e):e.Va.set("Unknown")):(await e.ma.stop(),vR(e))}))),e.ma}function mr(e){return e.fa||(e.fa=(function(n,s,a){const l=At(n);return l.sa(),new YN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ak.bind(null,e),t_:uk.bind(null,e),ta:ok.bind(null,e),na:lk.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Uh(e)):(await e.fa.stop(),e.Ta.length>0&&(ct(aa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ny{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,h=new Ny(t,n,c,a,l);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(e,t){if(vs("AsyncQueue",`${t}: ${e}`),Lo(e))return new yt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class GS{constructor(){this.ga=new fe(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class wo{constructor(t,n,s,a,l,c,h,p,m){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new wo(t,n,Eo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class fk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class hk{constructor(){this.queries=$S(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=At(n),l=a.queries;a.queries=$S(),l.forEach(((c,h)=>{for(const p of h.ba)p.onError(s)}))})(this,new yt(rt.ABORTED,"Firestore shutting down"))}}function $S(){return new ha((e=>zA(e)),Vh)}async function dk(e,t){const n=At(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new fk,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=ky(c,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(h)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Ly(n)}async function pk(e,t){const n=At(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mk(e,t){const n=At(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&Ly(n)}function gk(e,t,n){const s=At(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function Ly(e){e.Ca.forEach((t=>{t.next()}))}var _g,KS;(KS=_g||(_g={})).Ma="default",KS.Cache="cache";class yk{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_g.Cache}}class SR{constructor(t){this.key=t}}class bR{constructor(t){this.key=t}}class vk{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=jA(t),this.tu=new Eo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new GS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),C=Ih(this.query,v)?v:null,w=!!E&&this.mutatedKeys.has(E.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;E&&C?E.data.isEqual(C.data)?w!==O&&(s.track({type:3,doc:C}),L=!0):this.su(E,C)||(s.track({type:2,doc:C}),L=!0,(p&&this.eu(C,p)>0||m&&this.eu(C,m)<0)&&(h=!0)):!E&&C?(s.track({type:0,doc:C}),L=!0):E&&!C&&(s.track({type:1,doc:E}),L=!0,(p||m)&&(h=!0)),L&&(C?(c=c.add(C),l=O?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(C,w){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:L})}};return O(C)-O(w)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Xa;return this.Xa=p,c.length!==0||m?{snapshot:new wo(this.query,t.tu,l,c,t.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new bR(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new SR(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Uy="SyncEngine";class _k{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Tk{constructor(t){this.key=t,this.hu=!1}}class Ek{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ha((h=>zA(h)),Vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(_t.comparator),this.Au=new Map,this.Vu=new xy,this.du={},this.mu=new Map,this.fu=Do.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sk(e,t,n=!0){const s=wR(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await CR(s,t,n,!0),a}async function bk(e,t){const n=wR(e);await CR(n,t,!0,!1)}async function CR(e,t,n,s){const a=await BN(e.localStore,ji(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await Ck(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&gR(e.remoteStore,a),h}async function Ck(e,t,n,s,a){e.pu=(v,E,C)=>(async function(O,L,H,$){let j=L.view.ru(H);j.Ss&&(j=await BS(O.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,j))));const nt=$&&$.targetChanges.get(L.targetId),W=$&&$.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges(j,O.isPrimaryClient,nt,W);return QS(O,L.targetId,at.au),at.snapshot})(e,v,E,C);const l=await BS(e.localStore,t,!0),c=new vk(t,l.ks),h=c.ru(l.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),m=c.applyChanges(h,e.isPrimaryClient,p);QS(e,n,m.au);const y=new _k(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function Ak(e,t,n){const s=At(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vh(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await yg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Vy(s.remoteStore,a.targetId),Tg(s,a.targetId)})).catch(ko)):(Tg(s,a.targetId),await yg(s.localStore,a.targetId,!0))}async function Rk(e,t){const n=At(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vy(n.remoteStore,s.targetId))}async function xk(e,t,n){const s=Ok(e);try{const a=await(function(c,h){const p=At(c),m=ae.now(),y=h.reduce(((C,w)=>C.add(w.key)),Lt());let v,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let w=_s(),O=Lt();return p.xs.getEntries(C,y).next((L=>{w=L,w.forEach(((H,$)=>{$.isValidDocument()||(O=O.add(H))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,w))).next((L=>{v=L;const H=[];for(const $ of h){const j=U6($,v.get($.key).overlayedDocument);j!=null&&H.push(new da($.key,j,PA(j.value.mapValue),ps.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,H,h)})).next((L=>{E=L;const H=L.applyToLocalDocumentSet(v,O);return p.documentOverlayCache.saveOverlays(C,L.batchId,H)}))})).then((()=>({batchId:E.batchId,changes:HA(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,p){let m=c.du[c.currentUser.toKey()];m||(m=new fe(kt)),m=m.insert(h,p),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await Lu(s,a.changes),await Uh(s.remoteStore)}catch(a){const l=ky(a,"Failed to persist write");n.reject(l)}}async function AR(e,t){const n=At(e);try{const s=await kN(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?$t(c.hu,14607):a.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await Lu(n,s,t)}catch(s){await ko(s)}}function YS(e,t,n){const s=At(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const p=At(c);p.onlineState=h;let m=!1;p.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(m=!0)})),m&&Ly(p)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Dk(e,t,n){const s=At(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new fe(_t.comparator);c=c.insert(l,on.newNoDocument(l,bt.min()));const h=Lt().add(l),p=new Nh(bt.min(),new Map,new fe(kt),c,h);await AR(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(t),By(s)}else await yg(s.localStore,t,!1).then((()=>Tg(s,t,n))).catch(ko)}async function wk(e,t){const n=At(e),s=t.batch.batchId;try{const a=await NN(n.localStore,t);xR(n,s,null),RR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,a)}catch(a){await ko(a)}}async function Mk(e,t,n){const s=At(e);try{const a=await(function(c,h){const p=At(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next((v=>($t(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(s.localStore,t);xR(s,t,n),RR(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Lu(s,a)}catch(a){await ko(a)}}function RR(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function xR(e,t,n){const s=At(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function Tg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||DR(e,s)}))}function DR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Vy(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),By(e))}function QS(e,t,n){for(const s of n)s instanceof SR?(e.Vu.addReference(s.key,t),Vk(e,s)):s instanceof bR?(ct(Uy,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||DR(e,s.key)):Et(19791,{wu:s})}function Vk(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(ct(Uy,"New document in limbo: "+n),e.Eu.add(s),By(e))}function By(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new _t(re.fromString(t)),s=e.fu.next();e.Au.set(s,new Tk(n)),e.Ru=e.Ru.insert(n,s),gR(e.remoteStore,new ir(ji(Sy(n.path)),s,"TargetPurposeLimboResolution",xh.ce))}}async function Lu(e,t,n){const s=At(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,p)=>{c.push(s.pu(p,t,n).then((m=>{if((m||n)&&s.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){a.push(m);const y=wy.Es(p.targetId,m);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(p,m){const y=At(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>it.forEach(m,(E=>it.forEach(E.Ts,(C=>y.persistence.referenceDelegate.addReference(v,E.targetId,C))).next((()=>it.forEach(E.Is,(C=>y.persistence.referenceDelegate.removeReference(v,E.targetId,C)))))))))}catch(v){if(!Lo(v))throw v;ct(My,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const C=y.vs.get(E),w=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(w);y.vs=y.vs.insert(E,O)}}})(s.localStore,l))}async function Ik(e,t){const n=At(e);if(!n.currentUser.isEqual(t)){ct(Uy,"User change. New user:",t.toKey());const s=await hR(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new yt(rt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Ns)}}function Pk(e,t){const n=At(e),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let a=Lt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function wR(e){const t=At(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dk.bind(null,t),t.Pu.J_=mk.bind(null,t.eventManager),t.Pu.yu=gk.bind(null,t.eventManager),t}function Ok(e){const t=At(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mk.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return ON(this.persistence,new VN,t.initialUser,this.serializer)}Cu(t){return new fR(Dy.Vi,this.serializer)}Du(t){return new jN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class Nk extends gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new fR((s=>ph.Vi(s,n)),this.serializer)}}class Eg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ik.bind(null,this.syncEngine),await ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hk})()}createDatastore(t){const n=kh(t.databaseInfo.databaseId),s=$N(t.databaseInfo);return JN(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,h){return new WN(s,a,l,c,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>YS(this.syncEngine,n,0)),(function(){return FS.v()?new FS:new FN})())}createSyncEngine(t,n){return(function(a,l,c,h,p,m,y){const v=new Ek(a,l,c,h,p,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ct(aa,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eg.provider={build:()=>new Eg};class kk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const gr="FirestoreClient";class Lk{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=my.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ct(gr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ct(gr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ky(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Sm(e,t){e.asyncQueue.verifyOperationInProgress(),ct(gr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await hR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function XS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uk(e);ct(gr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>qS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>qS(t.remoteStore,a))),e._onlineComponents=t}async function Uk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ct(gr,"Using user provided OfflineComponentProvider");try{await Sm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Sm(e,new gh)}}else ct(gr,"Using default OfflineComponentProvider"),await Sm(e,new Nk(void 0));return e._offlineComponents}async function MR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ct(gr,"Using user provided OnlineComponentProvider"),await XS(e,e._uninitializedComponentsProvider._online)):(ct(gr,"Using default OnlineComponentProvider"),await XS(e,new Eg))),e._onlineComponents}function Bk(e){return MR(e).then((t=>t.syncEngine))}async function JS(e){const t=await MR(e),n=t.eventManager;return n.onListen=Sk.bind(null,t.syncEngine),n.onUnlisten=Ak.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Rk.bind(null,t.syncEngine),n}function zk(e,t,n,s){const a=new kk(s),l=new yk(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>dk(await JS(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>pk(await JS(e),l)))}}function jk(e,t){const n=new na;return e.asyncQueue.enqueueAndForget((async()=>xk(await Bk(e),t,n))),n.promise}function VR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Fk="ComponentProvider",ZS=new Map;function Hk(e,t,n,s,a){return new r6(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,VR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const IR="firestore.googleapis.com",WS=!0;class tb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=WS}else this.host=t.host,this.ssl=t.ssl??WS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pN)throw new yt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Y3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VR(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bh{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new U3;switch(s.type){case"firstParty":return new F3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ZS.get(n);s&&(ct(Fk,"Removing Datastore"),ZS.delete(n),s.terminate())})(this),Promise.resolve()}}function qk(e,t,n,s={}){e=_o(e,Bh);const a=hy(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;a&&(cO(`https://${h}`),pO("Firestore",!0)),l.host!==IR&&l.host!==h&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:a,emulatorOptions:s};if(!sh(p,c)&&(e._setSettings(p),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=rn.MOCK_USER;else{m=fO(s.mockUserToken,e._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new yt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(v)}e._authCredentials=new B3(new EA(m,y))}}class zh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zh(this.firestore,t,this._query)}}class Be{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Pu(n,Be._jsonSchema))return new Be(t,s||null,new _t(re.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Pe("string",Be._jsonSchemaVersion),referencePath:Pe("string")};class lr extends zh{constructor(t,n,s){super(t,n,Sy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new _t(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Gk(e,t,...n){if(e=Co(e),SA("collection","path",t),e instanceof Bh){const s=re.fromString(t,...n);return dS(s),new lr(e,null,s)}{if(!(e instanceof Be||e instanceof lr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return dS(s),new lr(e.firestore,null,s)}}function $k(e,t,...n){if(e=Co(e),arguments.length===1&&(t=my.newId()),SA("doc","path",t),e instanceof Bh){const s=re.fromString(t,...n);return hS(s),new Be(e,null,new _t(s))}{if(!(e instanceof Be||e instanceof lr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return hS(s),new Be(e.firestore,e instanceof lr?e.converter:null,new _t(s))}}const eb="AsyncQueue";class nb{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pR(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&ct(eb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Lo(t))throw t;ct(eb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",ib(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Ny.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ib(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class yh extends Bh{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new nb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nb(t),this._firestoreClient=void 0,await t}}}function Kk(e,t){const n=typeof e=="object"?e:C3(),s=typeof e=="string"?e:lh,a=_3(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=lO("firestore");l&&qk(a,...l)}return a}function PR(e){if(e._terminated)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Yk(e),e._firestoreClient}function Yk(e){const t=e._freezeSettings(),n=Hk(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Lk(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(en.fromBase64String(t))}catch(n){throw new yt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pe("string",Yn._jsonSchemaVersion),bytes:Pe("string")};class OR{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zy{constructor(t){this._methodName=t}}class Hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Pu(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Pe("string",Hi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class pi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pu(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new pi(t.vectorValues);throw new yt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Pe("string",pi._jsonSchemaVersion),vectorValues:Pe("object")};const Qk=/^__.*__$/;class Xk{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new da(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(t,this.data,n,this.fieldTransforms)}}function NR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:e})}}class jy{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new jy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return vh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(NR(this.dataSource)&&Qk.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Jk{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||kh(t)}createContext(t,n,s,a=!1){return new jy({dataSource:t,methodName:n,targetDoc:s,path:tn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zk(e){const t=e._freezeSettings(),n=kh(e._databaseId);return new Jk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wk(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);BR("Data must be an object, but it was:",c,s);const h=LR(s,c);let p,m;if(l.merge)p=new hi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Hy(t,v,n);if(!c.contains(E))throw new yt(rt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);nL(y,E)||y.push(E)}p=new hi(y),m=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=c.fieldTransforms;return new Xk(new Kn(h),p,m)}class Fy extends zy{_toFieldTransform(t){return new O6(t.path,new bu)}isEqual(t){return t instanceof Fy}}function kR(e,t){if(UR(e=Co(e)))return BR("Unsupported field value:",t,e),LR(e,t);if(e instanceof zy)return(function(s,a){if(!NR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let p=kR(h,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Co(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return V6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ae.fromDate(s);return{timestampValue:dh(a.serializer,l)}}if(s instanceof ae){const l=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dh(a.serializer,l)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:nR(a.serializer,s._byteString)};if(s instanceof Be){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ry(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof pi)return(function(c,h){const p=c instanceof pi?c.toArray():c;return{mapValue:{fields:{[VA]:{stringValue:IA},[uh]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return by(h.serializer,y)}))}}}}}})(s,a);if(uR(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${gy(s)}`)})(e,t)}function LR(e,t){const n={};return AA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fa(e,((s,a)=>{const l=kR(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function UR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ae||e instanceof Hi||e instanceof Yn||e instanceof Be||e instanceof zy||e instanceof pi||uR(e))}function BR(e,t,n){if(!UR(n)||!bA(n)){const s=gy(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Hy(e,t,n){if((t=Co(t))instanceof OR)return t._internalPath;if(typeof t=="string")return eL(e,t);throw vh("Field path arguments must be of type string or ",e,!1,void 0,n)}const tL=new RegExp("[~\\*/\\[\\]]");function eL(e,t,n){if(t.search(tL)>=0)throw vh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new OR(...t.split("."))._internalPath}catch{throw vh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vh(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new yt(rt.INVALID_ARGUMENT,h+e+p)}function nL(e,t){return e.some((n=>n.isEqual(t)))}class iL{convertValue(t,n="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return fa(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[uh].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new pi(n)}convertGeoPoint(t){return new Hi(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=wh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tu(t));default:return null}}convertTimestamp(t){const n=hr(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);$t(lR(s),9688,{name:t});const a=new Eu(s.get(1),s.get(3)),l=new _t(s.popFirst(5));return a.isEqual(n)||vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class zR extends iL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function sL(){return new Fy("serverTimestamp")}const sb="@firebase/firestore",rb="4.11.0";function ab(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class jR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Hy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rL extends jR{data(){return super.data()}}function aL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new yt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function oL(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class tu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends jR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Hy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Pe("string",ia._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Gf extends ia{data(t={}){return super.data(t)}}class So{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new tu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Gf(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const p=new Gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:lL(h.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=So._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=my.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Pe("string",So._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function uL(e,t,n){e=_o(e,Be);const s=_o(e.firestore,yh),a=oL(e.converter,t),l=Zk(s);return fL(s,[Wk(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,ps.none())])}function cL(e,...t){e=Co(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ab(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ab(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,h;if(e instanceof Be)c=_o(e.firestore,yh),h=Sy(e._key.path),l={next:m=>{t[s]&&t[s](hL(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=_o(e,zh);c=_o(m.firestore,yh),h=m._query;const y=new zR(c);l={next:v=>{t[s]&&t[s](new So(c,y,m,v))},error:t[s+1],complete:t[s+2]},aL(e._query)}const p=PR(c);return zk(p,h,a,l)}function fL(e,t){const n=PR(e);return jk(n,t)}function hL(e,t,n){const s=n.docs.get(t._key),a=new zR(e);return new ia(e,a,t._key,s,new tu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){L3(b3),ah(new yu("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new yh(new z3(s.getProvider("auth-internal")),new H3(c,s.getProvider("app-check-internal")),a6(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),vo(sb,rb,t),vo(sb,rb,"esm2020")})();const dL={apiKey:"AIzaSyBPJI5hAgQCC8cpBJJLJAfKGPE9ohP_ZzM",authDomain:"parallel-da618.firebaseapp.com",projectId:"parallel-da618",storageBucket:"parallel-da618.firebasestorage.app",messagingSenderId:"139510177045",appId:"1:139510177045:web:79a3568312c334d02ddd1c"},pL=fA(dL),FR=Kk(pL),mL=async(e,t,n)=>{const s=$k(FR,"parallel_rooms",e,"peers",t);await uL(s,{...n,lastSeen:sL()})},gL=(e,t)=>{const n=Gk(FR,"parallel_rooms",e,"peers");return cL(n,s=>{const a=[];s.forEach(l=>{a.push({id:l.id,...l.data()})}),t(a)})},HR={name:"ECDH",namedCurve:"P-256"},yL={name:"AES-GCM",length:256};async function vL(){return window.crypto.subtle.generateKey(HR,!0,["deriveKey","deriveBits"])}async function _L(e){return window.crypto.subtle.exportKey("jwk",e)}async function Cf(e){return window.crypto.subtle.importKey("jwk",e,HR,!0,[])}async function bm(e,t){return window.crypto.subtle.deriveKey({name:"ECDH",public:t},e,yL,!1,["encrypt","decrypt"])}async function ob(e,t){const n=new TextEncoder,s=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},t,n.encode(e));return JSON.stringify({iv:Array.from(s),data:Array.from(new Uint8Array(a))})}async function TL(e,t){try{const n=JSON.parse(e),s=new Uint8Array(n.iv),a=new Uint8Array(n.data),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,a);return new TextDecoder().decode(l)}catch(n){return console.error("Decrypt failed",n),null}}const EL=(e,t)=>{const[n,s]=k.useState("disconnected"),[a,l]=k.useState([]),[c,h]=k.useState([]),[p,m]=k.useState(null),y=k.useRef({}),v=k.useRef(null),E=k.useRef(null),C=k.useRef([]),w=j=>{h(nt=>[...nt,j].sort((W,at)=>W.timestamp-at.timestamp))},O=async(j,nt,W)=>{y.current[W]={conn:j},nt&&(y.current[W].sharedSecret=await bm(v.current.privateKey,nt)),j.on("data",async at=>{if(at.payload){const D=y.current[W];if(!D.sharedSecret){const x=C.current.find(I=>I.id===W);if(x)try{const I=await Cf(JSON.parse(x.key));D.sharedSecret=await bm(v.current.privateKey,I)}catch(I){console.error("Lazy key derivation failed",I)}}if(!D.sharedSecret){console.warn("Received data but no secret yet for",W);return}const R=await TL(at.payload,D.sharedSecret);if(R){const x=JSON.parse(R);w({...x,peerId:W,isMe:!1})}}}),j.on("close",()=>{delete y.current[W]})},L=async j=>{const nt=j.peer,W=C.current.find(D=>D.id===nt);let at=null;if(W)try{at=await Cf(JSON.parse(W.key))}catch(D){console.error("Failed to import key for incoming conn",D)}O(j,at,nt)},H=async j=>{const nt=E.current;if(!nt)return;const W=nt.connect(j.id,{metadata:{user:t}}),at=await Cf(JSON.parse(j.key));O(W,at,j.id)};return k.useEffect(()=>{if(!e||!t)return;let j=()=>{};return(async()=>{s("connecting"),v.current=await vL();const W=await _L(v.current.publicKey),at=`parallel_${e}_${t}_${Math.floor(Math.random()*1e5)}`;m(at);const D=new JP(at,{debug:1});E.current=D,D.on("open",async R=>{console.log("My Peer ID:",R),s("connected"),await mL(e,R,{user:t,key:JSON.stringify(W)}),j=gL(e,x=>{const I=x.filter(P=>P.id!==R);l(I),C.current=I,I.forEach(async P=>{if(!y.current[P.id])H(P);else{const B=y.current[P.id];if(B&&!B.sharedSecret){const M=await Cf(JSON.parse(P.key));B.sharedSecret=await bm(v.current.privateKey,M)}}})})}),D.on("connection",R=>L(R)),D.on("error",R=>{console.error("Peer Error:",R),s("error")})})(),()=>{E.current&&E.current.destroy(),j(),y.current={}}},[e,t]),{status:n,peers:a,messages:c,sendMessage:async(j,nt)=>{const W={id:Date.now()+Math.random(),user:t,text:j,timestamp:Date.now()};if(nt){const at=y.current[nt];if(at&&at.conn.open&&at.sharedSecret){const D=await ob(JSON.stringify(W),at.sharedSecret);at.conn.send({payload:D}),w({...W,isMe:!0,peerId:nt})}else console.error("Cannot send to",nt,"- Connection not ready")}else Object.values(y.current).forEach(async at=>{if(at.conn.open&&at.sharedSecret){const D=await ob(JSON.stringify(W),at.sharedSecret);at.conn.send({payload:D})}}),w({...W,isMe:!0,peerId:"broadcast"})},myPeerId:p}},SL=({onLock:e})=>{const[t,n]=k.useState(null),[s,a]=k.useState(!0),[l,c]=k.useState(""),[h,p]=k.useState(""),m=EL(s?null:l,s?null:h),y=v=>{v.preventDefault(),l&&h&&a(!1)};return s?st.jsxs("div",{className:"bg-black text-white h-screen flex flex-col items-center justify-center p-6",children:[st.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[st.jsx(mC,{size:24})," Secure Setup"]}),st.jsxs("form",{onSubmit:y,className:"w-full max-w-sm space-y-4",children:[st.jsx("input",{value:h,onChange:v=>p(v.target.value),placeholder:"Ghost Name",className:"w-full bg-gray-900 p-3 rounded-xl outline-none border border-gray-800 focus:border-blue-500",autoFocus:!0}),st.jsx("input",{value:l,onChange:v=>c(v.target.value),placeholder:"Room Key",className:"w-full bg-gray-900 p-3 rounded-xl outline-none border border-gray-800 focus:border-blue-500"}),st.jsx("button",{type:"submit",className:"w-full bg-blue-600 p-3 rounded-xl font-bold hover:bg-blue-700 transition",children:"Enter Parallel"})]}),st.jsx("button",{onClick:e,className:"mt-4 text-gray-500 text-sm",children:"Cancel"})]}):st.jsx("div",{className:"bg-black text-white h-screen w-full flex flex-col font-sans overflow-hidden",children:st.jsx(W1,{initial:!1,mode:"wait",children:t?st.jsx(CL,{chat:t,messages:m.messages.filter(v=>v.peerId===t.id),onSendMessage:v=>m.sendMessage(v,t.id),onBack:()=>n(null)},"conversation"):st.jsx(bL,{peers:m.peers,onLock:e,onSelectChat:v=>n(v),status:m.status},"list")})})},bL=({onLock:e,onSelectChat:t,peers:n,status:s})=>st.jsxs(motion.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},className:"flex flex-col h-full",children:[st.jsxs("header",{className:"px-4 py-4 flex justify-between items-center bg-black/80 backdrop-blur-md sticky top-0 z-10",children:[st.jsxs("div",{className:"flex items-center gap-3",children:[st.jsx("button",{onClick:e,className:"p-1 -ml-1 rounded-full active:bg-white/10 transition-colors",children:st.jsx(dC,{size:24})}),st.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Direct"}),st.jsx("span",{className:`w-2 h-2 rounded-full ${s==="connected"?"bg-green-500":"bg-red-500 animate-pulse"}`})]}),st.jsxs("div",{className:"flex gap-5",children:[st.jsx(gC,{size:24,strokeWidth:1.5}),st.jsx(fP,{size:24,strokeWidth:1.5})]})]}),st.jsx("div",{className:"px-4 pb-2",children:st.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2 flex items-center gap-2 text-gray-400",children:[st.jsx(SP,{size:18}),st.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-white text-sm w-full placeholder-gray-500"})]})}),st.jsxs("div",{className:"flex-1 overflow-y-auto",children:[st.jsx("div",{className:"px-4 py-2 text-sm font-bold text-gray-400",children:"Active Peers"}),n.length===0&&st.jsxs("div",{className:"text-center text-gray-600 mt-10",children:[st.jsx(CP,{size:32,className:"mx-auto mb-2 opacity-50"}),st.jsx("p",{children:"No one else is here..."}),st.jsx("p",{className:"text-xs",children:"Share the Room Key"})]}),n.map(a=>st.jsxs("button",{onClick:()=>t({id:a.id,name:a.user}),className:"w-full px-4 py-3 flex items-center gap-3 active:bg-white/5 transition-colors",children:[st.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center font-bold text-lg",children:a.user[0].toUpperCase()}),st.jsxs("div",{className:"flex-1 text-left",children:[st.jsx("h3",{className:"text-sm font-bold text-white",children:a.user}),st.jsx("div",{className:"text-xs text-green-400 font-medium",children:"Online"})]}),st.jsx("div",{className:"text-gray-500",children:st.jsx(pC,{size:20,strokeWidth:1.5})})]},a.id))]})]}),CL=({chat:e,onBack:t,messages:n,onSendMessage:s})=>{const[a,l]=k.useState(""),c=h=>{h.preventDefault(),a.trim()&&(s(a),l(""))};return st.jsxs(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 bg-black flex flex-col z-20",children:[st.jsxs("header",{className:"px-4 py-3 flex items-center justify-between border-b border-white/10 bg-black/90 backdrop-blur-md",children:[st.jsxs("div",{className:"flex items-center gap-4",children:[st.jsx("button",{onClick:t,className:"text-white",children:st.jsx(dC,{size:24})}),st.jsxs("div",{className:"flex items-center gap-3",children:[st.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xs font-bold",children:e.name[0]}),st.jsxs("div",{children:[st.jsx("h3",{className:"text-sm font-bold leading-tight",children:e.name}),st.jsx("span",{className:"text-xs text-green-500",children:"Encrypted P2P"})]})]})]}),st.jsxs("div",{className:"flex gap-5 text-gray-100",children:[st.jsx(TP,{size:24,strokeWidth:1.5}),st.jsx(gC,{size:24,strokeWidth:1.5})]})]}),st.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 flex flex-col-reverse",children:[...n].map(h=>st.jsxs("div",{className:`flex ${h.isMe?"justify-end":"justify-start"}`,children:[!h.isMe&&st.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-700 mr-2 self-end mb-1 flex items-center justify-center text-[10px]",children:h.user[0]}),st.jsx("div",{className:`max-w-[70%] px-4 py-2 rounded-2xl text-sm break-words ${h.isMe?"bg-blue-600 text-white rounded-br-sm":"bg-gray-800 text-white rounded-bl-sm"}`,children:h.text})]},h.id))}),st.jsxs("form",{onSubmit:c,className:"p-3 bg-black flex items-center gap-3 pb-6",children:[st.jsx("div",{className:"h-10 w-10 flex items-center justify-center bg-gray-800 rounded-full text-white",children:st.jsx(pC,{size:20})}),st.jsxs("div",{className:"flex-1 bg-gray-900 rounded-full h-11 flex items-center px-4 gap-2",children:[st.jsx("input",{value:a,onChange:h=>l(h.target.value),type:"text",placeholder:"Message...",className:"bg-transparent border-none outline-none text-white text-sm w-full placeholder-gray-500"}),!a&&st.jsx(vP,{size:20,className:"text-gray-400"}),!a&&st.jsx(mP,{size:20,className:"text-gray-400"}),a&&st.jsx("button",{type:"submit",className:"text-blue-500 font-bold text-sm",children:"Send"})]})]})]})};function AL(){const[e,t]=k.useState("public"),n=()=>{console.log("UNLOCK REQUEST RECEIVED"),t("auth")},s=()=>{console.log("AUTH SUCCESS - SWITCHING TO PRIVATE"),t("private")},a=()=>{console.log("AUTH CANCELLED"),t("public")},l=()=>{console.log("LOCKING APP"),t("public")};return console.log("CURRENT MODE:",e),st.jsxs("div",{className:"h-screen w-full overflow-hidden bg-gray-50 relative",children:[st.jsx("div",{className:`transition-opacity duration-300 ${e==="private"?"opacity-0 pointer-events-none absolute inset-0":"opacity-100"}`,children:st.jsx(nP,{onUnlock:n})}),st.jsx(W1,{children:e==="auth"&&st.jsx(RP,{onAuthenticated:s,onCancel:a})}),e==="private"&&st.jsx("div",{className:"absolute inset-0 z-20",children:st.jsx(SL,{onLock:l})})]})}console.log("APP ENTRY POINT LOADED - IF YOU SEE THIS, JS IS RUNNING");Vx.createRoot(document.getElementById("root")).render(st.jsx(k.StrictMode,{children:st.jsx(ZD,{children:st.jsx(AL,{})})}));
