function qA(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function YT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Np={exports:{}},Bl={};var W_;function GA(){if(W_)return Bl;W_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var J_;function $A(){return J_||(J_=1,Np.exports=GA()),Np.exports}var T=$A(),kp={exports:{}},De={};var eb;function KA(){if(eb)return De;eb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function K(I,H,W){this.props=I,this.context=H,this.refs=B,this.updater=W||N}K.prototype.isReactComponent={},K.prototype.setState=function(I,H){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,H,"setState")},K.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Z(){}Z.prototype=K.prototype;function ee(I,H,W){this.props=I,this.context=H,this.refs=B,this.updater=W||N}var le=ee.prototype=new Z;le.constructor=ee,L(le,K.prototype),le.isPureReactComponent=!0;var ae=Array.isArray;function de(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(I,H,W){var ie=W.ref;return{$$typeof:n,type:I,key:H,ref:ie!==void 0?ie:null,props:W}}function k(I,H){return w(I.type,H,I.props)}function P(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function j(I){var H={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return H[W]})}var M=/\/+/g;function Ve(I,H){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):H.toString(36)}function at(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(de,de):(I.status="pending",I.then(function(H){I.status==="pending"&&(I.status="fulfilled",I.value=H)},function(H){I.status==="pending"&&(I.status="rejected",I.reason=H)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,H,W,ie,ue){var pe=typeof I;(pe==="undefined"||pe==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(pe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case n:case e:ve=!0;break;case y:return ve=I._init,X(ve(I._payload),H,W,ie,ue)}}if(ve)return ue=ue(I),ve=ie===""?"."+Ve(I,0):ie,ae(ue)?(W="",ve!=null&&(W=ve.replace(M,"$&/")+"/"),X(ue,H,W,"",function(Ge){return Ge})):ue!=null&&(P(ue)&&(ue=k(ue,W+(ue.key==null||I&&I.key===ue.key?"":(""+ue.key).replace(M,"$&/")+"/")+ve)),H.push(ue)),1;ve=0;var Ie=ie===""?".":ie+":";if(ae(I))for(var Te=0;Te<I.length;Te++)ie=I[Te],pe=Ie+Ve(ie,Te),ve+=X(ie,H,W,pe,ue);else if(Te=C(I),typeof Te=="function")for(I=Te.call(I),Te=0;!(ie=I.next()).done;)ie=ie.value,pe=Ie+Ve(ie,Te++),ve+=X(ie,H,W,pe,ue);else if(pe==="object"){if(typeof I.then=="function")return X(at(I),H,W,ie,ue);throw H=String(I),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ve}function oe(I,H,W){if(I==null)return I;var ie=[],ue=0;return X(I,ie,"","",function(pe){return H.call(W,pe,ue++)}),ie}function he(I){if(I._status===-1){var H=I._result;H=H(),H.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=H)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ee={map:oe,forEach:function(I,H,W){oe(I,function(){H.apply(this,arguments)},W)},count:function(I){var H=0;return oe(I,function(){H++}),H},toArray:function(I){return oe(I,function(H){return H})||[]},only:function(I){if(!P(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=_,De.Children=Ee,De.Component=K,De.Fragment=t,De.Profiler=a,De.PureComponent=ee,De.StrictMode=s,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,H,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ie=L({},I.props),ue=I.key;if(H!=null)for(pe in H.key!==void 0&&(ue=""+H.key),H)!A.call(H,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&H.ref===void 0||(ie[pe]=H[pe]);var pe=arguments.length-2;if(pe===1)ie.children=W;else if(1<pe){for(var ve=Array(pe),Ie=0;Ie<pe;Ie++)ve[Ie]=arguments[Ie+2];ie.children=ve}return w(I.type,ue,ie)},De.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},De.createElement=function(I,H,W){var ie,ue={},pe=null;if(H!=null)for(ie in H.key!==void 0&&(pe=""+H.key),H)A.call(H,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=H[ie]);var ve=arguments.length-2;if(ve===1)ue.children=W;else if(1<ve){for(var Ie=Array(ve),Te=0;Te<ve;Te++)Ie[Te]=arguments[Te+2];ue.children=Ie}if(I&&I.defaultProps)for(ie in ve=I.defaultProps,ve)ue[ie]===void 0&&(ue[ie]=ve[ie]);return w(I,pe,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:d,render:I}},De.isValidElement=P,De.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:he}},De.memo=function(I,H){return{$$typeof:m,type:I,compare:H===void 0?null:H}},De.startTransition=function(I){var H=D.T,W={};D.T=W;try{var ie=I(),ue=D.S;ue!==null&&ue(W,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(de,fe)}catch(pe){fe(pe)}finally{H!==null&&W.types!==null&&(H.types=W.types),D.T=H}},De.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},De.use=function(I){return D.H.use(I)},De.useActionState=function(I,H,W){return D.H.useActionState(I,H,W)},De.useCallback=function(I,H){return D.H.useCallback(I,H)},De.useContext=function(I){return D.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,H){return D.H.useDeferredValue(I,H)},De.useEffect=function(I,H){return D.H.useEffect(I,H)},De.useEffectEvent=function(I){return D.H.useEffectEvent(I)},De.useId=function(){return D.H.useId()},De.useImperativeHandle=function(I,H,W){return D.H.useImperativeHandle(I,H,W)},De.useInsertionEffect=function(I,H){return D.H.useInsertionEffect(I,H)},De.useLayoutEffect=function(I,H){return D.H.useLayoutEffect(I,H)},De.useMemo=function(I,H){return D.H.useMemo(I,H)},De.useOptimistic=function(I,H){return D.H.useOptimistic(I,H)},De.useReducer=function(I,H,W){return D.H.useReducer(I,H,W)},De.useRef=function(I){return D.H.useRef(I)},De.useState=function(I){return D.H.useState(I)},De.useSyncExternalStore=function(I,H,W){return D.H.useSyncExternalStore(I,H,W)},De.useTransition=function(){return D.H.useTransition()},De.version="19.2.4",De}var tb;function fg(){return tb||(tb=1,kp.exports=KA()),kp.exports}var F=fg();const QT=YT(F);var Vp={exports:{}},zl={},Pp={exports:{}},Ip={};var nb;function YA(){return nb||(nb=1,(function(n){function e(X,oe){var he=X.length;X.push(oe);e:for(;0<he;){var fe=he-1>>>1,Ee=X[fe];if(0<a(Ee,oe))X[fe]=oe,X[he]=Ee,he=fe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],he=X.pop();if(he!==oe){X[0]=he;e:for(var fe=0,Ee=X.length,I=Ee>>>1;fe<I;){var H=2*(fe+1)-1,W=X[H],ie=H+1,ue=X[ie];if(0>a(W,he))ie<Ee&&0>a(ue,W)?(X[fe]=ue,X[ie]=he,fe=ie):(X[fe]=W,X[H]=he,fe=H);else if(ie<Ee&&0>a(ue,he))X[fe]=ue,X[ie]=he,fe=ie;else break e}}return oe}function a(X,oe){var he=X.sortIndex-oe.sortIndex;return he!==0?he:X.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var g=[],m=[],y=1,_=null,S=3,C=!1,N=!1,L=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le(X){for(var oe=t(m);oe!==null;){if(oe.callback===null)s(m);else if(oe.startTime<=X)s(m),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=t(m)}}function ae(X){if(L=!1,le(X),!N)if(t(g)!==null)N=!0,de||(de=!0,j());else{var oe=t(m);oe!==null&&at(ae,oe.startTime-X)}}var de=!1,D=-1,A=5,w=-1;function k(){return B?!0:!(n.unstable_now()-w<A)}function P(){if(B=!1,de){var X=n.unstable_now();w=X;var oe=!0;try{e:{N=!1,L&&(L=!1,Z(D),D=-1),C=!0;var he=S;try{t:{for(le(X),_=t(g);_!==null&&!(_.expirationTime>X&&k());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,S=_.priorityLevel;var Ee=fe(_.expirationTime<=X);if(X=n.unstable_now(),typeof Ee=="function"){_.callback=Ee,le(X),oe=!0;break t}_===t(g)&&s(g),le(X)}else s(g);_=t(g)}if(_!==null)oe=!0;else{var I=t(m);I!==null&&at(ae,I.startTime-X),oe=!1}}break e}finally{_=null,S=he,C=!1}oe=void 0}}finally{oe?j():de=!1}}}var j;if(typeof ee=="function")j=function(){ee(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ve=M.port2;M.port1.onmessage=P,j=function(){Ve.postMessage(null)}}else j=function(){K(P,0)};function at(X,oe){D=K(function(){X(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var he=S;S=oe;try{return X()}finally{S=he}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=S;S=X;try{return oe()}finally{S=he}},n.unstable_scheduleCallback=function(X,oe,he){var fe=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?fe+he:fe):he=fe,X){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=he+Ee,X={id:y++,callback:oe,priorityLevel:X,startTime:he,expirationTime:Ee,sortIndex:-1},he>fe?(X.sortIndex=he,e(m,X),t(g)===null&&X===t(m)&&(L?(Z(D),D=-1):L=!0,at(ae,he-fe))):(X.sortIndex=Ee,e(g,X),N||C||(N=!0,de||(de=!0,j()))),X},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(X){var oe=S;return function(){var he=S;S=oe;try{return X.apply(this,arguments)}finally{S=he}}}})(Ip)),Ip}var ib;function QA(){return ib||(ib=1,Pp.exports=YA()),Pp.exports}var Op={exports:{}},on={};var sb;function XA(){if(sb)return on;sb=1;var n=fg();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,y)},on.flushSync=function(g){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=m,s.p=y,s.d.f()}},on.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},on.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},on.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},on.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},on.requestFormReset=function(g){s.d.r(g)},on.unstable_batchedUpdates=function(g,m){return g(m)},on.useFormState=function(g,m,y){return u.H.useFormState(g,m,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.4",on}var rb;function ZA(){if(rb)return Op.exports;rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Op.exports=XA(),Op.exports}var ab;function WA(){if(ab)return zl;ab=1;var n=QA(),e=fg(),t=ZA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return g(h),i;if(p===c)return g(h),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=p;else{for(var b=!1,E=h.child;E;){if(E===o){b=!0,o=h,c=p;break}if(E===c){b=!0,c=h,o=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===o){b=!0,o=p,c=h;break}if(E===c){b=!0,c=p,o=h;break}E=E.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case K:return"Profiler";case B:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case ee:return i.displayName||"Context";case Z:return(i._context.displayName||"Context")+".Consumer";case le:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:Ve(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Ve(i(r))}catch{}}return null}var at=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},fe=[],Ee=-1;function I(i){return{current:i}}function H(i){0>Ee||(i.current=fe[Ee],fe[Ee]=null,Ee--)}function W(i,r){Ee++,fe[Ee]=i.current,i.current=r}var ie=I(null),ue=I(null),pe=I(null),ve=I(null);function Ie(i,r){switch(W(pe,r),W(ue,i),W(ie,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?T_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=T_(r),i=x_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(ie),W(ie,i)}function Te(){H(ie),H(ue),H(pe)}function Ge(i){i.memoizedState!==null&&W(ve,i);var r=ie.current,o=x_(r,i.type);r!==o&&(W(ue,i),W(ie,o))}function Xe(i){ue.current===i&&(H(ie),H(ue)),ve.current===i&&(H(ve),Il._currentValue=he)}var dt,pn;function Fn(i){if(dt===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);dt=r&&r[1]||"",pn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+i+pn}var Io=!1;function xr(i,r){if(!i||Io)return"";Io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var $=Q}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(Q){$=Q}i.call(ne.prototype)}}else{try{throw Error()}catch(Q){$=Q}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var V=b.split(`
`),G=E.split(`
`);for(h=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(c===V.length||h===G.length)for(c=V.length-1,h=G.length-1;1<=c&&0<=h&&V[c]!==G[h];)h--;for(;1<=c&&0<=h;c--,h--)if(V[c]!==G[h]){if(c!==1||h!==1)do if(c--,h--,0>h||V[c]!==G[h]){var J=`
`+V[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fn(o):""}function Oo(i,r){switch(i.tag){case 26:case 27:case 5:return Fn(i.type);case 16:return Fn("Lazy");case 13:return i.child!==r&&r!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return xr(i.type,!1);case 11:return xr(i.type.render,!1);case 1:return xr(i.type,!0);case 31:return Fn("Activity");default:return""}}function jo(i){try{var r="",o=null;do r+=Oo(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,zt=n.unstable_scheduleCallback,Ss=n.unstable_cancelCallback,Vh=n.unstable_shouldYield,Mc=n.unstable_requestPaint,mn=n.unstable_now,Sr=n.unstable_getCurrentPriorityLevel,Lo=n.unstable_ImmediatePriority,Bo=n.unstable_UserBlockingPriority,Es=n.unstable_NormalPriority,Ph=n.unstable_LowPriority,Nc=n.unstable_IdlePriority,kc=n.log,Vc=n.unstable_setDisableYieldValue,ri=null,Qt=null;function Hn(i){if(typeof kc=="function"&&Vc(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ri,i)}catch{}}var Tt=Math.clz32?Math.clz32:Ic,Pc=Math.log,ma=Math.LN2;function Ic(i){return i>>>=0,i===0?32:31-(Pc(i)/ma|0)|0}var xi=256,Er=262144,Rt=4194304;function Si(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ei(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~p,c!==0?h=Si(c):(b&=E,b!==0?h=Si(b):o||(o=E&~i,o!==0&&(h=Si(o))))):(E=c&~p,E!==0?h=Si(E):b!==0?h=Si(b):o||(o=c&~i,o!==0&&(h=Si(o)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:h}function ai(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ih(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Ci(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Cr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Oh(i,r,o,c,h,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,V=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var J=31-Tt(o),ne=1<<J;E[J]=0,V[J]=-1;var $=G[J];if($!==null)for(G[J]=null,J=0;J<$.length;J++){var Q=$[J];Q!==null&&(Q.lane&=-536870913)}o&=~ne}c!==0&&Ar(i,c,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function Ar(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Tt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function zo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Tt(o),h=1<<c;h&r|i[c]&r&&(i[c]|=r),o&=~h}}function Uo(i,r){var o=r&-r;return o=(o&42)!==0?1:Rr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jc(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:G_(i.type))}function oi(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var li=Math.random().toString(36).slice(2),wt="__reactFiber$"+li,Gt="__reactProps$"+li,Ai="__reactContainer$"+li,ga="__reactEvents$"+li,jh="__reactListeners$"+li,Lc="__reactHandles$"+li,Bc="__reactResources$"+li,Ri="__reactMarker$"+li;function ya(i){delete i[wt],delete i[Gt],delete i[ga],delete i[jh],delete i[Lc]}function wi(i){var r=i[wt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ai]||o[wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=D_(i);i!==null;){if(o=i[wt])return o;i=D_(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[wt]||i[Ai]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Nn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[Bc];return r||(r=i[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(i){i[Ri]=!0}var Fo=new Set,Ho={};function Mi(i,r){Ni(i,r),Ni(i+"Capture",r)}function Ni(i,r){for(Ho[i]=r,i=0;i<r.length;i++)Fo.add(r[i])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},$o={};function zc(i){return At.call($o,i)?!0:At.call(Go,i)?!1:qo.test(i)?$o[i]=!0:(Go[i]=!0,!1)}function va(i,r,o){if(zc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Mt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ko(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function We(i){if(!i._valueTracker){var r=Cs(i)?"checked":"value";i._valueTracker=Ko(i,r,""+i[r])}}function wr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Cs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dr=/[\n"\\]/g;function Tn(i){return i.replace(Dr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _a(i,r,o,c,h,p,b,E){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$t(r)):i.value!==""+$t(r)&&(i.value=""+$t(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Yo(i,b,$t(r)):o!=null?Yo(i,b,$t(o)):c!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+$t(E):i.removeAttribute("name")}function Uc(i,r,o,c,h,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){We(i);return}o=o!=null?""+$t(o):"",r=r!=null?""+$t(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),We(i)}function Yo(i,r,o){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function As(i,r,o,c){if(i=i.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=r.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&c&&(i[o].defaultSelected=!0)}else{for(o=""+$t(o),r=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Fc(i,r,o){if(r!=null&&(r=""+$t(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$t(o):""}function Rs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(at(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=$t(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),We(i)}function xn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Hc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Xo(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&Qo(i,h,c)}else for(var p in r)r.hasOwnProperty(p)&&Qo(i,p,r[p])}function ba(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(i){return ws.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ci(){}var Zo=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ds=null,Vi=null;function Mr(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[Gt]||null;e:switch(i=r.stateNode,r.type){case"input":if(_a(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var h=c[Gt]||null;if(!h)throw Error(s(90));_a(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&wr(c)}break e;case"textarea":Fc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&As(i,!!o.multiple,r,!1)}}}var xa=!1;function Ms(i,r,o){if(xa)return i(r,o);xa=!0;try{var c=i(r);return c}finally{if(xa=!1,(Ds!==null||Vi!==null)&&(ju(),Ds&&(r=Ds,i=Vi,Vi=Ds=null,Mr(r),i)))for(r=0;r<i.length;r++)Mr(i[r])}}function ui(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if($n)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Nr=!1}var Pi=null,Wo=null,kr=null;function Jo(){if(kr)return kr;var i,r=Wo,o=r.length,c,h="value"in Pi?Pi.value:Pi.textContent,p=h.length;for(i=0;i<o&&r[i]===h[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===h[p-c];c++);return kr=h.slice(i,1<c?1-c:void 0)}function Vr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ji(){return!0}function fi(){return!1}function Xt(i){function r(o,c,h,p,b){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ji:fi,this.isPropagationStopped=fi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),r}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Xt(es),Ns=_({},es,{view:0,detail:0}),el=Xt(Ns),ks,Sa,Oi,Ea=_({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(ks=i.screenX-Oi.screenX,Sa=i.screenY-Oi.screenY):Sa=ks=0,Oi=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Sa}}),tl=Xt(Ea),Pr=_({},Ea,{dataTransfer:0}),Gc=Xt(Pr),$c=_({},Ns,{relatedTarget:0}),Ir=Xt($c),nl=_({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Xt(nl),Ca=_({},es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yc=Xt(Ca),Qc=_({},es,{data:0}),ji=Xt(Qc),Xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Wc[i])?!!r[i]:!1}function Vs(){return Jc}var gn=_({},Ns,{key:function(i){if(i.key){var r=Xc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eu=Xt(gn),tu=_({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Xt(tu),f=_({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Xt(f),x=_({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xt(x),U=_({},Ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Xt(U),ce=_({},es,{newState:0,oldState:0}),Ne=Xt(ce),xt=[9,13,27,32],Ye=$n&&"CompositionEvent"in window,pt=null;$n&&"documentMode"in document&&(pt=document.documentMode);var Kn=$n&&"TextEvent"in window&&!pt,Li=$n&&(!Ye||pt&&8<pt&&11>=pt),hi=" ",di=!1;function Or(i,r){switch(i){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ra=!1;function pC(i,r){switch(i){case"compositionend":return Aa(r);case"keypress":return r.which!==32?null:(di=!0,hi);case"textInput":return i=r.data,i===hi&&di?null:i;default:return null}}function mC(i,r){if(Ra)return i==="compositionend"||!Ye&&Or(i,r)?(i=Jo(),kr=Wo=Pi=null,Ra=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!gC[i.type]:r==="textarea"}function Vy(i,r,o,c){Ds?Vi?Vi.push(c):Vi=[c]:Ds=c,r=qu(r,"onChange"),0<r.length&&(o=new Ii("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var il=null,sl=null;function yC(i){m_(i,0)}function nu(i){var r=Nn(i);if(wr(r))return i}function Py(i,r){if(i==="change")return r}var Iy=!1;if($n){var Lh;if($n){var Bh="oninput"in document;if(!Bh){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Bh=typeof Oy.oninput=="function"}Lh=Bh}else Lh=!1;Iy=Lh&&(!document.documentMode||9<document.documentMode)}function jy(){il&&(il.detachEvent("onpropertychange",Ly),sl=il=null)}function Ly(i){if(i.propertyName==="value"&&nu(sl)){var r=[];Vy(r,sl,i,Gn(i)),Ms(yC,r)}}function vC(i,r,o){i==="focusin"?(jy(),il=r,sl=o,il.attachEvent("onpropertychange",Ly)):i==="focusout"&&jy()}function _C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nu(sl)}function bC(i,r){if(i==="click")return nu(r)}function TC(i,r){if(i==="input"||i==="change")return nu(r)}function xC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Vn=typeof Object.is=="function"?Object.is:xC;function rl(i,r){if(Vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!At.call(r,h)||!Vn(i[h],r[h]))return!1}return!0}function By(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zy(i,r){var o=By(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=By(o)}}function Uy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Uy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Fy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ki(i.document)}return r}function zh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var SC=$n&&"documentMode"in document&&11>=document.documentMode,wa=null,Uh=null,al=null,Fh=!1;function Hy(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fh||wa==null||wa!==ki(c)||(c=wa,"selectionStart"in c&&zh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),al&&rl(al,c)||(al=c,c=qu(Uh,"onSelect"),0<c.length&&(r=new Ii("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=wa)))}function jr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Da={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Hh={},qy={};$n&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Lr(i){if(Hh[i])return Hh[i];if(!Da[i])return i;var r=Da[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in qy)return Hh[i]=r[o];return i}var Gy=Lr("animationend"),$y=Lr("animationiteration"),Ky=Lr("animationstart"),EC=Lr("transitionrun"),CC=Lr("transitionstart"),AC=Lr("transitioncancel"),Yy=Lr("transitionend"),Qy=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function pi(i,r){Qy.set(i,r),Mi(r,[i])}var iu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],Ma=0,Gh=0;function su(){for(var i=Ma,r=Gh=Ma=0;r<i;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var h=Yn[r];Yn[r++]=null;var p=Yn[r];if(Yn[r++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}p!==0&&Xy(o,h,p)}}function ru(i,r,o,c){Yn[Ma++]=i,Yn[Ma++]=r,Yn[Ma++]=o,Yn[Ma++]=c,Gh|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function $h(i,r,o,c){return ru(i,r,o,c),au(i)}function Br(i,r){return ru(i,null,null,r),au(i)}function Xy(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var h=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,h&&r!==null&&(h=31-Tt(o),i=p.hiddenUpdates,c=i[h],c===null?i[h]=[r]:c.push(r),r.lane=o|536870912),p):null}function au(i){if(50<wl)throw wl=0,tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Na={};function RC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,r,o,c){return new RC(i,r,o,c)}function Kh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var o=i.alternate;return o===null?(o=Pn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zy(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ou(i,r,o,c,h,p){var b=0;if(c=i,typeof i=="function")Kh(i)&&(b=1);else if(typeof i=="string")b=kA(i,o,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case w:return i=Pn(31,o,r,h),i.elementType=w,i.lanes=p,i;case L:return zr(o.children,h,p,r);case B:b=8,h|=24;break;case K:return i=Pn(12,o,r,h|2),i.elementType=K,i.lanes=p,i;case ae:return i=Pn(13,o,r,h),i.elementType=ae,i.lanes=p,i;case de:return i=Pn(19,o,r,h),i.elementType=de,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ee:b=10;break e;case Z:b=9;break e;case le:b=11;break e;case D:b=14;break e;case A:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Pn(b,o,r,h),r.elementType=i,r.type=c,r.lanes=p,r}function zr(i,r,o,c){return i=Pn(7,i,c,r),i.lanes=o,i}function Yh(i,r,o){return i=Pn(6,i,null,r),i.lanes=o,i}function Wy(i){var r=Pn(18,null,null,0);return r.stateNode=i,r}function Qh(i,r,o){return r=Pn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Jy=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=Jy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:jo(r)},Jy.set(i,r),r)}return{value:i,source:r,stack:jo(r)}}var ka=[],Va=0,lu=null,ol=0,Xn=[],Zn=0,Ps=null,Bi=1,zi="";function is(i,r){ka[Va++]=ol,ka[Va++]=lu,lu=i,ol=r}function e0(i,r,o){Xn[Zn++]=Bi,Xn[Zn++]=zi,Xn[Zn++]=Ps,Ps=i;var c=Bi;i=zi;var h=32-Tt(c)-1;c&=~(1<<h),o+=1;var p=32-Tt(r)+h;if(30<p){var b=h-h%5;p=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Bi=1<<32-Tt(r)+h|o<<h|c,zi=p+i}else Bi=1<<p|o<<h|c,zi=i}function Xh(i){i.return!==null&&(is(i,1),e0(i,1,0))}function Zh(i){for(;i===lu;)lu=ka[--Va],ka[Va]=null,ol=ka[--Va],ka[Va]=null;for(;i===Ps;)Ps=Xn[--Zn],Xn[Zn]=null,zi=Xn[--Zn],Xn[Zn]=null,Bi=Xn[--Zn],Xn[Zn]=null}function t0(i,r){Xn[Zn++]=Bi,Xn[Zn++]=zi,Xn[Zn++]=Ps,Bi=r.id,zi=r.overflow,Ps=i}var Zt=null,ct=null,Fe=!1,Is=null,Wn=!1,Wh=Error(s(519));function Os(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Qn(r,i)),Wh}function n0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[wt]=i,r[Gt]=c,o){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<Ml.length;o++)je(Ml[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Uc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Rs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||__(r.textContent,o)?(c.popover!=null&&(je("beforetoggle",r),je("toggle",r)),c.onScroll!=null&&je("scroll",r),c.onScrollEnd!=null&&je("scrollend",r),c.onClick!=null&&(r.onclick=ci),r=!0):r=!1,r||Os(i,!0)}function i0(i){for(Zt=i.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Zt=Zt.return}}function Pa(i){if(i!==Zt)return!1;if(!Fe)return i0(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gp(i.type,i.memoizedProps)),o=!o),o&&ct&&Os(i),i0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=w_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=w_(i)}else r===27?(r=ct,Xs(i.type)?(i=Tp,Tp=null,ct=i):ct=r):ct=Zt?ei(i.stateNode.nextSibling):null;return!0}function Ur(){ct=Zt=null,Fe=!1}function Jh(){var i=Is;return i!==null&&(An===null?An=i:An.push.apply(An,i),Is=null),i}function ll(i){Is===null?Is=[i]:Is.push(i)}var ed=I(null),Fr=null,ss=null;function js(i,r,o){W(ed,r._currentValue),r._currentValue=o}function rs(i){i._currentValue=ed.current,H(ed)}function td(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function nd(i,r,o,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=h;for(var V=0;V<r.length;V++)if(E.context===r[V]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),td(p.return,o,i),c||(b=null);break e}p=E.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),td(b,o,i),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===i){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ia(i,r,o,c){i=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=h.type;Vn(h.pendingProps.value,b.value)||(i!==null?i.push(E):i=[E])}}else if(h===ve.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(Il):i=[Il])}h=h.return}i!==null&&nd(r,i,o,c),r.flags|=262144}function cu(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hr(i){Fr=i,ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return s0(Fr,i)}function uu(i,r){return Fr===null&&Hr(i),s0(i,r)}function s0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ss===null){if(i===null)throw Error(s(308));ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ss=ss.next=r;return o}var wC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},DC=n.unstable_scheduleCallback,MC=n.unstable_NormalPriority,Nt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new wC,data:new Map,refCount:0}}function cl(i){i.refCount--,i.refCount===0&&DC(MC,function(){i.controller.abort()})}var ul=null,sd=0,Oa=0,ja=null;function NC(i,r){if(ul===null){var o=ul=[];sd=0,Oa=op(),ja={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sd++,r.then(r0,r0),r}function r0(){if(--sd===0&&ul!==null){ja!==null&&(ja.status="fulfilled");var i=ul;ul=null,Oa=0,ja=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function kC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var a0=X.S;X.S=function(i,r){Hv=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NC(i,r),a0!==null&&a0(i,r)};var qr=I(null);function rd(){var i=qr.current;return i!==null?i:ot.pooledCache}function fu(i,r){r===null?W(qr,qr.current):W(qr,r.pool)}function o0(){var i=rd();return i===null?null:{parent:Nt._currentValue,pool:i}}var La=Error(s(460)),ad=Error(s(474)),hu=Error(s(542)),du={then:function(){}};function l0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ci,ci),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f0(i),i;default:if(typeof r.status=="string")r.then(ci,ci);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f0(i),i}throw $r=r,La}}function Gr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($r=o,La):o}}var $r=null;function u0(){if($r===null)throw Error(s(459));var i=$r;return $r=null,i}function f0(i){if(i===La||i===hu)throw Error(s(483))}var Ba=null,fl=0;function pu(i){var r=fl;return fl+=1,Ba===null&&(Ba=[]),c0(Ba,i,r)}function hl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function mu(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function h0(i){function r(z,O){if(i){var q=z.deletions;q===null?(z.deletions=[O],z.flags|=16):q.push(O)}}function o(z,O){if(!i)return null;for(;O!==null;)r(z,O),O=O.sibling;return null}function c(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=ns(z,O),z.index=0,z.sibling=null,z}function p(z,O,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<O?(z.flags|=67108866,O):q):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function E(z,O,q,te){return O===null||O.tag!==6?(O=Yh(q,z.mode,te),O.return=z,O):(O=h(O,q),O.return=z,O)}function V(z,O,q,te){var Se=q.type;return Se===L?J(z,O,q.props.children,te,q.key):O!==null&&(O.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Gr(Se)===O.type)?(O=h(O,q.props),hl(O,q),O.return=z,O):(O=ou(q.type,q.key,q.props,null,z.mode,te),hl(O,q),O.return=z,O)}function G(z,O,q,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Qh(q,z.mode,te),O.return=z,O):(O=h(O,q.children||[]),O.return=z,O)}function J(z,O,q,te,Se){return O===null||O.tag!==7?(O=zr(q,z.mode,te,Se),O.return=z,O):(O=h(O,q),O.return=z,O)}function ne(z,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,z.mode,q),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return q=ou(O.type,O.key,O.props,null,z.mode,q),hl(q,O),q.return=z,q;case N:return O=Qh(O,z.mode,q),O.return=z,O;case A:return O=Gr(O),ne(z,O,q)}if(at(O)||j(O))return O=zr(O,z.mode,q,null),O.return=z,O;if(typeof O.then=="function")return ne(z,pu(O),q);if(O.$$typeof===ee)return ne(z,uu(z,O),q);mu(z,O)}return null}function $(z,O,q,te){var Se=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Se!==null?null:E(z,O,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===Se?V(z,O,q,te):null;case N:return q.key===Se?G(z,O,q,te):null;case A:return q=Gr(q),$(z,O,q,te)}if(at(q)||j(q))return Se!==null?null:J(z,O,q,te,null);if(typeof q.then=="function")return $(z,O,pu(q),te);if(q.$$typeof===ee)return $(z,O,uu(z,q),te);mu(z,q)}return null}function Q(z,O,q,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(q)||null,E(O,z,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return z=z.get(te.key===null?q:te.key)||null,V(O,z,te,Se);case N:return z=z.get(te.key===null?q:te.key)||null,G(O,z,te,Se);case A:return te=Gr(te),Q(z,O,q,te,Se)}if(at(te)||j(te))return z=z.get(q)||null,J(O,z,te,Se,null);if(typeof te.then=="function")return Q(z,O,q,pu(te),Se);if(te.$$typeof===ee)return Q(z,O,q,uu(O,te),Se);mu(O,te)}return null}function ge(z,O,q,te){for(var Se=null,$e=null,be=O,Pe=O=0,Be=null;be!==null&&Pe<q.length;Pe++){be.index>Pe?(Be=be,be=null):Be=be.sibling;var Ke=$(z,be,q[Pe],te);if(Ke===null){be===null&&(be=Be);break}i&&be&&Ke.alternate===null&&r(z,be),O=p(Ke,O,Pe),$e===null?Se=Ke:$e.sibling=Ke,$e=Ke,be=Be}if(Pe===q.length)return o(z,be),Fe&&is(z,Pe),Se;if(be===null){for(;Pe<q.length;Pe++)be=ne(z,q[Pe],te),be!==null&&(O=p(be,O,Pe),$e===null?Se=be:$e.sibling=be,$e=be);return Fe&&is(z,Pe),Se}for(be=c(be);Pe<q.length;Pe++)Be=Q(be,z,Pe,q[Pe],te),Be!==null&&(i&&Be.alternate!==null&&be.delete(Be.key===null?Pe:Be.key),O=p(Be,O,Pe),$e===null?Se=Be:$e.sibling=Be,$e=Be);return i&&be.forEach(function(tr){return r(z,tr)}),Fe&&is(z,Pe),Se}function Ae(z,O,q,te){if(q==null)throw Error(s(151));for(var Se=null,$e=null,be=O,Pe=O=0,Be=null,Ke=q.next();be!==null&&!Ke.done;Pe++,Ke=q.next()){be.index>Pe?(Be=be,be=null):Be=be.sibling;var tr=$(z,be,Ke.value,te);if(tr===null){be===null&&(be=Be);break}i&&be&&tr.alternate===null&&r(z,be),O=p(tr,O,Pe),$e===null?Se=tr:$e.sibling=tr,$e=tr,be=Be}if(Ke.done)return o(z,be),Fe&&is(z,Pe),Se;if(be===null){for(;!Ke.done;Pe++,Ke=q.next())Ke=ne(z,Ke.value,te),Ke!==null&&(O=p(Ke,O,Pe),$e===null?Se=Ke:$e.sibling=Ke,$e=Ke);return Fe&&is(z,Pe),Se}for(be=c(be);!Ke.done;Pe++,Ke=q.next())Ke=Q(be,z,Pe,Ke.value,te),Ke!==null&&(i&&Ke.alternate!==null&&be.delete(Ke.key===null?Pe:Ke.key),O=p(Ke,O,Pe),$e===null?Se=Ke:$e.sibling=Ke,$e=Ke);return i&&be.forEach(function(HA){return r(z,HA)}),Fe&&is(z,Pe),Se}function rt(z,O,q,te){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:e:{for(var Se=q.key;O!==null;){if(O.key===Se){if(Se=q.type,Se===L){if(O.tag===7){o(z,O.sibling),te=h(O,q.props.children),te.return=z,z=te;break e}}else if(O.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Gr(Se)===O.type){o(z,O.sibling),te=h(O,q.props),hl(te,q),te.return=z,z=te;break e}o(z,O);break}else r(z,O);O=O.sibling}q.type===L?(te=zr(q.props.children,z.mode,te,q.key),te.return=z,z=te):(te=ou(q.type,q.key,q.props,null,z.mode,te),hl(te,q),te.return=z,z=te)}return b(z);case N:e:{for(Se=q.key;O!==null;){if(O.key===Se)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){o(z,O.sibling),te=h(O,q.children||[]),te.return=z,z=te;break e}else{o(z,O);break}else r(z,O);O=O.sibling}te=Qh(q,z.mode,te),te.return=z,z=te}return b(z);case A:return q=Gr(q),rt(z,O,q,te)}if(at(q))return ge(z,O,q,te);if(j(q)){if(Se=j(q),typeof Se!="function")throw Error(s(150));return q=Se.call(q),Ae(z,O,q,te)}if(typeof q.then=="function")return rt(z,O,pu(q),te);if(q.$$typeof===ee)return rt(z,O,uu(z,q),te);mu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(o(z,O.sibling),te=h(O,q),te.return=z,z=te):(o(z,O),te=Yh(q,z.mode,te),te.return=z,z=te),b(z)):o(z,O)}return function(z,O,q,te){try{fl=0;var Se=rt(z,O,q,te);return Ba=null,Se}catch(be){if(be===La||be===hu)throw be;var $e=Pn(29,be,null,z.mode);return $e.lanes=te,$e.return=z,$e}}}var Kr=h0(!0),d0=h0(!1),Ls=!1;function od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=au(i),Xy(i,null,o),r}return ru(i,c,r,o),au(i)}function dl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,zo(i,o)}}function cd(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var ud=!1;function pl(){if(ud){var i=ja;if(i!==null)throw i}}function ml(i,r,o,c){ud=!1;var h=i.updateQueue;Ls=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var V=E,G=V.next;V.next=null,b===null?p=G:b.next=G,b=V;var J=i.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==b&&(E===null?J.firstBaseUpdate=G:E.next=G,J.lastBaseUpdate=V))}if(p!==null){var ne=h.baseState;b=0,J=G=V=null,E=p;do{var $=E.lane&-536870913,Q=$!==E.lane;if(Q?(Le&$)===$:(c&$)===$){$!==0&&$===Oa&&(ud=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=i,Ae=E;$=r;var rt=o;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){ne=ge.call(rt,ne,$);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,$=typeof ge=="function"?ge.call(rt,ne,$):ge,$==null)break e;ne=_({},ne,$);break e;case 2:Ls=!0}}$=E.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[$]:Q.push($))}else Q={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(G=J=Q,V=ne):J=J.next=Q,b|=$;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(V=ne),h.baseState=V,h.firstBaseUpdate=G,h.lastBaseUpdate=J,p===null&&(h.shared.lanes=0),Gs|=b,i.lanes=b,i.memoizedState=ne}}function p0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function m0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)p0(o[i],r)}var za=I(null),gu=I(0);function g0(i,r){i=ps,W(gu,i),W(za,r),ps=i|r.baseLanes}function fd(){W(gu,ps),W(za,za.current)}function hd(){ps=gu.current,H(za),H(gu)}var In=I(null),Jn=null;function Us(i){var r=i.alternate;W(St,St.current&1),W(In,i),Jn===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(Jn=i)}function dd(i){W(St,St.current),W(In,i),Jn===null&&(Jn=i)}function y0(i){i.tag===22?(W(St,St.current),W(In,i),Jn===null&&(Jn=i)):Fs()}function Fs(){W(St,St.current),W(In,In.current)}function On(i){H(In),Jn===i&&(Jn=null),H(St)}var St=I(0);function yu(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_p(o)||bp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var as=0,ke=null,it=null,kt=null,vu=!1,Ua=!1,Yr=!1,_u=0,gl=0,Fa=null,VC=0;function vt(){throw Error(s(321))}function pd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Vn(i[o],r[o]))return!1;return!0}function md(i,r,o,c,h,p){return as=p,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?ev:Md,Yr=!1,p=o(c,h),Yr=!1,Ua&&(p=_0(r,o,c,h)),v0(i),p}function v0(i){X.H=_l;var r=it!==null&&it.next!==null;if(as=0,kt=it=ke=null,vu=!1,gl=0,Fa=null,r)throw Error(s(300));i===null||Vt||(i=i.dependencies,i!==null&&cu(i)&&(Vt=!0))}function _0(i,r,o,c){ke=i;var h=0;do{if(Ua&&(Fa=null),gl=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,kt=it=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=tv,p=r(o,c)}while(Ua);return p}function PC(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?yl(r):r,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(ke.flags|=1024),r}function gd(){var i=_u!==0;return _u=0,i}function yd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function vd(i){if(vu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vu=!1}as=0,kt=it=ke=null,Ua=!1,gl=_u=0,Fa=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ke.memoizedState=kt=i:kt=kt.next=i,kt}function Et(){if(it===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var r=kt===null?ke.memoizedState:kt.next;if(r!==null)kt=r,it=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?ke.memoizedState=kt=i:kt=kt.next=i}return kt}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(i){var r=gl;return gl+=1,Fa===null&&(Fa=[]),i=c0(Fa,i,r),r=ke,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?ev:Md),i}function Tu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yl(i);if(i.$$typeof===ee)return Wt(i)}throw Error(s(438,String(i)))}function _d(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bu(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=k;return r.index++,o}function os(i,r){return typeof r=="function"?r(i):r}function xu(i){var r=Et();return bd(r,it,i)}function bd(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=i.baseQueue,p=c.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}r.baseQueue=h=p,c.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{r=h.next;var E=b=null,V=null,G=r,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Le&ne)===ne:(as&ne)===ne){var $=G.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Oa&&(J=!0);else if((as&$)===$){G=G.next,$===Oa&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(E=V=ne,b=p):V=V.next=ne,ke.lanes|=$,Gs|=$;ne=G.action,Yr&&o(p,ne),p=G.hasEagerState?G.eagerState:o(p,ne)}else $={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(E=V=$,b=p):V=V.next=$,ke.lanes|=ne,Gs|=ne;G=G.next}while(G!==null&&G!==r);if(V===null?b=p:V.next=E,!Vn(p,i.memoizedState)&&(Vt=!0,J&&(o=ja,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=V,c.lastRenderedState=p}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Td(i){var r=Et(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do p=i(p,b.action),b=b.next;while(b!==h);Vn(p,r.memoizedState)||(Vt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function b0(i,r,o){var c=ke,h=Et(),p=Fe;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Vn((it||h).memoizedState,o);if(b&&(h.memoizedState=o,Vt=!0),h=h.queue,Ed(S0.bind(null,c,h,i),[i]),h.getSnapshot!==r||b||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Ha(9,{destroy:void 0},x0.bind(null,c,h,o,r),null),ot===null)throw Error(s(349));p||(as&127)!==0||T0(c,r,o)}return o}function T0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=bu(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function x0(i,r,o,c){r.value=o,r.getSnapshot=c,E0(r)&&C0(i)}function S0(i,r,o){return o(function(){E0(r)&&C0(i)})}function E0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Vn(i,o)}catch{return!0}}function C0(i){var r=Br(i,2);r!==null&&Rn(r,i,2)}function xd(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Yr){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:i},r}function A0(i,r,o,c){return i.baseState=o,bd(i,it,typeof c=="function"?c:os)}function IC(i,r,o,c,h){if(Cu(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};X.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,R0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function R0(i,r){var o=r.action,c=r.payload,h=i.state;if(r.isTransition){var p=X.T,b={};X.T=b;try{var E=o(h,c),V=X.S;V!==null&&V(b,E),w0(i,r,E)}catch(G){Sd(i,r,G)}finally{p!==null&&b.types!==null&&(p.types=b.types),X.T=p}}else try{p=o(h,c),w0(i,r,p)}catch(G){Sd(i,r,G)}}function w0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){D0(i,r,c)},function(c){return Sd(i,r,c)}):D0(i,r,o)}function D0(i,r,o){r.status="fulfilled",r.value=o,M0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,R0(i,o)))}function Sd(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,M0(r),r=r.next;while(r!==c)}i.action=null}function M0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function N0(i,r){return r}function k0(i,r){if(Fe){var o=ot.formState;if(o!==null){e:{var c=ke;if(Fe){if(ct){t:{for(var h=ct,p=Wn;h.nodeType!==8;){if(!p){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){ct=ei(h.nextSibling),c=h.data==="F!";break e}}Os(c)}c=!1}c&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:r},o.queue=c,o=Z0.bind(null,ke,c),c.dispatch=o,c=xd(!1),p=Dd.bind(null,ke,!1,c.queue),c=yn(),h={state:r,dispatch:null,action:i,pending:null},c.queue=h,o=IC.bind(null,ke,h,p,o),h.dispatch=o,c.memoizedState=i,[r,o,!1]}function V0(i){var r=Et();return P0(r,it,i)}function P0(i,r,o){if(r=bd(i,r,N0)[0],i=xu(os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=yl(r)}catch(b){throw b===La?hu:b}else c=r;r=Et();var h=r.queue,p=h.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,Ha(9,{destroy:void 0},OC.bind(null,h,o),null)),[c,p,i]}function OC(i,r){i.action=r}function I0(i){var r=Et(),o=it;if(o!==null)return P0(r,o,i);Et(),r=r.memoizedState,o=Et();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ha(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ke.updateQueue,r===null&&(r=bu(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function O0(){return Et().memoizedState}function Su(i,r,o,c){var h=yn();ke.flags|=i,h.memoizedState=Ha(1|r,{destroy:void 0},o,c===void 0?null:c)}function Eu(i,r,o,c){var h=Et();c=c===void 0?null:c;var p=h.memoizedState.inst;it!==null&&c!==null&&pd(c,it.memoizedState.deps)?h.memoizedState=Ha(r,p,o,c):(ke.flags|=i,h.memoizedState=Ha(1|r,p,o,c))}function j0(i,r){Su(8390656,8,i,r)}function Ed(i,r){Eu(2048,8,i,r)}function jC(i){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=bu(),ke.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function L0(i){var r=Et().memoizedState;return jC({ref:r,nextImpl:i}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function B0(i,r){return Eu(4,2,i,r)}function z0(i,r){return Eu(4,4,i,r)}function U0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function F0(i,r,o){o=o!=null?o.concat([i]):null,Eu(4,4,U0.bind(null,r,i),o)}function Cd(){}function H0(i,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&pd(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function q0(i,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&pd(r,c[1]))return c[0];if(c=i(),Yr){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[c,r],c}function Ad(i,r,o){return o===void 0||(as&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Gv(),ke.lanes|=i,Gs|=i,o)}function G0(i,r,o,c){return Vn(o,r)?o:za.current!==null?(i=Ad(i,o,c),Vn(i,r)||(Vt=!0),i):(as&42)===0||(as&1073741824)!==0&&(Le&261930)===0?(Vt=!0,i.memoizedState=o):(i=Gv(),ke.lanes|=i,Gs|=i,r)}function $0(i,r,o,c,h){var p=oe.p;oe.p=p!==0&&8>p?p:8;var b=X.T,E={};X.T=E,Dd(i,!1,r,o);try{var V=h(),G=X.S;if(G!==null&&G(E,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=kC(V,c);vl(i,r,J,Bn(i))}else vl(i,r,c,Bn(i))}catch(ne){vl(i,r,{then:function(){},status:"rejected",reason:ne},Bn())}finally{oe.p=p,b!==null&&E.types!==null&&(b.types=E.types),X.T=b}}function LC(){}function Rd(i,r,o,c){if(i.tag!==5)throw Error(s(476));var h=K0(i).queue;$0(i,h,r,he,o===null?LC:function(){return Y0(i),o(c)})}function K0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Y0(i){var r=K0(i);r.next===null&&(r=i.alternate.memoizedState),vl(i,r.next.queue,{},Bn())}function wd(){return Wt(Il)}function Q0(){return Et().memoizedState}function X0(){return Et().memoizedState}function BC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();i=Bs(o);var c=zs(r,i,o);c!==null&&(Rn(c,r,o),dl(c,r,o)),r={cache:id()},i.payload=r;return}r=r.return}}function zC(i,r,o){var c=Bn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Cu(i)?W0(r,o):(o=$h(i,r,o,c),o!==null&&(Rn(o,i,c),J0(o,r,c)))}function Z0(i,r,o){var c=Bn();vl(i,r,o,c)}function vl(i,r,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cu(i))W0(r,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,E=p(b,o);if(h.hasEagerState=!0,h.eagerState=E,Vn(E,b))return ru(i,r,h,0),ot===null&&su(),!1}catch{}if(o=$h(i,r,h,c),o!==null)return Rn(o,i,c),J0(o,r,c),!0}return!1}function Dd(i,r,o,c){if(c={lane:2,revertLane:op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Cu(i)){if(r)throw Error(s(479))}else r=$h(i,o,c,2),r!==null&&Rn(r,i,2)}function Cu(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function W0(i,r){Ua=vu=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function J0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,zo(i,o)}}var _l={readContext:Wt,use:Tu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};_l.useEffectEvent=vt;var ev={readContext:Wt,use:Tu,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:Wt,useEffect:j0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Su(4194308,4,U0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Su(4194308,4,i,r)},useInsertionEffect:function(i,r){Su(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var c=i();if(Yr){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=yn();if(o!==void 0){var h=o(r);if(Yr){Hn(!0);try{o(r)}finally{Hn(!1)}}}else h=r;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=zC.bind(null,ke,i),[c.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=xd(i);var r=i.queue,o=Z0.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Cd,useDeferredValue:function(i,r){var o=yn();return Ad(o,i,r)},useTransition:function(){var i=xd(!1);return i=$0.bind(null,ke,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ke,h=yn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(Le&127)!==0||T0(c,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,j0(S0.bind(null,c,p,i),[i]),c.flags|=2048,Ha(9,{destroy:void 0},x0.bind(null,c,p,o,r),null),o},useId:function(){var i=yn(),r=ot.identifierPrefix;if(Fe){var o=zi,c=Bi;o=(c&~(1<<32-Tt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=_u++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=VC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:wd,useFormState:k0,useActionState:k0,useOptimistic:function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Dd.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:_d,useCacheRefresh:function(){return yn().memoizedState=BC.bind(null,ke)},useEffectEvent:function(i){var r=yn(),o={impl:i};return r.memoizedState=o,function(){if((Qe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Md={readContext:Wt,use:Tu,useCallback:H0,useContext:Wt,useEffect:Ed,useImperativeHandle:F0,useInsertionEffect:B0,useLayoutEffect:z0,useMemo:q0,useReducer:xu,useRef:O0,useState:function(){return xu(os)},useDebugValue:Cd,useDeferredValue:function(i,r){var o=Et();return G0(o,it.memoizedState,i,r)},useTransition:function(){var i=xu(os)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:yl(i),r]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:wd,useFormState:V0,useActionState:V0,useOptimistic:function(i,r){var o=Et();return A0(o,it,i,r)},useMemoCache:_d,useCacheRefresh:X0};Md.useEffectEvent=L0;var tv={readContext:Wt,use:Tu,useCallback:H0,useContext:Wt,useEffect:Ed,useImperativeHandle:F0,useInsertionEffect:B0,useLayoutEffect:z0,useMemo:q0,useReducer:Td,useRef:O0,useState:function(){return Td(os)},useDebugValue:Cd,useDeferredValue:function(i,r){var o=Et();return it===null?Ad(o,i,r):G0(o,it.memoizedState,i,r)},useTransition:function(){var i=Td(os)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:yl(i),r]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:wd,useFormState:I0,useActionState:I0,useOptimistic:function(i,r){var o=Et();return it!==null?A0(o,it,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:_d,useCacheRefresh:X0};tv.useEffectEvent=L0;function Nd(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var kd={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Bn(),h=Bs(c);h.payload=r,o!=null&&(h.callback=o),r=zs(i,h,c),r!==null&&(Rn(r,i,c),dl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Bn(),h=Bs(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=zs(i,h,c),r!==null&&(Rn(r,i,c),dl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Bn(),c=Bs(o);c.tag=2,r!=null&&(c.callback=r),r=zs(i,c,o),r!==null&&(Rn(r,i,o),dl(r,i,o))}};function nv(i,r,o,c,h,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!rl(o,c)||!rl(h,p):!0}function iv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&kd.enqueueReplaceState(r,r.state,null)}function Qr(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}function sv(i){iu(i)}function rv(i){console.error(i)}function av(i){iu(i)}function Au(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function ov(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vd(i,r,o){return o=Bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Au(i,r)},o}function lv(i){return i=Bs(i),i.tag=3,i}function cv(i,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;i.payload=function(){return h(p)},i.callback=function(){ov(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){ov(r,o,c),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function UC(i,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ia(r,o,h,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Lu():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===du?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),sp(i,c,h)),!1;case 22:return o.flags|=65536,c===du?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),sp(i,c,h)),!1}throw Error(s(435,o.tag))}return sp(i,c,h),Lu(),!1}if(Fe)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==Wh&&(i=Error(s(422),{cause:c}),ll(Qn(i,o)))):(c!==Wh&&(r=Error(s(423),{cause:c}),ll(Qn(r,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=Qn(c,o),h=Vd(i.stateNode,c,h),cd(i,h),_t!==4&&(_t=2)),!1;var p=Error(s(520),{cause:c});if(p=Qn(p,o),Rl===null?Rl=[p]:Rl.push(p),_t!==4&&(_t=2),r===null)return!0;c=Qn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=Vd(o.stateNode,c,i),cd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=lv(h),cv(h,i,o,c),cd(o,h),!1}o=o.return}while(o!==null);return!1}var Pd=Error(s(461)),Vt=!1;function Jt(i,r,o,c){r.child=i===null?d0(r,null,o,c):Kr(r,i.child,o,c)}function uv(i,r,o,c,h){o=o.render;var p=r.ref;if("ref"in c){var b={};for(var E in c)E!=="ref"&&(b[E]=c[E])}else b=c;return Hr(r),c=md(i,r,o,b,p,h),E=gd(),i!==null&&!Vt?(yd(i,r,h),ls(i,r,h)):(Fe&&E&&Xh(r),r.flags|=1,Jt(i,r,c,h),r.child)}function fv(i,r,o,c,h){if(i===null){var p=o.type;return typeof p=="function"&&!Kh(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,hv(i,r,p,c,h)):(i=ou(o.type,null,c,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Fd(i,h)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:rl,o(b,c)&&i.ref===r.ref)return ls(i,r,h)}return r.flags|=1,i=ns(p,c),i.ref=r.ref,i.return=r,r.child=i}function hv(i,r,o,c,h){if(i!==null){var p=i.memoizedProps;if(rl(p,c)&&i.ref===r.ref)if(Vt=!1,r.pendingProps=c=p,Fd(i,h))(i.flags&131072)!==0&&(Vt=!0);else return r.lanes=i.lanes,ls(i,r,h)}return Id(i,r,o,c,h)}function dv(i,r,o,c){var h=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~p}else c=0,r.child=null;return pv(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&fu(r,p!==null?p.cachePool:null),p!==null?g0(r,p):fd(),y0(r);else return c=r.lanes=536870912,pv(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(fu(r,p.cachePool),g0(r,p),Fs(),r.memoizedState=null):(i!==null&&fu(r,null),fd(),Fs());return Jt(i,r,h,o),r.child}function bl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function pv(i,r,o,c,h){var p=rd();return p=p===null?null:{parent:Nt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&fu(r,null),fd(),y0(r),i!==null&&Ia(i,r,c,!0),r.childLanes=h,null}function Ru(i,r){return r=Du({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function mv(i,r,o){return Kr(r,i.child,null,o),i=Ru(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function FC(i,r,o){var c=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(c.mode==="hidden")return i=Ru(r,c),r.lanes=536870912,bl(null,i);if(dd(r),(i=ct)?(i=R_(i,Wn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ps!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=Wy(i),o.return=r,r.child=o,Zt=r,ct=null)):i=null,i===null)throw Os(r);return r.lanes=536870912,null}return Ru(r,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(dd(r),h)if(r.flags&256)r.flags&=-257,r=mv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Vt||Ia(i,r,o,!1),h=(o&i.childLanes)!==0,Vt||h){if(c=ot,c!==null&&(b=Uo(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Br(i,b),Rn(c,i,b),Pd;Lu(),r=mv(i,r,o)}else i=p.treeContext,ct=ei(b.nextSibling),Zt=r,Fe=!0,Is=null,Wn=!1,i!==null&&t0(r,i),r=Ru(r,c),r.flags|=4096;return r}return i=ns(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function wu(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Id(i,r,o,c,h){return Hr(r),o=md(i,r,o,c,void 0,h),c=gd(),i!==null&&!Vt?(yd(i,r,h),ls(i,r,h)):(Fe&&c&&Xh(r),r.flags|=1,Jt(i,r,o,h),r.child)}function gv(i,r,o,c,h,p){return Hr(r),r.updateQueue=null,o=_0(r,c,o,h),v0(i),c=gd(),i!==null&&!Vt?(yd(i,r,p),ls(i,r,p)):(Fe&&c&&Xh(r),r.flags|=1,Jt(i,r,o,p),r.child)}function yv(i,r,o,c,h){if(Hr(r),r.stateNode===null){var p=Na,b=o.contextType;typeof b=="object"&&b!==null&&(p=Wt(b)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=kd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},od(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?Wt(b):Na,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Nd(r,o,b,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&kd.enqueueReplaceState(p,p.state,null),ml(r,c,p,h),pl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,V=Qr(o,E);p.props=V;var G=p.context,J=o.contextType;b=Na,typeof J=="object"&&J!==null&&(b=Wt(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||G!==b)&&iv(r,p,c,b),Ls=!1;var $=r.memoizedState;p.state=$,ml(r,c,p,h),pl(),G=r.memoizedState,E||$!==G||Ls?(typeof ne=="function"&&(Nd(r,o,ne,c),G=r.memoizedState),(V=Ls||nv(r,o,V,c,$,G,b))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=G),p.props=c,p.state=G,p.context=b,c=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,ld(i,r),b=r.memoizedProps,J=Qr(o,b),p.props=J,ne=r.pendingProps,$=p.context,G=o.contextType,V=Na,typeof G=="object"&&G!==null&&(V=Wt(G)),E=o.getDerivedStateFromProps,(G=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ne||$!==V)&&iv(r,p,c,V),Ls=!1,$=r.memoizedState,p.state=$,ml(r,c,p,h),pl();var Q=r.memoizedState;b!==ne||$!==Q||Ls||i!==null&&i.dependencies!==null&&cu(i.dependencies)?(typeof E=="function"&&(Nd(r,o,E,c),Q=r.memoizedState),(J=Ls||nv(r,o,J,c,$,Q,V)||i!==null&&i.dependencies!==null&&cu(i.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Q,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Q,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),p.props=c,p.state=Q,p.context=V,c=J):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,wu(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Kr(r,i.child,null,h),r.child=Kr(r,null,o,h)):Jt(i,r,o,h),r.memoizedState=p.state,i=r.child):i=ls(i,r,h),i}function vv(i,r,o,c){return Ur(),r.flags|=256,Jt(i,r,o,c),r.child}var Od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(i){return{baseLanes:i,cachePool:o0()}}function Ld(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ln),i}function _v(i,r,o){var c=r.pendingProps,h=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(St.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(h?Us(r):Fs(),(i=ct)?(i=R_(i,Wn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ps!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=Wy(i),o.return=r,r.child=o,Zt=r,ct=null)):i=null,i===null)throw Os(r);return bp(i)?r.lanes=32:r.lanes=536870912,null}var E=c.children;return c=c.fallback,h?(Fs(),h=r.mode,E=Du({mode:"hidden",children:E},h),c=zr(c,h,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,c=r.child,c.memoizedState=jd(o),c.childLanes=Ld(i,b,o),r.memoizedState=Od,bl(null,c)):(Us(r),Bd(r,E))}var V=i.memoizedState;if(V!==null&&(E=V.dehydrated,E!==null)){if(p)r.flags&256?(Us(r),r.flags&=-257,r=zd(i,r,o)):r.memoizedState!==null?(Fs(),r.child=i.child,r.flags|=128,r=null):(Fs(),E=c.fallback,h=r.mode,c=Du({mode:"visible",children:c.children},h),E=zr(E,h,o,null),E.flags|=2,c.return=r,E.return=r,c.sibling=E,r.child=c,Kr(r,i.child,null,o),c=r.child,c.memoizedState=jd(o),c.childLanes=Ld(i,b,o),r.memoizedState=Od,r=bl(null,c));else if(Us(r),bp(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var G=b.dgst;b=G,c=Error(s(419)),c.stack="",c.digest=b,ll({value:c,source:null,stack:null}),r=zd(i,r,o)}else if(Vt||Ia(i,r,o,!1),b=(o&i.childLanes)!==0,Vt||b){if(b=ot,b!==null&&(c=Uo(b,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,Br(i,c),Rn(b,i,c),Pd;_p(E)||Lu(),r=zd(i,r,o)}else _p(E)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,ct=ei(E.nextSibling),Zt=r,Fe=!0,Is=null,Wn=!1,i!==null&&t0(r,i),r=Bd(r,c.children),r.flags|=4096);return r}return h?(Fs(),E=c.fallback,h=r.mode,V=i.child,G=V.sibling,c=ns(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,G!==null?E=ns(G,E):(E=zr(E,h,o,null),E.flags|=2),E.return=r,c.return=r,c.sibling=E,r.child=c,bl(null,c),c=r.child,E=i.child.memoizedState,E===null?E=jd(o):(h=E.cachePool,h!==null?(V=Nt._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=o0(),E={baseLanes:E.baseLanes|o,cachePool:h}),c.memoizedState=E,c.childLanes=Ld(i,b,o),r.memoizedState=Od,bl(i.child,c)):(Us(r),o=i.child,i=o.sibling,o=ns(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Bd(i,r){return r=Du({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Du(i,r){return i=Pn(22,i,null,r),i.lanes=0,i}function zd(i,r,o){return Kr(r,i.child,null,o),i=Bd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function bv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),td(i.return,r,o)}function Ud(i,r,o,c,h,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=h,b.treeForkCount=p)}function Tv(i,r,o){var c=r.pendingProps,h=c.revealOrder,p=c.tail;c=c.children;var b=St.current,E=(b&2)!==0;if(E?(b=b&1|2,r.flags|=128):b&=1,W(St,b),Jt(i,r,c,o),c=Fe?ol:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bv(i,o,r);else if(i.tag===19)bv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(h){case"forwards":for(o=r.child,h=null;o!==null;)i=o.alternate,i!==null&&yu(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ud(r,!1,h,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&yu(i)===null){r.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}Ud(r,!0,o,null,p,c);break;case"together":Ud(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ls(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Gs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ia(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ns(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ns(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Fd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&cu(i)))}function HC(i,r,o){switch(r.tag){case 3:Ie(r,r.stateNode.containerInfo),js(r,Nt,i.memoizedState.cache),Ur();break;case 27:case 5:Ge(r);break;case 4:Ie(r,r.stateNode.containerInfo);break;case 10:js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,dd(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Us(r),r.flags|=128,null):(o&r.child.childLanes)!==0?_v(i,r,o):(Us(r),i=ls(i,r,o),i!==null?i.sibling:null);Us(r);break;case 19:var h=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ia(i,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return Tv(i,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(St,St.current),c)break;return null;case 22:return r.lanes=0,dv(i,r,o,r.pendingProps);case 24:js(r,Nt,i.memoizedState.cache)}return ls(i,r,o)}function xv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Fd(i,o)&&(r.flags&128)===0)return Vt=!1,HC(i,r,o);Vt=(i.flags&131072)!==0}else Vt=!1,Fe&&(r.flags&1048576)!==0&&e0(r,ol,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Gr(r.elementType),r.type=i,typeof i=="function")Kh(i)?(c=Qr(i,c),r.tag=1,r=yv(null,r,i,c,o)):(r.tag=0,r=Id(null,r,i,c,o));else{if(i!=null){var h=i.$$typeof;if(h===le){r.tag=11,r=uv(null,r,i,c,o);break e}else if(h===D){r.tag=14,r=fv(null,r,i,c,o);break e}}throw r=Ve(i)||i,Error(s(306,r,""))}}return r;case 0:return Id(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=Qr(c,r.pendingProps),yv(i,r,c,h,o);case 3:e:{if(Ie(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;h=p.element,ld(i,r),ml(r,c,null,o);var b=r.memoizedState;if(c=b.cache,js(r,Nt,c),c!==p.cache&&nd(r,[Nt],o,!0),pl(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=vv(i,r,c,o);break e}else if(c!==h){h=Qn(Error(s(424)),r),ll(h),r=vv(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ct=ei(i.firstChild),Zt=r,Fe=!0,Is=null,Wn=!0,o=d0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ur(),c===h){r=ls(i,r,o);break e}Jt(i,r,c,o)}r=r.child}return r;case 26:return wu(i,r),i===null?(o=V_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,c=Gu(pe.current).createElement(o),c[wt]=r,c[Gt]=i,en(c,o,i),Dt(c),r.stateNode=c):r.memoizedState=V_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ge(r),i===null&&Fe&&(c=r.stateNode=M_(r.type,r.pendingProps,pe.current),Zt=r,Wn=!0,h=ct,Xs(r.type)?(Tp=h,ct=ei(c.firstChild)):ct=h),Jt(i,r,r.pendingProps.children,o),wu(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((h=c=ct)&&(c=_A(c,r.type,r.pendingProps,Wn),c!==null?(r.stateNode=c,Zt=r,ct=ei(c.firstChild),Wn=!1,h=!0):h=!1),h||Os(r)),Ge(r),h=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,gp(h,p)?c=null:b!==null&&gp(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=md(i,r,PC,null,null,o),Il._currentValue=h),wu(i,r),Jt(i,r,c,o),r.child;case 6:return i===null&&Fe&&((i=o=ct)&&(o=bA(o,r.pendingProps,Wn),o!==null?(r.stateNode=o,Zt=r,ct=null,i=!0):i=!1),i||Os(r)),null;case 13:return _v(i,r,o);case 4:return Ie(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Kr(r,null,c,o):Jt(i,r,c,o),r.child;case 11:return uv(i,r,r.type,r.pendingProps,o);case 7:return Jt(i,r,r.pendingProps,o),r.child;case 8:return Jt(i,r,r.pendingProps.children,o),r.child;case 12:return Jt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,js(r,r.type,c.value),Jt(i,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,Hr(r),h=Wt(h),c=c(h),r.flags|=1,Jt(i,r,c,o),r.child;case 14:return fv(i,r,r.type,r.pendingProps,o);case 15:return hv(i,r,r.type,r.pendingProps,o);case 19:return Tv(i,r,o);case 31:return FC(i,r,o);case 22:return dv(i,r,o,r.pendingProps);case 24:return Hr(r),c=Wt(Nt),i===null?(h=rd(),h===null&&(h=ot,p=id(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),r.memoizedState={parent:c,cache:h},od(r),js(r,Nt,h)):((i.lanes&o)!==0&&(ld(i,r),ml(r,null,null,o),pl()),h=i.memoizedState,p=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),js(r,Nt,c)):(c=p.cache,js(r,Nt,c),c!==h.cache&&nd(r,[Nt],o,!0))),Jt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cs(i){i.flags|=4}function Hd(i,r,o,c,h){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(h&335544128)===h)if(i.stateNode.complete)i.flags|=8192;else if(Qv())i.flags|=8192;else throw $r=du,ad}else i.flags&=-16777217}function Sv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!L_(r))if(Qv())i.flags|=8192;else throw $r=du,ad}function Mu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Oc():536870912,i.lanes|=r,Ka|=r)}function Tl(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ut(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function qC(i,r,o){var c=r.pendingProps;switch(Zh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),rs(Nt),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Pa(r)?cs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jh())),ut(r),null;case 26:var h=r.type,p=r.memoizedState;return i===null?(cs(r),p!==null?(ut(r),Sv(r,p)):(ut(r),Hd(r,h,null,c,o))):p?p!==i.memoizedState?(cs(r),ut(r),Sv(r,p)):(ut(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&cs(r),ut(r),Hd(r,h,i,c,o)),null;case 27:if(Xe(r),o=pe.current,h=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}i=ie.current,Pa(r)?n0(r):(i=M_(h,c,o),r.stateNode=i,cs(r))}return ut(r),null;case 5:if(Xe(r),h=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(p=ie.current,Pa(r))n0(r);else{var b=Gu(pe.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}p[wt]=r,p[Gt]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(en(p,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&cs(r)}}return ut(r),Hd(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=pe.current,Pa(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[wt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||__(i.nodeValue,o)),i||Os(r,!0)}else i=Gu(i).createTextNode(c),i[wt]=r,r.stateNode=i}return ut(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Pa(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[wt]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),i=!1}else o=Jh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Pa(r),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=Jh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Mu(r,r.updateQueue),ut(r),null);case 4:return Te(),i===null&&fp(r.stateNode.containerInfo),ut(r),null;case 10:return rs(r.type),ut(r),null;case 19:if(H(St),c=r.memoizedState,c===null)return ut(r),null;if(h=(r.flags&128)!==0,p=c.rendering,p===null)if(h)Tl(c,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=yu(i),p!==null){for(r.flags|=128,Tl(c,!1),i=p.updateQueue,r.updateQueue=i,Mu(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Zy(o,i),o=o.sibling;return W(St,St.current&1|2),Fe&&is(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&mn()>Iu&&(r.flags|=128,h=!0,Tl(c,!1),r.lanes=4194304)}else{if(!h)if(i=yu(p),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Mu(r,i),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Fe)return ut(r),null}else 2*mn()-c.renderingStartTime>Iu&&o!==536870912&&(r.flags|=128,h=!0,Tl(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=St.current,W(St,h?o&1|2:o&1),Fe&&is(r,c.treeForkCount),i):(ut(r),null);case 22:case 23:return On(r),hd(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&Mu(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&H(qr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),rs(Nt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GC(i,r){switch(Zh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rs(Nt),Te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Xe(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return H(St),null;case 4:return Te(),null;case 10:return rs(r.type),null;case 22:case 23:return On(r),hd(),i!==null&&H(qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rs(Nt),null;case 25:return null;default:return null}}function Ev(i,r){switch(Zh(r),r.tag){case 3:rs(Nt),Te();break;case 26:case 27:case 5:Xe(r);break;case 4:Te();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:H(St);break;case 10:rs(r.type);break;case 22:case 23:On(r),hd(),i!==null&&H(qr);break;case 24:rs(Nt)}}function xl(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==h)}}catch(E){et(r,r.return,E)}}function Hs(i,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&i)===i){var b=c.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,h=r;var V=o,G=E;try{G()}catch(J){et(h,V,J)}}}c=c.next}while(c!==p)}}catch(J){et(r,r.return,J)}}function Cv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{m0(r,o)}catch(c){et(i,i.return,c)}}}function Av(i,r,o){o.props=Qr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){et(i,r,c)}}function Sl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(h){et(i,r,h)}}function Ui(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){et(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){et(i,r,h)}else o.current=null}function Rv(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){et(i,i.return,h)}}function qd(i,r,o){try{var c=i.stateNode;dA(c,i.type,o,r),c[Gt]=r}catch(h){et(i,i.return,h)}}function wv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xs(i.type)||i.tag===4}function Gd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $d(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ci));else if(c!==4&&(c===27&&Xs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for($d(i,r,o),i=i.sibling;i!==null;)$d(i,r,o),i=i.sibling}function Nu(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Xs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Nu(i,r,o),i=i.sibling;i!==null;)Nu(i,r,o),i=i.sibling}function Dv(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);en(r,c,o),r[wt]=i,r[Gt]=o}catch(p){et(i,i.return,p)}}var us=!1,Pt=!1,Kd=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function $C(i,r){if(i=i.containerInfo,pp=Wu,i=Fy(i),zh(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,E=-1,V=-1,G=0,J=0,ne=i,$=null;t:for(;;){for(var Q;ne!==o||h!==0&&ne.nodeType!==3||(E=b+h),ne!==p||c!==0&&ne.nodeType!==3||(V=b+c),ne.nodeType===3&&(b+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)$=ne,ne=Q;for(;;){if(ne===i)break t;if($===o&&++G===h&&(E=b),$===p&&++J===c&&(V=b),(Q=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Q}o=E===-1||V===-1?null:{start:E,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(mp={focusedElem:i,selectionRange:o},Wu=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)h=i[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,h=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var ge=Qr(o.type,h);i=c.getSnapshotBeforeUpdate(ge,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){et(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}}function Nv(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:hs(i,o),c&4&&xl(5,o);break;case 1:if(hs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){et(o,o.return,b)}else{var h=Qr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){et(o,o.return,b)}}c&64&&Cv(o),c&512&&Sl(o,o.return);break;case 3:if(hs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m0(i,r)}catch(b){et(o,o.return,b)}}break;case 27:r===null&&c&4&&Dv(o);case 26:case 5:hs(i,o),r===null&&c&4&&Rv(o),c&512&&Sl(o,o.return);break;case 12:hs(i,o);break;case 31:hs(i,o),c&4&&Pv(i,o);break;case 13:hs(i,o),c&4&&Iv(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=tA.bind(null,o),TA(i,o))));break;case 22:if(c=o.memoizedState!==null||us,!c){r=r!==null&&r.memoizedState!==null||Pt,h=us;var p=Pt;us=c,(Pt=r)&&!p?ds(i,o,(o.subtreeFlags&8772)!==0):hs(i,o),us=h,Pt=p}break;case 30:break;default:hs(i,o)}}function kv(i){var r=i.alternate;r!==null&&(i.alternate=null,kv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ya(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mt=null,Sn=!1;function fs(i,r,o){for(o=o.child;o!==null;)Vv(i,r,o),o=o.sibling}function Vv(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:Pt||Ui(o,r),fs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Ui(o,r);var c=mt,h=Sn;Xs(o.type)&&(mt=o.stateNode,Sn=!1),fs(i,r,o),kl(o.stateNode),mt=c,Sn=h;break;case 5:Pt||Ui(o,r);case 6:if(c=mt,h=Sn,mt=null,fs(i,r,o),mt=c,Sn=h,mt!==null)if(Sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(p){et(o,r,p)}else try{mt.removeChild(o.stateNode)}catch(p){et(o,r,p)}break;case 18:mt!==null&&(Sn?(i=mt,C_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),to(i)):C_(mt,o.stateNode));break;case 4:c=mt,h=Sn,mt=o.stateNode.containerInfo,Sn=!0,fs(i,r,o),mt=c,Sn=h;break;case 0:case 11:case 14:case 15:Hs(2,o,r),Pt||Hs(4,o,r),fs(i,r,o);break;case 1:Pt||(Ui(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Av(o,r,c)),fs(i,r,o);break;case 21:fs(i,r,o);break;case 22:Pt=(c=Pt)||o.memoizedState!==null,fs(i,r,o),Pt=c;break;default:fs(i,r,o)}}function Pv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{to(i)}catch(o){et(r,r.return,o)}}}function Iv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{to(i)}catch(o){et(r,r.return,o)}}function KC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Mv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Mv),r;default:throw Error(s(435,i.tag))}}function ku(i,r){var o=KC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var h=nA.bind(null,i,c);c.then(h,h)}})}function En(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],p=i,b=r,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){mt=E.stateNode,Sn=!1;break e}break;case 5:mt=E.stateNode,Sn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(mt===null)throw Error(s(160));Vv(p,b,h),mt=null,Sn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ov(r,i),r=r.sibling}var mi=null;function Ov(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),Cn(i),c&4&&(Hs(3,i,i.return),xl(3,i),Hs(5,i,i.return));break;case 1:En(r,i),Cn(i),c&512&&(Pt||o===null||Ui(o,o.return)),c&64&&us&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=mi;if(En(r,i),Cn(i),c&512&&(Pt||o===null||Ui(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ri]||p[wt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),en(p,c,o),p[wt]=i,Dt(p),c=p;break e;case"link":var b=O_("link","href",h).get(c+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break t}}p=h.createElement(c),en(p,c,o),h.head.appendChild(p);break;case"meta":if(b=O_("meta","content",h).get(c+(o.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break t}}p=h.createElement(c),en(p,c,o),h.head.appendChild(p);break;default:throw Error(s(468,c))}p[wt]=i,Dt(p),c=p}i.stateNode=c}else j_(h,i.type,i.stateNode);else i.stateNode=I_(h,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?j_(h,i.type,i.stateNode):I_(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&qd(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(r,i),Cn(i),c&512&&(Pt||o===null||Ui(o,o.return)),o!==null&&c&4&&qd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(r,i),Cn(i),c&512&&(Pt||o===null||Ui(o,o.return)),i.flags&32){h=i.stateNode;try{xn(h,"")}catch(ge){et(i,i.return,ge)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,qd(i,h,o!==null?o.memoizedProps:h)),c&1024&&(Kd=!0);break;case 6:if(En(r,i),Cn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){et(i,i.return,ge)}}break;case 3:if(Yu=null,h=mi,mi=$u(r.containerInfo),En(r,i),mi=h,Cn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(ge){et(i,i.return,ge)}Kd&&(Kd=!1,jv(i));break;case 4:c=mi,mi=$u(i.stateNode.containerInfo),En(r,i),Cn(i),mi=c;break;case 12:En(r,i),Cn(i);break;case 31:En(r,i),Cn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ku(i,c)));break;case 13:En(r,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pu=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ku(i,c)));break;case 22:h=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,G=us,J=Pt;if(us=G||h,Pt=J||V,En(r,i),Pt=J,us=G,Cn(i),c&8192)e:for(r=i.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||V||us||Pt||Xr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(p=V.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=V.stateNode;var ne=V.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ge){et(V,V.return,ge)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(ge){et(V,V.return,ge)}}}else if(r.tag===18){if(o===null){V=r;try{var Q=V.stateNode;h?A_(Q,!0):A_(V.stateNode,!1)}catch(ge){et(V,V.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ku(i,o))));break;case 19:En(r,i),Cn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ku(i,c)));break;case 30:break;case 21:break;default:En(r,i),Cn(i)}}function Cn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(wv(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,p=Gd(i);Nu(i,p,h);break;case 5:var b=o.stateNode;o.flags&32&&(xn(b,""),o.flags&=-33);var E=Gd(i);Nu(i,E,b);break;case 3:case 4:var V=o.stateNode.containerInfo,G=Gd(i);$d(i,G,V);break;default:throw Error(s(161))}}catch(J){et(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function jv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;jv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function hs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Nv(i,r.alternate,r),r=r.sibling}function Xr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hs(4,r,r.return),Xr(r);break;case 1:Ui(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Av(r,r.return,o),Xr(r);break;case 27:kl(r.stateNode);case 26:case 5:Ui(r,r.return),Xr(r);break;case 22:r.memoizedState===null&&Xr(r);break;case 30:Xr(r);break;default:Xr(r)}i=i.sibling}}function ds(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:ds(h,p,o),xl(4,p);break;case 1:if(ds(h,p,o),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){et(c,c.return,G)}if(c=p,h=c.updateQueue,h!==null){var E=c.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)p0(V[h],E)}catch(G){et(c,c.return,G)}}o&&b&64&&Cv(p),Sl(p,p.return);break;case 27:Dv(p);case 26:case 5:ds(h,p,o),o&&c===null&&b&4&&Rv(p),Sl(p,p.return);break;case 12:ds(h,p,o);break;case 31:ds(h,p,o),o&&b&4&&Pv(h,p);break;case 13:ds(h,p,o),o&&b&4&&Iv(h,p);break;case 22:p.memoizedState===null&&ds(h,p,o),Sl(p,p.return);break;case 30:break;default:ds(h,p,o)}r=r.sibling}}function Yd(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&cl(o))}function Qd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&cl(i))}function gi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lv(i,r,o,c),r=r.sibling}function Lv(i,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:gi(i,r,o,c),h&2048&&xl(9,r);break;case 1:gi(i,r,o,c);break;case 3:gi(i,r,o,c),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&cl(i)));break;case 12:if(h&2048){gi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){et(r,r.return,V)}}else gi(i,r,o,c);break;case 31:gi(i,r,o,c);break;case 13:gi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?gi(i,r,o,c):El(i,r):p._visibility&2?gi(i,r,o,c):(p._visibility|=2,qa(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Yd(b,r);break;case 24:gi(i,r,o,c),h&2048&&Qd(r.alternate,r);break;default:gi(i,r,o,c)}}function qa(i,r,o,c,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,b=r,E=o,V=c,G=b.flags;switch(b.tag){case 0:case 11:case 15:qa(p,b,E,V,h),xl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?qa(p,b,E,V,h):El(p,b):(J._visibility|=2,qa(p,b,E,V,h)),h&&G&2048&&Yd(b.alternate,b);break;case 24:qa(p,b,E,V,h),h&&G&2048&&Qd(b.alternate,b);break;default:qa(p,b,E,V,h)}r=r.sibling}}function El(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,h=c.flags;switch(c.tag){case 22:El(o,c),h&2048&&Yd(c.alternate,c);break;case 24:El(o,c),h&2048&&Qd(c.alternate,c);break;default:El(o,c)}r=r.sibling}}var Cl=8192;function Ga(i,r,o){if(i.subtreeFlags&Cl)for(i=i.child;i!==null;)Bv(i,r,o),i=i.sibling}function Bv(i,r,o){switch(i.tag){case 26:Ga(i,r,o),i.flags&Cl&&i.memoizedState!==null&&VA(o,mi,i.memoizedState,i.memoizedProps);break;case 5:Ga(i,r,o);break;case 3:case 4:var c=mi;mi=$u(i.stateNode.containerInfo),Ga(i,r,o),mi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Cl,Cl=16777216,Ga(i,r,o),Cl=c):Ga(i,r,o));break;default:Ga(i,r,o)}}function zv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Al(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Kt=c,Fv(c,i)}zv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(i),i=i.sibling}function Uv(i){switch(i.tag){case 0:case 11:case 15:Al(i),i.flags&2048&&Hs(9,i,i.return);break;case 3:Al(i);break;case 12:Al(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vu(i)):Al(i);break;default:Al(i)}}function Vu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Kt=c,Fv(c,i)}zv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hs(8,r,r.return),Vu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vu(r));break;default:Vu(r)}i=i.sibling}}function Fv(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Hs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:cl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kt=c;else e:for(o=i;Kt!==null;){c=Kt;var h=c.sibling,p=c.return;if(kv(c),c===o){Kt=null;break e}if(h!==null){h.return=p,Kt=h;break e}Kt=p}}}var YC={getCacheForType:function(i){var r=Wt(Nt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Wt(Nt).controller.signal}},QC=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,Oe=null,Le=0,Je=0,jn=null,qs=!1,$a=!1,Xd=!1,ps=0,_t=0,Gs=0,Zr=0,Zd=0,Ln=0,Ka=0,Rl=null,An=null,Wd=!1,Pu=0,Hv=0,Iu=1/0,Ou=null,$s=null,Ut=0,Ks=null,Ya=null,ms=0,Jd=0,ep=null,qv=null,wl=0,tp=null;function Bn(){return(Qe&2)!==0&&Le!==0?Le&-Le:X.T!==null?op():jc()}function Gv(){if(Ln===0)if((Le&536870912)===0||Fe){var i=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Ln=i}else Ln=536870912;return i=In.current,i!==null&&(i.flags|=32),Ln}function Rn(i,r,o){(i===ot&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(Qa(i,0),Ys(i,Le,Ln,!1)),Cr(i,o),((Qe&2)===0||i!==ot)&&(i===ot&&((Qe&2)===0&&(Zr|=o),_t===4&&Ys(i,Le,Ln,!1)),Fi(i))}function $v(i,r,o){if((Qe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ai(i,r),h=c?WC(i,r):ip(i,r,!0),p=c;do{if(h===0){$a&&!c&&Ys(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!XC(o)){h=ip(i,r,!1),p=!1;continue}if(h===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var E=i;h=Rl;var V=E.current.memoizedState.isDehydrated;if(V&&(Qa(E,b).flags|=256),b=ip(E,b,!1),b!==2){if(Xd&&!V){E.errorRecoveryDisabledLanes|=p,Zr|=p,h=4;break e}p=An,An=h,p!==null&&(An===null?An=p:An.push.apply(An,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){Qa(i,0),Ys(i,r,0,!0);break}e:{switch(c=i,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ys(c,r,Ln,!qs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Pu+300-mn(),10<h)){if(Ys(c,r,Ln,!qs),Ei(c,0,!0)!==0)break e;ms=r,c.timeoutHandle=S_(Kv.bind(null,c,o,An,Ou,Wd,r,Ln,Zr,Ka,qs,p,"Throttled",-0,0),h);break e}Kv(c,o,An,Ou,Wd,r,Ln,Zr,Ka,qs,p,null,-0,0)}}break}while(!0);Fi(i)}function Kv(i,r,o,c,h,p,b,E,V,G,J,ne,$,Q){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Bv(r,p,ne);var ge=(p&62914560)===p?Pu-mn():(p&4194048)===p?Hv-mn():0;if(ge=PA(ne,ge),ge!==null){ms=p,i.cancelPendingCommit=ge(t_.bind(null,i,r,p,o,c,h,b,E,V,J,ne,null,$,Q)),Ys(i,p,b,!G);return}}t_(i,r,p,o,c,h,b,E,V)}function XC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!Vn(p(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ys(i,r,o,c){r&=~Zd,r&=~Zr,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var h=r;0<h;){var p=31-Tt(h),b=1<<p;c[p]=-1,h&=~b}o!==0&&Ar(i,o,r)}function ju(){return(Qe&6)===0?(Dl(0),!1):!0}function np(){if(Oe!==null){if(Je===0)var i=Oe.return;else i=Oe,ss=Fr=null,vd(i),Ba=null,fl=0,i=Oe;for(;i!==null;)Ev(i.alternate,i),i=i.return;Oe=null}}function Qa(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,gA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ms=0,np(),ot=i,Oe=o=ns(i.current,null),Le=r,Je=0,jn=null,qs=!1,$a=ai(i,r),Xd=!1,Ka=Ln=Zd=Zr=Gs=_t=0,An=Rl=null,Wd=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var h=31-Tt(c),p=1<<h;r|=i[h],c&=~p}return ps=r,su(),o}function Yv(i,r){ke=null,X.H=_l,r===La||r===hu?(r=u0(),Je=3):r===ad?(r=u0(),Je=4):Je=r===Pd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Oe===null&&(_t=1,Au(i,Qn(r,i.current)))}function Qv(){var i=In.current;return i===null?!0:(Le&4194048)===Le?Jn===null:(Le&62914560)===Le||(Le&536870912)!==0?i===Jn:!1}function Xv(){var i=X.H;return X.H=_l,i===null?_l:i}function Zv(){var i=X.A;return X.A=YC,i}function Lu(){_t=4,qs||(Le&4194048)!==Le&&In.current!==null||($a=!0),(Gs&134217727)===0&&(Zr&134217727)===0||ot===null||Ys(ot,Le,Ln,!1)}function ip(i,r,o){var c=Qe;Qe|=2;var h=Xv(),p=Zv();(ot!==i||Le!==r)&&(Ou=null,Qa(i,r)),r=!1;var b=_t;e:do try{if(Je!==0&&Oe!==null){var E=Oe,V=jn;switch(Je){case 8:np(),b=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var G=Je;if(Je=0,jn=null,Xa(i,E,V,G),o&&$a){b=0;break e}break;default:G=Je,Je=0,jn=null,Xa(i,E,V,G)}}ZC(),b=_t;break}catch(J){Yv(i,J)}while(!0);return r&&i.shellSuspendCounter++,ss=Fr=null,Qe=c,X.H=h,X.A=p,Oe===null&&(ot=null,Le=0,su()),b}function ZC(){for(;Oe!==null;)Wv(Oe)}function WC(i,r){var o=Qe;Qe|=2;var c=Xv(),h=Zv();ot!==i||Le!==r?(Ou=null,Iu=mn()+500,Qa(i,r)):$a=ai(i,r);e:do try{if(Je!==0&&Oe!==null){r=Oe;var p=jn;t:switch(Je){case 1:Je=0,jn=null,Xa(i,r,p,1);break;case 2:case 9:if(l0(p)){Je=0,jn=null,Jv(r);break}r=function(){Je!==2&&Je!==9||ot!==i||(Je=7),Fi(i)},p.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:l0(p)?(Je=0,jn=null,Jv(r)):(Je=0,jn=null,Xa(i,r,p,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var E=Oe;if(b?L_(b):E.stateNode.complete){Je=0,jn=null;var V=E.sibling;if(V!==null)Oe=V;else{var G=E.return;G!==null?(Oe=G,Bu(G)):Oe=null}break t}}Je=0,jn=null,Xa(i,r,p,5);break;case 6:Je=0,jn=null,Xa(i,r,p,6);break;case 8:np(),_t=6;break e;default:throw Error(s(462))}}JC();break}catch(J){Yv(i,J)}while(!0);return ss=Fr=null,X.H=c,X.A=h,Qe=o,Oe!==null?0:(ot=null,Le=0,su(),_t)}function JC(){for(;Oe!==null&&!Vh();)Wv(Oe)}function Wv(i){var r=xv(i.alternate,i,ps);i.memoizedProps=i.pendingProps,r===null?Bu(i):Oe=r}function Jv(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=gv(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=gv(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:vd(r);default:Ev(o,r),r=Oe=Zy(r,ps),r=xv(o,r,ps)}i.memoizedProps=i.pendingProps,r===null?Bu(i):Oe=r}function Xa(i,r,o,c){ss=Fr=null,vd(r),Ba=null,fl=0;var h=r.return;try{if(UC(i,h,r,o,Le)){_t=1,Au(i,Qn(o,i.current)),Oe=null;return}}catch(p){if(h!==null)throw Oe=h,p;_t=1,Au(i,Qn(o,i.current)),Oe=null;return}r.flags&32768?(Fe||c===1?i=!0:$a||(Le&536870912)!==0?i=!1:(qs=i=!0,(c===2||c===9||c===3||c===6)&&(c=In.current,c!==null&&c.tag===13&&(c.flags|=16384))),e_(r,i)):Bu(r)}function Bu(i){var r=i;do{if((r.flags&32768)!==0){e_(r,qs);return}i=r.return;var o=qC(r.alternate,r,ps);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);_t===0&&(_t=5)}function e_(i,r){do{var o=GC(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);_t=6,Oe=null}function t_(i,r,o,c,h,p,b,E,V){i.cancelPendingCommit=null;do zu();while(Ut!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Gh,Oh(i,o,p,b,E,V),i===ot&&(Oe=ot=null,Le=0),Ya=r,Ks=i,ms=o,Jd=p,ep=h,qv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iA(Es,function(){return a_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,h=oe.p,oe.p=2,b=Qe,Qe|=4;try{$C(i,r,o)}finally{Qe=b,oe.p=h,X.T=c}}Ut=1,n_(),i_(),s_()}}function n_(){if(Ut===1){Ut=0;var i=Ks,r=Ya,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=oe.p;oe.p=2;var h=Qe;Qe|=4;try{Ov(r,i);var p=mp,b=Fy(i.containerInfo),E=p.focusedElem,V=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&Uy(E.ownerDocument.documentElement,E)){if(V!==null&&zh(E)){var G=V.start,J=V.end;if(J===void 0&&(J=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(J,E.value.length);else{var ne=E.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var Q=$.getSelection(),ge=E.textContent.length,Ae=Math.min(V.start,ge),rt=V.end===void 0?Ae:Math.min(V.end,ge);!Q.extend&&Ae>rt&&(b=rt,rt=Ae,Ae=b);var z=zy(E,Ae),O=zy(E,rt);if(z&&O&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var q=ne.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),Ae>rt?(Q.addRange(q),Q.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),Q.addRange(q))}}}}for(ne=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var te=ne[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Wu=!!pp,mp=pp=null}finally{Qe=h,oe.p=c,X.T=o}}i.current=r,Ut=2}}function i_(){if(Ut===2){Ut=0;var i=Ks,r=Ya,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=oe.p;oe.p=2;var h=Qe;Qe|=4;try{Nv(i,r.alternate,r)}finally{Qe=h,oe.p=c,X.T=o}}Ut=3}}function s_(){if(Ut===4||Ut===3){Ut=0,Mc();var i=Ks,r=Ya,o=ms,c=qv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Ya=Ks=null,r_(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&($s=null),Wi(o),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var E=c[b];p(E.value,{componentStack:E.stack})}}finally{X.T=r,oe.p=h}}(ms&3)!==0&&zu(),Fi(i),h=i.pendingLanes,(o&261930)!==0&&(h&42)!==0?i===tp?wl++:(wl=0,tp=i):wl=0,Dl(0)}}function r_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,cl(r)))}function zu(){return n_(),i_(),s_(),a_()}function a_(){if(Ut!==5)return!1;var i=Ks,r=Jd;Jd=0;var o=Wi(ms),c=X.T,h=oe.p;try{oe.p=32>o?32:o,X.T=null,o=ep,ep=null;var p=Ks,b=ms;if(Ut=0,Ya=Ks=null,ms=0,(Qe&6)!==0)throw Error(s(331));var E=Qe;if(Qe|=4,Uv(p.current),Lv(p,p.current,b,o),Qe=E,Dl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ri,p)}catch{}return!0}finally{oe.p=h,X.T=c,r_(i,r)}}function o_(i,r,o){r=Qn(o,r),r=Vd(i.stateNode,r,2),i=zs(i,r,2),i!==null&&(Cr(i,2),Fi(i))}function et(i,r,o){if(i.tag===3)o_(i,i,o);else for(;r!==null;){if(r.tag===3){o_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($s===null||!$s.has(c))){i=Qn(o,i),o=lv(2),c=zs(r,o,2),c!==null&&(cv(o,c,r,i),Cr(c,2),Fi(c));break}}r=r.return}}function sp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new QC;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(Xd=!0,h.add(o),i=eA.bind(null,i,r,o),r.then(i,i))}function eA(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ot===i&&(Le&o)===o&&(_t===4||_t===3&&(Le&62914560)===Le&&300>mn()-Pu?(Qe&2)===0&&Qa(i,0):Zd|=o,Ka===Le&&(Ka=0)),Fi(i)}function l_(i,r){r===0&&(r=Oc()),i=Br(i,r),i!==null&&(Cr(i,r),Fi(i))}function tA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),l_(i,o)}function nA(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),l_(i,o)}function iA(i,r){return zt(i,r)}var Uu=null,Za=null,rp=!1,Fu=!1,ap=!1,Qs=0;function Fi(i){i!==Za&&i.next===null&&(Za===null?Uu=Za=i:Za=Za.next=i),Fu=!0,rp||(rp=!0,rA())}function Dl(i,r){if(!ap&&Fu){ap=!0;do for(var o=!1,c=Uu;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var b=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-Tt(42|i)+1)-1,p&=h&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,h_(c,p))}else p=Le,p=Ei(c,c===ot?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ai(c,p)||(o=!0,h_(c,p));c=c.next}while(o);ap=!1}}function sA(){c_()}function c_(){Fu=rp=!1;var i=0;Qs!==0&&mA()&&(i=Qs);for(var r=mn(),o=null,c=Uu;c!==null;){var h=c.next,p=u_(c,r);p===0?(c.next=null,o===null?Uu=h:o.next=h,h===null&&(Za=o)):(o=c,(i!==0||(p&3)!==0)&&(Fu=!0)),c=h}Ut!==0&&Ut!==5||Dl(i),Qs!==0&&(Qs=0)}function u_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-Tt(p),E=1<<b,V=h[b];V===-1?((E&o)===0||(E&c)!==0)&&(h[b]=Ih(E,r)):V<=r&&(i.expiredLanes|=E),p&=~E}if(r=ot,o=Le,o=Ei(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ss(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ai(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ss(c),Wi(o)){case 2:case 8:o=Bo;break;case 32:o=Es;break;case 268435456:o=Nc;break;default:o=Es}return c=f_.bind(null,i),o=zt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ss(c),i.callbackPriority=2,i.callbackNode=null,2}function f_(i,r){if(Ut!==0&&Ut!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(zu()&&i.callbackNode!==o)return null;var c=Le;return c=Ei(i,i===ot?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:($v(i,c,r),u_(i,mn()),i.callbackNode!=null&&i.callbackNode===o?f_.bind(null,i):null)}function h_(i,r){if(zu())return null;$v(i,r,!0)}function rA(){yA(function(){(Qe&6)!==0?zt(Lo,sA):c_()})}function op(){if(Qs===0){var i=Oa;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),Qs=i}return Qs}function d_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ta(""+i)}function p_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function aA(i,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var p=d_((h[Gt]||null).action),b=c.submitter;b&&(r=(r=b[Gt]||null)?d_(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var E=new Ii("action","action",null,c,h);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qs!==0){var V=b?p_(h,b):new FormData(h);Rd(o,{pending:!0,data:V,method:h.method,action:p},null,V)}}else typeof p=="function"&&(E.preventDefault(),V=b?p_(h,b):new FormData(h),Rd(o,{pending:!0,data:V,method:h.method,action:p},p,V))},currentTarget:h}]})}}for(var lp=0;lp<qh.length;lp++){var cp=qh[lp],oA=cp.toLowerCase(),lA=cp[0].toUpperCase()+cp.slice(1);pi(oA,"on"+lA)}pi(Gy,"onAnimationEnd"),pi($y,"onAnimationIteration"),pi(Ky,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(EC,"onTransitionRun"),pi(CC,"onTransitionStart"),pi(AC,"onTransitionCancel"),pi(Yy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function m_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var E=c[b],V=E.instance,G=E.currentTarget;if(E=E.listener,V!==p&&h.isPropagationStopped())break e;p=E,h.currentTarget=G;try{p(h)}catch(J){iu(J)}h.currentTarget=null,p=V}else for(b=0;b<c.length;b++){if(E=c[b],V=E.instance,G=E.currentTarget,E=E.listener,V!==p&&h.isPropagationStopped())break e;p=E,h.currentTarget=G;try{p(h)}catch(J){iu(J)}h.currentTarget=null,p=V}}}}function je(i,r){var o=r[ga];o===void 0&&(o=r[ga]=new Set);var c=i+"__bubble";o.has(c)||(g_(r,i,2,!1),o.add(c))}function up(i,r,o){var c=0;r&&(c|=4),g_(o,i,c,r)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function fp(i){if(!i[Hu]){i[Hu]=!0,Fo.forEach(function(o){o!=="selectionchange"&&(cA.has(o)||up(o,!1,i),up(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hu]||(r[Hu]=!0,up("selectionchange",!1,r))}}function g_(i,r,o,c){switch(G_(r)){case 2:var h=jA;break;case 8:h=LA;break;default:h=Ap}o=h.bind(null,r,o,i),h=void 0,!Nr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(r,o,{capture:!0,passive:h}):i.addEventListener(r,o,!0):h!==void 0?i.addEventListener(r,o,{passive:h}):i.addEventListener(r,o,!1)}function hp(i,r,o,c,h){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===h)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;E!==null;){if(b=wi(E),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=p=b;continue e}E=E.parentNode}}c=c.return}Ms(function(){var G=p,J=Gn(o),ne=[];e:{var $=Qy.get(i);if($!==void 0){var Q=Ii,ge=i;switch(i){case"keypress":if(Vr(o)===0)break e;case"keydown":case"keyup":Q=eu;break;case"focusin":ge="focus",Q=Ir;break;case"focusout":ge="blur",Q=Ir;break;case"beforeblur":case"afterblur":Q=Ir;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case Gy:case $y:case Ky:Q=Kc;break;case Yy:Q=R;break;case"scroll":case"scrollend":Q=el;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ts;break;case"toggle":case"beforetoggle":Q=Ne}var Ae=(r&4)!==0,rt=!Ae&&(i==="scroll"||i==="scrollend"),z=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var O=G,q;O!==null;){var te=O;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||z===null||(te=ui(O,z),te!=null&&Ae.push(Nl(O,te,q))),rt)break;O=O.return}0<Ae.length&&($=new Q($,ge,null,o,J),ne.push({event:$,listeners:Ae}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==Zo&&(ge=o.relatedTarget||o.fromElement)&&(wi(ge)||ge[Ai]))break e;if((Q||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(ge=o.relatedTarget||o.toElement,Q=G,ge=ge?wi(ge):null,ge!==null&&(rt=l(ge),Ae=ge.tag,ge!==rt||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(Q=null,ge=G),Q!==ge)){if(Ae=tl,te="onMouseLeave",z="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=ts,te="onPointerLeave",z="onPointerEnter",O="pointer"),rt=Q==null?$:Nn(Q),q=ge==null?$:Nn(ge),$=new Ae(te,O+"leave",Q,o,J),$.target=rt,$.relatedTarget=q,te=null,wi(J)===G&&(Ae=new Ae(z,O+"enter",ge,o,J),Ae.target=q,Ae.relatedTarget=rt,te=Ae),rt=te,Q&&ge)t:{for(Ae=uA,z=Q,O=ge,q=0,te=z;te;te=Ae(te))q++;te=0;for(var Se=O;Se;Se=Ae(Se))te++;for(;0<q-te;)z=Ae(z),q--;for(;0<te-q;)O=Ae(O),te--;for(;q--;){if(z===O||O!==null&&z===O.alternate){Ae=z;break t}z=Ae(z),O=Ae(O)}Ae=null}else Ae=null;Q!==null&&y_(ne,$,Q,Ae,!1),ge!==null&&rt!==null&&y_(ne,rt,ge,Ae,!0)}}e:{if($=G?Nn(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var $e=Py;else if(ky($))if(Iy)$e=TC;else{$e=_C;var be=vC}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&ba(G.elementType)&&($e=Py):$e=bC;if($e&&($e=$e(i,G))){Vy(ne,$e,o,J);break e}be&&be(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Yo($,"number",$.value)}switch(be=G?Nn(G):window,i){case"focusin":(ky(be)||be.contentEditable==="true")&&(wa=be,Uh=G,al=null);break;case"focusout":al=Uh=wa=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Hy(ne,o,J);break;case"selectionchange":if(SC)break;case"keydown":case"keyup":Hy(ne,o,J)}var Pe;if(Ye)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ra?Or(i,o)&&(Be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(Li&&o.locale!=="ko"&&(Ra||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ra&&(Pe=Jo()):(Pi=J,Wo="value"in Pi?Pi.value:Pi.textContent,Ra=!0)),be=qu(G,Be),0<be.length&&(Be=new ji(Be,i,null,o,J),ne.push({event:Be,listeners:be}),Pe?Be.data=Pe:(Pe=Aa(o),Pe!==null&&(Be.data=Pe)))),(Pe=Kn?pC(i,o):mC(i,o))&&(Be=qu(G,"onBeforeInput"),0<Be.length&&(be=new ji("onBeforeInput","beforeinput",null,o,J),ne.push({event:be,listeners:Be}),be.data=Pe)),aA(ne,i,G,o,J)}m_(ne,r)})}function Nl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function qu(i,r){for(var o=r+"Capture",c=[];i!==null;){var h=i,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ui(i,o),h!=null&&c.unshift(Nl(i,h,p)),h=ui(i,r),h!=null&&c.push(Nl(i,h,p))),i.tag===3)return c;i=i.return}return[]}function uA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function y_(i,r,o,c,h){for(var p=r._reactName,b=[];o!==null&&o!==c;){var E=o,V=E.alternate,G=E.stateNode;if(E=E.tag,V!==null&&V===c)break;E!==5&&E!==26&&E!==27||G===null||(V=G,h?(G=ui(o,p),G!=null&&b.unshift(Nl(o,G,V))):h||(G=ui(o,p),G!=null&&b.push(Nl(o,G,V)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var fA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function v_(i){return(typeof i=="string"?i:""+i).replace(fA,`
`).replace(hA,"")}function __(i,r){return r=v_(r),v_(i)===r}function st(i,r,o,c,h,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||xn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&xn(i,""+c);break;case"className":kn(i,"class",c);break;case"tabIndex":kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(i,o,c);break;case"style":Xo(i,c,p);break;case"data":if(r!=="object"){kn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ta(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&st(i,r,"name",h.name,h,null),st(i,r,"formEncType",h.formEncType,h,null),st(i,r,"formMethod",h.formMethod,h,null),st(i,r,"formTarget",h.formTarget,h,null)):(st(i,r,"encType",h.encType,h,null),st(i,r,"method",h.method,h,null),st(i,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ta(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=ci);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ta(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":je("beforetoggle",i),je("toggle",i),va(i,"popover",c);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":va(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qc.get(o)||o,va(i,o,c))}}function dp(i,r,o,c,h,p){switch(o){case"style":Xo(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?xn(i,c):(typeof c=="number"||typeof c=="bigint")&&xn(i,""+c);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),p=i[Gt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,h);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):va(i,o,c)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var c=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,p,b,o,null)}}h&&st(i,r,"srcSet",o.srcSet,o,null),c&&st(i,r,"src",o.src,o,null);return;case"input":je("invalid",i);var E=p=b=h=null,V=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":h=J;break;case"type":b=J;break;case"checked":V=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:st(i,r,c,J,o,null)}}Uc(i,p,E,V,G,b,h,!1);return;case"select":je("invalid",i),c=b=p=null;for(h in o)if(o.hasOwnProperty(h)&&(E=o[h],E!=null))switch(h){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":c=E;default:st(i,r,h,E,o,null)}r=p,o=b,i.multiple=!!c,r!=null?As(i,!!c,r,!1):o!=null&&As(i,!!c,o,!0);return;case"textarea":je("invalid",i),p=h=c=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":c=E;break;case"defaultValue":h=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:st(i,r,b,E,o,null)}Rs(i,c,h,p);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":st(i,r,V,c,o,null));return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(c=0;c<Ml.length;c++)je(Ml[c],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,G,c,o,null)}return;default:if(ba(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&dp(i,r,J,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&st(i,r,E,c,o,null))}function dA(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,E=null,V=null,G=null,J=null;for(Q in o){var ne=o[Q];if(o.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=ne;default:c.hasOwnProperty(Q)||st(i,r,Q,null,c,ne)}}for(var $ in c){var Q=c[$];if(ne=o[$],c.hasOwnProperty($)&&(Q!=null||ne!=null))switch($){case"type":p=Q;break;case"name":h=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":b=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&st(i,r,$,Q,c,ne)}}_a(i,b,E,V,G,J,p,h);return;case"select":Q=b=E=$=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Q=V;default:c.hasOwnProperty(p)||st(i,r,p,null,c,V)}for(h in c)if(p=c[h],V=o[h],c.hasOwnProperty(h)&&(p!=null||V!=null))switch(h){case"value":$=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==V&&st(i,r,h,p,c,V)}r=E,o=b,c=Q,$!=null?As(i,!!o,$,!1):!!c!=!!o&&(r!=null?As(i,!!o,r,!0):As(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(E in o)if(h=o[E],o.hasOwnProperty(E)&&h!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(i,r,E,null,c,h)}for(b in c)if(h=c[b],p=o[b],c.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":$=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&st(i,r,b,h,c,p)}Fc(i,$,Q);return;case"option":for(var ge in o)$=o[ge],o.hasOwnProperty(ge)&&$!=null&&!c.hasOwnProperty(ge)&&(ge==="selected"?i.selected=!1:st(i,r,ge,null,c,$));for(V in c)$=c[V],Q=o[V],c.hasOwnProperty(V)&&$!==Q&&($!=null||Q!=null)&&(V==="selected"?i.selected=$&&typeof $!="function"&&typeof $!="symbol":st(i,r,V,$,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)$=o[Ae],o.hasOwnProperty(Ae)&&$!=null&&!c.hasOwnProperty(Ae)&&st(i,r,Ae,null,c,$);for(G in c)if($=c[G],Q=o[G],c.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:st(i,r,G,$,c,Q)}return;default:if(ba(r)){for(var rt in o)$=o[rt],o.hasOwnProperty(rt)&&$!==void 0&&!c.hasOwnProperty(rt)&&dp(i,r,rt,void 0,c,$);for(J in c)$=c[J],Q=o[J],!c.hasOwnProperty(J)||$===Q||$===void 0&&Q===void 0||dp(i,r,J,$,c,Q);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!c.hasOwnProperty(z)&&st(i,r,z,null,c,$);for(ne in c)$=c[ne],Q=o[ne],!c.hasOwnProperty(ne)||$===Q||$==null&&Q==null||st(i,r,ne,$,c,Q)}function b_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],p=h.transferSize,b=h.initiatorType,E=h.duration;if(p&&E&&b_(b)){for(b=0,E=h.responseEnd,c+=1;c<o.length;c++){var V=o[c],G=V.startTime;if(G>E)break;var J=V.transferSize,ne=V.initiatorType;J&&b_(ne)&&(V=V.responseEnd,b+=J*(V<E?1:(E-G)/(V-G)))}if(--c,r+=8*(p+b)/(h.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var pp=null,mp=null;function Gu(i){return i.nodeType===9?i:i.ownerDocument}function T_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function gp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yp=null;function mA(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(i){return E_.resolve(null).then(i).catch(vA)}:S_;function vA(i){setTimeout(function(){throw i})}function Xs(i){return i==="head"}function C_(i,r){var o=r,c=0;do{var h=o.nextSibling;if(i.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(h),to(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")kl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,kl(o);for(var p=o.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&kl(i.ownerDocument.body);o=h}while(o);to(r)}function A_(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function vp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function _A(i,r,o,c){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ri])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function bA(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function R_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function _p(i){return i.data==="$?"||i.data==="$~"}function bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TA(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Tp=null;function w_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function D_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function M_(i,r,o){switch(r=Gu(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function kl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ya(i)}var ti=new Map,N_=new Set;function $u(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=oe.d;oe.d={f:xA,r:SA,D:EA,C:CA,L:AA,m:RA,X:DA,S:wA,M:MA};function xA(){var i=gs.f(),r=ju();return i||r}function SA(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?Y0(r):gs.r(i)}var Wa=typeof document>"u"?null:document;function k_(i,r,o){var c=Wa;if(c&&typeof r=="string"&&r){var h=Tn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),N_.has(h)||(N_.add(h),i={rel:i,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),en(r,"link",i),Dt(r),c.head.appendChild(r)))}}function EA(i){gs.D(i),k_("dns-prefetch",i,null)}function CA(i,r){gs.C(i,r),k_("preconnect",i,r)}function AA(i,r,o){gs.L(i,r,o);var c=Wa;if(c&&i&&r){var h='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Tn(o.imageSizes)+'"]')):h+='[href="'+Tn(i)+'"]';var p=h;switch(r){case"style":p=Ja(i);break;case"script":p=eo(i)}ti.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(p,i),c.querySelector(h)!==null||r==="style"&&c.querySelector(Vl(p))||r==="script"&&c.querySelector(Pl(p))||(r=c.createElement("link"),en(r,"link",i),Dt(r),c.head.appendChild(r)))}}function RA(i,r){gs.m(i,r);var o=Wa;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tn(c)+'"][href="'+Tn(i)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=eo(i)}if(!ti.has(p)&&(i=_({rel:"modulepreload",href:i},r),ti.set(p,i),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pl(p)))return}c=o.createElement("link"),en(c,"link",i),Dt(c),o.head.appendChild(c)}}}function wA(i,r,o){gs.S(i,r,o);var c=Wa;if(c&&i){var h=Di(c).hoistableStyles,p=Ja(i);r=r||"default";var b=h.get(p);if(!b){var E={loading:0,preload:null};if(b=c.querySelector(Vl(p)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(p))&&xp(i,o);var V=b=c.createElement("link");Dt(V),en(V,"link",i),V._p=new Promise(function(G,J){V.onload=G,V.onerror=J}),V.addEventListener("load",function(){E.loading|=1}),V.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ku(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:E},h.set(p,b)}}}function DA(i,r){gs.X(i,r);var o=Wa;if(o&&i){var c=Di(o).hoistableScripts,h=eo(i),p=c.get(h);p||(p=o.querySelector(Pl(h)),p||(i=_({src:i,async:!0},r),(r=ti.get(h))&&Sp(i,r),p=o.createElement("script"),Dt(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function MA(i,r){gs.M(i,r);var o=Wa;if(o&&i){var c=Di(o).hoistableScripts,h=eo(i),p=c.get(h);p||(p=o.querySelector(Pl(h)),p||(i=_({src:i,async:!0,type:"module"},r),(r=ti.get(h))&&Sp(i,r),p=o.createElement("script"),Dt(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function V_(i,r,o,c){var h=(h=pe.current)?$u(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ja(o.href),o=Di(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ja(o.href);var p=Di(h).hoistableStyles,b=p.get(i);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=h.querySelector(Vl(i)))&&!p._p&&(b.instance=p,b.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),p||NA(h,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(o),o=Di(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ja(i){return'href="'+Tn(i)+'"'}function Vl(i){return'link[rel="stylesheet"]['+i+"]"}function P_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function NA(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),en(r,"link",o),Dt(r),i.head.appendChild(r))}function eo(i){return'[src="'+Tn(i)+'"]'}function Pl(i){return"script[async]"+i}function I_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Tn(o.href)+'"]');if(c)return r.instance=c,Dt(c),c;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dt(c),en(c,"style",h),Ku(c,o.precedence,i),r.instance=c;case"stylesheet":h=Ja(o.href);var p=i.querySelector(Vl(h));if(p)return r.state.loading|=4,r.instance=p,Dt(p),p;c=P_(o),(h=ti.get(h))&&xp(c,h),p=(i.ownerDocument||i).createElement("link"),Dt(p);var b=p;return b._p=new Promise(function(E,V){b.onload=E,b.onerror=V}),en(p,"link",c),r.state.loading|=4,Ku(p,o.precedence,i),r.instance=p;case"script":return p=eo(o.src),(h=i.querySelector(Pl(p)))?(r.instance=h,Dt(h),h):(c=o,(h=ti.get(p))&&(c=_({},o),Sp(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),Dt(h),en(h,"link",c),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Ku(c,o.precedence,i));return r.instance}function Ku(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,b=0;b<c.length;b++){var E=c[b];if(E.dataset.precedence===r)p=E;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Sp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Yu=null;function O_(i,r,o){if(Yu===null){var c=new Map,h=Yu=new Map;h.set(o,c)}else h=Yu,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var p=o[h];if(!(p[Ri]||p[wt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var E=c.get(b);E?E.push(p):c.set(b,[p])}}return c}function j_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function kA(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function L_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function VA(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Ja(c.href),p=r.querySelector(Vl(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Qu.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Dt(p);return}p=r.ownerDocument||r,c=P_(c),(h=ti.get(h))&&xp(c,h),p=p.createElement("link"),Dt(p);var b=p;b._p=new Promise(function(E,V){b.onload=E,b.onerror=V}),en(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Qu.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ep=0;function PA(i,r){return i.stylesheets&&i.count===0&&Zu(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zu(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Ep===0&&(Ep=62500*pA());var h=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zu(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Ep?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xu=null;function Zu(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xu=new Map,r.forEach(IA,i),Xu=null,Qu.call(i))}function IA(i,r){if(!(r.state.loading&4)){var o=Xu.get(i);if(o)var c=o.get(null);else{o=new Map,Xu.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}h=r.instance,b=h.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,h),o.set(b,h),this.count++,c=Qu.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var Il={$$typeof:ee,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function OA(i,r,o,c,h,p,b,E,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function B_(i,r,o,c,h,p,b,E,V,G,J,ne){return i=new OA(i,r,o,b,V,G,J,ne,E),r=1,p===!0&&(r|=24),p=Pn(3,null,null,r),i.current=p,p.stateNode=i,r=id(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},od(p),i}function z_(i){return i?(i=Na,i):Na}function U_(i,r,o,c,h,p){h=z_(h),c.context===null?c.context=h:c.pendingContext=h,c=Bs(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=zs(i,c,r),o!==null&&(Rn(o,i,r),dl(o,i,r))}function F_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Cp(i,r){F_(i,r),(i=i.alternate)&&F_(i,r)}function H_(i){if(i.tag===13||i.tag===31){var r=Br(i,67108864);r!==null&&Rn(r,i,67108864),Cp(i,67108864)}}function q_(i){if(i.tag===13||i.tag===31){var r=Bn();r=Rr(r);var o=Br(i,r);o!==null&&Rn(o,i,r),Cp(i,r)}}var Wu=!0;function jA(i,r,o,c){var h=X.T;X.T=null;var p=oe.p;try{oe.p=2,Ap(i,r,o,c)}finally{oe.p=p,X.T=h}}function LA(i,r,o,c){var h=X.T;X.T=null;var p=oe.p;try{oe.p=8,Ap(i,r,o,c)}finally{oe.p=p,X.T=h}}function Ap(i,r,o,c){if(Wu){var h=Rp(c);if(h===null)hp(i,r,c,Ju,o),$_(i,c);else if(zA(h,i,r,o,c))c.stopPropagation();else if($_(i,c),r&4&&-1<BA.indexOf(i)){for(;h!==null;){var p=qn(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Si(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var V=1<<31-Tt(b);E.entanglements[1]|=V,b&=~V}Fi(p),(Qe&6)===0&&(Iu=mn()+500,Dl(0))}}break;case 31:case 13:E=Br(p,2),E!==null&&Rn(E,p,2),ju(),Cp(p,2)}if(p=Rp(c),p===null&&hp(i,r,c,Ju,o),p===h)break;h=p}h!==null&&c.stopPropagation()}else hp(i,r,c,null,o)}}function Rp(i){return i=Gn(i),wp(i)}var Ju=null;function wp(i){if(Ju=null,i=wi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ju=i,null}function G_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Lo:return 2;case Bo:return 8;case Es:case Ph:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var Dp=!1,Zs=null,Ws=null,Js=null,Ol=new Map,jl=new Map,er=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(i,r){switch(i){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function Ll(i,r,o,c,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=qn(r),r!==null&&H_(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function zA(i,r,o,c,h){switch(r){case"focusin":return Zs=Ll(Zs,i,r,o,c,h),!0;case"dragenter":return Ws=Ll(Ws,i,r,o,c,h),!0;case"mouseover":return Js=Ll(Js,i,r,o,c,h),!0;case"pointerover":var p=h.pointerId;return Ol.set(p,Ll(Ol.get(p)||null,i,r,o,c,h)),!0;case"gotpointercapture":return p=h.pointerId,jl.set(p,Ll(jl.get(p)||null,i,r,o,c,h)),!0}return!1}function K_(i){var r=wi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,oi(i.priority,function(){q_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,oi(i.priority,function(){q_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ef(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Rp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Zo=c,o.target.dispatchEvent(c),Zo=null}else return r=qn(o),r!==null&&H_(r),i.blockedOn=o,!1;r.shift()}return!0}function Y_(i,r,o){ef(i)&&o.delete(r)}function UA(){Dp=!1,Zs!==null&&ef(Zs)&&(Zs=null),Ws!==null&&ef(Ws)&&(Ws=null),Js!==null&&ef(Js)&&(Js=null),Ol.forEach(Y_),jl.forEach(Y_)}function tf(i,r){i.blockedOn===r&&(i.blockedOn=null,Dp||(Dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UA)))}var nf=null;function Q_(i){nf!==i&&(nf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nf===i&&(nf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],h=i[r+2];if(typeof c!="function"){if(wp(c||o)===null)continue;break}var p=qn(o);p!==null&&(i.splice(r,3),r-=3,Rd(p,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function to(i){function r(V){return tf(V,i)}Zs!==null&&tf(Zs,i),Ws!==null&&tf(Ws,i),Js!==null&&tf(Js,i),Ol.forEach(r),jl.forEach(r);for(var o=0;o<er.length;o++){var c=er[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<er.length&&(o=er[0],o.blockedOn===null);)K_(o),o.blockedOn===null&&er.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],b=h[Gt]||null;if(typeof p=="function")b||Q_(o);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[Gt]||null)E=b.formAction;else if(wp(h)!==null)continue}else E=b.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),Q_(o)}}}function X_(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Mp(i){this._internalRoot=i}sf.prototype.render=Mp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Bn();U_(o,c,i,r,null,null)},sf.prototype.unmount=Mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;U_(i.current,2,null,i,null,null),ju(),r[Ai]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var r=jc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<er.length&&r!==0&&r<er[o].priority;o++);er.splice(o,0,i),o===0&&K_(i)}};var Z_=e.version;if(Z_!=="19.2.4")throw Error(s(527,Z_,"19.2.4"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var FA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{ri=rf.inject(FA),Qt=rf}catch{}}return zl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",h=sv,p=rv,b=av;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=B_(i,1,!1,null,null,o,c,null,h,p,b,X_),i[Ai]=r.current,fp(i),new Mp(r)},zl.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,h="",p=sv,b=rv,E=av,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=B_(i,1,!0,r,o??null,c,h,V,p,b,E,X_),r.context=z_(null),o=r.current,c=Bn(),c=Rr(c),h=Bs(c),h.callback=null,zs(o,h,c),o=c,r.current.lanes=o,Cr(r,o),Fi(r),i[Ai]=r.current,fp(i),new sf(r)},zl.version="19.2.4",zl}var ob;function JA(){if(ob)return Vp.exports;ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vp.exports=WA(),Vp.exports}var e5=JA();const XT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const t5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const n5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const lb=n=>{const e=n5(n);return e.charAt(0).toUpperCase()+e.slice(1)};var i5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const r5=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},g)=>F.createElement("svg",{ref:g,...i5,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:XT("lucide",a),...!l&&!s5(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,y])=>F.createElement(m,y)),...Array.isArray(l)?l:[l]]));const tt=(n,e)=>{const t=F.forwardRef(({className:s,...a},l)=>F.createElement(r5,{ref:l,iconNode:e,className:XT(`lucide-${t5(lb(n))}`,`lucide-${n}`,s),...a}));return t.displayName=lb(n),t};const a5=[["path",{d:"M9 13a1 1 0 0 0-1-1H5.061a1 1 0 0 1-.75-1.811l6.836-6.835a1.207 1.207 0 0 1 1.707 0l6.835 6.835a1 1 0 0 1-.75 1.811H16a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z",key:"lh0v7k"}]],o5=tt("arrow-big-up",a5);const l5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],If=tt("arrow-left",l5);const c5=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u5=tt("ban",c5);const f5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],h5=tt("camera",f5);const d5=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],p5=tt("check-check",d5);const m5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZT=tt("check",m5);const g5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y5=tt("circle-check-big",g5);const v5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_5=tt("clock",v5);const b5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cb=tt("credit-card",b5);const T5=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],x5=tt("delete",T5);const S5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],E5=tt("ellipsis-vertical",S5);const C5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],WT=tt("image",C5);const A5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],R5=tt("info",A5);const w5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],D5=tt("loader-circle",w5);const M5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ub=tt("lock",M5);const N5=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],k5=tt("mic-off",N5);const V5=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],P5=tt("mic",V5);const I5=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],JT=tt("phone-off",I5);const O5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ex=tt("phone",O5);const j5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],L5=tt("plus",j5);const B5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],z5=tt("send",B5);const U5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],F5=tt("smile",U5);const H5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],q5=tt("star",H5);const G5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$5=tt("trash-2",G5);const K5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fb=tt("triangle-alert",K5);const Y5=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Q5=tt("video-off",Y5);const X5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lh=tt("video",X5);const Z5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ch=tt("x",Z5);const W5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ho=tt("zap",W5),hg=F.createContext({});function dg(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const tx=typeof window<"u",nx=tx?F.useLayoutEffect:F.useEffect,uh=F.createContext(null);function pg(n,e){n.indexOf(e)===-1&&n.push(e)}function Of(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qi=(n,e,t)=>t>e?e:t<n?n:t;let mg=()=>{};const vs={},ix=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function sx(n){return typeof n=="object"&&n!==null}const rx=n=>/^0[^.\s]+$/u.test(n);function gg(n){let e;return()=>(e===void 0&&(e=n()),e)}const si=n=>n,J5=(n,e)=>t=>e(n(t)),Tc=(...n)=>n.reduce(J5),rc=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class yg{constructor(){this.subscriptions=[]}add(e){return pg(this.subscriptions,e),()=>Of(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=n=>n*1e3,ii=n=>n/1e3;function ax(n,e){return e?n*(1e3/e):0}const ox=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,eR=1e-7,tR=12;function nR(n,e,t,s,a){let l,u,d=0;do u=e+(t-e)/2,l=ox(u,s,a)-n,l>0?t=u:e=u;while(Math.abs(l)>eR&&++d<tR);return u}function xc(n,e,t,s){if(n===e&&t===s)return si;const a=l=>nR(l,0,1,n,t);return l=>l===0||l===1?l:ox(a(l),e,s)}const lx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,cx=n=>e=>1-n(1-e),ux=xc(.33,1.53,.69,.99),vg=cx(ux),fx=lx(vg),hx=n=>(n*=2)<1?.5*vg(n):.5*(2-Math.pow(2,-10*(n-1))),_g=n=>1-Math.sin(Math.acos(n)),dx=cx(_g),px=lx(_g),iR=xc(.42,0,1,1),sR=xc(0,0,.58,1),mx=xc(.42,0,.58,1),rR=n=>Array.isArray(n)&&typeof n[0]!="number",gx=n=>Array.isArray(n)&&typeof n[0]=="number",aR={linear:si,easeIn:iR,easeInOut:mx,easeOut:sR,circIn:_g,circInOut:px,circOut:dx,backIn:vg,backInOut:fx,backOut:ux,anticipate:hx},oR=n=>typeof n=="string",hb=n=>{if(gx(n)){mg(n.length===4);const[e,t,s,a]=n;return xc(e,t,s,a)}else if(oR(n))return aR[n];return n},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lR(n,e){let t=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(y){u.has(y)&&(m.schedule(y),n()),y(d)}const m={schedule:(y,_=!1,S=!1)=>{const N=S&&a?t:s;return _&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[t,s]=[s,t],t.forEach(g),t.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const cR=40;function yx(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=af.reduce((ee,le)=>(ee[le]=lR(l),ee),{}),{setup:d,read:g,resolveKeyframes:m,preUpdate:y,update:_,preRender:S,render:C,postRender:N}=u,L=()=>{const ee=vs.useManualTiming?a.timestamp:performance.now();t=!1,vs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(ee-a.timestamp,cR),1)),a.timestamp=ee,a.isProcessing=!0,d.process(a),g.process(a),m.process(a),y.process(a),_.process(a),S.process(a),C.process(a),N.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(L))},B=()=>{t=!0,s=!0,a.isProcessing||n(L)};return{schedule:af.reduce((ee,le)=>{const ae=u[le];return ee[le]=(de,D=!1,A=!1)=>(t||B(),ae.schedule(de,D,A)),ee},{}),cancel:ee=>{for(let le=0;le<af.length;le++)u[af[le]].cancel(ee)},state:a,steps:u}}const{schedule:lt,cancel:fr,state:tn,steps:jp}=yx(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let gf;function uR(){gf=void 0}const vn={now:()=>(gf===void 0&&vn.set(tn.isProcessing||vs.useManualTiming?tn.timestamp:performance.now()),gf),set:n=>{gf=n,queueMicrotask(uR)}},vx=n=>e=>typeof e=="string"&&e.startsWith(n),_x=vx("--"),fR=vx("var(--"),bg=n=>fR(n)?hR.test(n.split("/*")[0].trim()):!1,hR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function db(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Ro={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ac={...Ro,transform:n=>Qi(0,1,n)},of={...Ro,default:1},Xl=n=>Math.round(n*1e5)/1e5,Tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dR(n){return n==null}const pR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xg=(n,e)=>t=>!!(typeof t=="string"&&pR.test(t)&&t.startsWith(n)||e&&!dR(t)&&Object.prototype.hasOwnProperty.call(t,e)),bx=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(Tg);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},mR=n=>Qi(0,255,n),Lp={...Ro,transform:n=>Math.round(mR(n))},ta={test:xg("rgb","red"),parse:bx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+Lp.transform(n)+", "+Lp.transform(e)+", "+Lp.transform(t)+", "+Xl(ac.transform(s))+")"};function gR(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const pm={test:xg("#"),parse:gR,transform:ta.transform},Sc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),nr=Sc("deg"),Gi=Sc("%"),ye=Sc("px"),yR=Sc("vh"),vR=Sc("vw"),pb={...Gi,parse:n=>Gi.parse(n)/100,transform:n=>Gi.transform(n*100)},oo={test:xg("hsl","hue"),parse:bx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+Gi.transform(Xl(e))+", "+Gi.transform(Xl(t))+", "+Xl(ac.transform(s))+")"},jt={test:n=>ta.test(n)||pm.test(n)||oo.test(n),parse:n=>ta.test(n)?ta.parse(n):oo.test(n)?oo.parse(n):pm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ta.transform(n):oo.transform(n),getAnimatableNone:n=>{const e=jt.parse(n);return e.alpha=0,jt.transform(e)}},_R=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bR(n){return isNaN(n)&&typeof n=="string"&&(n.match(Tg)?.length||0)+(n.match(_R)?.length||0)>0}const Tx="number",xx="color",TR="var",xR="var(",mb="${}",SR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oc(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(SR,g=>(jt.test(g)?(s.color.push(l),a.push(xx),t.push(jt.parse(g))):g.startsWith(xR)?(s.var.push(l),a.push(TR),t.push(g)):(s.number.push(l),a.push(Tx),t.push(parseFloat(g))),++l,mb)).split(mb);return{values:t,split:d,indexes:s,types:a}}function Sx(n){return oc(n).values}function Ex(n){const{split:e,types:t}=oc(n),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=t[u];d===Tx?l+=Xl(a[u]):d===xx?l+=jt.transform(a[u]):l+=a[u]}return l}}const ER=n=>typeof n=="number"?0:jt.test(n)?jt.getAnimatableNone(n):n;function CR(n){const e=Sx(n);return Ex(n)(e.map(ER))}const hr={test:bR,parse:Sx,createTransformer:Ex,getAnimatableNone:CR};function Bp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function AR({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,l=0,u=0;if(!e)a=l=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,g=2*t-d;a=Bp(g,d,n+1/3),l=Bp(g,d,n),u=Bp(g,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function jf(n,e){return t=>t>0?e:n}const gt=(n,e,t)=>n+(e-n)*t,zp=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},RR=[pm,ta,oo],wR=n=>RR.find(e=>e.test(n));function gb(n){const e=wR(n);if(!e)return!1;let t=e.parse(n);return e===oo&&(t=AR(t)),t}const yb=(n,e)=>{const t=gb(n),s=gb(e);if(!t||!s)return jf(n,e);const a={...t};return l=>(a.red=zp(t.red,s.red,l),a.green=zp(t.green,s.green,l),a.blue=zp(t.blue,s.blue,l),a.alpha=gt(t.alpha,s.alpha,l),ta.transform(a))},mm=new Set(["none","hidden"]);function DR(n,e){return mm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function MR(n,e){return t=>gt(n,e,t)}function Sg(n){return typeof n=="number"?MR:typeof n=="string"?bg(n)?jf:jt.test(n)?yb:VR:Array.isArray(n)?Cx:typeof n=="object"?jt.test(n)?yb:NR:jf}function Cx(n,e){const t=[...n],s=t.length,a=n.map((l,u)=>Sg(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)t[u]=a[u](l);return t}}function NR(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=Sg(n[a])(n[a],e[a]));return a=>{for(const l in s)t[l]=s[l](a);return t}}function kR(n,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][s[l]],d=n.values[u]??0;t[a]=d,s[l]++}return t}const VR=(n,e)=>{const t=hr.createTransformer(e),s=oc(n),a=oc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?mm.has(n)&&!a.values.length||mm.has(e)&&!s.values.length?DR(n,e):Tc(Cx(kR(s,a),a.values),t):jf(n,e)};function Ax(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?gt(n,e,t):Sg(n)(n,e)}const PR=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>lt.update(e,t),stop:()=>fr(e),now:()=>tn.isProcessing?tn.timestamp:vn.now()}},Rx=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Lf=2e4;function Eg(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Lf;)e+=t,s=n.next(e);return e>=Lf?1/0:e}function IR(n,e=100,t){const s=t({...n,keyframes:[0,e]}),a=Math.min(Eg(s),Lf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ii(a)}}const OR=5;function wx(n,e,t){const s=Math.max(e-OR,0);return ax(t-n(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function jR({duration:n=bt.duration,bounce:e=bt.bounce,velocity:t=bt.velocity,mass:s=bt.mass}){let a,l,u=1-e;u=Qi(bt.minDamping,bt.maxDamping,u),n=Qi(bt.minDuration,bt.maxDuration,ii(n)),u<1?(a=m=>{const y=m*u,_=y*n,S=y-t,C=gm(m,u),N=Math.exp(-_);return Up-S/C*N},l=m=>{const _=m*u*n,S=_*t+t,C=Math.pow(u,2)*Math.pow(m,2)*n,N=Math.exp(-_),L=gm(Math.pow(m,2),u);return(-a(m)+Up>0?-1:1)*((S-C)*N)/L}):(a=m=>{const y=Math.exp(-m*n),_=(m-t)*n+1;return-Up+y*_},l=m=>{const y=Math.exp(-m*n),_=(t-m)*(n*n);return y*_});const d=5/n,g=BR(a,l,d);if(n=_i(n),isNaN(g))return{stiffness:bt.stiffness,damping:bt.damping,duration:n};{const m=Math.pow(g,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:n}}}const LR=12;function BR(n,e,t){let s=t;for(let a=1;a<LR;a++)s=s-n(s)/e(s);return s}function gm(n,e){return n*Math.sqrt(1-e*e)}const zR=["duration","bounce"],UR=["stiffness","damping","mass"];function vb(n,e){return e.some(t=>n[t]!==void 0)}function FR(n){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...n};if(!vb(n,UR)&&vb(n,zR))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,l=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const t=jR(n);e={...e,...t,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Bf(n=bt.visualDuration,e=bt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:g,damping:m,mass:y,duration:_,velocity:S,isResolvedFromDuration:C}=FR({...t,velocity:-ii(t.velocity||0)}),N=S||0,L=m/(2*Math.sqrt(g*y)),B=u-l,K=ii(Math.sqrt(g/y)),Z=Math.abs(B)<5;s||(s=Z?bt.restSpeed.granular:bt.restSpeed.default),a||(a=Z?bt.restDelta.granular:bt.restDelta.default);let ee;if(L<1){const ae=gm(K,L);ee=de=>{const D=Math.exp(-L*K*de);return u-D*((N+L*K*B)/ae*Math.sin(ae*de)+B*Math.cos(ae*de))}}else if(L===1)ee=ae=>u-Math.exp(-K*ae)*(B+(N+K*B)*ae);else{const ae=K*Math.sqrt(L*L-1);ee=de=>{const D=Math.exp(-L*K*de),A=Math.min(ae*de,300);return u-D*((N+L*K*B)*Math.sinh(A)+ae*B*Math.cosh(A))/ae}}const le={calculatedDuration:C&&_||null,next:ae=>{const de=ee(ae);if(C)d.done=ae>=_;else{let D=ae===0?N:0;L<1&&(D=ae===0?_i(N):wx(ee,ae,de));const A=Math.abs(D)<=s,w=Math.abs(u-de)<=a;d.done=A&&w}return d.value=d.done?u:de,d},toString:()=>{const ae=Math.min(Eg(le),Lf),de=Rx(D=>le.next(ae*D).value,ae,30);return ae+"ms "+de},toTransition:()=>{}};return le}Bf.applyToOptions=n=>{const e=IR(n,100,Bf);return n.ease=e.ease,n.duration=_i(e.duration),n.type="keyframes",n};function ym({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:g,restDelta:m=.5,restSpeed:y}){const _=n[0],S={done:!1,value:_},C=A=>d!==void 0&&A<d||g!==void 0&&A>g,N=A=>d===void 0?g:g===void 0||Math.abs(d-A)<Math.abs(g-A)?d:g;let L=t*e;const B=_+L,K=u===void 0?B:u(B);K!==B&&(L=K-_);const Z=A=>-L*Math.exp(-A/s),ee=A=>K+Z(A),le=A=>{const w=Z(A),k=ee(A);S.done=Math.abs(w)<=m,S.value=S.done?K:k};let ae,de;const D=A=>{C(S.value)&&(ae=A,de=Bf({keyframes:[S.value,N(S.value)],velocity:wx(ee,A,S.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return D(0),{calculatedDuration:null,next:A=>{let w=!1;return!de&&ae===void 0&&(w=!0,le(A),D(A)),ae!==void 0&&A>=ae?de.next(A-ae):(!w&&le(A),S)}}}function HR(n,e,t){const s=[],a=t||vs.mix||Ax,l=n.length-1;for(let u=0;u<l;u++){let d=a(n[u],n[u+1]);if(e){const g=Array.isArray(e)?e[u]||si:e;d=Tc(g,d)}s.push(d)}return s}function qR(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const l=n.length;if(mg(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=HR(e,s,a),g=d.length,m=y=>{if(u&&y<n[0])return e[0];let _=0;if(g>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const S=rc(n[_],n[_+1],y);return d[_](S)};return t?y=>m(Qi(n[0],n[l-1],y)):m}function GR(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=rc(0,e,s);n.push(gt(t,1,a))}}function $R(n){const e=[0];return GR(e,n.length-1),e}function KR(n,e){return n.map(t=>t*e)}function YR(n,e){return n.map(()=>e||mx).splice(0,n.length-1)}function Zl({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=rR(s)?s.map(hb):hb(s),l={done:!1,value:e[0]},u=KR(t&&t.length===e.length?t:$R(e),n),d=qR(u,e,{ease:Array.isArray(a)?a:YR(e,a)});return{calculatedDuration:n,next:g=>(l.value=d(g),l.done=g>=n,l)}}const QR=n=>n!==null;function Cg(n,{repeat:e,repeatType:t="loop"},s,a=1){const l=n.filter(QR),d=a<0||e&&t!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const XR={decay:ym,inertia:ym,tween:Zl,keyframes:Zl,spring:Bf};function Dx(n){typeof n.type=="string"&&(n.type=XR[n.type])}class Ag{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const ZR=n=>n/100;class Rg extends Ag{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Dx(e);const{type:t=Zl,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const g=t||Zl;g!==Zl&&typeof d[0]!="number"&&(this.mixKeyframes=Tc(ZR,Ax(d[0],d[1])),d=[0,100]);const m=g({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Eg(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:C,type:N,onUpdate:L,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const K=this.currentTime-m*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let ee=this.currentTime,le=s;if(_){const A=Math.min(this.currentTime,a)/d;let w=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&w--,w=Math.min(w,_+1),w%2&&(S==="reverse"?(k=1-k,C&&(k-=C/d)):S==="mirror"&&(le=u)),ee=Qi(0,1,k)*d}const ae=Z?{done:!1,value:y[0]}:le.next(ee);l&&(ae.value=l(ae.value));let{done:de}=ae;!Z&&g!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return D&&N!==ym&&(ae.value=Cg(y,this.options,B,this.speed)),L&&L(ae.value),D&&this.finish(),ae}then(e,t){return this.finished.then(e,t)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=_i(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=PR,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WR(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const na=n=>n*180/Math.PI,vm=n=>{const e=na(Math.atan2(n[1],n[0]));return _m(e)},JR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:vm,rotateZ:vm,skewX:n=>na(Math.atan(n[1])),skewY:n=>na(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},_m=n=>(n=n%360,n<0&&(n+=360),n),_b=vm,bb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Tb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ew={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bb,scaleY:Tb,scale:n=>(bb(n)+Tb(n))/2,rotateX:n=>_m(na(Math.atan2(n[6],n[5]))),rotateY:n=>_m(na(Math.atan2(-n[2],n[0]))),rotateZ:_b,rotate:_b,skewX:n=>na(Math.atan(n[4])),skewY:n=>na(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function bm(n){return n.includes("scale")?1:0}function Tm(n,e){if(!n||n==="none")return bm(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=ew,a=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JR,a=d}if(!a)return bm(e);const l=s[e],u=a[1].split(",").map(nw);return typeof l=="function"?l(u):u[l]}const tw=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Tm(t,e)};function nw(n){return parseFloat(n.trim())}const wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Do=new Set(wo),xb=n=>n===Ro||n===ye,iw=new Set(["x","y","z"]),sw=wo.filter(n=>!iw.has(n));function rw(n){const e=[];return sw.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const ir={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Tm(e,"x"),y:(n,{transform:e})=>Tm(e,"y")};ir.translateX=ir.x;ir.translateY=ir.y;const sa=new Set;let xm=!1,Sm=!1,Em=!1;function Mx(){if(Sm){const n=Array.from(sa).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=rw(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Sm=!1,xm=!1,sa.forEach(n=>n.complete(Em)),sa.clear()}function Nx(){sa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Sm=!0)})}function aw(){Em=!0,Nx(),Mx(),Em=!1}class wg{constructor(e,t,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(sa.add(this),xm||(xm=!0,lt.read(Nx),lt.resolveKeyframes(Mx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&t){const d=s.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}WR(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),sa.delete(this)}cancel(){this.state==="scheduled"&&(sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ow=n=>n.startsWith("--");function lw(n,e,t){ow(e)?n.style.setProperty(e,t):n.style[e]=t}const cw=gg(()=>window.ScrollTimeline!==void 0),uw={};function fw(n,e){const t=gg(n);return()=>uw[e]??t()}const kx=fw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ql=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,Sb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function Vx(n,e){if(n)return typeof n=="function"?kx()?Rx(n,e):"ease-out":gx(n)?ql(n):Array.isArray(n)?n.map(t=>Vx(t,e)||Sb.easeOut):Sb[n]}function hw(n,e,t,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:g}={},m=void 0){const y={[e]:t};g&&(y.offset=g);const _=Vx(d,a);Array.isArray(_)&&(y.easing=_);const S={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(S.pseudoElement=m),n.animate(y,S)}function Px(n){return typeof n=="function"&&"applyToOptions"in n}function dw({type:n,...e}){return Px(n)&&kx()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ix extends Ag{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:g}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,mg(typeof e.type!="string");const m=dw(e);this.animation=hw(t,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Cg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):lw(t,s,y),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=_i(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&cw()?(this.animation.timeline=e,si):t(this)}}const Ox={anticipate:hx,backInOut:fx,circInOut:px};function pw(n){return n in Ox}function mw(n){typeof n.ease=="string"&&pw(n.ease)&&(n.ease=Ox[n.ease])}const Fp=10;class gw extends Ix{constructor(e){mw(e),Dx(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new Rg({...u,autoplay:!1}),g=Math.max(Fp,vn.now()-this.startTime),m=Qi(0,Fp,g-Fp);t.setWithVelocity(d.sample(Math.max(0,g-m)).value,d.sample(g).value,m),d.stop()}}const Eb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hr.test(n)||n==="0")&&!n.startsWith("url("));function yw(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function vw(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=Eb(a,e),d=Eb(l,e);return!u||!d?!1:yw(n)||(t==="spring"||Px(t))&&s}function Cm(n){n.duration=0,n.type="keyframes"}const _w=new Set(["opacity","clipPath","filter","transform"]),bw=gg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Tw(n){const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:l,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:m}=e.owner.getProps();return bw()&&t&&_w.has(t)&&(t!=="transform"||!m)&&!g&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const xw=40;class Sw extends Ag{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:g,motionValue:m,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const S={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:l,repeatType:u,name:g,motionValue:m,element:y,..._},C=y?.KeyframeResolver||wg;this.keyframeResolver=new C(d,(N,L,B)=>this.onKeyframesResolved(N,L,S,!B),g,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:g,isHandoff:m,onUpdate:y}=s;this.resolvedAt=vn.now(),vw(e,l,u,d)||((vs.instantAnimations||!g)&&y?.(Cg(e,s,t)),e[0]=e[e.length-1],Cm(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},C=!m&&Tw(S),N=S.motionValue?.owner?.current,L=C?new gw({...S,element:N}):new Rg(S);L.finished.then(()=>{this.notifyFinished()}).catch(si),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function jx(n,e,t,s=0,a=1){const l=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=n.size,d=(u-1)*s;return typeof t=="function"?t(l,u):a===1?l*s:d-l*s}const Ew=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cw(n){const e=Ew.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function Lx(n,e,t=1){const[s,a]=Cw(n);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return ix(u)?parseFloat(u):u}return bg(a)?Lx(a,e,t+1):a}const Aw={type:"spring",stiffness:500,damping:25,restSpeed:10},Rw=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ww={type:"keyframes",duration:.8},Dw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mw=(n,{keyframes:e})=>e.length>2?ww:Do.has(n)?n.startsWith("scale")?Rw(e[1]):Aw:Dw,Nw=n=>n!==null;function kw(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(Nw),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[l]}function Bx(n,e){if(n?.inherit&&e){const{inherit:t,...s}=n;return{...e,...s}}return n}function Dg(n,e){const t=n?.[e]??n?.default??n;return t!==n?Bx(t,n):t}function Vw({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:g,elapsed:m,...y}){return!!Object.keys(y).length}const Mg=(n,e,t,s={},a,l)=>u=>{const d=Dg(s,n)||{},g=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-_i(g);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:S=>{e.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:a};Vw(d)||Object.assign(y,Mw(n,y)),y.duration&&(y.duration=_i(y.duration)),y.repeatDelay&&(y.repeatDelay=_i(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Cm(y),y.delay===0&&(_=!0)),(vs.instantAnimations||vs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Cm(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const S=kw(y.keyframes,d);if(S!==void 0){lt.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Rg(y):new Sw(y)};function Cb(n){const e=[{},{}];return n?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function Ng(n,e,t,s){if(typeof e=="function"){const[a,l]=Cb(s);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=Cb(s);e=e(t!==void 0?t:n.custom,a,l)}return e}function po(n,e,t){const s=n.getProps();return Ng(s,e,t!==void 0?t:s.custom,n)}const zx=new Set(["width","height","top","left","right","bottom",...wo]),Ab=30,Pw=n=>!isNaN(parseFloat(n));class Iw{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pw(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new yg);const s=this.events[e].add(t);return e==="change"?()=>{s(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ab)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Ab);return ax(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(n,e){return new Iw(n,e)}const Am=n=>Array.isArray(n);function Ow(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bo(t))}function jw(n){return Am(n)?n[n.length-1]||0:n}function Lw(n,e){const t=po(n,e);let{transitionEnd:s={},transition:a={},...l}=t||{};l={...l,...s};for(const u in l){const d=jw(l[u]);Ow(n,u,d)}}const hn=n=>!!(n&&n.getVelocity);function Bw(n){return!!(hn(n)&&n.add)}function Rm(n,e){const t=n.getValue("willChange");if(Bw(t))return t.add(e);if(!t&&vs.WillChange){const s=new vs.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function kg(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const zw="framerAppearId",Ux="data-"+kg(zw);function Fx(n){return n.props[Ux]}function Uw({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function Hx(n,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:u,...d}=e;const g=n.getDefaultTransition();l=l?Bx(l,g):g;const m=l?.reduceMotion;s&&(l=s);const y=[],_=a&&n.animationState&&n.animationState.getState()[a];for(const S in d){const C=n.getValue(S,n.latestValues[S]??null),N=d[S];if(N===void 0||_&&Uw(_,S))continue;const L={delay:t,...Dg(l||{},S)},B=C.get();if(B!==void 0&&!C.isAnimating&&!Array.isArray(N)&&N===B&&!L.velocity)continue;let K=!1;if(window.MotionHandoffAnimation){const le=Fx(n);if(le){const ae=window.MotionHandoffAnimation(le,S,lt);ae!==null&&(L.startTime=ae,K=!0)}}Rm(n,S);const Z=m??n.shouldReduceMotion;C.start(Mg(S,C,N,Z&&zx.has(S)?{type:!1}:L,n,K));const ee=C.animation;ee&&y.push(ee)}if(u){const S=()=>lt.update(()=>{u&&Lw(n,u)});y.length?Promise.all(y).then(S):S()}return y}function wm(n,e,t={}){const s=po(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all(Hx(n,s,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=a;return Fw(n,e,g,m,y,_,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,m]=d==="beforeChildren"?[l,u]:[u,l];return g().then(()=>m())}else return Promise.all([l(),u(t.delay)])}function Fw(n,e,t=0,s=0,a=0,l=1,u){const d=[];for(const g of n.variantChildren)g.notify("AnimationStart",e),d.push(wm(g,e,{...u,delay:t+(typeof s=="function"?0:s)+jx(n.variantChildren,g,s,a,l)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(d)}function Hw(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>wm(n,l,t));s=Promise.all(a)}else if(typeof e=="string")s=wm(n,e,t);else{const a=typeof e=="function"?po(n,e,t.custom):e;s=Promise.all(Hx(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const qw={test:n=>n==="auto",parse:n=>n},qx=n=>e=>e.test(n),Gx=[Ro,ye,Gi,nr,vR,yR,qw],Rb=n=>Gx.find(qx(n));function Gw(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||rx(n):!0}const $w=new Set(["brightness","contrast","saturate","opacity"]);function Kw(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Tg)||[];if(!s)return n;const a=t.replace(s,"");let l=$w.has(e)?1:0;return s!==t&&(l*=100),e+"("+l+a+")"}const Yw=/\b([a-z-]*)\(.*?\)/gu,Dm={...hr,getAnimatableNone:n=>{const e=n.match(Yw);return e?e.map(Kw).join(" "):n}},wb={...Ro,transform:Math.round},Qw={rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:nr,skewX:nr,skewY:nr,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:ac,originX:pb,originY:pb,originZ:ye},Vg={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,inset:ye,insetBlock:ye,insetBlockStart:ye,insetBlockEnd:ye,insetInline:ye,insetInlineStart:ye,insetInlineEnd:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,paddingBlock:ye,paddingBlockStart:ye,paddingBlockEnd:ye,paddingInline:ye,paddingInlineStart:ye,paddingInlineEnd:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,marginBlock:ye,marginBlockStart:ye,marginBlockEnd:ye,marginInline:ye,marginInlineStart:ye,marginInlineEnd:ye,fontSize:ye,backgroundPositionX:ye,backgroundPositionY:ye,...Qw,zIndex:wb,fillOpacity:ac,strokeOpacity:ac,numOctaves:wb},Xw={...Vg,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:Dm,WebkitFilter:Dm},$x=n=>Xw[n];function Kx(n,e){let t=$x(n);return t!==Dm&&(t=hr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Zw=new Set(["auto","none","0"]);function Ww(n,e,t){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!Zw.has(l)&&oc(l).values.length&&(a=n[s]),s++}if(a&&t)for(const l of e)n[l]=Kx(t,a)}class Jw extends wg{constructor(e,t,s,a,l){super(e,t,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),bg(_))){const S=Lx(_,t.current);S!==void 0&&(e[y]=S),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!zx.has(s)||e.length!==2)return;const[a,l]=e,u=Rb(a),d=Rb(l),g=db(a),m=db(l);if(g!==m&&ir[s]){this.needsMeasurement=!0;return}if(u!==d)if(xb(u)&&xb(d))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else ir[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Gw(e[a]))&&s.push(a);s.length&&Ww(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ir[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ir[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,g])=>{e.getValue(d).set(g)}),this.resolveNoneKeyframes()}}const e3=new Set(["opacity","clipPath","filter","transform"]);function Yx(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=t?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const Qx=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Mm(n){return sx(n)&&"offsetHeight"in n}const{schedule:Pg}=yx(queueMicrotask,!1),vi={x:!1,y:!1};function Xx(){return vi.x||vi.y}function t3(n){return n==="x"||n==="y"?vi[n]?null:(vi[n]=!0,()=>{vi[n]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function Zx(n,e){const t=Yx(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function n3(n){return!(n.pointerType==="touch"||Xx())}function i3(n,e,t={}){const[s,a,l]=Zx(n,t);return s.forEach(u=>{let d=!1,g=!1,m;const y=()=>{u.removeEventListener("pointerleave",N)},_=B=>{m&&(m(B),m=void 0),y()},S=B=>{d=!1,window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),g&&(g=!1,_(B))},C=()=>{d=!0,window.addEventListener("pointerup",S,a),window.addEventListener("pointercancel",S,a)},N=B=>{if(B.pointerType!=="touch"){if(d){g=!0;return}_(B)}},L=B=>{if(!n3(B))return;g=!1;const K=e(u,B);typeof K=="function"&&(m=K,u.addEventListener("pointerleave",N,a))};u.addEventListener("pointerenter",L,a),u.addEventListener("pointerdown",C,a)}),l}const Wx=(n,e)=>e?n===e?!0:Wx(n,e.parentElement):!1,Ig=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,s3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r3(n){return s3.has(n.tagName)||n.isContentEditable===!0}const a3=new Set(["INPUT","SELECT","TEXTAREA"]);function o3(n){return a3.has(n.tagName)||n.isContentEditable===!0}const yf=new WeakSet;function Db(n){return e=>{e.key==="Enter"&&n(e)}}function Hp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const l3=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=Db(()=>{if(yf.has(t))return;Hp(t,"down");const a=Db(()=>{Hp(t,"up")}),l=()=>Hp(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function Mb(n){return Ig(n)&&!Xx()}const Nb=new WeakSet;function c3(n,e,t={}){const[s,a,l]=Zx(n,t),u=d=>{const g=d.currentTarget;if(!Mb(d)||Nb.has(d))return;yf.add(g),t.stopPropagation&&Nb.add(d);const m=e(g,d),y=(C,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),yf.has(g)&&yf.delete(g),Mb(C)&&typeof m=="function"&&m(C,{success:N})},_=C=>{y(C,g===window||g===document||t.useGlobalTarget||Wx(g,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Mm(d)&&(d.addEventListener("focus",m=>l3(m,a)),!r3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Og(n){return sx(n)&&"ownerSVGElement"in n}const vf=new WeakMap;let _f;const Jx=(n,e,t)=>(s,a)=>a&&a[0]?a[0][n+"Size"]:Og(s)&&"getBBox"in s?s.getBBox()[e]:s[t],u3=Jx("inline","width","offsetWidth"),f3=Jx("block","height","offsetHeight");function h3({target:n,borderBoxSize:e}){vf.get(n)?.forEach(t=>{t(n,{get width(){return u3(n,e)},get height(){return f3(n,e)}})})}function d3(n){n.forEach(h3)}function p3(){typeof ResizeObserver>"u"||(_f=new ResizeObserver(d3))}function m3(n,e){_f||p3();const t=Yx(n);return t.forEach(s=>{let a=vf.get(s);a||(a=new Set,vf.set(s,a)),a.add(e),_f?.observe(s)}),()=>{t.forEach(s=>{const a=vf.get(s);a?.delete(e),a?.size||_f?.unobserve(s)})}}const bf=new Set;let lo;function g3(){lo=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};bf.forEach(e=>e(n))},window.addEventListener("resize",lo)}function y3(n){return bf.add(n),lo||g3(),()=>{bf.delete(n),!bf.size&&typeof lo=="function"&&(window.removeEventListener("resize",lo),lo=void 0)}}function kb(n,e){return typeof n=="function"?y3(n):m3(n,e)}function v3(n){return Og(n)&&n.tagName==="svg"}const _3=[...Gx,jt,hr],b3=n=>_3.find(qx(n)),Vb=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:Vb(),y:Vb()}),Pb=()=>({min:0,max:0}),Ft=()=>({x:Pb(),y:Pb()}),T3=new WeakMap;function fh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function lc(n){return typeof n=="string"||Array.isArray(n)}const jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lg=["initial",...jg];function hh(n){return fh(n.animate)||Lg.some(e=>lc(n[e]))}function e2(n){return!!(hh(n)||n.variants)}function x3(n,e,t){for(const s in e){const a=e[s],l=t[s];if(hn(a))n.addValue(s,a);else if(hn(l))n.addValue(s,bo(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,bo(u!==void 0?u:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const Nm={current:null},t2={current:!1},S3=typeof window<"u";function E3(){if(t2.current=!0,!!S3)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nm.current=n.matches;n.addEventListener("change",e),e()}else Nm.current=!1}const Ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zf={};function n2(n){zf=n}function C3(){return zf}class A3{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=wg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=vn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,lt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=g,this.blockInitialAnimation=!!u,this.isControllingVariants=hh(t),this.isVariantNode=e2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...S}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in S){const N=S[C];m[C]!==void 0&&hn(N)&&N.set(m[C])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,T3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(t2.current||E3(),this.shouldReduceMotion=Nm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&e3.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:g,ease:m,duration:y}=t.accelerate,_=new Ix({element:this.current,name:e,keyframes:d,times:g,ease:m,duration:_i(y)}),S=u(_);this.valueSubscriptions.set(e,()=>{S(),_.cancel()});return}const s=Do.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zf){const t=zf[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<Ib.length;s++){const a=Ib[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=x3(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=bo(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ix(s)||rx(s))?s=parseFloat(s):!b3(s)&&hr.test(t)&&(s=Kx(e,t)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const l=Ng(this.props,t,this.presenceContext?.custom);l&&(s=l[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new yg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Pg.render(this.render)}}class i2 extends A3{constructor(){super(...arguments),this.KeyframeResolver=Jw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const s=e.style;return s?s[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}function s2({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function R3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function w3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function qp(n){return n===void 0||n===1}function km({scale:n,scaleX:e,scaleY:t}){return!qp(n)||!qp(e)||!qp(t)}function Jr(n){return km(n)||r2(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function r2(n){return Ob(n.x)||Ob(n.y)}function Ob(n){return n&&n!=="0%"}function Uf(n,e,t){const s=n-t,a=e*s;return t+a}function jb(n,e,t,s,a){return a!==void 0&&(n=Uf(n,a,s)),Uf(n,t,s)+e}function Vm(n,e=0,t=1,s,a){n.min=jb(n.min,e,t,s,a),n.max=jb(n.max,e,t,s,a)}function a2(n,{x:e,y:t}){Vm(n.x,e.translate,e.scale,e.originPoint),Vm(n.y,t.translate,t.scale,t.originPoint)}const Lb=.999999999999,Bb=1.0000000000001;function D3(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=t[d],u=l.projectionDelta;const{visualElement:g}=l.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,a2(n,u)),s&&Jr(l.latestValues)&&fo(n,l.latestValues))}e.x<Bb&&e.x>Lb&&(e.x=1),e.y<Bb&&e.y>Lb&&(e.y=1)}function uo(n,e){n.min=n.min+e,n.max=n.max+e}function zb(n,e,t,s,a=.5){const l=gt(n.min,n.max,a);Vm(n,e,t,l,s)}function fo(n,e){zb(n.x,e.x,e.scaleX,e.scale,e.originX),zb(n.y,e.y,e.scaleY,e.scale,e.originY)}function o2(n,e){return s2(w3(n.getBoundingClientRect(),e))}function M3(n,e,t){const s=o2(n,t),{scroll:a}=e;return a&&(uo(s.x,a.offset.x),uo(s.y,a.offset.y)),s}const N3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k3=wo.length;function V3(n,e,t){let s="",a=!0;for(let l=0;l<k3;l++){const u=wo[l],d=n[u];if(d===void 0)continue;let g=!0;if(typeof d=="number")g=d===(u.startsWith("scale")?1:0);else{const m=parseFloat(d);g=u.startsWith("scale")?m===1:m===0}if(!g||t){const m=Qx(d,Vg[u]);if(!g){a=!1;const y=N3[u]||u;s+=`${y}(${m}) `}t&&(e[u]=m)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function Bg(n,e,t){const{style:s,vars:a,transformOrigin:l}=n;let u=!1,d=!1;for(const g in e){const m=e[g];if(Do.has(g)){u=!0;continue}else if(_x(g)){a[g]=m;continue}else{const y=Qx(m,Vg[g]);g.startsWith("origin")?(d=!0,l[g]=y):s[g]=y}}if(e.transform||(u||t?s.transform=V3(e,n.transform,t):s.transform&&(s.transform="none")),d){const{originX:g="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${g} ${m} ${y}`}}function l2(n,{style:e,vars:t},s,a){const l=n.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in t)l.setProperty(u,t[u])}function Ub(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ul={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ye.test(n))n=parseFloat(n);else return n;const t=Ub(n,e.target.x),s=Ub(n,e.target.y);return`${t}% ${s}%`}},P3={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=hr.parse(n);if(a.length>5)return s;const l=hr.createTransformer(n),u=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,g=t.y.scale*e.y;a[0+u]/=d,a[1+u]/=g;const m=gt(d,g,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}},Pm={borderRadius:{...Ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ul,borderTopRightRadius:Ul,borderBottomLeftRadius:Ul,borderBottomRightRadius:Ul,boxShadow:P3};function c2(n,{layout:e,layoutId:t}){return Do.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Pm[n]||n==="opacity")}function zg(n,e,t){const s=n.style,a=e?.style,l={};if(!s)return l;for(const u in s)(hn(s[u])||a&&hn(a[u])||c2(u,n)||t?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function I3(n){return window.getComputedStyle(n)}class O3 extends i2{constructor(){super(...arguments),this.type="html",this.renderInstance=l2}readValueFromInstance(e,t){if(Do.has(t))return this.projection?.isProjecting?bm(t):tw(e,t);{const s=I3(e),a=(_x(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return o2(e,t)}build(e,t,s){Bg(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return zg(e,t,s)}}const j3={offset:"stroke-dashoffset",array:"stroke-dasharray"},L3={offset:"strokeDashoffset",array:"strokeDasharray"};function B3(n,e,t=1,s=0,a=!0){n.pathLength=1;const l=a?j3:L3;n[l.offset]=`${-s}`,n[l.array]=`${e} ${t}`}const z3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function u2(n,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},g,m,y){if(Bg(n,d,m),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:S}=n;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const C of z3)_[C]!==void 0&&(S[C]=_[C],delete _[C]);e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),s!==void 0&&(_.scale=s),a!==void 0&&B3(_,a,l,u,!1)}const f2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),h2=n=>typeof n=="string"&&n.toLowerCase()==="svg";function U3(n,e,t,s){l2(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(f2.has(a)?a:kg(a),e.attrs[a])}function d2(n,e,t){const s=zg(n,e,t);for(const a in n)if(hn(n[a])||hn(e[a])){const l=wo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class F3 extends i2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Do.has(t)){const s=$x(t);return s&&s.default||0}return t=f2.has(t)?t:kg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return d2(e,t,s)}build(e,t,s){u2(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){U3(e,t,s,a)}mount(e){this.isSVGTag=h2(e.tagName),super.mount(e)}}const H3=Lg.length;function p2(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?p2(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<H3;t++){const s=Lg[t],a=n.props[s];(lc(a)||a===!1)&&(e[s]=a)}return e}function m2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const q3=[...jg].reverse(),G3=jg.length;function $3(n){return e=>Promise.all(e.map(({animation:t,options:s})=>Hw(n,t,s)))}function K3(n){let e=$3(n),t=Fb(),s=!0;const a=g=>(m,y)=>{const _=po(n,y,g==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:S,transitionEnd:C,...N}=_;m={...m,...N,...C}}return m};function l(g){e=g(n)}function u(g){const{props:m}=n,y=p2(n.parent)||{},_=[],S=new Set;let C={},N=1/0;for(let B=0;B<G3;B++){const K=q3[B],Z=t[K],ee=m[K]!==void 0?m[K]:y[K],le=lc(ee),ae=K===g?Z.isActive:null;ae===!1&&(N=B);let de=ee===y[K]&&ee!==m[K]&&le;if(de&&s&&n.manuallyAnimateOnMount&&(de=!1),Z.protectedKeys={...C},!Z.isActive&&ae===null||!ee&&!Z.prevProp||fh(ee)||typeof ee=="boolean")continue;if(K==="exit"&&Z.isActive&&ae!==!0){Z.prevResolvedValues&&(C={...C,...Z.prevResolvedValues});continue}const D=Y3(Z.prevProp,ee);let A=D||K===g&&Z.isActive&&!de&&le||B>N&&le,w=!1;const k=Array.isArray(ee)?ee:[ee];let P=k.reduce(a(K),{});ae===!1&&(P={});const{prevResolvedValues:j={}}=Z,M={...j,...P},Ve=oe=>{A=!0,S.has(oe)&&(w=!0,S.delete(oe)),Z.needsAnimating[oe]=!0;const he=n.getValue(oe);he&&(he.liveStyle=!1)};for(const oe in M){const he=P[oe],fe=j[oe];if(C.hasOwnProperty(oe))continue;let Ee=!1;Am(he)&&Am(fe)?Ee=!m2(he,fe):Ee=he!==fe,Ee?he!=null?Ve(oe):S.add(oe):he!==void 0&&S.has(oe)?Ve(oe):Z.protectedKeys[oe]=!0}Z.prevProp=ee,Z.prevResolvedValues=P,Z.isActive&&(C={...C,...P}),s&&n.blockInitialAnimation&&(A=!1);const at=de&&D;A&&(!at||w)&&_.push(...k.map(oe=>{const he={type:K};if(typeof oe=="string"&&s&&!at&&n.manuallyAnimateOnMount&&n.parent){const{parent:fe}=n,Ee=po(fe,oe);if(fe.enteringChildren&&Ee){const{delayChildren:I}=Ee.transition||{};he.delay=jx(fe.enteringChildren,n,I)}}return{animation:oe,options:he}}))}if(S.size){const B={};if(typeof m.initial!="boolean"){const K=po(n,Array.isArray(m.initial)?m.initial[0]:m.initial);K&&K.transition&&(B.transition=K.transition)}S.forEach(K=>{const Z=n.getBaseTarget(K),ee=n.getValue(K);ee&&(ee.liveStyle=!0),B[K]=Z??null}),_.push({animation:B})}let L=!!_.length;return s&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(_):Promise.resolve()}function d(g,m){if(t[g].isActive===m)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(g,m)),t[g].isActive=m;const y=u(g);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=Fb()}}}function Y3(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!m2(e,n):!1}function Wr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fb(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}function Hb(n,e){n.min=e.min,n.max=e.max}function yi(n,e){Hb(n.x,e.x),Hb(n.y,e.y)}function qb(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const g2=1e-4,Q3=1-g2,X3=1+g2,y2=.01,Z3=0-y2,W3=0+y2;function _n(n){return n.max-n.min}function J3(n,e,t){return Math.abs(n-e)<=t}function Gb(n,e,t,s=.5){n.origin=s,n.originPoint=gt(e.min,e.max,n.origin),n.scale=_n(t)/_n(e),n.translate=gt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Q3&&n.scale<=X3||isNaN(n.scale))&&(n.scale=1),(n.translate>=Z3&&n.translate<=W3||isNaN(n.translate))&&(n.translate=0)}function Wl(n,e,t,s){Gb(n.x,e.x,t.x,s?s.originX:void 0),Gb(n.y,e.y,t.y,s?s.originY:void 0)}function $b(n,e,t){n.min=t.min+e.min,n.max=n.min+_n(e)}function eD(n,e,t){$b(n.x,e.x,t.x),$b(n.y,e.y,t.y)}function Kb(n,e,t){n.min=e.min-t.min,n.max=n.min+_n(e)}function Ff(n,e,t){Kb(n.x,e.x,t.x),Kb(n.y,e.y,t.y)}function Yb(n,e,t,s,a){return n-=e,n=Uf(n,1/t,s),a!==void 0&&(n=Uf(n,1/a,s)),n}function tD(n,e=0,t=1,s=.5,a,l=n,u=n){if(Gi.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=gt(l.min,l.max,s);n===l&&(d-=e),n.min=Yb(n.min,e,t,d,a),n.max=Yb(n.max,e,t,d,a)}function Qb(n,e,[t,s,a],l,u){tD(n,e[t],e[s],e[a],e.scale,l,u)}const nD=["x","scaleX","originX"],iD=["y","scaleY","originY"];function Xb(n,e,t,s){Qb(n.x,e,nD,t?t.x:void 0,s?s.x:void 0),Qb(n.y,e,iD,t?t.y:void 0,s?s.y:void 0)}function Zb(n){return n.translate===0&&n.scale===1}function v2(n){return Zb(n.x)&&Zb(n.y)}function Wb(n,e){return n.min===e.min&&n.max===e.max}function sD(n,e){return Wb(n.x,e.x)&&Wb(n.y,e.y)}function Jb(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function _2(n,e){return Jb(n.x,e.x)&&Jb(n.y,e.y)}function e1(n){return _n(n.x)/_n(n.y)}function t1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function Hi(n){return[n("x"),n("y")]}function rD(n,e,t){let s="";const a=n.x.translate/e.x,l=n.y.translate/e.y,u=t?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:S,skewX:C,skewY:N}=t;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=n.x.scale*e.x,g=n.y.scale*e.y;return(d!==1||g!==1)&&(s+=`scale(${d}, ${g})`),s||"none"}const b2=["TopLeft","TopRight","BottomLeft","BottomRight"],aD=b2.length,n1=n=>typeof n=="string"?parseFloat(n):n,i1=n=>typeof n=="number"||ye.test(n);function oD(n,e,t,s,a,l){a?(n.opacity=gt(0,t.opacity??1,lD(s)),n.opacityExit=gt(e.opacity??1,0,cD(s))):l&&(n.opacity=gt(e.opacity??1,t.opacity??1,s));for(let u=0;u<aD;u++){const d=`border${b2[u]}Radius`;let g=s1(e,d),m=s1(t,d);if(g===void 0&&m===void 0)continue;g||(g=0),m||(m=0),g===0||m===0||i1(g)===i1(m)?(n[d]=Math.max(gt(n1(g),n1(m),s),0),(Gi.test(m)||Gi.test(g))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=gt(e.rotate||0,t.rotate||0,s))}function s1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const lD=T2(0,.5,dx),cD=T2(.5,.95,si);function T2(n,e,t){return s=>s<n?0:s>e?1:t(rc(n,e,s))}function uD(n,e,t){const s=hn(n)?n:bo(n);return s.start(Mg("",s,e,t)),s.animation}function cc(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}const fD=(n,e)=>n.depth-e.depth;class hD{constructor(){this.children=[],this.isDirty=!1}add(e){pg(this.children,e),this.isDirty=!0}remove(e){Of(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fD),this.isDirty=!1,this.children.forEach(e)}}function dD(n,e){const t=vn.now(),s=({timestamp:a})=>{const l=a-t;l>=e&&(fr(s),n(l-e))};return lt.setup(s,!0),()=>fr(s)}function Tf(n){return hn(n)?n.get():n}class pD{constructor(){this.members=[]}add(e){pg(this.members,e);for(let t=this.members.length-1;t>=0;t--){const s=this.members[t];if(s===e||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Of(this.members,s)}e.scheduleRender()}remove(e){if(Of(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const g=s.instance;g&&g.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gp=["","X","Y","Z"],mD=1e3;let gD=0;function $p(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function x2(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Fx(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",lt,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&x2(s)}function S2({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=gD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_D),this.nodes.forEach(SD),this.nodes.forEach(ED),this.nodes.forEach(bD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new hD)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new yg),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const g=this.eventHandlers.get(u);g&&g.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Og(u)&&!v3(u),this.instance=u;const{layoutId:d,layout:g,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||d)&&(this.isLayoutDirty=!0),n){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{_=window.innerWidth}),n(u,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=dD(S,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(o1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||DD,{onLayoutAnimationStart:L,onLayoutAnimationComplete:B}=m.getProps(),K=!this.targetLayout||!_2(this.targetLayout,C),Z=!_&&S;if(this.options.layoutRoot||this.resumeFrom||Z||_&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const ee={...Dg(N,"layout"),onPlay:L,onComplete:B};(m.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee),this.setAnimationOrigin(y,Z)}else _||o1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CD),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(a1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xD),this.nodes.forEach(yD),this.nodes.forEach(vD)):this.nodes.forEach(a1),this.clearAllSnapshots();const d=vn.now();tn.delta=Qi(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,jp.update.process(tn),jp.preRender.process(tn),jp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TD),this.sharedNodes.forEach(AD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!v2(this.projectionDelta),g=this.getTransformTemplate(),m=g?g(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Jr(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return u&&(g=this.removeTransform(g)),MD(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ft();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ND))){const{scroll:m}=this.root;m&&(uo(d.x,m.offset.x),uo(d.y,m.offset.y))}return d}removeElementScroll(u){const d=Ft();if(yi(d,u),this.scroll?.wasRoot)return d;for(let g=0;g<this.path.length;g++){const m=this.path[g],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&yi(d,u),uo(d.x,y.offset.x),uo(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const g=Ft();yi(g,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fo(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Jr(y.latestValues)&&fo(g,y.latestValues)}return Jr(this.latestValues)&&fo(g,this.latestValues),g}removeTransform(u){const d=Ft();yi(d,u);for(let g=0;g<this.path.length;g++){const m=this.path[g];if(!m.instance||!Jr(m.latestValues))continue;km(m.latestValues)&&m.updateSnapshot();const y=Ft(),_=m.measurePageBox();yi(y,_),Xb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Jr(this.latestValues)&&Xb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==d;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=tn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),a2(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||km(this.parent.latestValues)||r2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Ff(this.relativeTargetOrigin,d,g),yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(g=!1),g)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;D3(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ft());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qb(this.prevProjectionDelta.x,this.projectionDelta.x),qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!t1(this.projectionDelta.x,this.prevProjectionDelta.x)||!t1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(u,d=!1){const g=this.snapshot,m=g?g.latestValues:{},y={...this.latestValues},_=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ft(),C=g?g.source:void 0,N=this.layout?this.layout.source:void 0,L=C!==N,B=this.getStack(),K=!B||B.members.length<=1,Z=!!(L&&!K&&this.options.crossfade===!0&&!this.path.some(wD));this.animationProgress=0;let ee;this.mixTargetDelta=le=>{const ae=le/1e3;l1(_.x,u.x,ae),l1(_.y,u.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RD(this.relativeTarget,this.relativeTargetOrigin,S,ae),ee&&sD(this.relativeTarget,ee)&&(this.isProjectionDirty=!1),ee||(ee=Ft()),yi(ee,this.relativeTarget)),L&&(this.animationValues=y,oD(y,m,this.latestValues,ae,Z,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bo(0)),this.currentAnimation=uD(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:g,layout:m,latestValues:y}=u;if(!(!d||!g||!m)){if(this!==u&&this.layout&&m&&E2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){g=this.target||Ft();const _=_n(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+_;const S=_n(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+S}yi(d,g),fo(d,y),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new pD),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:g}={}){const m=this.getStack();m&&m.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const m={};g.z&&$p("z",u,m,this.animationValues);for(let y=0;y<Gp.length;y++)$p(`rotate${Gp[y]}`,u,m,this.animationValues),$p(`skew${Gp[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Tf(d?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Tf(d?.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=rD(this.projectionDeltaWithTransform,this.treeScale,y);g&&(_=g(y,_)),u.transform=_;const{x:S,y:C}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Pm){if(y[N]===void 0)continue;const{correct:L,applyTo:B,isCSSVariable:K}=Pm[N],Z=_==="none"?y[N]:L(y[N],m);if(B){const ee=B.length;for(let le=0;le<ee;le++)u[B[le]]=Z}else K?this.options.visualElement.renderState.vars[N]=Z:u[N]=Z}this.options.layoutId&&(u.pointerEvents=m===this?Tf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(r1),this.root.sharedNodes.clear()}}}function yD(n){n.updateLayout()}function vD(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Hi(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],S=_n(_);_.min=t[y].min,_.max=_.min+S}):E2(a,e.layoutBox,t)&&Hi(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],S=_n(t[y]);_.max=_.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const u=co();Wl(u,t,e.layoutBox);const d=co();l?Wl(d,n.applyTransform(s,!0),e.measuredBox):Wl(d,t,e.layoutBox);const g=!v2(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const C=Ft();Ff(C,e.layoutBox,_.layoutBox);const N=Ft();Ff(N,t,S.layoutBox),_2(C,N)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=C,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function _D(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TD(n){n.clearSnapshot()}function r1(n){n.clearMeasurements()}function a1(n){n.isLayoutDirty=!1}function xD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function o1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function SD(n){n.resolveTargetDelta()}function ED(n){n.calcProjection()}function CD(n){n.resetSkewAndRotation()}function AD(n){n.removeLeadSnapshot()}function l1(n,e,t){n.translate=gt(e.translate,0,t),n.scale=gt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function c1(n,e,t,s){n.min=gt(e.min,t.min,s),n.max=gt(e.max,t.max,s)}function RD(n,e,t,s){c1(n.x,e.x,t.x,s),c1(n.y,e.y,t.y,s)}function wD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const DD={duration:.45,ease:[.4,0,.1,1]},u1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),f1=u1("applewebkit/")&&!u1("chrome/")?Math.round:si;function h1(n){n.min=f1(n.min),n.max=f1(n.max)}function MD(n){h1(n.x),h1(n.y)}function E2(n,e,t){return n==="position"||n==="preserve-aspect"&&!J3(e1(e),e1(t),.2)}function ND(n){return n!==n.root&&n.scroll?.wasRoot}const kD=S2({attachResizeListener:(n,e)=>cc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Kp={current:void 0},C2=S2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Kp.current){const n=new kD({});n.mount(window),n.setOptions({layoutScroll:!0}),Kp.current=n}return Kp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ug=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function d1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function VD(...n){return e=>{let t=!1;const s=n.map(a=>{const l=d1(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():d1(n[a],null)}}}}function PD(...n){return F.useCallback(VD(...n),n)}class ID extends F.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=t.offsetParent,a=Mm(s)&&s.offsetWidth||0,l=Mm(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=t.offsetHeight||0,u.width=t.offsetWidth||0,u.top=t.offsetTop,u.left=t.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function OD({children:n,isPresent:e,anchorX:t,anchorY:s,root:a,pop:l}){const u=F.useId(),d=F.useRef(null),g=F.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=F.useContext(Ug),y=n.props?.ref??n?.ref,_=PD(d,y);return F.useInsertionEffect(()=>{const{width:S,height:C,top:N,left:L,right:B,bottom:K}=g.current;if(e||l===!1||!d.current||!S||!C)return;const Z=t==="left"?`left: ${L}`:`right: ${B}`,ee=s==="bottom"?`bottom: ${K}`:`top: ${N}`;d.current.dataset.motionPopId=u;const le=document.createElement("style");m&&(le.nonce=m);const ae=a??document.head;return ae.appendChild(le),le.sheet&&le.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${S}px !important;
            height: ${C}px !important;
            ${Z}px !important;
            ${ee}px !important;
          }
        `),()=>{ae.contains(le)&&ae.removeChild(le)}},[e]),T.jsx(ID,{isPresent:e,childRef:d,sizeRef:g,pop:l,children:l===!1?n:F.cloneElement(n,{ref:_})})}const jD=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:g,root:m})=>{const y=dg(LD),_=F.useId();let S=!0,C=F.useMemo(()=>(S=!1,{id:_,initial:e,isPresent:t,custom:a,onExitComplete:N=>{y.set(N,!0);for(const L of y.values())if(!L)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[t,y,s]);return l&&S&&(C={...C}),F.useMemo(()=>{y.forEach((N,L)=>y.set(L,!1))},[t]),F.useEffect(()=>{!t&&!y.size&&s&&s()},[t]),n=T.jsx(OD,{pop:u==="popLayout",isPresent:t,anchorX:d,anchorY:g,root:m,children:n}),T.jsx(uh.Provider,{value:C,children:n})};function LD(){return new Map}function A2(n=!0){const e=F.useContext(uh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,l=F.useId();F.useEffect(()=>{if(n)return a(l)},[n]);const u=F.useCallback(()=>n&&s&&s(l),[l,s,n]);return!t&&s?[!1,u]:[!0]}const lf=n=>n.key||"";function p1(n){const e=[];return F.Children.forEach(n,t=>{F.isValidElement(t)&&e.push(t)}),e}const zn=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:g="top",root:m})=>{const[y,_]=A2(u),S=F.useMemo(()=>p1(n),[n]),C=u&&!y?[]:S.map(lf),N=F.useRef(!0),L=F.useRef(S),B=dg(()=>new Map),K=F.useRef(new Set),[Z,ee]=F.useState(S),[le,ae]=F.useState(S);nx(()=>{N.current=!1,L.current=S;for(let A=0;A<le.length;A++){const w=lf(le[A]);C.includes(w)?(B.delete(w),K.current.delete(w)):B.get(w)!==!0&&B.set(w,!1)}},[le,C.length,C.join("-")]);const de=[];if(S!==Z){let A=[...S];for(let w=0;w<le.length;w++){const k=le[w],P=lf(k);C.includes(P)||(A.splice(w,0,k),de.push(k))}return l==="wait"&&de.length&&(A=de),ae(p1(A)),ee(S),null}const{forceRender:D}=F.useContext(hg);return T.jsx(T.Fragment,{children:le.map(A=>{const w=lf(A),k=u&&!y?!1:S===le||C.includes(w),P=()=>{if(K.current.has(w))return;if(K.current.add(w),B.has(w))B.set(w,!0);else return;let j=!0;B.forEach(M=>{M||(j=!1)}),j&&(D?.(),ae(L.current),u&&_?.(),s&&s())};return T.jsx(jD,{isPresent:k,initial:!N.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:k?void 0:P,anchorX:d,anchorY:g,children:A},w)})})},R2=F.createContext({strict:!1}),m1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let g1=!1;function BD(){if(g1)return;const n={};for(const e in m1)n[e]={isEnabled:t=>m1[e].some(s=>!!t[s])};n2(n),g1=!0}function w2(){return BD(),C3()}function zD(n){const e=w2();for(const t in n)e[t]={...e[t],...n[t]};n2(e)}const UD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Hf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UD.has(n)}let D2=n=>!Hf(n);function FD(n){typeof n=="function"&&(D2=e=>e.startsWith("on")?!Hf(e):n(e))}try{FD(require("@emotion/is-prop-valid").default)}catch{}function HD(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(D2(a)||t===!0&&Hf(a)||!e&&!Hf(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const dh=F.createContext({});function qD(n,e){if(hh(n)){const{initial:t,animate:s}=n;return{initial:t===!1||lc(t)?t:void 0,animate:lc(s)?s:void 0}}return n.inherit!==!1?e:{}}function GD(n){const{initial:e,animate:t}=qD(n,F.useContext(dh));return F.useMemo(()=>({initial:e,animate:t}),[y1(e),y1(t)])}function y1(n){return Array.isArray(n)?n.join(" "):n}const Fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M2(n,e,t){for(const s in e)!hn(e[s])&&!c2(s,t)&&(n[s]=e[s])}function $D({transformTemplate:n},e){return F.useMemo(()=>{const t=Fg();return Bg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function KD(n,e){const t=n.style||{},s={};return M2(s,t,n),Object.assign(s,$D(n,e)),s}function YD(n,e){const t={},s=KD(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const N2=()=>({...Fg(),attrs:{}});function QD(n,e,t,s){const a=F.useMemo(()=>{const l=N2();return u2(l,e,h2(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};M2(l,n.style,n),a.style={...l,...a.style}}return a}const XD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hg(n){return typeof n!="string"||n.includes("-")?!1:!!(XD.indexOf(n)>-1||/[A-Z]/u.test(n))}function ZD(n,e,t,{latestValues:s},a,l=!1,u){const g=(u??Hg(n)?QD:YD)(e,s,a,n),m=HD(e,typeof n=="string",l),y=n!==F.Fragment?{...m,...g,ref:t}:{},{children:_}=e,S=F.useMemo(()=>hn(_)?_.get():_,[_]);return F.createElement(n,{...y,children:S})}function WD({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,a){return{latestValues:JD(t,s,a,n),renderState:e()}}function JD(n,e,t,s){const a={},l=s(n,{});for(const S in l)a[S]=Tf(l[S]);let{initial:u,animate:d}=n;const g=hh(n),m=e2(n);e&&m&&!g&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const _=y?d:u;if(_&&typeof _!="boolean"&&!fh(_)){const S=Array.isArray(_)?_:[_];for(let C=0;C<S.length;C++){const N=Ng(n,S[C]);if(N){const{transitionEnd:L,transition:B,...K}=N;for(const Z in K){let ee=K[Z];if(Array.isArray(ee)){const le=y?ee.length-1:0;ee=ee[le]}ee!==null&&(a[Z]=ee)}for(const Z in L)a[Z]=L[Z]}}}return a}const k2=n=>(e,t)=>{const s=F.useContext(dh),a=F.useContext(uh),l=()=>WD(n,e,s,a);return t?l():dg(l)},e4=k2({scrapeMotionValuesFromProps:zg,createRenderState:Fg}),t4=k2({scrapeMotionValuesFromProps:d2,createRenderState:N2}),n4=Symbol.for("motionComponentSymbol");function i4(n,e,t){const s=F.useRef(t);F.useInsertionEffect(()=>{s.current=t});const a=F.useRef(null);return F.useCallback(l=>{l&&n.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const V2=F.createContext({});function no(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function s4(n,e,t,s,a,l){const{visualElement:u}=F.useContext(dh),d=F.useContext(R2),g=F.useContext(uh),m=F.useContext(Ug),y=m.reducedMotion,_=m.skipAnimations,S=F.useRef(null),C=F.useRef(!1);s=s||d.renderer,!S.current&&s&&(S.current=s(n,{visualState:e,parent:u,props:t,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),C.current&&S.current&&(S.current.manuallyAnimateOnMount=!0));const N=S.current,L=F.useContext(V2);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&r4(S.current,t,a,L);const B=F.useRef(!1);F.useInsertionEffect(()=>{N&&B.current&&N.update(t,g)});const K=t[Ux],Z=F.useRef(!!K&&!window.MotionHandoffIsComplete?.(K)&&window.MotionHasOptimisedAnimation?.(K));return nx(()=>{C.current=!0,N&&(B.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),Z.current&&N.animationState&&N.animationState.animateChanges())}),F.useEffect(()=>{N&&(!Z.current&&N.animationState&&N.animationState.animateChanges(),Z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(K)}),Z.current=!1),N.enteringChildren=void 0)}),N}function r4(n,e,t,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:g,layoutRoot:m,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:P2(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&no(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:g,layoutRoot:m})}function P2(n){if(n)return n.options.allowProjection!==!1?n.projection:P2(n.parent)}function Yp(n,{forwardMotionProps:e=!1,type:t}={},s,a){s&&zD(s);const l=t?t==="svg":Hg(n),u=l?t4:e4;function d(m,y){let _;const S={...F.useContext(Ug),...m,layoutId:a4(m)},{isStatic:C}=S,N=GD(m),L=u(m,C);if(!C&&tx){o4();const B=l4(S);_=B.MeasureLayout,N.visualElement=s4(n,L,S,a,B.ProjectionNode,l)}return T.jsxs(dh.Provider,{value:N,children:[_&&N.visualElement?T.jsx(_,{visualElement:N.visualElement,...S}):null,ZD(n,m,i4(L,N.visualElement,y),L,C,e,l)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const g=F.forwardRef(d);return g[n4]=n,g}function a4({layoutId:n}){const e=F.useContext(hg).id;return e&&n!==void 0?e+"-"+n:n}function o4(n,e){F.useContext(R2).strict}function l4(n){const e=w2(),{drag:t,layout:s}=e;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function c4(n,e){if(typeof Proxy>"u")return Yp;const t=new Map,s=(l,u)=>Yp(l,u,n,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(t.has(u)||t.set(u,Yp(u,void 0,n,e)),t.get(u))})}const u4=(n,e)=>e.isSVG??Hg(n)?new F3(e):new O3(e,{allowProjection:n!==F.Fragment});class f4 extends _r{constructor(e){super(e),e.animationState||(e.animationState=K3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h4=0;class d4 extends _r{constructor(){super(...arguments),this.id=h4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p4={animation:{Feature:f4},exit:{Feature:d4}};function Ec(n){return{point:{x:n.pageX,y:n.pageY}}}const m4=n=>e=>Ig(e)&&n(e,Ec(e));function Jl(n,e,t,s){return cc(n,e,m4(t),s)}const I2=({current:n})=>n?n.ownerDocument.defaultView:null,v1=(n,e)=>Math.abs(n-e);function g4(n,e){const t=v1(n.x,e.x),s=v1(n.y,e.y);return Math.sqrt(t**2+s**2)}const _1=new Set(["auto","scroll"]);class O2{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Xp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,L=g4(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!L)return;const{point:B}=C,{timestamp:K}=tn;this.history.push({...B,timestamp:K});const{onStart:Z,onMove:ee}=this.handlers;N||(Z&&Z(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),ee&&ee(this.lastMoveEvent,C)},this.handlePointerMove=(C,N)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Qp(N,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(C,N)=>{this.end();const{onEnd:L,onSessionEnd:B,resumeAnimation:K}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&K&&K(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Xp(C.type==="pointercancel"?this.lastMoveEventInfo:Qp(N,this.transformPagePoint),this.history);this.startEvent&&L&&L(C,Z),B&&B(C,Z)},!Ig(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const g=Ec(e),m=Qp(g,this.transformPagePoint),{point:y}=m,{timestamp:_}=tn;this.history=[{...y,timestamp:_}];const{onSessionStart:S}=t;S&&S(e,Xp(m,this.history)),this.removeListeners=Tc(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(_1.has(s.overflowX)||_1.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-t.x,y:a.y-t.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),fr(this.updatePoint)}}function Qp(n,e){return e?{point:e(n.point)}:n}function b1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Xp({point:n},e){return{point:n,delta:b1(n,j2(e)),offset:b1(n,y4(e)),velocity:v4(e,.1)}}function y4(n){return n[0]}function j2(n){return n[n.length-1]}function v4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=j2(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>_i(e)));)t--;if(!s)return{x:0,y:0};s===n[0]&&n.length>2&&a.timestamp-s.timestamp>_i(e)*2&&(s=n[1]);const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function _4(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?gt(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?gt(t,n,s.max):Math.min(n,t)),n}function T1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function b4(n,{top:e,left:t,bottom:s,right:a}){return{x:T1(n.x,t,a),y:T1(n.y,e,s)}}function x1(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function T4(n,e){return{x:x1(n.x,e.x),y:x1(n.y,e.y)}}function x4(n,e){let t=.5;const s=_n(n),a=_n(e);return a>s?t=rc(e.min,e.max-s,n.min):s>a&&(t=rc(n.min,n.max-a,e.min)),Qi(0,1,t)}function S4(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Im=.35;function E4(n=Im){return n===!1?n=0:n===!0&&(n=Im),{x:S1(n,"left","right"),y:S1(n,"top","bottom")}}function S1(n,e,t){return{min:E1(n,e),max:E1(n,t)}}function E1(n,e){return typeof n=="number"?n:n[e]||0}const C4=new WeakMap;class A4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{t&&this.snapToCursor(Ec(_).point),this.stopAnimation()},u=(_,S)=>{const{drag:C,dragPropagation:N,onDragStart:L}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t3(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(K=>{let Z=this.getAxisMotionValue(K).get()||0;if(Gi.test(Z)){const{projection:ee}=this.visualElement;if(ee&&ee.layout){const le=ee.layout.layoutBox[K];le&&(Z=_n(le)*(parseFloat(Z)/100))}}this.originPoint[K]=Z}),L&&lt.update(()=>L(_,S),!1,!0),Rm(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},d=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:L,onDrag:B}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:K}=S;if(N&&this.currentDirection===null){this.currentDirection=w4(K),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",S.point,K),this.updateAxis("y",S.point,K),this.visualElement.render(),B&&lt.update(()=>B(_,S),!1,!0)},g=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new O2(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:g,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:I2(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&lt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!cf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=_4(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&no(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=b4(s.layoutBox,e):this.constraints=!1,this.elastic=E4(t),a!==this.constraints&&!no(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&Hi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=S4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!no(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=M3(s,a.root,this.visualElement.getTransformPagePoint());let u=T4(a.layout.layoutBox,l);if(t){const d=t(R3(u));this.hasMutatedConstraints=!!d,d&&(u=s2(d))}return u}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},m=Hi(y=>{if(!cf(y,t,this.currentDirection))return;let _=g&&g[y]||{};u&&(_={min:0,max:0});const S=a?200:1e6,C=a?40:1e7,N={type:"inertia",velocity:s?e[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,N)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Rm(this.visualElement,e),s.start(Mg(e,s,0,t,this.visualElement,!1))}stopAnimation(){Hi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Hi(t=>{const{drag:s}=this.getProps();if(!cf(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[t],g=l.get()||0;l.set(e[t]-gt(u,d,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!no(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const g=d.get();a[u]=x4({min:g,max:g},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Hi(u=>{if(!cf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:g,max:m}=this.constraints[u];d.set(gt(g,m,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;C4.set(this.visualElement,this);const e=this.visualElement.current,t=Jl(e,"pointerdown",m=>{const{drag:y,dragListener:_=!0}=this.getProps(),S=m.target,C=S!==e&&o3(S);y&&_&&!C&&this.start(m)});let s;const a=()=>{const{dragConstraints:m}=this.getProps();no(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=R4(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),lt.read(a);const d=cc(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Hi(_=>{const S=this.getAxisMotionValue(_);S&&(this.originPoint[_]+=m[_].translate,S.set(S.get()+m[_].translate))}),this.visualElement.render())}));return()=>{d(),t(),u(),g&&g(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Im,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function C1(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function R4(n,e,t){const s=kb(n,C1(t)),a=kb(e,C1(t));return()=>{s(),a()}}function cf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function w4(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class D4 extends _r{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new A4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Zp=n=>(e,t)=>{n&&lt.update(()=>n(e,t),!1,!0)};class M4 extends _r{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new O2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zp(e),onStart:Zp(t),onMove:Zp(s),onEnd:(l,u)=>{delete this.session,a&&lt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Wp=!1;class N4 extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(t.group&&t.group.add(l),s&&s.register&&a&&s.register(l),Wp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==t&&u.setOptions({...u.options,layoutDependency:t}),Wp=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||lt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;Wp=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L2(n){const[e,t]=A2(),s=F.useContext(hg);return T.jsx(N4,{...n,layoutGroup:s,switchLayoutGroup:F.useContext(V2),isPresent:e,safeToRemove:t})}const k4={pan:{Feature:M4},drag:{Feature:D4,ProjectionNode:C2,MeasureLayout:L2}};function A1(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=s[a];l&&lt.postRender(()=>l(e,Ec(e)))}class V4 extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=i3(e,(t,s)=>(A1(this.node,s,"Start"),a=>A1(this.node,a,"End"))))}unmount(){}}class P4 extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tc(cc(this.node.current,"focus",()=>this.onFocus()),cc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R1(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=s[a];l&&lt.postRender(()=>l(e,Ec(e)))}class I4 extends _r{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:s}=this.node.props;this.unmount=c3(e,(a,l)=>(R1(this.node,l,"Start"),(u,{success:d})=>R1(this.node,u,d?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:s?.tap===!1})}unmount(){}}const Om=new WeakMap,Jp=new WeakMap,O4=n=>{const e=Om.get(n.target);e&&e(n)},j4=n=>{n.forEach(O4)};function L4({root:n,...e}){const t=n||document;Jp.has(t)||Jp.set(t,{});const s=Jp.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(j4,{root:n,...e})),s[a]}function B4(n,e,t){const s=L4(e);return Om.set(n,t),s.observe(n),()=>{Om.delete(n),s.unobserve(n)}}const z4={some:0,all:1};class U4 extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:z4[a]},d=g=>{const{isIntersecting:m}=g;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=m?y:_;S&&S(g)};return B4(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(F4(e,t))&&this.startObserver()}unmount(){}}function F4({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const H4={inView:{Feature:U4},tap:{Feature:I4},focus:{Feature:P4},hover:{Feature:V4}},q4={layout:{ProjectionNode:C2,MeasureLayout:L2}},G4={...p4,...H4,...k4,...q4},sn=c4(G4,u4),$4=({onAuthenticated:n})=>{const[e,t]=F.useState(()=>localStorage.getItem("parallel_secret_pin")),[s,a]=F.useState(!e),[l,u]=F.useState(""),[d,g]=F.useState(!1),[m,y]=F.useState(1),[_,S]=F.useState(""),C=N=>{if(l.length<4){const L=l+N;u(L),navigator.vibrate&&navigator.vibrate(15),L.length===4&&(s?m===1?(navigator.vibrate&&navigator.vibrate(30),S(L),y(2),setTimeout(()=>u(""),300)):L===_?(navigator.vibrate&&navigator.vibrate(30),localStorage.setItem("parallel_secret_pin",L),t(L),a(!1),u(""),S(""),y(1)):(navigator.vibrate&&navigator.vibrate([50,30,50]),g(!0),setTimeout(()=>{u(""),S(""),y(1),g(!1)},500)):L===e?(navigator.vibrate&&navigator.vibrate(30),n()):(navigator.vibrate&&navigator.vibrate([50,30,50]),g(!0),setTimeout(()=>{u(""),g(!1)},500)))}};return F.useEffect(()=>{const N=L=>{L.key>="0"&&L.key<="9"&&C(L.key),L.key==="Backspace"&&u(B=>B.slice(0,-1))};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)}),T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-8",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(60px) saturate(200%)",WebkitBackdropFilter:"blur(60px) saturate(200%)"},children:[T.jsx("div",{className:`w-16 h-16 rounded-3xl flex items-center justify-center ${s?"mb-4":"mb-8"}`,style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:T.jsx("span",{className:"text-3xl",children:s?"":""})}),s&&T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h2",{className:"text-lg font-bold",style:{color:"rgba(0,0,0,0.85)"},children:m===1?"Set Parallel PIN":"Confirm PIN"}),T.jsx("p",{className:"text-xs mt-1",style:{color:"rgba(0,0,0,0.5)"},children:m===1?"Choose a 4-digit code for your secure chat":"Enter the code again to verify"})]}),T.jsx("div",{className:"flex gap-5 mb-10",children:[0,1,2,3].map(N=>T.jsx(sn.div,{animate:d?{x:[0,-6,6,-6,6,0]}:{},transition:{duration:.3},className:"w-3.5 h-3.5 rounded-full transition-all duration-200",style:l.length>N?{background:"rgba(0, 0, 0, 0.7)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"}:{background:"rgba(0, 0, 0, 0.12)",border:"1.5px solid rgba(0, 0, 0, 0.2)"}},N))}),T.jsxs("div",{className:"grid grid-cols-3 gap-5 w-72 place-items-center",children:[[1,2,3,4,5,6,7,8,9].map(N=>T.jsx("button",{onClick:()=>C(String(N)),className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-medium active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.8)",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:N},N)),T.jsx("div",{}),T.jsx("button",{onClick:()=>C("0"),className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-medium active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.8)",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:"0"}),T.jsx("button",{onClick:()=>u(N=>N.slice(0,-1)),className:"w-20 h-20 rounded-full flex items-center justify-center text-xl active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.5)"},children:""})]})]})};class K4{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return Y4(e).buffer}}function Y4(n){let e=0;for(const a of n)e+=a.byteLength;const t=new Uint8Array(e);let s=0;for(const a of n){const l=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);t.set(l,s),s+=a.byteLength}return t}function B2(n){return new Q4(n).unpack()}function z2(n){const e=new X4,t=e.pack(n);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class Q4{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let s=0,a="",l,u;for(;s<e;)l=t[s],l<160?(u=l,s++):(l^192)<32?(u=(l&31)<<6|t[s+1]&63,s+=2):(l^224)<16?(u=(l&15)<<12|(t[s+1]&63)<<6|t[s+2]&63,s+=3):(u=(l&7)<<18|(t[s+1]&63)<<12|(t[s+2]&63)<<6|t[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const t=new Array(e);for(let s=0;s<e;s++)t[s]=this.unpack();return t}unpack_map(e){const t={};for(let s=0;s<e;s++){const a=this.unpack();t[a]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(t===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+t*2**(a-52);return(s===0?1:-1)*u}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class X4{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),s=t.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const s=a=>{if(a<t){const l=this.pack(e[a]);return l instanceof Promise?l.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,l=Math.floor(a*2**52),u=2**32,d=t<<31|s+1023<<20|l/u&1048575,g=l%u;this._bufferBuilder.append(203),this.pack_int32(d),this.pack_int32(g)}pack_object(e){const t=Object.keys(e),s=t.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=l=>{if(l<t.length){const u=t[l];if(e.hasOwnProperty(u)){this.pack(u);const d=this.pack(e[u]);if(d instanceof Promise)return d.then(()=>a(l+1))}return a(l+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,s=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new K4,this._textEncoder=new TextEncoder}}let U2=!0,F2=!0;function Gl(n,e,t){const s=n.match(e);return s&&s.length>=t&&parseFloat(s[t],10)}function ua(n,e,t){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,d){if(u!==e)return a.apply(this,arguments);const g=m=>{const y=t(m);y&&(d.handleEvent?d.handleEvent(y):d(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(d,g),a.apply(this,[u,g])};const l=s.removeEventListener;s.removeEventListener=function(u,d){if(u!==e||!this._eventMap||!this._eventMap[e])return l.apply(this,arguments);if(!this._eventMap[e].has(d))return l.apply(this,arguments);const g=this._eventMap[e].get(d);return this._eventMap[e].delete(d),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[u,g])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function Z4(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(U2=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function W4(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(F2=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function H2(){if(typeof window=="object"){if(U2)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function qg(n,e){F2&&console.warn(n+" is deprecated, please use "+e+" instead.")}function J4(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=n;if(t.userAgentData&&t.userAgentData.brands){const s=t.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Gl(t.userAgent,/Firefox\/(\d+)\./,1));else if(t.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Gl(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Gl(t.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,e._safariVersion=Gl(t.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function w1(n){return Object.prototype.toString.call(n)==="[object Object]"}function q2(n){return w1(n)?Object.keys(n).reduce(function(e,t){const s=w1(n[t]),a=s?q2(n[t]):n[t],l=s&&!Object.keys(a).length;return a===void 0||l?e:Object.assign(e,{[t]:a})},{}):n}function jm(n,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?jm(n,n.get(e[s]),t):s.endsWith("Ids")&&e[s].forEach(a=>{jm(n,n.get(a),t)})}))}function D1(n,e,t){const s=t?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const l=[];return n.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&l.push(u)}),l.forEach(u=>{n.forEach(d=>{d.type===s&&d.trackId===u.id&&jm(n,d,a)})}),a}const M1=H2;function G2(n,e){const t=n&&n.navigator;if(!t.mediaDevices)return;const s=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const g={};return Object.keys(d).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const y=typeof d[m]=="object"?d[m]:{ideal:d[m]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const _=function(S,C){return S?S+C.charAt(0).toUpperCase()+C.slice(1):C==="deviceId"?"sourceId":C};if(y.ideal!==void 0){g.optional=g.optional||[];let S={};typeof y.ideal=="number"?(S[_("min",m)]=y.ideal,g.optional.push(S),S={},S[_("max",m)]=y.ideal,g.optional.push(S)):(S[_("",m)]=y.ideal,g.optional.push(S))}y.exact!==void 0&&typeof y.exact!="number"?(g.mandatory=g.mandatory||{},g.mandatory[_("",m)]=y.exact):["min","max"].forEach(S=>{y[S]!==void 0&&(g.mandatory=g.mandatory||{},g.mandatory[_(S,m)]=y[S])})}),d.advanced&&(g.optional=(g.optional||[]).concat(d.advanced)),g},a=function(d,g){if(e.version>=61)return g(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const m=function(y,_,S){_ in y&&!(S in y)&&(y[S]=y[_],delete y[_])};d=JSON.parse(JSON.stringify(d)),m(d.audio,"autoGainControl","googAutoGainControl"),m(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=s(d.audio)}if(d&&typeof d.video=="object"){let m=d.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const y=e.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete d.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return t.mediaDevices.enumerateDevices().then(S=>{S=S.filter(N=>N.kind==="videoinput");let C=S.find(N=>_.some(L=>N.label.toLowerCase().includes(L)));return!C&&S.length&&_.includes("back")&&(C=S[S.length-1]),C&&(d.video.deviceId=m.exact?{exact:C.deviceId}:{ideal:C.deviceId}),d.video=s(d.video),M1("chrome: "+JSON.stringify(d)),g(d)})}d.video=s(d.video)}return M1("chrome: "+JSON.stringify(d)),g(d)},l=function(d){return e.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(d,g,m){a(d,y=>{t.webkitGetUserMedia(y,g,_=>{m&&m(l(_))})})};if(t.getUserMedia=u.bind(t),t.mediaDevices.getUserMedia){const d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(g){return a(g,m=>d(m).then(y=>{if(m.audio&&!y.getAudioTracks().length||m.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(l(y))))}}}function $2(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function K2(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let l;n.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(d=>d.track&&d.track.id===a.track.id):l={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=l,u.transceiver={receiver:l},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let l;n.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(d=>d.track&&d.track.id===a.id):l={track:a};const u=new Event("track");u.track=a,u.receiver=l,u.transceiver={receiver:l},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ua(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Y2(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(a,l){return{track:l,get dtmf(){return this._dtmf===void 0&&(l.kind==="audio"?this._dtmf=a.createDTMFSender(l):this._dtmf=null),this._dtmf},_pc:a}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,g){let m=a.apply(this,arguments);return m||(m=e(this,d),this._senders.push(m)),m};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){l.apply(this,arguments);const g=this._senders.indexOf(d);g!==-1&&this._senders.splice(g,1)}}const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(l){this._senders=this._senders||[],t.apply(this,[l]),l.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(l){this._senders=this._senders||[],s.apply(this,[l]),l.getTracks().forEach(u=>{const d=this._senders.find(g=>g.track===u);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Q2(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const t=n.RTCPeerConnection.prototype.getSenders;t&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=t.apply(this,[]);return l.forEach(u=>u._pc=this),l});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=s.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>D1(u,l.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const t=n.RTCPeerConnection.prototype.getReceivers;t&&(n.RTCPeerConnection.prototype.getReceivers=function(){const a=t.apply(this,[]);return a.forEach(l=>l._pc=this),a}),ua(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(l=>D1(l,a.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let a,l,u;return this.getSenders().forEach(d=>{d.track===s&&(a?u=!0:a=d)}),this.getReceivers().forEach(d=>(d.track===s&&(l?u=!0:l=d),d.track===s)),u||a&&l?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():l?l.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function X2(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(u,d){if(!d)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const g=e.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(g)===-1&&this._shimmedLocalStreams[d.id].push(g):this._shimmedLocalStreams[d.id]=[d,g],g};const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();t.apply(this,arguments);const g=this.getSenders().filter(m=>d.indexOf(m)===-1);this._shimmedLocalStreams[u.id]=[u].concat(g)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const g=this._shimmedLocalStreams[d].indexOf(u);g!==-1&&this._shimmedLocalStreams[d].splice(g,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),a.apply(this,arguments)}}function Z2(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return X2(n);const t=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const y=t.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(_=>{if(this.getSenders().find(C=>C.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const _=new n.MediaStream(y.getTracks());this._streams[y.id]=_,this._reverseStreams[_.id]=y,y=_}s.apply(this,[y])};const a=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},n.RTCPeerConnection.prototype.addTrack=function(y,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(L=>L===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(L=>L.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const N=this._streams[_.id];if(N)N.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const L=new n.MediaStream([y]);this._streams[_.id]=L,this._reverseStreams[L.id]=_,this.addStream(L)}return this.getSenders().find(L=>L.track===y)};function l(m,y){let _=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const C=m._reverseStreams[S],N=m._streams[C.id];_=_.replace(new RegExp(N.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:_})}function u(m,y){let _=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const C=m._reverseStreams[S],N=m._streams[C.id];_=_.replace(new RegExp(C.id,"g"),N.id)}),new RTCSessionDescription({type:y.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const y=n.RTCPeerConnection.prototype[m],_={[m](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[N=>{const L=l(this,N);S[0].apply(null,[L])},N=>{S[1]&&S[1].apply(null,N)},arguments[2]]):y.apply(this,arguments).then(N=>l(this,N))}};n.RTCPeerConnection.prototype[m]=_[m]});const d=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=u(this,arguments[0]),d.apply(this,arguments))};const g=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=g.get.apply(this);return m.type===""?m:l(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(C=>{this._streams[C].getTracks().find(L=>y.track===L)&&(S=this._streams[C])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Lm(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const s=n.RTCPeerConnection.prototype[t],a={[t](){return arguments[0]=new(t==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[t]=a[t]})}function W2(n,e){ua(n,"negotiationneeded",t=>{const s=t.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return t})}const N1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:W2,shimAddTrackRemoveTrack:Z2,shimAddTrackRemoveTrackWithNative:X2,shimGetSendersWithDtmf:Y2,shimGetUserMedia:G2,shimMediaStream:$2,shimOnTrack:K2,shimPeerConnection:Lm,shimSenderReceiverGetStats:Q2},Symbol.toStringTag,{value:"Module"}));function J2(n,e){const t=n&&n.navigator,s=n&&n.MediaStreamTrack;if(t.getUserMedia=function(a,l,u){qg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(a).then(l,u)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const a=function(u,d,g){d in u&&!(g in u)&&(u[g]=u[d],delete u[d])},l=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),l(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const d=u.apply(this,arguments);return a(d,"mozAutoGainControl","autoGainControl"),a(d,"mozNoiseSuppression","noiseSuppression"),d}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),a(d,"autoGainControl","mozAutoGainControl"),a(d,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[d])}}}}function e6(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(s)})}function eS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Bm(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const l=n.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};n.RTCPeerConnection.prototype[a]=u[a]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[l,u,d]=arguments;return s.apply(this,[l||null]).then(g=>{if(e.version<53&&!u)try{g.forEach(m=>{m.type=t[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;g.forEach((y,_)=>{g.set(_,Object.assign({},y,{type:t[y.type]||y.type}))})}return g}).then(u,d)}}function tS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(l=>l._pc=this),a});const t=n.RTCPeerConnection.prototype.addTrack;t&&(n.RTCPeerConnection.prototype.addTrack=function(){const a=t.apply(this,arguments);return a._pc=this,a}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function nS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ua(n,"track",t=>(t.receiver._pc=t.srcElement,t)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function iS(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(t){qg("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&t.getTracks().includes(s.track)&&this.removeTrack(s)})})}function sS(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function rS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const l=e.apply(this,arguments);if(a){const{sender:u}=l,d=u.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(d).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return l})}function aS(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function oS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function lS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const k1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:rS,shimCreateAnswer:lS,shimCreateOffer:oS,shimGetDisplayMedia:e6,shimGetParameters:aS,shimGetUserMedia:J2,shimOnTrack:eS,shimPeerConnection:Bm,shimRTCDataChannel:sS,shimReceiverGetStats:nS,shimRemoveStream:iS,shimSenderGetStats:tS},Symbol.toStringTag,{value:"Module"}));function cS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(t);if(s===-1)return;this._localStreams.splice(s,1);const a=t.getTracks();this.getSenders().forEach(l=>{a.includes(l.track)&&this.removeTrack(l)})})}}function uS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const l=new Event("addstream");l.stream=a,this.dispatchEvent(l)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(l=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(l)>=0)return;s._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function fS(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,t=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,l=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(m,y){const _=arguments.length>=2?arguments[2]:arguments[0],S=t.apply(this,[_]);return y?(S.then(m,y),Promise.resolve()):S},e.createAnswer=function(m,y){const _=arguments.length>=2?arguments[2]:arguments[0],S=s.apply(this,[_]);return y?(S.then(m,y),Promise.resolve()):S};let d=function(g,m,y){const _=a.apply(this,[g]);return y?(_.then(m,y),Promise.resolve()):_};e.setLocalDescription=d,d=function(g,m,y){const _=l.apply(this,[g]);return y?(_.then(m,y),Promise.resolve()):_},e.setRemoteDescription=d,d=function(g,m,y){const _=u.apply(this,[g]);return y?(_.then(m,y),Promise.resolve()):_},e.addIceCandidate=d}function hS(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,s=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=a=>s(dS(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,l){e.mediaDevices.getUserMedia(s).then(a,l)}).bind(e))}function dS(n){return n&&n.video!==void 0?Object.assign({},n,{video:q2(n.video)}):n}function pS(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const l=[];for(let u=0;u<s.iceServers.length;u++){let d=s.iceServers[u];d.urls===void 0&&d.url?(qg("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,l.push(d)):l.push(s.iceServers[u])}s.iceServers=l}return new e(s,a)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function mS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function gS(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const l=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveVideo===!0&&!l&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function yS(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const V1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:yS,shimCallbacksAPI:fS,shimConstraints:dS,shimCreateOfferLegacy:gS,shimGetUserMedia:hS,shimLocalStreamsAPI:cS,shimRTCIceServerUrls:pS,shimRemoteStreamsAPI:uS,shimTrackEventTransceiver:mS},Symbol.toStringTag,{value:"Module"}));var em={exports:{}},P1;function t6(){return P1||(P1=1,(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(t){return t.split(`
m=`).map((a,l)=>(l>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(t){const s=e.splitSections(t);return s&&s[0]},e.getMediaSections=function(t){const s=e.splitSections(t);return s.shift(),s},e.matchPrefix=function(t,s){return e.splitLines(t).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(t){let s;t.indexOf("a=candidate:")===0?s=t.substring(12).split(" "):s=t.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let l=8;l<s.length;l+=2)switch(s[l]){case"raddr":a.relatedAddress=s[l+1];break;case"rport":a.relatedPort=parseInt(s[l+1],10);break;case"tcptype":a.tcpType=s[l+1];break;case"ufrag":a.ufrag=s[l+1],a.usernameFragment=s[l+1];break;default:a[s[l]]===void 0&&(a[s[l]]=s[l+1]);break}return a},e.writeCandidate=function(t){const s=[];s.push(t.foundation);const a=t.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(t.protocol.toUpperCase()),s.push(t.priority),s.push(t.address||t.ip),s.push(t.port);const l=t.type;return s.push("typ"),s.push(l),l!=="host"&&t.relatedAddress&&t.relatedPort&&(s.push("raddr"),s.push(t.relatedAddress),s.push("rport"),s.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(s.push("ufrag"),s.push(t.usernameFragment||t.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let s=t.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(t){let s=t.payloadType;t.preferredPayloadType!==void 0&&(s=t.preferredPayloadType);const a=t.channels||t.numChannels||1;return"a=rtpmap:"+s+" "+t.name+"/"+t.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(t){const s=t.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const s={};let a;const l=t.substring(t.indexOf(" ")+1).split(";");for(let u=0;u<l.length;u++)a=l[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(t){let s="",a=t.payloadType;if(t.preferredPayloadType!==void 0&&(a=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const l=[];Object.keys(t.parameters).forEach(u=>{t.parameters[u]!==void 0?l.push(u+"="+t.parameters[u]):l.push(u)}),s+="a=fmtp:"+a+" "+l.join(";")+`\r
`}return s},e.parseRtcpFb=function(t){const s=t.substring(t.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(t){let s="",a=t.payloadType;return t.preferredPayloadType!==void 0&&(a=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(l=>{s+="a=rtcp-fb:"+a+" "+l.type+(l.parameter&&l.parameter.length?" "+l.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(t){const s=t.indexOf(" "),a={ssrc:parseInt(t.substring(7,s),10)},l=t.indexOf(":",s);return l>-1?(a.attribute=t.substring(s+1,l),a.value=t.substring(l+1)):a.attribute=t.substring(s+1),a},e.parseSsrcGroup=function(t){const s=t.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(t){const s=e.matchPrefix(t,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(t){const s=t.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(t,s){return{role:"auto",fingerprints:e.matchPrefix(t+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,s){let a="a=setup:"+s+`\r
`;return t.fingerprints.forEach(l=>{a+="a=fingerprint:"+l.algorithm+" "+l.value+`\r
`}),a},e.parseCryptoLine=function(t){const s=t.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const s=t.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,s){return e.matchPrefix(t+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,s){const a=e.matchPrefix(t+s,"a=ice-ufrag:")[0],l=e.matchPrefix(t+s,"a=ice-pwd:")[0];return a&&l?{usernameFragment:a.substring(12),password:l.substring(10)}:null},e.writeIceParameters=function(t){let s="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(t){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},l=e.splitLines(t)[0].split(" ");s.profile=l[2];for(let d=3;d<l.length;d++){const g=l[d],m=e.matchPrefix(t,"a=rtpmap:"+g+" ")[0];if(m){const y=e.parseRtpMap(m),_=e.matchPrefix(t,"a=fmtp:"+g+" ");switch(y.parameters=_.length?e.parseFmtp(_[0]):{},y.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+g+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(d=>{s.headerExtensions.push(e.parseExtmap(d))});const u=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(d=>{u.forEach(g=>{d.rtcpFeedback.find(y=>y.type===g.type&&y.parameter===g.parameter)||d.rtcpFeedback.push(g)})}),s},e.writeRtpDescription=function(t,s){let a="";a+="m="+t+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let l=0;return s.codecs.forEach(u=>{u.maxptime>l&&(l=u.maxptime)}),l>0&&(a+="a=maxptime:"+l+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(t){const s=[],a=e.parseRtpParameters(t),l=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,d=e.matchPrefix(t,"a=ssrc:").map(S=>e.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),g=d.length>0&&d[0].ssrc;let m;const y=e.matchPrefix(t,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(N=>parseInt(N,10)));y.length>0&&y[0].length>1&&y[0][0]===g&&(m=y[0][1]),a.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let C={ssrc:g,codecPayloadType:parseInt(S.parameters.apt,10)};g&&m&&(C.rtx={ssrc:m}),s.push(C),l&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:g,mechanism:u?"red+ulpfec":"red"},s.push(C))}}),s.length===0&&g&&s.push({ssrc:g});let _=e.matchPrefix(t,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(S=>{S.maxBitrate=_})),s},e.parseRtcpParameters=function(t){const s={},a=e.matchPrefix(t,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const l=e.matchPrefix(t,"a=rtcp-rsize");s.reducedSize=l.length>0,s.compound=l.length===0;const u=e.matchPrefix(t,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(t){let s="";return t.reducedSize&&(s+=`a=rtcp-rsize\r
`),t.mux&&(s+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(s+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),s},e.parseMsid=function(t){let s;const a=e.matchPrefix(t,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const l=e.matchPrefix(t,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(l.length>0)return s=l[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(t){const s=e.parseMLine(t),a=e.matchPrefix(t,"a=max-message-size:");let l;a.length>0&&(l=parseInt(a[0].substring(19),10)),isNaN(l)&&(l=65536);const u=e.matchPrefix(t,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:l};const d=e.matchPrefix(t,"a=sctpmap:");if(d.length>0){const g=d[0].substring(10).split(" ");return{port:parseInt(g[0],10),protocol:g[1],maxMessageSize:l}}},e.writeSctpDescription=function(t,s){let a=[];return t.protocol!=="DTLS/SCTP"?a=["m="+t.kind+" 9 "+t.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+t.kind+" 9 "+t.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,s,a){let l;const u=s!==void 0?s:2;return t?l=t:l=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+l+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,s){const a=e.splitLines(t);for(let l=0;l<a.length;l++)switch(a[l]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[l].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const a=e.splitLines(t)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(t){const a=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const s=e.splitLines(t);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},n.exports=e})(em)),em.exports}var vS=t6();const mo=YT(vS),n6=qA({__proto__:null,default:mo},[vS]);function Sf(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),l=mo.parseCandidate(s.candidate);for(const u in l)u in a||Object.defineProperty(a,u,{value:l[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},n.RTCIceCandidate.prototype=e.prototype,ua(n,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new n.RTCIceCandidate(t.candidate),writable:"false"}),t))}function zm(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||ua(n,"icecandidate",e=>{if(e.candidate){const t=mo.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function Ef(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(d){if(!d||!d.sdp)return!1;const g=mo.splitSections(d.sdp);return g.shift(),g.some(m=>{const y=mo.parseMLine(m);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(d){const g=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(g===null||g.length<2)return-1;const m=parseInt(g[1],10);return m!==m?-1:m},a=function(d){let g=65536;return e.browser==="firefox"&&(e.version<57?d===-1?g=16384:g=2147483637:e.version<60?g=e.version===57?65535:65536:g=2147483637),g},l=function(d,g){let m=65536;e.browser==="firefox"&&e.version===57&&(m=65535);const y=mo.matchPrefix(d.sdp,"a=max-message-size:");return y.length>0?m=parseInt(y[0].substring(19),10):e.browser==="firefox"&&g!==-1&&(m=2147483637),m},u=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:g}=this.getConfiguration();g==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const g=s(arguments[0]),m=a(g),y=l(arguments[0],g);let _;m===0&&y===0?_=Number.POSITIVE_INFINITY:m===0||y===0?_=Math.max(m,y):_=Math.min(m,y);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return _}}),this._sctp=S}return u.apply(this,arguments)}}function Cf(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(s,a){const l=s.send;s.send=function(){const d=arguments[0],g=d.length||d.size||d.byteLength;if(s.readyState==="open"&&a.sctp&&g>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return l.apply(s,arguments)}}const t=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const a=t.apply(this,arguments);return e(a,this),a},ua(n,"datachannel",s=>(e(s.channel,s.target),s))}function Um(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const s=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const l=a.target;if(l._lastConnectionState!==l.connectionState){l._lastConnectionState=l.connectionState;const u=new Event("connectionstatechange",a);l.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Fm(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const l=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&a instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:a.type,sdp:l}):a.sdp=l}return t.apply(this,arguments)}}function Af(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const t=n.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Rf(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const t=n.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return t.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?t.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>t.apply(this,[u]))})}const i6=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Fm,shimAddIceCandidateNullOrEmpty:Af,shimConnectionState:Um,shimMaxMessageSize:Ef,shimParameterlessSetLocalDescription:Rf,shimRTCIceCandidate:Sf,shimRTCIceCandidateRelayProtocol:zm,shimSendThrowTypeError:Cf},Symbol.toStringTag,{value:"Module"}));function s6({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=H2,s=J4(n),a={browserDetails:s,commonShim:i6,extractVersion:Gl,disableLog:Z4,disableWarnings:W4,sdp:n6};switch(s.browser){case"chrome":if(!N1||!Lm||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),a;if(s.version===null)return t("Chrome shim can not determine version, not shimming."),a;t("adapter.js shimming chrome."),a.browserShim=N1,Af(n,s),Rf(n),G2(n,s),$2(n),Lm(n,s),K2(n),Z2(n,s),Y2(n),Q2(n),W2(n,s),Sf(n),zm(n),Um(n),Ef(n,s),Cf(n),Fm(n,s);break;case"firefox":if(!k1||!Bm||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),a;t("adapter.js shimming firefox."),a.browserShim=k1,Af(n,s),Rf(n),J2(n,s),Bm(n,s),eS(n),iS(n),tS(n),nS(n),sS(n),rS(n),aS(n),oS(n),lS(n),Sf(n),Um(n),Ef(n,s),Cf(n);break;case"safari":if(!V1||!e.shimSafari)return t("Safari shim is not included in this adapter release."),a;t("adapter.js shimming safari."),a.browserShim=V1,Af(n,s),Rf(n),pS(n),gS(n),fS(n),cS(n),uS(n),mS(n),hS(n),yS(n),Sf(n),zm(n),Ef(n,s),Cf(n),Fm(n,s);break;default:t("Unsupported browser!");break}return a}const I1=s6({window:typeof window>"u"?void 0:window});function fa(n,e,t,s){Object.defineProperty(n,e,{get:t,set:s,enumerable:!0,configurable:!0})}class _S{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let l=0,u=0;for(;u<s;){const d=Math.min(s,u+this.chunkedMTU),g=e.slice(u,d),m={__peerData:this._dataCount,n:l,data:g,total:a};t.push(m),u=d,l++}return this._dataCount++,t}}}function r6(n){let e=0;for(const a of n)e+=a.byteLength;const t=new Uint8Array(e);let s=0;for(const a of n)t.set(a,s),s+=a.byteLength;return t}const tm=I1.default||I1,Fl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return tm.browserDetails.browser}getVersion(){return tm.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=tm.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,s=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),s=!0}catch{}finally{t&&t.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},a6=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),bS=()=>Math.random().toString(36).slice(2),O1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class o6 extends _S{noop(){}blobToArrayBuffer(e,t){const s=new FileReader;return s.onload=function(a){a.target&&t(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=O1,this.browser=Fl.getBrowser(),this.browserVersion=Fl.getVersion(),this.pack=z2,this.unpack=B2,this.supports=(function(){const t={browser:Fl.isBrowserSupported(),webRTC:Fl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let s;try{s=new RTCPeerConnection(O1),t.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!a.ordered;try{a.binaryType="blob",t.binaryBlob=!Fl.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return t})(),this.validateId=a6,this.randomToken=bS}}const wn=new o6,l6="PeerJS: ";class c6{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const s=[l6,...t];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var _e=new c6,Gg={},u6=Object.prototype.hasOwnProperty,bn="~";function uc(){}Object.create&&(uc.prototype=Object.create(null),new uc().__proto__||(bn=!1));function f6(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function TS(n,e,t,s,a){if(typeof t!="function")throw new TypeError("The listener must be a function");var l=new f6(t,s||n,a),u=bn?bn+e:e;return n._events[u]?n._events[u].fn?n._events[u]=[n._events[u],l]:n._events[u].push(l):(n._events[u]=l,n._eventsCount++),n}function wf(n,e){--n._eventsCount===0?n._events=new uc:delete n._events[e]}function dn(){this._events=new uc,this._eventsCount=0}dn.prototype.eventNames=function(){var e=[],t,s;if(this._eventsCount===0)return e;for(s in t=this._events)u6.call(t,s)&&e.push(bn?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};dn.prototype.listeners=function(e){var t=bn?bn+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,l=s.length,u=new Array(l);a<l;a++)u[a]=s[a].fn;return u};dn.prototype.listenerCount=function(e){var t=bn?bn+e:e,s=this._events[t];return s?s.fn?1:s.length:0};dn.prototype.emit=function(e,t,s,a,l,u){var d=bn?bn+e:e;if(!this._events[d])return!1;var g=this._events[d],m=arguments.length,y,_;if(g.fn){switch(g.once&&this.removeListener(e,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,t),!0;case 3:return g.fn.call(g.context,t,s),!0;case 4:return g.fn.call(g.context,t,s,a),!0;case 5:return g.fn.call(g.context,t,s,a,l),!0;case 6:return g.fn.call(g.context,t,s,a,l,u),!0}for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];g.fn.apply(g.context,y)}else{var S=g.length,C;for(_=0;_<S;_++)switch(g[_].once&&this.removeListener(e,g[_].fn,void 0,!0),m){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,t);break;case 3:g[_].fn.call(g[_].context,t,s);break;case 4:g[_].fn.call(g[_].context,t,s,a);break;default:if(!y)for(C=1,y=new Array(m-1);C<m;C++)y[C-1]=arguments[C];g[_].fn.apply(g[_].context,y)}}return!0};dn.prototype.on=function(e,t,s){return TS(this,e,t,s,!1)};dn.prototype.once=function(e,t,s){return TS(this,e,t,s,!0)};dn.prototype.removeListener=function(e,t,s,a){var l=bn?bn+e:e;if(!this._events[l])return this;if(!t)return wf(this,l),this;var u=this._events[l];if(u.fn)u.fn===t&&(!a||u.once)&&(!s||u.context===s)&&wf(this,l);else{for(var d=0,g=[],m=u.length;d<m;d++)(u[d].fn!==t||a&&!u[d].once||s&&u[d].context!==s)&&g.push(u[d]);g.length?this._events[l]=g.length===1?g[0]:g:wf(this,l)}return this};dn.prototype.removeAllListeners=function(e){var t;return e?(t=bn?bn+e:e,this._events[t]&&wf(this,t)):(this._events=new uc,this._eventsCount=0),this};dn.prototype.off=dn.prototype.removeListener;dn.prototype.addListener=dn.prototype.on;dn.prefixed=bn;dn.EventEmitter=dn;Gg=dn;var ha={};fa(ha,"ConnectionType",()=>ar);fa(ha,"PeerErrorType",()=>Ot);fa(ha,"BaseConnectionErrorType",()=>Hm);fa(ha,"DataConnectionErrorType",()=>$g);fa(ha,"SerializationType",()=>ph);fa(ha,"SocketEventType",()=>sr);fa(ha,"ServerMessageType",()=>un);var ar=(function(n){return n.Data="data",n.Media="media",n})({}),Ot=(function(n){return n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc",n})({}),Hm=(function(n){return n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed",n})({}),$g=(function(n){return n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big",n})({}),ph=(function(n){return n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw",n})({}),sr=(function(n){return n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close",n})({}),un=(function(n){return n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE",n})({});const xS="1.5.5";class h6 extends Gg.EventEmitter{constructor(e,t,s,a,l,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const d=e?"wss://":"ws://";this._baseUrl=d+t+":"+s+a+"peerjs?key="+l}start(e,t){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+xS),this._disconnected=!1,this._socket.onmessage=a=>{let l;try{l=JSON.parse(a.data),_e.log("Server message received:",l)}catch{_e.log("Invalid server message",a.data);return}this.emit(sr.Message,l)},this._socket.onclose=a=>{this._disconnected||(_e.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(sr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),_e.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){_e.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:un.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(sr.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class SS{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===ar.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const s=this.connection,a={ordered:!!e.reliable},l=t.createDataChannel(s.label,a);s._initializeDataChannel(l),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){_e.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,l=this.connection.provider;_e.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(_e.log(`Received ICE candidates for ${t}:`,u.candidate),l.socket.send({type:un.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":_e.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(Hm.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":_e.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(Hm.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":_e.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},_e.log("Listening for data channel"),e.ondatachannel=u=>{_e.log("Received data channel");const d=u.channel;l.getConnection(t,s)._initializeDataChannel(d)},_e.log("Listening for remote stream"),e.ontrack=u=>{_e.log("Received remote stream");const d=u.streams[0],g=l.getConnection(t,s);if(g.type===ar.Media){const m=g;this._addStreamToMediaConnection(d,m)}}}cleanup(){_e.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(t||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);_e.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),_e.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ar.Data){const l=this.connection;a={...a,label:l.label,reliable:l.reliable,serialization:l.serialization}}t.socket.send({type:un.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(Ot.WebRTC,a),_e.log("Failed to setLocalDescription, ",a))}}catch(s){t.emitError(Ot.WebRTC,s),_e.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const s=await e.createAnswer();_e.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),_e.log("Set localDescription:",s,`for:${this.connection.peer}`),t.socket.send({type:un.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){t.emitError(Ot.WebRTC,a),_e.log("Failed to setLocalDescription, ",a)}}catch(s){t.emitError(Ot.WebRTC,s),_e.log("Failed to create answer, ",s)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const s=this.connection.peerConnection,a=this.connection.provider;_e.log("Setting remote description",t);const l=this;try{await s.setRemoteDescription(t),_e.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await l._makeAnswer()}catch(u){a.emitError(Ot.WebRTC,u),_e.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){_e.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),_e.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(Ot.WebRTC,t),_e.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(_e.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return _e.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{t.addTrack(s,e)})}_addStreamToMediaConnection(e,t){_e.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class ES extends Gg.EventEmitter{emitError(e,t){_e.error("Error:",t),this.emit("error",new d6(`${e}`,t))}}class d6 extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class CS extends ES{get open(){return this._open}constructor(e,t,s){super(),this.peer=e,this.provider=t,this.options=s,this._open=!1,this.metadata=s.metadata}}class qf extends CS{static#e=this.ID_PREFIX="mc_";get type(){return ar.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,s){super(e,t,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||qf.ID_PREFIX+wn.randomToken(),this._negotiator=new SS(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{_e.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{_e.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){_e.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,s=e.payload;switch(e.type){case un.Answer:this._negotiator.handleSDP(t,s.sdp),this._open=!0;break;case un.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:_e.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){_e.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class p6{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:s,port:a,path:l,key:u}=this._options,d=new URL(`${t}://${s}:${a}${l}${u}/${e}`);return d.searchParams.set("ts",`${Date.now()}${Math.random()}`),d.searchParams.set("version",xS),fetch(d.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){_e.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==wn.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===wn.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw _e.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class Gf extends CS{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ar.Data}constructor(e,t,s){super(e,t,s),this.connectionId=this.options.connectionId||Gf.ID_PREFIX+bS(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new SS(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{_e.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{_e.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{_e.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError($g.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case un.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case un.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:_e.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Kg extends Gf{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Gf.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return _e.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class nm extends Kg{close(e){super.close(e),this._chunkedData={}}constructor(e,t,s){super(e,t,s),this.chunker=new _S,this.serialization=ph.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=B2(e),s=t.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,s=this._chunkedData[t]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[t]=s,s.total===s.count){delete this._chunkedData[t];const a=r6(s.data);this._handleDataMessage({data:a})}}_send(e,t){const s=z2(e);if(s instanceof Promise)return this._send_blob(s);if(!t&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);_e.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const s of t)this.send(s,!0)}}class m6 extends Kg{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=ph.None}}class g6 extends Kg{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),s=t.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=wn.chunkedMTU){this.emitError($g.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=ph.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Yg extends ES{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,s]of this._connections)e[t]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:m6,json:g6,binary:nm,"binary-utf8":nm,default:nm},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?t=e:e&&(s=e.toString()),t={debug:0,host:wn.CLOUD_HOST,port:wn.CLOUD_PORT,path:"/",key:Yg.DEFAULT_KEY,token:wn.randomToken(),config:wn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==wn.CLOUD_HOST?this._options.secure=wn.isSecure():this._options.host==wn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&_e.setLogFunction(this._options.logFunction),_e.logLevel=this._options.debug||0,this._api=new p6(t),this._socket=this._createServerConnection(),!wn.supports.audioVideo&&!wn.supports.data){this._delayedAbort(Ot.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!wn.validateId(s)){this._delayedAbort(Ot.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(Ot.ServerError,a))}_createServerConnection(){const e=new h6(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(sr.Message,t=>{this._handleMessage(t)}),e.on(sr.Error,t=>{this._abort(Ot.SocketError,t)}),e.on(sr.Disconnected,()=>{this.disconnected||(this.emitError(Ot.Network,"Lost connection to server."),this.disconnect())}),e.on(sr.Close,()=>{this.disconnected||this._abort(Ot.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,s=e.payload,a=e.src;switch(t){case un.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case un.Error:this._abort(Ot.ServerError,s.msg);break;case un.IdTaken:this._abort(Ot.UnavailableID,`ID "${this.id}" is taken`);break;case un.InvalidKey:this._abort(Ot.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case un.Leave:_e.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case un.Expire:this.emitError(Ot.PeerUnavailable,`Could not connect to peer ${a}`);break;case un.Offer:{const l=s.connectionId;let u=this.getConnection(a,l);if(u&&(u.close(),_e.warn(`Offer received for existing Connection ID:${l}`)),s.type===ar.Media){const g=new qf(a,this,{connectionId:l,_payload:s,metadata:s.metadata});u=g,this._addConnection(a,u),this.emit("call",g)}else if(s.type===ar.Data){const g=new this._serializers[s.serialization](a,this,{connectionId:l,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=g,this._addConnection(a,u),this.emit("connection",g)}else{_e.warn(`Received malformed connection type:${s.type}`);return}const d=this._getMessages(l);for(const g of d)u.handleMessage(g);break}default:{if(!s){_e.warn(`You received a malformed message from ${a} of type ${t}`);return}const l=s.connectionId,u=this.getConnection(a,l);u&&u.peerConnection?u.handleMessage(e):l?this._storeMessage(l,e):_e.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){_e.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ot.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,s),s}call(e,t,s={}){if(this.disconnected){_e.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ot.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){_e.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new qf(e,this,{...s,_stream:t});return this._addConnection(e,a),a}_addConnection(e,t){_e.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const s=t.indexOf(e);s!==-1&&t.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===t)return a;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){_e.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(_e.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const s of t)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;_e.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)_e.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)_e.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(Ot.ServerError,t))}}var y6=Yg;const v6=()=>{};var j1={};const AS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},_6=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],d=n[t++],g=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,g=a+2<n.length,m=g?n[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|m>>6,C=m&63;g||(C=64,u||(S=64)),s.push(t[y],t[_],t[S],t[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||_==null)throw new b6;const S=l<<2|d>>4;if(s.push(S),m!==64){const C=d<<4&240|m>>2;if(s.push(C),_!==64){const N=m<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class b6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T6=function(n){const e=AS(n);return RS.encodeByteArray(e,!0)},$f=function(n){return T6(n).replace(/\./g,"")},x6=function(n){try{return RS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function S6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E6=()=>S6().__FIREBASE_DEFAULTS__,C6=()=>{if(typeof process>"u"||typeof j1>"u")return;const n=j1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x6(n[1]);return e&&JSON.parse(e)},Qg=()=>{try{return v6()||E6()||C6()||A6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R6=n=>Qg()?.emulatorHosts?.[n],w6=n=>{const e=R6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},wS=()=>Qg()?.config;class D6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Xg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M6(n){return(await fetch(n,{credentials:"include"})).ok}function N6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$f(JSON.stringify(t)),$f(JSON.stringify(u)),""].join(".")}const ec={};function k6(){const n={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?n.emulator.push(e):n.prod.push(e);return n}function V6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let L1=!1;function P6(n,e){if(typeof window>"u"||typeof document>"u"||!Xg(window.location.host)||ec[n]===e||ec[n]||L1)return;ec[n]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=k6().prod.length>0;function u(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{L1=!0,u()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=V6(s),C=t("text"),N=document.getElementById(C)||document.createElement("span"),L=t("learnmore"),B=document.getElementById(L)||document.createElement("a"),K=t("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;d(ee),y(B,L);const le=m();g(Z,K),ee.append(Z,N,B,le),document.body.appendChild(ee)}l?(N.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function I6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O6(){const n=Qg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j6(){return!O6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L6(){try{return typeof indexedDB=="object"}catch{return!1}}function B6(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const z6="FirebaseError";class Mo extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=z6,Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DS.prototype.create)}}class DS{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?U6(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Mo(a,d,s)}}function U6(n,e){return n.replace(F6,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const F6=/\{\$([^}]+)}/g;function Kf(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(B1(l)&&B1(u)){if(!Kf(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function B1(n){return n!==null&&typeof n=="object"}function _s(n){return n&&n._delegate?n._delegate:n}class fc{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class H6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new D6;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G6(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q6(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q6(n){return n===ea?void 0:n}function G6(n){return n.instantiationMode==="EAGER"}class $6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const K6={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Y6=qe.INFO,Q6={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},X6=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=Q6[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class MS{constructor(e){this.name=e,this._logLevel=Y6,this._logHandler=X6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Z6=(n,e)=>e.some(t=>n instanceof t);let z1,U1;function W6(){return z1||(z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J6(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NS=new WeakMap,qm=new WeakMap,kS=new WeakMap,im=new WeakMap,Zg=new WeakMap;function eM(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(or(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&NS.set(t,n)}).catch(()=>{}),Zg.set(e,n),e}function tM(n){if(qm.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});qm.set(n,e)}let Gm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return or(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nM(n){Gm=n(Gm)}function iM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(sm(this),e,...t);return kS.set(s,e.sort?e.sort():[e]),or(s)}:J6().includes(n)?function(...e){return n.apply(sm(this),e),or(NS.get(this))}:function(...e){return or(n.apply(sm(this),e))}}function sM(n){return typeof n=="function"?iM(n):(n instanceof IDBTransaction&&tM(n),Z6(n,W6())?new Proxy(n,Gm):n)}function or(n){if(n instanceof IDBRequest)return eM(n);if(im.has(n))return im.get(n);const e=sM(n);return e!==n&&(im.set(n,e),Zg.set(e,n)),e}const sm=n=>Zg.get(n);function rM(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),d=or(u);return s&&u.addEventListener("upgradeneeded",g=>{s(or(u.result),g.oldVersion,g.newVersion,or(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const aM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],rm=new Map;function F1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=oM.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||aM.includes(t)))return;const l=async function(u,...d){const g=this.transaction(u,a?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&g.done]))[0]};return rm.set(e,l),l}nM(n=>({...n,get:(e,t,s)=>F1(e,t)||n.get(e,t,s),has:(e,t)=>!!F1(e,t)||n.has(e,t)}));class lM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cM(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function cM(n){return n.getComponent()?.type==="VERSION"}const $m="@firebase/app",H1="0.14.8";const bs=new MS("@firebase/app"),uM="@firebase/app-compat",fM="@firebase/analytics-compat",hM="@firebase/analytics",dM="@firebase/app-check-compat",pM="@firebase/app-check",mM="@firebase/auth",gM="@firebase/auth-compat",yM="@firebase/database",vM="@firebase/data-connect",_M="@firebase/database-compat",bM="@firebase/functions",TM="@firebase/functions-compat",xM="@firebase/installations",SM="@firebase/installations-compat",EM="@firebase/messaging",CM="@firebase/messaging-compat",AM="@firebase/performance",RM="@firebase/performance-compat",wM="@firebase/remote-config",DM="@firebase/remote-config-compat",MM="@firebase/storage",NM="@firebase/storage-compat",kM="@firebase/firestore",VM="@firebase/ai",PM="@firebase/firestore-compat",IM="firebase",OM="12.9.0";const Km="[DEFAULT]",jM={[$m]:"fire-core",[uM]:"fire-core-compat",[hM]:"fire-analytics",[fM]:"fire-analytics-compat",[pM]:"fire-app-check",[dM]:"fire-app-check-compat",[mM]:"fire-auth",[gM]:"fire-auth-compat",[yM]:"fire-rtdb",[vM]:"fire-data-connect",[_M]:"fire-rtdb-compat",[bM]:"fire-fn",[TM]:"fire-fn-compat",[xM]:"fire-iid",[SM]:"fire-iid-compat",[EM]:"fire-fcm",[CM]:"fire-fcm-compat",[AM]:"fire-perf",[RM]:"fire-perf-compat",[wM]:"fire-rc",[DM]:"fire-rc-compat",[MM]:"fire-gcs",[NM]:"fire-gcs-compat",[kM]:"fire-fst",[PM]:"fire-fst-compat",[VM]:"fire-vertex","fire-js":"fire-js",[IM]:"fire-js-all"};const Yf=new Map,LM=new Map,Ym=new Map;function q1(n,e){try{n.container.addComponent(e)}catch(t){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qf(n){const e=n.name;if(Ym.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,n);for(const t of Yf.values())q1(t,n);for(const t of LM.values())q1(t,n);return!0}function BM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zM(n){return n==null?!1:n.settings!==void 0}const UM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new DS("app","Firebase",UM);class FM{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const HM=OM;function VS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Km,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw lr.create("bad-app-name",{appName:String(a)});if(t||(t=wS()),!t)throw lr.create("no-options");const l=Yf.get(a);if(l){if(Kf(t,l.options)&&Kf(s,l.config))return l;throw lr.create("duplicate-app",{appName:a})}const u=new $6(a);for(const g of Ym.values())u.addComponent(g);const d=new FM(t,s,u);return Yf.set(a,d),d}function qM(n=Km){const e=Yf.get(n);if(!e&&n===Km&&wS())return VS();if(!e)throw lr.create("no-app",{appName:n});return e}function go(n,e,t){let s=jM[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}Qf(new fc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GM="firebase-heartbeat-database",$M=1,hc="firebase-heartbeat-store";let am=null;function PS(){return am||(am=rM(GM,$M,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),am}async function KM(n){try{const t=(await PS()).transaction(hc),s=await t.objectStore(hc).get(IS(n));return await t.done,s}catch(e){if(e instanceof Mo)bs.warn(e.message);else{const t=lr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(t.message)}}}async function G1(n,e){try{const s=(await PS()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,IS(n)),await s.done}catch(t){if(t instanceof Mo)bs.warn(t.message);else{const s=lr.create("idb-set",{originalErrorMessage:t?.message});bs.warn(s.message)}}}function IS(n){return`${n.name}!${n.options.appId}`}const YM=1024,QM=30;class XM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WM(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>QM){const a=JM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$1(),{heartbeatsToSend:t,unsentEntries:s}=ZM(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return bs.warn(e),""}}}function $1(){return new Date().toISOString().substring(0,10)}function ZM(n,e=YM){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),K1(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),K1(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class WM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L6()?B6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return G1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return G1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function K1(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function JM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function eN(n){Qf(new fc("platform-logger",e=>new lM(e),"PRIVATE")),Qf(new fc("heartbeat",e=>new XM(e),"PRIVATE")),go($m,H1,n),go($m,H1,"esm2020"),go("fire-js","")}eN("");var tN="firebase",nN="12.9.0";go(tN,nN,"app");var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,OS;(function(){var n;function e(D,A){function w(){}w.prototype=A.prototype,D.F=A.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(k,P,j){for(var M=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)M[Ve-2]=arguments[Ve];return A.prototype[P].apply(k,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,w){w||(w=0);const k=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)k[P]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(P=0;P<16;++P)k[P]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=D.g[0],w=D.g[1],P=D.g[2];let j=D.g[3],M;M=A+(j^w&(P^j))+k[0]+3614090360&4294967295,A=w+(M<<7&4294967295|M>>>25),M=j+(P^A&(w^P))+k[1]+3905402710&4294967295,j=A+(M<<12&4294967295|M>>>20),M=P+(w^j&(A^w))+k[2]+606105819&4294967295,P=j+(M<<17&4294967295|M>>>15),M=w+(A^P&(j^A))+k[3]+3250441966&4294967295,w=P+(M<<22&4294967295|M>>>10),M=A+(j^w&(P^j))+k[4]+4118548399&4294967295,A=w+(M<<7&4294967295|M>>>25),M=j+(P^A&(w^P))+k[5]+1200080426&4294967295,j=A+(M<<12&4294967295|M>>>20),M=P+(w^j&(A^w))+k[6]+2821735955&4294967295,P=j+(M<<17&4294967295|M>>>15),M=w+(A^P&(j^A))+k[7]+4249261313&4294967295,w=P+(M<<22&4294967295|M>>>10),M=A+(j^w&(P^j))+k[8]+1770035416&4294967295,A=w+(M<<7&4294967295|M>>>25),M=j+(P^A&(w^P))+k[9]+2336552879&4294967295,j=A+(M<<12&4294967295|M>>>20),M=P+(w^j&(A^w))+k[10]+4294925233&4294967295,P=j+(M<<17&4294967295|M>>>15),M=w+(A^P&(j^A))+k[11]+2304563134&4294967295,w=P+(M<<22&4294967295|M>>>10),M=A+(j^w&(P^j))+k[12]+1804603682&4294967295,A=w+(M<<7&4294967295|M>>>25),M=j+(P^A&(w^P))+k[13]+4254626195&4294967295,j=A+(M<<12&4294967295|M>>>20),M=P+(w^j&(A^w))+k[14]+2792965006&4294967295,P=j+(M<<17&4294967295|M>>>15),M=w+(A^P&(j^A))+k[15]+1236535329&4294967295,w=P+(M<<22&4294967295|M>>>10),M=A+(P^j&(w^P))+k[1]+4129170786&4294967295,A=w+(M<<5&4294967295|M>>>27),M=j+(w^P&(A^w))+k[6]+3225465664&4294967295,j=A+(M<<9&4294967295|M>>>23),M=P+(A^w&(j^A))+k[11]+643717713&4294967295,P=j+(M<<14&4294967295|M>>>18),M=w+(j^A&(P^j))+k[0]+3921069994&4294967295,w=P+(M<<20&4294967295|M>>>12),M=A+(P^j&(w^P))+k[5]+3593408605&4294967295,A=w+(M<<5&4294967295|M>>>27),M=j+(w^P&(A^w))+k[10]+38016083&4294967295,j=A+(M<<9&4294967295|M>>>23),M=P+(A^w&(j^A))+k[15]+3634488961&4294967295,P=j+(M<<14&4294967295|M>>>18),M=w+(j^A&(P^j))+k[4]+3889429448&4294967295,w=P+(M<<20&4294967295|M>>>12),M=A+(P^j&(w^P))+k[9]+568446438&4294967295,A=w+(M<<5&4294967295|M>>>27),M=j+(w^P&(A^w))+k[14]+3275163606&4294967295,j=A+(M<<9&4294967295|M>>>23),M=P+(A^w&(j^A))+k[3]+4107603335&4294967295,P=j+(M<<14&4294967295|M>>>18),M=w+(j^A&(P^j))+k[8]+1163531501&4294967295,w=P+(M<<20&4294967295|M>>>12),M=A+(P^j&(w^P))+k[13]+2850285829&4294967295,A=w+(M<<5&4294967295|M>>>27),M=j+(w^P&(A^w))+k[2]+4243563512&4294967295,j=A+(M<<9&4294967295|M>>>23),M=P+(A^w&(j^A))+k[7]+1735328473&4294967295,P=j+(M<<14&4294967295|M>>>18),M=w+(j^A&(P^j))+k[12]+2368359562&4294967295,w=P+(M<<20&4294967295|M>>>12),M=A+(w^P^j)+k[5]+4294588738&4294967295,A=w+(M<<4&4294967295|M>>>28),M=j+(A^w^P)+k[8]+2272392833&4294967295,j=A+(M<<11&4294967295|M>>>21),M=P+(j^A^w)+k[11]+1839030562&4294967295,P=j+(M<<16&4294967295|M>>>16),M=w+(P^j^A)+k[14]+4259657740&4294967295,w=P+(M<<23&4294967295|M>>>9),M=A+(w^P^j)+k[1]+2763975236&4294967295,A=w+(M<<4&4294967295|M>>>28),M=j+(A^w^P)+k[4]+1272893353&4294967295,j=A+(M<<11&4294967295|M>>>21),M=P+(j^A^w)+k[7]+4139469664&4294967295,P=j+(M<<16&4294967295|M>>>16),M=w+(P^j^A)+k[10]+3200236656&4294967295,w=P+(M<<23&4294967295|M>>>9),M=A+(w^P^j)+k[13]+681279174&4294967295,A=w+(M<<4&4294967295|M>>>28),M=j+(A^w^P)+k[0]+3936430074&4294967295,j=A+(M<<11&4294967295|M>>>21),M=P+(j^A^w)+k[3]+3572445317&4294967295,P=j+(M<<16&4294967295|M>>>16),M=w+(P^j^A)+k[6]+76029189&4294967295,w=P+(M<<23&4294967295|M>>>9),M=A+(w^P^j)+k[9]+3654602809&4294967295,A=w+(M<<4&4294967295|M>>>28),M=j+(A^w^P)+k[12]+3873151461&4294967295,j=A+(M<<11&4294967295|M>>>21),M=P+(j^A^w)+k[15]+530742520&4294967295,P=j+(M<<16&4294967295|M>>>16),M=w+(P^j^A)+k[2]+3299628645&4294967295,w=P+(M<<23&4294967295|M>>>9),M=A+(P^(w|~j))+k[0]+4096336452&4294967295,A=w+(M<<6&4294967295|M>>>26),M=j+(w^(A|~P))+k[7]+1126891415&4294967295,j=A+(M<<10&4294967295|M>>>22),M=P+(A^(j|~w))+k[14]+2878612391&4294967295,P=j+(M<<15&4294967295|M>>>17),M=w+(j^(P|~A))+k[5]+4237533241&4294967295,w=P+(M<<21&4294967295|M>>>11),M=A+(P^(w|~j))+k[12]+1700485571&4294967295,A=w+(M<<6&4294967295|M>>>26),M=j+(w^(A|~P))+k[3]+2399980690&4294967295,j=A+(M<<10&4294967295|M>>>22),M=P+(A^(j|~w))+k[10]+4293915773&4294967295,P=j+(M<<15&4294967295|M>>>17),M=w+(j^(P|~A))+k[1]+2240044497&4294967295,w=P+(M<<21&4294967295|M>>>11),M=A+(P^(w|~j))+k[8]+1873313359&4294967295,A=w+(M<<6&4294967295|M>>>26),M=j+(w^(A|~P))+k[15]+4264355552&4294967295,j=A+(M<<10&4294967295|M>>>22),M=P+(A^(j|~w))+k[6]+2734768916&4294967295,P=j+(M<<15&4294967295|M>>>17),M=w+(j^(P|~A))+k[13]+1309151649&4294967295,w=P+(M<<21&4294967295|M>>>11),M=A+(P^(w|~j))+k[4]+4149444226&4294967295,A=w+(M<<6&4294967295|M>>>26),M=j+(w^(A|~P))+k[11]+3174756917&4294967295,j=A+(M<<10&4294967295|M>>>22),M=P+(A^(j|~w))+k[2]+718787259&4294967295,P=j+(M<<15&4294967295|M>>>17),M=w+(j^(P|~A))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.v=function(D,A){A===void 0&&(A=D.length);const w=A-this.blockSize,k=this.C;let P=this.h,j=0;for(;j<A;){if(P==0)for(;j<=w;)a(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(k[P++]=D.charCodeAt(j++),P==this.blockSize){a(this,k),P=0;break}}else for(;j<A;)if(k[P++]=D[j++],P==this.blockSize){a(this,k),P=0;break}}this.h=P,this.o+=A},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,w=0;w<4;++w)for(let k=0;k<32;k+=8)D[A++]=this.g[w]>>>k&255;return D};function l(D,A){var w=d;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=A(D)}function u(D,A){this.h=A;const w=[];let k=!0;for(let P=D.length-1;P>=0;P--){const j=D[P]|0;k&&j==A||(w[P]=j,k=!1)}this.g=w}var d={};function g(D){return-128<=D&&D<128?l(D,function(A){return new u([A|0],A<0?-1:0)}):new u([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return B(m(-D));const A=[];let w=1;for(let k=0;D>=w;k++)A[k]=D/w|0,w*=4294967296;return new u(A,0)}function y(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return B(y(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=m(Math.pow(A,8));let k=_;for(let j=0;j<D.length;j+=8){var P=Math.min(8,D.length-j);const M=parseInt(D.substring(j,j+P),A);P<8?(P=m(Math.pow(A,P)),k=k.j(P).add(m(M))):(k=k.j(w),k=k.add(m(M)))}return k}var _=g(0),S=g(1),C=g(16777216);n=u.prototype,n.m=function(){if(L(this))return-B(this).m();let D=0,A=1;for(let w=0;w<this.g.length;w++){const k=this.i(w);D+=(k>=0?k:4294967296+k)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(L(this))return"-"+B(this).toString(D);const A=m(Math.pow(D,6));var w=this;let k="";for(;;){const P=le(w,A).g;w=K(w,P.j(A));let j=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=P,N(w))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function L(D){return D.h==-1}n.l=function(D){return D=K(this,D),L(D)?-1:N(D)?0:1};function B(D){const A=D.g.length,w=[];for(let k=0;k<A;k++)w[k]=~D.g[k];return new u(w,~D.h).add(S)}n.abs=function(){return L(this)?B(this):this},n.add=function(D){const A=Math.max(this.g.length,D.g.length),w=[];let k=0;for(let P=0;P<=A;P++){let j=k+(this.i(P)&65535)+(D.i(P)&65535),M=(j>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);k=M>>>16,j&=65535,M&=65535,w[P]=M<<16|j}return new u(w,w[w.length-1]&-2147483648?-1:0)};function K(D,A){return D.add(B(A))}n.j=function(D){if(N(this)||N(D))return _;if(L(this))return L(D)?B(this).j(B(D)):B(B(this).j(D));if(L(D))return B(this.j(B(D)));if(this.l(C)<0&&D.l(C)<0)return m(this.m()*D.m());const A=this.g.length+D.g.length,w=[];for(var k=0;k<2*A;k++)w[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<D.g.length;P++){const j=this.i(k)>>>16,M=this.i(k)&65535,Ve=D.i(P)>>>16,at=D.i(P)&65535;w[2*k+2*P]+=M*at,Z(w,2*k+2*P),w[2*k+2*P+1]+=j*at,Z(w,2*k+2*P+1),w[2*k+2*P+1]+=M*Ve,Z(w,2*k+2*P+1),w[2*k+2*P+2]+=j*Ve,Z(w,2*k+2*P+2)}for(D=0;D<A;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=A;D<2*A;D++)w[D]=0;return new u(w,0)};function Z(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function ee(D,A){this.g=D,this.h=A}function le(D,A){if(N(A))throw Error("division by zero");if(N(D))return new ee(_,_);if(L(D))return A=le(B(D),A),new ee(B(A.g),B(A.h));if(L(A))return A=le(D,B(A)),new ee(B(A.g),A.h);if(D.g.length>30){if(L(D)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var w=S,k=A;k.l(D)<=0;)w=ae(w),k=ae(k);var P=de(w,1),j=de(k,1);for(k=de(k,2),w=de(w,2);!N(k);){var M=j.add(k);M.l(D)<=0&&(P=P.add(w),j=M),k=de(k,1),w=de(w,1)}return A=K(D,P.j(A)),new ee(P,A)}for(P=_;D.l(A)>=0;){for(w=Math.max(1,Math.floor(D.m()/A.m())),k=Math.ceil(Math.log(w)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=m(w),M=j.j(A);L(M)||M.l(D)>0;)w-=k,j=m(w),M=j.j(A);N(j)&&(j=S),P=P.add(j),D=K(D,M)}return new ee(P,D)}n.B=function(D){return le(this,D).h},n.and=function(D){const A=Math.max(this.g.length,D.g.length),w=[];for(let k=0;k<A;k++)w[k]=this.i(k)&D.i(k);return new u(w,this.h&D.h)},n.or=function(D){const A=Math.max(this.g.length,D.g.length),w=[];for(let k=0;k<A;k++)w[k]=this.i(k)|D.i(k);return new u(w,this.h|D.h)},n.xor=function(D){const A=Math.max(this.g.length,D.g.length),w=[];for(let k=0;k<A;k++)w[k]=this.i(k)^D.i(k);return new u(w,this.h^D.h)};function ae(D){const A=D.g.length+1,w=[];for(let k=0;k<A;k++)w[k]=D.i(k)<<1|D.i(k-1)>>>31;return new u(w,D.h)}function de(D,A){const w=A>>5;A%=32;const k=D.g.length-w,P=[];for(let j=0;j<k;j++)P[j]=A>0?D.i(j+w)>>>A|D.i(j+w+1)<<32-A:D.i(j+w);return new u(P,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,OS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,cr=u}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jS,$l,LS,Df,Qm,BS,zS,US;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var v=0;v<f.length;++v){var x=f[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=t(this);function a(f,v){if(v)e:{var x=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var U=f[R];if(!(U in x))break e;x=x[U]}f=f[f.length-1],R=x[f],v=v(R),v!=R&&v!=null&&e(x,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var x=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&x.push([R,v[R]]);return x}});var l=l||{},u=this||self;function d(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function g(f,v,x){return f.call.apply(f.bind,arguments)}function m(f,v,x){return m=g,m.apply(null,arguments)}function y(f,v){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function _(f,v){function x(){}x.prototype=v.prototype,f.Z=v.prototype,f.prototype=new x,f.prototype.constructor=f,f.Ob=function(R,U,Y){for(var ce=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ce[Ne-2]=arguments[Ne];return v.prototype[U].apply(R,ce)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const v=f.length;if(v>0){const x=Array(v);for(let R=0;R<v;R++)x[R]=f[R];return x}return[]}function N(f,v){for(let R=1;R<arguments.length;R++){const U=arguments[R];var x=typeof U;if(x=x!="object"?x:U?Array.isArray(U)?"array":x:"null",x=="array"||x=="object"&&typeof U.length=="number"){x=f.length||0;const Y=U.length||0;f.length=x+Y;for(let ce=0;ce<Y;ce++)f[x+ce]=U[ce]}else f.push(U)}}class L{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(f){u.setTimeout(()=>{throw f},0)}function K(){var f=D;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,x){const R=ee.get();R.set(v,x),this.h?this.h.next=R:this.g=R,this.h=R}}var ee=new L(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,D=new Z,A=()=>{const f=Promise.resolve(void 0);ae=()=>{f.then(w)}};function w(){for(var f;f=K();){try{f.h.call(f.g)}catch(x){B(x)}var v=ee;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}de=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Ve(f,v){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}_(Ve,P),Ve.prototype.init=function(f,v){const x=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(x=="mouseover"?v=f.fromElement:x=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(f,v,x,R,U){this.listener=f,this.proxy=null,this.src=v,this.type=x,this.capture=!!R,this.ha=U,this.key=++X,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function fe(f,v,x){for(const R in f)v.call(x,f[R],R,f)}function Ee(f,v){for(const x in f)v.call(void 0,f[x],x,f)}function I(f){const v={};for(const x in f)v[x]=f[x];return v}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,v){let x,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(x in R)f[x]=R[x];for(let Y=0;Y<H.length;Y++)x=H[Y],Object.prototype.hasOwnProperty.call(R,x)&&(f[x]=R[x])}}function ie(f){this.src=f,this.g={},this.h=0}ie.prototype.add=function(f,v,x,R,U){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const ce=pe(f,v,R,U);return ce>-1?(v=f[ce],x||(v.fa=!1)):(v=new oe(v,this.src,Y,!!R,U),v.fa=x,f.push(v)),v};function ue(f,v){const x=v.type;if(x in f.g){var R=f.g[x],U=Array.prototype.indexOf.call(R,v,void 0),Y;(Y=U>=0)&&Array.prototype.splice.call(R,U,1),Y&&(he(v),f.g[x].length==0&&(delete f.g[x],f.h--))}}function pe(f,v,x,R){for(let U=0;U<f.length;++U){const Y=f[U];if(!Y.da&&Y.listener==v&&Y.capture==!!x&&Y.ha==R)return U}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ie={};function Te(f,v,x,R,U){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)Te(f,v[Y],x,R,U);return null}return x=jo(x),f&&f[at]?f.J(v,x,d(R)?!!R.capture:!1,U):Ge(f,v,x,!1,R,U)}function Ge(f,v,x,R,U,Y){if(!v)throw Error("Invalid event type");const ce=d(U)?!!U.capture:!!U;let Ne=xr(f);if(Ne||(f[ve]=Ne=new ie(f)),x=Ne.add(v,x,R,ce,Y),x.proxy)return x;if(R=Xe(),x.proxy=R,R.src=f,R.listener=x,f.addEventListener)j||(U=ce),U===void 0&&(U=!1),f.addEventListener(v.toString(),R,U);else if(f.attachEvent)f.attachEvent(Fn(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Xe(){function f(x){return v.call(f.src,f.listener,x)}const v=Io;return f}function dt(f,v,x,R,U){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)dt(f,v[Y],x,R,U);else R=d(R)?!!R.capture:!!R,x=jo(x),f&&f[at]?(f=f.i,Y=String(v).toString(),Y in f.g&&(v=f.g[Y],x=pe(v,x,R,U),x>-1&&(he(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete f.g[Y],f.h--)))):f&&(f=xr(f))&&(v=f.g[v.toString()],f=-1,v&&(f=pe(v,x,R,U)),(x=f>-1?v[f]:null)&&pn(x))}function pn(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[at])ue(v.i,f);else{var x=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(x,R,f.capture):v.detachEvent?v.detachEvent(Fn(x),R):v.addListener&&v.removeListener&&v.removeListener(R),(x=xr(v))?(ue(x,f),x.h==0&&(x.src=null,v[ve]=null)):he(f)}}}function Fn(f){return f in Ie?Ie[f]:Ie[f]="on"+f}function Io(f,v){if(f.da)f=!0;else{v=new Ve(v,this);const x=f.listener,R=f.ha||f.src;f.fa&&pn(f),f=x.call(R,v)}return f}function xr(f){return f=f[ve],f instanceof ie?f:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function jo(f){return typeof f=="function"?f:(f[Oo]||(f[Oo]=function(v){return f.handleEvent(v)}),f[Oo])}function At(){k.call(this),this.i=new ie(this),this.M=this,this.G=null}_(At,k),At.prototype[at]=!0,At.prototype.removeEventListener=function(f,v,x,R){dt(this,f,v,x,R)};function zt(f,v){var x,R=f.G;if(R)for(x=[];R;R=R.G)x.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new P(v,f);else if(v instanceof P)v.target=v.target||f;else{var U=v;v=new P(R,f),W(v,U)}U=!0;let Y,ce;if(x)for(ce=x.length-1;ce>=0;ce--)Y=v.g=x[ce],U=Ss(Y,R,!0,v)&&U;if(Y=v.g=f,U=Ss(Y,R,!0,v)&&U,U=Ss(Y,R,!1,v)&&U,x)for(ce=0;ce<x.length;ce++)Y=v.g=x[ce],U=Ss(Y,R,!1,v)&&U}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const x=f.g[v];for(let R=0;R<x.length;R++)he(x[R]);delete f.g[v],f.h--}}this.G=null},At.prototype.J=function(f,v,x,R){return this.i.add(String(f),v,!1,x,R)},At.prototype.K=function(f,v,x,R){return this.i.add(String(f),v,!0,x,R)};function Ss(f,v,x,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let Y=0;Y<v.length;++Y){const ce=v[Y];if(ce&&!ce.da&&ce.capture==x){const Ne=ce.listener,xt=ce.ha||ce.src;ce.fa&&ue(f.i,ce),U=Ne.call(xt,R)!==!1&&U}}return U&&!R.defaultPrevented}function Vh(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(f,v||0)}function Mc(f){f.g=Vh(()=>{f.g=null,f.i&&(f.i=!1,Mc(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class mn extends k{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Mc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(f){k.call(this),this.h=f,this.g={}}_(Sr,k);var Lo=[];function Bo(f){fe(f.g,function(v,x){this.g.hasOwnProperty(x)&&pn(v)},f),f.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Bo(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=u.JSON.stringify,Ph=u.JSON.parse,Nc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function kc(){}function Vc(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){P.call(this,"d")}_(Qt,P);function Hn(){P.call(this,"c")}_(Hn,P);var Tt={},Pc=null;function ma(){return Pc=Pc||new At}Tt.Ia="serverreachability";function Ic(f){P.call(this,Tt.Ia,f)}_(Ic,P);function xi(f){const v=ma();zt(v,new Ic(v))}Tt.STAT_EVENT="statevent";function Er(f,v){P.call(this,Tt.STAT_EVENT,f),this.stat=v}_(Er,P);function Rt(f){const v=ma();zt(v,new Er(v,f))}Tt.Ja="timingevent";function Si(f,v){P.call(this,Tt.Ja,f),this.size=v}_(Si,P);function Ei(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Ih(f,v,x,R,U,Y){f.info(function(){if(f.g)if(Y){var ce="",Ne=Y.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var xt=Ne[Ye].split("=");if(xt.length>1){const pt=xt[0];xt=xt[1];const Kn=pt.split("_");ce=Kn.length>=2&&Kn[1]=="type"?ce+(pt+"="+xt+"&"):ce+(pt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+v+`
`+x+`
`+ce})}function Oc(f,v,x,R,U,Y,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+v+`
`+x+`
`+Y+" "+ce})}function Ci(f,v,x,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Oh(f,x)+(R?" "+R:"")})}function Cr(f,v){f.info(function(){return"TIMEOUT: "+v})}ai.prototype.info=function(){};function Oh(f,v){if(!f.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var x=Y[f];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var U=R[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return Es(Y)}catch{return v}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Rr(){}_(Rr,kc),Rr.prototype.g=function(){return new XMLHttpRequest},Uo=new Rr;function Wi(f){return encodeURIComponent(String(f))}function jc(f){var v=1;f=f.split(":");const x=[];for(;v>0&&f.length;)x.push(f.shift()),v--;return f.length&&x.push(f.join(":")),x}function oi(f,v,x,R){this.j=f,this.i=v,this.l=x,this.S=R||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var wt={},Gt={};function Ai(f,v,x){f.M=1,f.A=wr(Mt(v)),f.u=x,f.R=!0,ga(f,null)}function ga(f,v){f.F=Date.now(),Ri(f),f.B=Mt(f.A);var x=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),ba(x.i,"t",R),f.C=0,x=f.j.L,f.h=new li,f.g=Wc(f.j,x?v:null,!f.u),f.P>0&&(f.O=new mn(m(f.Y,f,f.g),f.P)),v=f.V,x=f.g,R=f.ba;var U="readystatechange";Array.isArray(U)||(U&&(Lo[0]=U.toString()),U=Lo);for(let Y=0;Y<U.length;Y++){const ce=Te(x,U[Y],R||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=f.J?I(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),xi(),Ih(f.i,f.v,f.B,f.l,f.S,f.u)}oi.prototype.ba=function(f){f=f.target;const v=this.O;v&&fi(f)==3?v.j():this.Y(f)},oi.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=fi(this.g),xt=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ne!=4||xt==7||(xt==8||Ye<=0?xi(3):xi(2)),wi(this);var v=this.g.ca();this.X=v;var x=jh(this);if(this.o=v==200,Oc(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,U=this.g;if((R=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Y=R;break t}}Y=null}if(f=Y)Ci(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,f);else{this.o=!1,this.m=3,Rt(12),Nn(this),qn(this);break e}}if(this.R){f=!0;let pt;for(;!this.K&&this.C<x.length;)if(pt=Bc(this,x),pt==Gt){Ne==4&&(this.m=4,Rt(14),f=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==wt){this.m=4,Rt(15),Ci(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Ci(this.i,this.l,pt,null),Di(this,pt);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||x.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)Ci(this.i,this.l,x,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(x.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),nl(ce),ce.P=!0,Rt(11))}}else Ci(this.i,this.l,x,null),Di(this,x);Ne==4&&Nn(this),this.o&&!this.K&&(Ne==4?Yc(this.j,this):(this.o=!1,Ri(this)))}else es(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Nn(this),qn(this)}}}catch{}};function jh(f){if(!Lc(f))return f.g.la();const v=Xt(f.g);if(v==="")return"";let x="";const R=v.length,U=fi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Nn(f),qn(f),"";f.h.i=new u.TextDecoder}for(let Y=0;Y<R;Y++)f.h.h=!0,x+=f.h.i.decode(v[Y],{stream:!(U&&Y==R-1)});return v.length=0,f.h.g+=x,f.C=0,f.h.g}function Lc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Bc(f,v){var x=f.C,R=v.indexOf(`
`,x);return R==-1?Gt:(x=Number(v.substring(x,R)),isNaN(x)?wt:(R+=1,R+x>v.length?Gt:(v=v.slice(R,R+x),f.C=R+x,v)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function Ri(f){f.T=Date.now()+f.H,ya(f,f.H)}function ya(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ei(m(f.aa,f),v)}function wi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}oi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(xi(),Rt(17)),Nn(this),this.m=2,qn(this)):ya(this,this.T-f)};function qn(f){f.j.I==0||f.K||Yc(f.j,f)}function Nn(f){wi(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Bo(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Di(f,v){try{var x=f.j;if(x.I!=0&&(x.g==f||Ni(x.h,f))){if(!f.L&&Ni(x.h,f)&&x.I==3){try{var R=x.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<f.F)Ca(x),ks(x);else break e;Ir(x),Rt(18)}}else x.xa=U[1],0<x.xa-x.K&&U[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ei(m(x.Va,x),6e3));Mi(x.h)<=1&&x.ta&&(x.ta=void 0)}else ji(x,11)}else if((f.L||x.g==f)&&Ca(x),!M(v))for(U=x.Ba.g.parse(v),v=0;v<U.length;v++){let Ye=U[v];const pt=Ye[0];if(!(pt<=x.K))if(x.K=pt,Ye=Ye[1],x.I==2)if(Ye[0]=="c"){x.M=Ye[1],x.ba=Ye[2];const Kn=Ye[3];Kn!=null&&(x.ka=Kn,x.j.info("VER="+x.ka));const Li=Ye[4];Li!=null&&(x.za=Li,x.j.info("SVER="+x.za));const hi=Ye[5];hi!=null&&typeof hi=="number"&&hi>0&&(R=1.5*hi,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const di=f.g;if(di){const Or=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var Y=R.h;Y.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(qo(Y,Y.h),Y.h=null))}if(R.G){const Aa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(R.wa=Aa,We(R.J,R.G,Aa))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-f.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var ce=f;if(R.na=Zc(R,R.L?R.ba:null,R.W),ce.L){Go(R.h,ce);var Ne=ce,xt=R.O;xt&&(Ne.H=xt),Ne.D&&(wi(Ne),Ri(Ne)),R.g=ce}else $c(R);x.i.length>0&&Oi(x)}else Ye[0]!="stop"&&Ye[0]!="close"||ji(x,7);else x.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ji(x,7):el(x):Ye[0]!="noop"&&x.l&&x.l.qa(Ye),x.A=0)}}xi(4)}catch{}}var Dt=class{constructor(f,v){this.g=f,this.map=v}};function Fo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Mi(f){return f.h?1:f.g?f.g.size:0}function Ni(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function qo(f,v){f.g?f.g.add(v):f.h=v}function Go(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Fo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $o(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const x of f.g.values())v=v.concat(x.G);return v}return C(f.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(f,v){if(f){f=f.split("&");for(let x=0;x<f.length;x++){const R=f[x].indexOf("=");let U,Y=null;R>=0?(U=f[x].substring(0,R),Y=f[x].substring(R+1)):U=f[x],v(U,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function kn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof kn?(this.l=f.l,$t(this,f.j),this.o=f.o,this.g=f.g,Cs(this,f.u),this.h=f.h,Ko(this,qc(f.i)),this.m=f.m):f&&(v=String(f).match(zc))?(this.l=!1,$t(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),Cs(this,v[4]),this.h=ki(v[5]||"",!0),Ko(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}kn.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(Dr(v,_a,!0),":");var x=this.g;return(x||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Dr(v,_a,!0),"@"),f.push(Wi(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&f.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(Dr(x,x.charAt(0)=="/"?Yo:Uc,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",Dr(x,Fc)),f.join("")},kn.prototype.resolve=function(f){const v=Mt(this);let x=!!f.j;x?$t(v,f.j):x=!!f.o,x?v.o=f.o:x=!!f.g,x?v.g=f.g:x=f.u!=null;var R=f.h;if(x)Cs(v,f.u);else if(x=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var U=v.h.lastIndexOf("/");U!=-1&&(R=v.h.slice(0,U+1)+R)}if(U=R,U==".."||U==".")R="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){R=U.lastIndexOf("/",0)==0,U=U.split("/");const Y=[];for(let ce=0;ce<U.length;){const Ne=U[ce++];Ne=="."?R&&ce==U.length&&Y.push(""):Ne==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&ce==U.length&&Y.push("")):(Y.push(Ne),R=!0)}R=Y.join("/")}else R=U}return x?v.h=R:x=f.i.toString()!=="",x?Ko(v,qc(f.i)):x=!!f.m,x&&(v.m=f.m),v};function Mt(f){return new kn(f)}function $t(f,v,x){f.j=x?ki(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Cs(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function Ko(f,v,x){v instanceof Rs?(f.i=v,Ta(f.i,f.l)):(x||(v=Dr(v,As)),f.i=new Rs(v,f.l))}function We(f,v,x){f.i.set(v,x)}function wr(f){return We(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ki(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Dr(f,v,x){return typeof f=="string"?(f=encodeURI(f).replace(v,Tn),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Tn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _a=/[#\/\?@]/g,Uc=/[#\?:]/g,Yo=/[#\?]/g,As=/[#\?@]/g,Fc=/#/g;function Rs(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function xn(f){f.g||(f.g=new Map,f.h=0,f.i&&va(f.i,function(v,x){f.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=Rs.prototype,n.add=function(f,v){xn(this),this.i=null,f=ws(this,f);let x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(v),this.h+=1,this};function Hc(f,v){xn(f),v=ws(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Qo(f,v){return xn(f),v=ws(f,v),f.g.has(v)}n.forEach=function(f,v){xn(this),this.g.forEach(function(x,R){x.forEach(function(U){f.call(v,U,R,this)},this)},this)};function Xo(f,v){xn(f);let x=[];if(typeof v=="string")Qo(f,v)&&(x=x.concat(f.g.get(ws(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)x=x.concat(f[v]);return x}n.set=function(f,v){return xn(this),this.i=null,f=ws(this,f),Qo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=Xo(this,f),f.length>0?String(f[0]):v):v};function ba(f,v,x){Hc(f,v),x.length>0&&(f.i=null,f.g.set(ws(f,v),C(x)),f.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var x=v[R];const U=Wi(x);x=Xo(this,x);for(let Y=0;Y<x.length;Y++){let ce=U;x[Y]!==""&&(ce+="="+Wi(x[Y])),f.push(ce)}}return this.i=f.join("&")};function qc(f){const v=new Rs;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function ws(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ta(f,v){v&&!f.j&&(xn(f),f.i=null,f.g.forEach(function(x,R){const U=R.toLowerCase();R!=U&&(Hc(this,R),ba(this,U,x))},f)),f.j=v}function ci(f,v){const x=new ai;if(u.Image){const R=new Image;R.onload=y(Gn,x,"TestLoadImage: loaded",!0,v,R),R.onerror=y(Gn,x,"TestLoadImage: error",!1,v,R),R.onabort=y(Gn,x,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(Gn,x,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Zo(f,v){const x=new ai,R=new AbortController,U=setTimeout(()=>{R.abort(),Gn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(Y=>{clearTimeout(U),Y.ok?Gn(x,"TestPingServer: ok",!0,v):Gn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),Gn(x,"TestPingServer: error",!1,v)})}function Gn(f,v,x,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(x)}catch{}}function Ds(){this.g=new Nc}function Vi(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Vi,kc),Vi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(f,v){At.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Mr,At),n=Mr.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,ui(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Ms(this):ui(this),this.readyState==3&&xa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ms(this))},n.Na=function(f){this.g&&(this.response=f,Ms(this))},n.ga=function(){this.g&&Ms(this)};function Ms(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ui(f)}n.setRequestHeader=function(f,v){this.A.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=v.next();return f.join(`\r
`)};function ui(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $n(f){let v="";return fe(f,function(x,R){v+=R,v+=":",v+=x,v+=`\r
`}),v}function Nr(f,v,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=$n(x),typeof f=="string"?x!=null&&Wi(x):We(f,v,x))}function nt(f){At.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,At);var Pi=/^https?$/i,Wo=["POST","PUT"];n=nt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,v,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=S(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Y){kr(this,Y);return}if(f=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)x.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())x.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Wo,v,void 0)>=0)||R||U||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of x)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){kr(this,Y)}};function kr(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,Jo(f),Ji(f)}function Jo(f){f.A||(f.A=!0,zt(f,"complete"),zt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,zt(this,"complete"),zt(this,"abort"),Ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},n.Xa=function(){Vr(this)};function Vr(f){if(f.h&&typeof l<"u"){if(f.v&&fi(f)==4)setTimeout(f.Ca.bind(f),0);else if(zt(f,"readystatechange"),fi(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var R;if(R=Y===0){let ce=String(f.D).match(zc)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),R=!Pi.test(ce?ce.toLowerCase():"")}x=R}if(x)zt(f,"complete"),zt(f,"success");else{f.o=6;try{var U=fi(f)>2?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.ca()+"]",Jo(f)}}finally{Ji(f)}}}}function Ji(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const x=f.g;f.g=null,v||zt(f,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Ph(v)}};function Xt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function es(f){const v={};f=(f.g&&fi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(M(f[R]))continue;var x=jc(f[R]);const U=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Y=v[U]||[];v[U]=Y,Y.push(x)}Ee(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(f,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||v}function Ns(f){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,f),this.Za=Ii("retryDelaySeedMs",1e4,f),this.Ta=Ii("forwardChannelMaxRetries",2,f),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(f&&f.concurrentRequestLimit),this.Ba=new Ds,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ns.prototype,n.ka=8,n.I=1,n.connect=function(f,v,x,R){Rt(0),this.W=f,this.H=v||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=Zc(this,null,this.W),Oi(this)};function el(f){if(Sa(f),f.I==3){var v=f.V++,x=Mt(f.J);if(We(x,"SID",f.M),We(x,"RID",v),We(x,"TYPE","terminate"),Pr(f,x),v=new oi(f,f.j,v),v.M=2,v.A=wr(Mt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=Wc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ri(v)}Xc(f)}function ks(f){f.g&&(nl(f),f.g.cancel(),f.g=null)}function Sa(f){ks(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ca(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Oi(f){if(!Ho(f.h)&&!f.m){f.m=!0;var v=f.Ea;ae||A(),de||(ae(),de=!0),D.add(v,f),f.D=0}}function Ea(f,v){return Mi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ei(m(f.Ea,f,v),Qc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const U=new oi(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=I(Y),W(Y,this.U)):Y=this.U),this.u!==null||this.R||(U.J=Y,Y=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Gc(this,U,v),x=Mt(this.J),We(x,"RID",f),We(x,"CVER",22),this.G&&We(x,"X-HTTP-Session-Id",this.G),Pr(this,x),Y&&(this.R?v="headers="+Wi($n(Y))+"&"+v:this.u&&Nr(x,this.u,Y)),qo(this.h,U),this.Ra&&We(x,"TYPE","init"),this.S?(We(x,"$req",v),We(x,"SID","null"),U.U=!0,Ai(U,x,null)):Ai(U,x,v),this.I=2}}else this.I==3&&(f?tl(this,f):this.i.length==0||Ho(this.h)||tl(this))};function tl(f,v){var x;v?x=v.l:x=f.V++;const R=Mt(f.J);We(R,"SID",f.M),We(R,"RID",x),We(R,"AID",f.K),Pr(f,R),f.u&&f.o&&Nr(R,f.u,f.o),x=new oi(f,f.j,x,f.D+1),f.u===null&&(x.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Gc(f,x,1e3),x.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),qo(f.h,x),Ai(x,R,v)}function Pr(f,v){f.H&&fe(f.H,function(x,R){We(v,R,x)}),f.l&&fe({},function(x,R){We(v,R,x)})}function Gc(f,v,x){x=Math.min(f.i.length,x);const R=f.l?m(f.l.Ka,f.l,f):null;e:{var U=f.i;let Ne=-1;for(;;){const xt=["count="+x];Ne==-1?x>0?(Ne=U[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let Ye=!0;for(let pt=0;pt<x;pt++){var Y=U[pt].g;const Kn=U[pt].map;if(Y-=Ne,Y<0)Ne=Math.max(0,U[pt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var ce=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Li,hi]of ce){let di=hi;d(hi)&&(di=Es(hi)),xt.push(Y+Li+"="+encodeURIComponent(di))}}catch(Li){throw xt.push(Y+"type="+encodeURIComponent("_badmap")),Li}}catch{R&&R(Kn)}}if(Ye){ce=xt.join("&");break e}}ce=void 0}return f=f.i.splice(0,x),v.G=f,ce}function $c(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;ae||A(),de||(ae(),de=!0),D.add(v,f),f.A=0}}function Ir(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ei(m(f.Da,f),Qc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ei(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ks(this),Kc(this))};function nl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Kc(f){f.g=new oi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Mt(f.na);We(v,"RID","rpc"),We(v,"SID",f.M),We(v,"AID",f.K),We(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&We(v,"TO",f.ia),We(v,"TYPE","xmlhttp"),Pr(f,v),f.u&&f.o&&Nr(v,f.u,f.o),f.O&&(f.g.H=f.O);var x=f.g;f=f.ba,x.M=1,x.A=wr(Mt(v)),x.u=null,x.R=!0,ga(x,f)}n.Va=function(){this.C!=null&&(this.C=null,ks(this),Ir(this),Rt(19))};function Ca(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Yc(f,v){var x=null;if(f.g==v){Ca(f),nl(f),f.g=null;var R=2}else if(Ni(f.h,v))x=v.G,Go(f.h,v),R=1;else return;if(f.I!=0){if(v.o)if(R==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var U=f.D;R=ma(),zt(R,new Si(R,x)),Oi(f)}else $c(f);else if(U=v.m,U==3||U==0&&v.X>0||!(R==1&&Ea(f,v)||R==2&&Ir(f)))switch(x&&x.length>0&&(v=f.h,v.i=v.i.concat(x)),U){case 1:ji(f,5);break;case 4:ji(f,10);break;case 3:ji(f,6);break;default:ji(f,2)}}}function Qc(f,v){let x=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(x*=2),x*v}function ji(f,v){if(f.j.info("Error code "+v),v==2){var x=m(f.bb,f),R=f.Ua;const U=!R;R=new kn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(R,"https"),wr(R),U?ci(R.toString(),x):Zo(R.toString(),x)}else Rt(2);f.I=0,f.l&&f.l.pa(v),Xc(f),Sa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Xc(f){if(f.I=0,f.ja=[],f.l){const v=$o(f.h);(v.length!=0||f.i.length!=0)&&(N(f.ja,v),N(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function Zc(f,v,x){var R=x instanceof kn?Mt(x):new kn(x);if(R.g!="")v&&(R.g=v+"."+R.g),Cs(R,R.u);else{var U=u.location;R=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const Y=new kn(null);R&&$t(Y,R),v&&(Y.g=v),U&&Cs(Y,U),x&&(Y.h=x),R=Y}return x=f.G,v=f.wa,x&&v&&We(R,x,v),We(R,"VER",f.ka),Pr(f,R),R}function Wc(f,v,x){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new nt(new Vi({ab:x})):new nt(f.ma),v.Fa(f.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}n=Jc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vs(){}Vs.prototype.g=function(f,v){return new gn(f,v)};function gn(f,v){At.call(this),this.g=new Ns(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!M(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new ts(this)}_(gn,At),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){el(this.g)},gn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.v&&(x={},x.__data__=Es(f),f=x);v.i.push(new Dt(v.Ya++,f)),v.I==3&&Oi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,gn.Z.N.call(this)};function eu(f){Qt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const x in v){f=x;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}_(eu,Qt);function tu(){Hn.call(this),this.status=1}_(tu,Hn);function ts(f){this.g=f}_(ts,Jc),ts.prototype.ra=function(){zt(this.g,"a")},ts.prototype.qa=function(f){zt(this.g,new eu(f))},ts.prototype.pa=function(f){zt(this.g,new tu)},ts.prototype.oa=function(){zt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,US=function(){return new Vs},zS=function(){return ma()},BS=Tt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Df=Ar,zo.COMPLETE="complete",LS=zo,Vc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",At.prototype.listen=At.prototype.J,$l=Vc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,jS=nt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let No="12.9.0";function iN(n){No=n}const oa=new MS("@firebase/firestore");function io(){return oa.logLevel}function me(n,...e){if(oa.logLevel<=qe.DEBUG){const t=e.map(Wg);oa.debug(`Firestore (${No}): ${n}`,...t)}}function Ts(n,...e){if(oa.logLevel<=qe.ERROR){const t=e.map(Wg);oa.error(`Firestore (${No}): ${n}`,...t)}}function la(n,...e){if(oa.logLevel<=qe.WARN){const t=e.map(Wg);oa.warn(`Firestore (${No}): ${n}`,...t)}}function Wg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Re(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,FS(n,s,t)}function FS(n,e,t){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ts(s),new Error(s)}function Ze(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||FS(e,a,s)}function Me(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Mo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class HS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aN{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ra,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},d=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ra)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new HS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class oN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new oN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zM(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Q1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class Jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=uN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function ze(n,e){return n<e?-1:n>e?1:0}function Xm(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return om(a)===om(l)?ze(a,l):om(a)?1:-1}return ze(n.length,e.length)}const fN=55296,hN=57343;function om(n){const e=n.charCodeAt(0);return e>=fN&&e<=hN}function To(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}const X1="__name__";class qi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=qi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const s=qi.isNumericId(e),a=qi.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(e).compare(qi.extractNumericId(t)):Xm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class ft extends qi{construct(e,t,s){return new ft(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const dN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends qi{construct(e,t,s){return new rn(e,t,s)}static isValidIdentifier(e){return dN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X1}static keyField(){return new rn([X1])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ft.fromString(e))}static fromName(e){return new Ce(ft.fromString(e).popFirst(5))}static empty(){return new Ce(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ft(e.slice()))}}function qS(n,e,t){if(!t)throw new xe(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pN(n,e,t,s){if(e===!0&&s===!0)throw new xe(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z1(n){if(!Ce.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W1(n){if(Ce.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ey(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ey(n);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cc(n,e){if(!GS(n))throw new xe(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new xe(re.INVALID_ARGUMENT,t);return!0}const J1=-62135596800,eT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*eT);return new ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<J1)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ht(0,0))}static max(){return new we(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dc=-1;function mN(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new ht(t+1,0):new ht(t,s));return new dr(a,Ce.empty(),e)}function gN(n){return new dr(n.readTime,n.key,dc)}class dr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new dr(we.min(),Ce.empty(),dc)}static max(){return new dr(we.max(),Ce.empty(),dc)}}function yN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}const vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==vN)throw n;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,s)=>{t(e)}))}static reject(e){return new se(((t,s)=>{s(e)}))}static waitFor(e){return new se(((t,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&t()}),(g=>s(g)))})),u=!0,l===a&&t()}))}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next((a=>a?se.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new se(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let g=0;g<l;g++){const m=g;t(e[m]).next((y=>{u[m]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new se(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function bN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(n){return n.name==="IndexedDbTransactionError"}class mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const ty=-1;function gh(n){return n==null}function Xf(n){return n===0&&1/n==-1/0}function TN(n){return typeof n=="number"&&Number.isInteger(n)&&!Xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $S="";function xN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tT(e)),e=SN(n.get(t),e);return tT(e)}function SN(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case $S:t+="";break;default:t+=l}}return t}function tT(n){return n+$S+""}function nT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function br(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new nn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(e){return new iT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class iT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Un([])}unionWith(e){let t=new qt(rn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YS("Invalid base64 string: "+l):l}})(e);return new an(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const EN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=EN.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}const QS="server_timestamp",XS="__type__",ZS="__previous_value__",WS="__local_write_time__";function ny(n){return(n?.mapValue?.fields||{})[XS]?.stringValue===QS}function yh(n){const e=n.mapValue.fields[ZS];return ny(e)?yh(e):e}function pc(n){const e=pr(n.mapValue.fields[WS].timestampValue);return new ht(e.seconds,e.nanos)}class CN{constructor(e,t,s,a,l,u,d,g,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const Zf="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||Zf}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}function AN(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(n.options.projectId,e)}const JS="__type__",RN="__max__",hf={mapValue:{}},eE="__vector__",Wf="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:DN(n)?9007199254740991:wN(n)?10:11:Re(28295,{value:n})}function Xi(n,e){if(n===e)return!0;const t=gr(n);if(t!==gr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pr(a.timestampValue),d=pr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return mr(a.bytesValue).isEqual(mr(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ct(a.doubleValue),d=Ct(l.doubleValue);return u===d?Xf(u)===Xf(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return To(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(nT(u)!==nT(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(d[g]===void 0||!Xi(u[g],d[g])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function gc(n,e){return(n.values||[]).find((t=>Xi(t,e)))!==void 0}function xo(n,e){if(n===e)return 0;const t=gr(n),s=gr(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Ct(l.integerValue||l.doubleValue),g=Ct(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(n,e);case 3:return sT(n.timestampValue,e.timestampValue);case 4:return sT(pc(n),pc(e));case 5:return Xm(n.stringValue,e.stringValue);case 6:return(function(l,u){const d=mr(l),g=mr(u);return d.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),g=u.split("/");for(let m=0;m<d.length&&m<g.length;m++){const y=ze(d[m],g[m]);if(y!==0)return y}return ze(d.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=ze(Ct(l.latitude),Ct(u.latitude));return d!==0?d:ze(Ct(l.longitude),Ct(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return rT(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},g=u.fields||{},m=d[Wf]?.arrayValue,y=g[Wf]?.arrayValue,_=ze(m?.values?.length||0,y?.values?.length||0);return _!==0?_:rT(m,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===hf.mapValue&&u===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),m=u.fields||{},y=Object.keys(m);g.sort(),y.sort();for(let _=0;_<g.length&&_<y.length;++_){const S=Xm(g[_],y[_]);if(S!==0)return S;const C=xo(d[g[_]],m[y[_]]);if(C!==0)return C}return ze(g.length,y.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function sT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=pr(n),s=pr(e),a=ze(t.seconds,s.seconds);return a!==0?a:ze(t.nanos,s.nanos)}function rT(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=xo(t[a],s[a]);if(l)return l}return ze(t.length,s.length)}function So(n){return Zm(n)}function Zm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=pr(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return mr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ce.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Zm(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Zm(t.fields[u])}`;return a+"}"})(n.mapValue):Re(61005,{value:n})}function Mf(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(n);return e?16+Mf(e):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Mf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return br(s.fields,((l,u)=>{a+=l.length+Mf(u)})),a})(n.mapValue);default:throw Re(13486,{value:n})}}function Wm(n){return!!n&&"integerValue"in n}function iy(n){return!!n&&"arrayValue"in n}function aT(n){return!!n&&"nullValue"in n}function oT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function wN(n){return(n?.mapValue?.fields||{})[JS]?.stringValue===eE}function tc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return br(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=tc(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return{...n}}function DN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=rn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,a),s={},a=[],t=d.popLast()}u?s[d.lastSegment()]=tc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){br(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Mn(tc(this.value))}}function tE(n){const e=[];return br(n.fields,((t,s)=>{const a=new rn([t]);if(Nf(s)){const l=tE(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class fn{constructor(e,t,s,a,l,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,we.min(),we.min(),we.min(),Mn.empty(),0)}static newFoundDocument(e,t,s,a){return new fn(e,1,t,we.min(),s,a,0)}static newNoDocument(e,t){return new fn(e,2,t,we.min(),we.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,we.min(),we.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jf{constructor(e,t){this.position=e,this.inclusive=t}}function lT(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=Ce.comparator(Ce.fromName(u.referenceValue),t.key):s=xo(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function cT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function MN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class nE{}class Ht extends nE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kN(e,t,s):t==="array-contains"?new IN(e,s):t==="in"?new ON(e,s):t==="not-in"?new jN(e,s):t==="array-contains-any"?new LN(e,s):new Ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VN(e,s):new PN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&gr(this.value)===gr(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends nE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zi(e,t)}matches(e){return iE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(n){return n.op==="and"}function sE(n){return NN(n)&&iE(n)}function NN(n){for(const e of n.filters)if(e instanceof Zi)return!1;return!0}function Jm(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+So(n.value);if(sE(n))return n.filters.map((e=>Jm(e))).join(",");{const e=n.filters.map((t=>Jm(t))).join(",");return`${n.op}(${e})`}}function rE(n,e){return n instanceof Ht?(function(s,a){return a instanceof Ht&&s.op===a.op&&s.field.isEqual(a.field)&&Xi(s.value,a.value)})(n,e):n instanceof Zi?(function(s,a){return a instanceof Zi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&rE(u,a.filters[d])),!0):!1})(n,e):void Re(19439)}function aE(n){return n instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`})(n):n instanceof Zi?(function(t){return t.op.toString()+" {"+t.getFilters().map(aE).join(" ,")+"}"})(n):"Filter"}class kN extends Ht{constructor(e,t,s){super(e,t,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class VN extends Ht{constructor(e,t){super(e,"in",t),this.keys=oE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class PN extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=oE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oE(n,e){return(e.arrayValue?.values||[]).map((t=>Ce.fromName(t.referenceValue)))}class IN extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iy(t)&&gc(t.arrayValue,this.value)}}class ON extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gc(this.value.arrayValue,t)}}class jN extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gc(this.value.arrayValue,t)}}class LN extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>gc(this.value.arrayValue,s)))}}class BN{constructor(e,t=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function uT(n,e=null,t=[],s=[],a=null,l=null,u=null){return new BN(n,e,t,s,a,l,u)}function sy(n){const e=Me(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Jm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=t}return e.Te}function ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cT(n.startAt,e.startAt)&&cT(n.endAt,e.endAt)}function eg(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class vh{constructor(e,t=null,s=[],a=[],l=null,u="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zN(n,e,t,s,a,l,u,d){return new vh(n,e,t,s,a,l,u,d)}function ay(n){return new vh(n)}function fT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UN(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function FN(n){return n.collectionGroup!==null}function nc(n){const e=Me(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new qt(rn.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new eh(l,s))})),t.has(rn.keyField().canonicalString())||e.Ie.push(new eh(rn.keyField(),s))}return e.Ie}function $i(n){const e=Me(n);return e.Ee||(e.Ee=HN(e,nc(n))),e.Ee}function HN(n,e){if(n.limitType==="F")return uT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new eh(a.field,l)}));const t=n.endAt?new Jf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Jf(n.startAt.position,n.startAt.inclusive):null;return uT(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function tg(n,e,t){return new vh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _h(n,e){return ry($i(n),$i(e))&&n.limitType===e.limitType}function lE(n){return`${sy($i(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>aE(a))).join(", ")}]`),gh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>So(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>So(a))).join(",")),`Target(${s})`})($i(n))}; limitType=${n.limitType})`}function bh(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ce.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of nc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,g){const m=lT(u,d,g);return u.inclusive?m<=0:m<0})(s.startAt,nc(s),a)||s.endAt&&!(function(u,d,g){const m=lT(u,d,g);return u.inclusive?m>=0:m>0})(s.endAt,nc(s),a))})(n,e)}function qN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cE(n){return(e,t)=>{let s=!1;for(const a of nc(n)){const l=GN(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function GN(n,e,t){const s=n.field.isKeyField()?Ce.comparator(e.key,t.key):(function(l,u,d){const g=u.data.field(l),m=d.data.field(l);return g!==null&&m!==null?xo(g,m):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:n.dir})}}class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}const $N=new yt(Ce.comparator);function xs(){return $N}const uE=new yt(Ce.comparator);function Kl(...n){let e=uE;for(const t of n)e=e.insert(t.key,t);return e}function fE(n){let e=uE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ia(){return ic()}function hE(){return ic()}function ic(){return new da((n=>n.toString()),((n,e)=>n.isEqual(e)))}const KN=new yt(Ce.comparator),YN=new qt(Ce.comparator);function Ue(...n){let e=YN;for(const t of n)e=e.add(t);return e}const QN=new qt(ze);function XN(){return QN}function oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function dE(n){return{integerValue:""+n}}function ZN(n,e){return TN(e)?dE(e):oy(n,e)}class Th{constructor(){this._=void 0}}function WN(n,e,t){return n instanceof yc?(function(a,l){const u={fields:{[XS]:{stringValue:QS},[WS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ny(l)&&(l=yh(l)),l&&(u.fields[ZS]=l),{mapValue:u}})(t,e):n instanceof vc?mE(n,e):n instanceof _c?gE(n,e):(function(a,l){const u=pE(a,l),d=hT(u)+hT(a.Ae);return Wm(u)&&Wm(a.Ae)?dE(d):oy(a.serializer,d)})(n,e)}function JN(n,e,t){return n instanceof vc?mE(n,e):n instanceof _c?gE(n,e):t}function pE(n,e){return n instanceof th?(function(s){return Wm(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class yc extends Th{}class vc extends Th{constructor(e){super(),this.elements=e}}function mE(n,e){const t=yE(e);for(const s of n.elements)t.some((a=>Xi(a,s)))||t.push(s);return{arrayValue:{values:t}}}class _c extends Th{constructor(e){super(),this.elements=e}}function gE(n,e){let t=yE(e);for(const s of n.elements)t=t.filter((a=>!Xi(a,s)));return{arrayValue:{values:t}}}class th extends Th{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function hT(n){return Ct(n.integerValue||n.doubleValue)}function yE(n){return iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ek{constructor(e,t){this.field=e,this.transform=t}}function tk(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof vc&&a instanceof vc||s instanceof _c&&a instanceof _c?To(s.elements,a.elements,Xi):s instanceof th&&a instanceof th?Xi(s.Ae,a.Ae):s instanceof yc&&a instanceof yc})(n.transform,e.transform)}class nk{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xh{}function vE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ly(n.key,bi.none()):new Ac(n.key,n.data,bi.none());{const t=n.data,s=Mn.empty();let a=new qt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Tr(n.key,s,new Un(a.toArray()),bi.none())}}function ik(n,e,t){n instanceof Ac?(function(a,l,u){const d=a.value.clone(),g=pT(a.fieldTransforms,l,u.transformResults);d.setAll(g),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Tr?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=pT(a.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(_E(a)),g.setAll(d),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function sc(n,e,t,s){return n instanceof Ac?(function(l,u,d,g){if(!kf(l.precondition,u))return d;const m=l.value.clone(),y=mT(l.fieldTransforms,g,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,s):n instanceof Tr?(function(l,u,d,g){if(!kf(l.precondition,u))return d;const m=mT(l.fieldTransforms,g,u),y=u.data;return y.setAll(_E(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,s):(function(l,u,d){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function sk(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=pE(s.transform,a||null);l!=null&&(t===null&&(t=Mn.empty()),t.set(s.field,l))}return t||null}function dT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&To(s,a,((l,u)=>tk(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ac extends xh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Tr extends xh{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function pT(n,e,t){const s=new Map;Ze(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,JN(u,d,t[a]))}return s}function mT(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,WN(l,u,e))}return s}class ly extends xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rk extends xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ak{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ik(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=sc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=sc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hE();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(a.key)?null:d;const g=vE(u,d);g!==null&&s.set(a.key,g),u.isValidDocument()||u.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((t,s)=>dT(t,s)))&&To(this.baseMutations,e.baseMutations,((t,s)=>dT(t,s)))}}class cy{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return KN})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new cy(e,t,s,a)}}class ok{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lk{constructor(e,t){this.count=e,this.unchangedNames=t}}var It,He;function ck(n){switch(n){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function bE(n){if(n===void 0)return Ts("GRPC error has no .code"),re.UNKNOWN;switch(n){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:n})}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function uk(){return new TextEncoder}const fk=new cr([4294967295,4294967295],0);function gT(n){const e=uk().encode(n),t=new OS;return t.update(e),new Uint8Array(t.digest())}function yT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cr([t,s],0),new cr([a,l],0)]}class uy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Yl(`Invalid padding: ${t}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=cr.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(cr.fromNumber(s)));return a.compare(fk)===1&&(a=new cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gT(e),[s,a]=yT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new uy(l,a,t);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=gT(e),[s,a]=yT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sh(we.min(),a,new yt(ze),xs(),Ue())}}class Rc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Rc(s,t,Ue(),Ue(),Ue())}}class Vf{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class TE{constructor(e,t){this.targetId=e,this.Ce=t}}class xE{constructor(e,t,s=an.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class vT{constructor(){this.ve=0,this.Fe=_T(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Re(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=_T()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hk{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.He=df(),this.Je=df(),this.Ze=new yt(ze)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(eg(l))if(s===0){const u=new Ce(l.path);this.et(t,u,fn.newNoDocument(u,we.min()))}else Ze(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const d=this.ut(e),g=d?this.ct(d,e,u):1;if(g!==0){this.it(t);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,d;try{u=mr(s).toUint8Array()}catch(g){if(g instanceof YS)return la("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new uy(u,a,l)}catch(g){return la(g instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&eg(d.target)){const g=new Ce(d.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,fn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let s=Ue();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Sh(e,t,this.Ze,this.je,s);return this.je=xs(),this.He=df(),this.Je=df(),this.Ze=new yt(ze),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new vT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new qt(ze),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new qt(ze),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function df(){return new yt(Ce.comparator)}function _T(){return new yt(Ce.comparator)}const dk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(n,e){return n.useProto3Json||gh(e)?e:{value:e}}function nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yk(n,e){return nh(n,e.toTimestamp())}function Ki(n){return Ze(!!n,49232),we.fromTimestamp((function(t){const s=pr(t);return new ht(s.seconds,s.nanos)})(n))}function fy(n,e){return ig(n,e).canonicalString()}function ig(n,e){const t=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function EE(n){const e=ft.fromString(n);return Ze(DE(e),10190,{key:e.toString()}),e}function sg(n,e){return fy(n.databaseId,e.path)}function lm(n,e){const t=EE(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(AE(t))}function CE(n,e){return fy(n.databaseId,e)}function vk(n){const e=EE(n);return e.length===4?ft.emptyPath():AE(e)}function rg(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AE(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bT(n,e,t){return{name:sg(n,e),fields:t.value.mapValue.fields}}function _k(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const y=m.code===void 0?re.UNKNOWN:bE(m.code);return new xe(y,m.message||"")})(u);t=new xE(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=lm(n,s.document.name),l=Ki(s.document.updateTime),u=s.document.createTime?Ki(s.document.createTime):we.min(),d=new Mn({mapValue:{fields:s.document.fields}}),g=fn.newFoundDocument(a,l,u,d),m=s.targetIds||[],y=s.removedTargetIds||[];t=new Vf(m,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=lm(n,s.document),l=s.readTime?Ki(s.readTime):we.min(),u=fn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Vf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=lm(n,s.document),l=s.removedTargetIds||[];t=new Vf([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new lk(a,l),d=s.targetId;t=new TE(d,u)}}return t}function bk(n,e){let t;if(e instanceof Ac)t={update:bT(n,e.key,e.value)};else if(e instanceof ly)t={delete:sg(n,e.key)};else if(e instanceof Tr)t={update:bT(n,e.key,e.data),updateMask:Dk(e.fieldMask)};else{if(!(e instanceof rk))return Re(16599,{dt:e.type});t={verify:sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof yc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof th)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:yk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(n,e.precondition)),t}function Tk(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Ki(a.updateTime):Ki(l);return u.isEqual(we.min())&&(u=Ki(l)),new nk(u,a.transformResults||[])})(t,e)))):[]}function xk(n,e){return{documents:[CE(n,e.path)]}}function Sk(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=CE(n,a);const l=(function(m){if(m.length!==0)return wE(Zi.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(S){return{field:ro(S.field),direction:Ak(S.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=ng(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function Ek(n){let e=vk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ze(s===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(_){const S=RE(_);return S instanceof Zi&&sE(S)?S.getFilters():[S]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((S=>(function(N){return new eh(ao(N.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,gh(S)?null:S})(t.limit));let g=null;t.startAt&&(g=(function(_){const S=!!_.before,C=_.values||[];return new Jf(C,S)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const S=!_.before,C=_.values||[];return new Jf(C,S)})(t.endAt)),zN(e,a,u,l,d,"F",g,m)}function Ck(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ao(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ao(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ao(t.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ht.create(ao(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zi.create(t.compositeFilter.filters.map((s=>RE(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function Ak(n){return dk[n]}function Rk(n){return pk[n]}function wk(n){return mk[n]}function ro(n){return{fieldPath:n.canonicalString()}}function ao(n){return rn.fromServerFormat(n.fieldPath)}function wE(n){return n instanceof Ht?(function(t){if(t.op==="=="){if(oT(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(aT(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oT(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(aT(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:Rk(t.op),value:t.value}}})(n):n instanceof Zi?(function(t){const s=t.getFilters().map((a=>wE(a)));return s.length===1?s[0]:{compositeFilter:{op:wk(t.op),filters:s}}})(n):Re(54877,{filter:n})}function Dk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function ME(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class rr{constructor(e,t,s,a,l=we.min(),u=we.min(),d=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mk{constructor(e){this.yt=e}}function Nk(n){const e=Ek({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tg(e,e.limit,"L"):e}class kk{constructor(){this.Sn=new Vk}addToCollectionParentIndex(e,t){return this.Sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(dr.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Vk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(ft.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(ft.comparator)).toArray()}}const TT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NE=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(NE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Eo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const xT="LruGarbageCollector",Pk=1048576;function ST([n,e],[t,s]){const a=ze(n,t);return a===0?ze(e,s):a}class Ik{constructor(e){this.Pr=e,this.buffer=new qt(ST),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ST(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ok{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(xT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?me(xT,"Ignoring IndexedDB error during garbage collection: ",t):await ko(t)}await this.Ar(3e5)}))}}class jk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(mh.ce);const s=new Ik(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(TT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TT):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,l,u,d,g,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,t)))).next((_=>(l=_,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(m=Date.now(),io()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${_} documents in `+(m-g)+`ms
Total Duration: ${m-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Lk(n,e){return new jk(n,e)}class Bk{constructor(){this.changes=new da((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uk{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&sc(s.mutation,a,Un.empty(),ht.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const a=ia();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let u=Kl();return l.forEach(((d,g)=>{u=u.insert(d,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,s,a){let l=xs();const u=ic(),d=(function(){return ic()})();return t.forEach(((g,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Tr)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),sc(y.mutation,m,y.mutation.getFieldMask(),ht.now())):u.set(m.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>d.set(m,new zk(y,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=ic();let a=new yt(((u,d)=>u-d)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((g=>{const m=t.get(g);if(m===null)return;let y=s.get(g)||Un.empty();y=d.applyToLocalView(m,y),s.set(g,y);const _=(a.get(d.batchId)||Ue()).add(g);a=a.insert(d.batchId,_)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),m=g.key,y=g.value,_=hE();y.forEach((S=>{if(!l.has(S)){const C=vE(t.get(S),s.get(S));C!==null&&_.set(S,C),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return se.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return UN(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):se.resolve(ia());let d=dc,g=l;return u.next((m=>se.forEach(m,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((S=>{g=g.insert(y,S)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,g,m,Ue()))).next((y=>({batchId:d,changes:fE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((s=>{let a=Kl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Kl();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(g=>{const m=(function(_,S){return new vh(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((y=>{y.forEach(((_,S)=>{u=u.insert(_,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((u=>{l.forEach(((g,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,fn.newInvalidDocument(y)))}));let d=Kl();return u.forEach(((g,m)=>{const y=l.get(g);y!==void 0&&sc(y.mutation,m,Un.empty(),ht.now()),bh(t,m)&&(d=d.insert(g,m))})),d}))}}class Fk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return se.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ki(a.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:Nk(a.bundledQuery),readTime:Ki(a.readTime)}})(t)),se.resolve()}}class Hk{constructor(){this.overlays=new yt(Ce.comparator),this.Lr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return se.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.bt(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const a=ia(),l=t.length+1,u=new Ce(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const g=d.getNext().value,m=g.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new yt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=ia(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=ia(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=a)););return se.resolve(d)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ok(t,s));let l=this.Lr.get(t);l===void 0&&(l=Ue(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}class qk{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class hy{constructor(){this.kr=new qt(Yt.Kr),this.qr=new qt(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Yt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Ce(new ft([])),s=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ce(new ft([])),s=new Yt(t,e),a=new Yt(t,e+1);let l=Ue();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Yt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ce.comparator(e.key,t.key)||ze(e.Hr,t.Hr)}static Ur(e,t){return ze(e.Hr,t.Hr)||Ce.comparator(e.key,t.key)}}class Gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Yt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ak(l,t,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ty:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(ze);return t.forEach((a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{s=s.add(d.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ce.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new Ce(l),0);let d=new qt(ze);return this.Jr.forEachWhile((g=>{const m=g.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(g.Hr)),!0)}),u),se.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ze(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(t.mutations,(a=>{const l=new Yt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Yt(t,0),a=this.Jr.firstAfterOrEqual(s);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $k{constructor(e){this.ti=e,this.docs=(function(){return new yt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let s=xs();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=xs();const u=t.path,d=new Ce(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:m,value:{document:y}}=g.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||yN(gN(y),s)<=0||(a.has(y.key)||bh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Re(9500)}ni(e,t){return se.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Kk(this)}getSize(e){return se.resolve(this.size)}}class Kk extends Bk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),se.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Yk{constructor(e){this.persistence=e,this.ri=new da((t=>sy(t)),ry),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new hy,this.targetCount=0,this.oi=Eo._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),se.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Eo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.lr(t),se.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),se.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this.si.containsKey(t))}}class kE{constructor(e,t){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new qk,this.referenceDelegate=e(this),this.li=new Yk(this),this.indexManager=new kk,this.remoteDocumentCache=(function(a){return new $k(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Mk(t),this.Pi=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new Gk(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){me("MemoryPersistence","Starting transaction:",e);const a=new Qk(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class Qk extends _N{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Ri=new hy,this.Ai=null}static Vi(e){return new dy(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const a=Ce.fromPath(s);return this.mi(e,a).next((l=>{l||t.removeEntry(a,we.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.fi=new da((s=>xN(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Lk(this,t)}static Vi(e,t){return new ih(e,t)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return se.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?se.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(s++,l.removeEntry(u,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mf(e.data.value)),t}wr(e,t,s){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class py{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=Ue(),a=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new py(e,t.fromCache,s,a)}}class Xk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return j6()?8:bN(I6())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Xk;return this.ys(e,t,u).next((d=>{if(l.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>l.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(io()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",so(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(io()<=qe.DEBUG&&me("QueryEngine","Query:",so(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(io()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",so(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):se.resolve())}gs(e,t){if(fT(t))return se.resolve(null);let s=$i(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=tg(t,null,"F"),s=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ue(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((g=>{const m=this.bs(t,d);return this.Ss(t,m,u,g.readTime)?this.gs(e,tg(t,null,"F")):this.Ds(e,m,t,g)}))))})))))}ps(e,t,s,a){return fT(t)||a.isEqual(we.min())?se.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,s,a)?se.resolve(null):(io()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),so(t)),this.Ds(e,u,t,mN(a,dc)).next((d=>d)))}))}bs(e,t){let s=new qt(cE(e));return t.forEach(((a,l)=>{bh(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,s){return io()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",so(t)),this.fs.getDocumentsMatchingQuery(e,t,dr.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const my="LocalStore",Wk=3e8;class Jk{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new yt(ze),this.Fs=new da((l=>sy(l)),ry),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function eV(n,e,t,s){return new Jk(n,e,t,s)}async function VE(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let g=Ue();for(const m of a){u.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(s,g).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function tV(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,m,y){const _=m.batch,S=_.keys();let C=se.resolve();return S.forEach((N=>{C=C.next((()=>y.getEntry(g,N))).next((L=>{const B=m.docVersions.get(N);Ze(B!==null,48541),L.version.compareTo(B)<0&&(_.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(g,_)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let g=Ue();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(g=g.add(d.batch.mutations[m].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function PE(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function nV(n,e){const t=Me(n),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((y,_)=>{const S=a.get(_);if(!S)return;d.push(t.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,_))));let C=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(an.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),(function(L,B,K){return L.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Wk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,C,y)&&d.push(t.li.updateTargetData(l,C))}));let g=xs(),m=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(iV(l,u,e.documentUpdates).next((y=>{g=y.Bs,m=y.Ls}))),!s.isEqual(we.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((_=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return se.waitFor(d).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,m))).next((()=>g))})).then((l=>(t.vs=a,l)))}function iV(n,e,t){let s=Ue(),a=Ue();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=xs();return t.forEach(((d,g)=>{const m=l.get(d);g.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(d,g.readTime),u=u.insert(d,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),u=u.insert(d,g)):me(my,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",g.version)})),{Bs:u,Ls:a}}))}function sV(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rV(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):t.li.allocateTargetId(s).next((u=>(a=new rr(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function ag(n,e,t){const s=Me(n),a=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vo(u))throw u;me(my,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function ET(n,e,t){const s=Me(n);let a=we.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,m,y){const _=Me(g),S=_.Fs.get(y);return S!==void 0?se.resolve(_.vs.get(S)):_.li.getTargetData(m,y)})(s,u,$i(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((g=>{l=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?a:we.min(),t?l:Ue()))).next((d=>(aV(s,qN(e),d),{documents:d,ks:l})))))}function aV(n,e,t){let s=n.Ms.get(e)||we.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class CT{constructor(){this.activeTargetIds=XN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oV{constructor(){this.vo=new CT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new CT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lV{Mo(e){}shutdown(){}}const AT="ConnectivityMonitor";class RT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(AT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(AT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pf=null;function og(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}const cm="RestConnection",cV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Zf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,l){const u=og(),d=this.Qo(e,t.toUriEncodedString());me(cm,`Sending RPC '${e}' ${u}:`,d,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,l);const{host:m}=new URL(d),y=Xg(m);return this.zo(e,d,g,s,y).then((_=>(me(cm,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw la(cm,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(e,t,s,a,l,u){return this.Wo(e,t,s,a,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const s=cV[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class fV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ln="WebChannelConnection",Hl=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class yo extends uV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=zS();Hl(e,BS.STAT_EVENT,(t=>{t.stat===Qm.PROXY?me(ln,"STAT_EVENT: detected buffering proxy"):t.stat===Qm.NOPROXY&&me(ln,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,t,s,a,l){const u=og();return new Promise(((d,g)=>{const m=new jS;m.setWithCredentials(!0),m.listenOnce(LS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Df.NO_ERROR:const _=m.getResponseJson();me(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case Df.TIMEOUT:me(ln,`RPC '${e}' ${u} timed out`),g(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const S=m.getStatus();if(me(ln,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const L=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Z)>=0?Z:re.UNKNOWN})(N.status);g(new xe(L,N.message))}else g(new xe(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new xe(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(ln,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,s,15)}))}T_(e,t,s){const a=og(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,s),d.encodeInitMessageHeaders=!0;const m=l.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${m}`,d);const y=u.createWebChannel(m,d);this.I_(y);let _=!1,S=!1;const C=new fV({Ho:N=>{S?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(_||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),me(ln,`RPC '${e}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return Hl(y,$l.EventType.OPEN,(()=>{S||(me(ln,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),Hl(y,$l.EventType.CLOSE,(()=>{S||(S=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Hl(y,$l.EventType.ERROR,(N=>{S||(S=!0,la(ln,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.o_(new xe(re.UNAVAILABLE,"The operation could not be completed")))})),Hl(y,$l.EventType.MESSAGE,(N=>{if(!S){const L=N.data[0];Ze(!!L,16349);const B=L,K=B?.error||B[0]?.error;if(K){me(ln,`RPC '${e}' stream ${a} received error:`,K);const Z=K.status;let ee=(function(de){const D=It[de];if(D!==void 0)return bE(D)})(Z),le=K.message;Z==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ee===void 0&&(ee=re.INTERNAL,le="Unknown error status: "+Z+" with message "+K.message),S=!0,C.o_(new xe(ee,le)),y.close()}else me(ln,`RPC '${e}' stream ${a} received:`,L),C.__(L)}})),yo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return US()}}function hV(n){return new yo(n)}function um(){return typeof document<"u"?document:null}function Eh(n){return new gk(n,!0)}yo.c_=!1;class IE{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const wT="PersistentStream";class OE{constructor(e,t,s,a,l,u,d,g){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ts(t.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new xe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(me(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dV extends OE{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_k(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?Ki(u.readTime):we.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=rg(this.serializer),t.addTarget=(function(l,u){let d;const g=u.target;if(d=eg(g)?{documents:xk(l,g)}:{query:Sk(l,g).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=SE(l,u.resumeToken);const m=ng(l,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(we.min())>0){d.readTime=nh(l,u.snapshotVersion.toTimestamp());const m=ng(l,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const s=Ck(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.K_(t)}}class pV extends OE{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Tk(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=rg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>bk(this.serializer,s)))};this.K_(t)}}class mV{}class gV extends mV{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,ig(t,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(re.UNKNOWN,l.toString())}))}jo(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,ig(t,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yV(n,e,t,s){return new gV(n,e,t,s)}class vV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class _V{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{pa(this)&&(me(ca,"Restarting streams for network reachability change."),await(async function(g){const m=Me(g);m.Ea.add(4),await wc(m),m.Va.set("Unknown"),m.Ea.delete(4),await Ch(m)})(this))}))})),this.Va=new vV(s,a)}}async function Ch(n){if(pa(n))for(const e of n.Ra)await e(!0)}async function wc(n){for(const e of n.Ra)await e(!1)}function jE(n,e){const t=Me(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_y(t)?vy(t):Po(t).O_()&&yy(t,e))}function gy(n,e){const t=Me(n),s=Po(t);t.Ia.delete(e),s.O_()&&LE(t,e),t.Ia.size===0&&(s.O_()?s.L_():pa(t)&&t.Va.set("Unknown"))}function yy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(n).Z_(e)}function LE(n,e){n.da.$e(e),Po(n).X_(e)}function vy(n){n.da=new hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Po(n).start(),n.Va.ua()}function _y(n){return pa(n)&&!Po(n).x_()&&n.Ia.size>0}function pa(n){return Me(n).Ea.size===0}function BE(n){n.da=void 0}async function bV(n){n.Va.set("Online")}async function TV(n){n.Ia.forEach(((e,t)=>{yy(n,e)}))}async function xV(n,e){BE(n),_y(n)?(n.Va.ha(e),vy(n)):n.Va.set("Unknown")}async function SV(n,e,t){if(n.Va.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(n,e)}catch(s){me(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sh(n,s)}else if(e instanceof Vf?n.da.Xe(e):e instanceof TE?n.da.st(e):n.da.tt(e),!t.isEqual(we.min()))try{const s=await PE(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(g.resumeToken,u))}})),d.targetMismatches.forEach(((g,m)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),LE(l,g);const _=new rr(y.target,g,m,y.sequenceNumber);yy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){me(ca,"Failed to raise snapshot:",s),await sh(n,s)}}async function sh(n,e,t){if(!Vo(e))throw e;n.Ea.add(1),await wc(n),n.Va.set("Offline"),t||(t=()=>PE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(ca,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ch(n)}))}function zE(n,e){return e().catch((t=>sh(n,t,e)))}async function Ah(n){const e=Me(n),t=yr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ty;for(;EV(e);)try{const a=await sV(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,CV(e,a)}catch(a){await sh(e,a)}UE(e)&&FE(e)}function EV(n){return pa(n)&&n.Ta.length<10}function CV(n,e){n.Ta.push(e);const t=yr(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function UE(n){return pa(n)&&!yr(n).x_()&&n.Ta.length>0}function FE(n){yr(n).start()}async function AV(n){yr(n).ra()}async function RV(n){const e=yr(n);for(const t of n.Ta)e.ea(t.mutations)}async function wV(n,e,t){const s=n.Ta.shift(),a=cy.from(s,e,t);await zE(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ah(n)}async function DV(n,e){e&&yr(n).Y_&&await(async function(s,a){if((function(u){return ck(u)&&u!==re.ABORTED})(a.code)){const l=s.Ta.shift();yr(s).B_(),await zE(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ah(s)}})(n,e),UE(n)&&FE(n)}async function DT(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),me(ca,"RemoteStore received new credentials");const s=pa(t);t.Ea.add(3),await wc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ch(t)}async function MV(n,e){const t=Me(n);e?(t.Ea.delete(2),await Ch(t)):e||(t.Ea.add(2),await wc(t),t.Va.set("Unknown"))}function Po(n){return n.ma||(n.ma=(function(t,s,a){const l=Me(t);return l.sa(),new dV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:bV.bind(null,n),Yo:TV.bind(null,n),t_:xV.bind(null,n),J_:SV.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),_y(n)?vy(n):n.Va.set("Unknown")):(await n.ma.stop(),BE(n))}))),n.ma}function yr(n){return n.fa||(n.fa=(function(t,s,a){const l=Me(t);return l.sa(),new pV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AV.bind(null,n),t_:DV.bind(null,n),ta:RV.bind(null,n),na:wV.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Ah(n)):(await n.fa.stop(),n.Ta.length>0&&(me(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class by{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,d=new by(e,t,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,e){if(Ts("AsyncQueue",`${e}: ${n}`),Vo(n))return new xe(re.UNAVAILABLE,`${e}: ${n}`);throw n}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ce.comparator(t.key,s.key):(t,s)=>Ce.comparator(t.key,s.key),this.keyedMap=Kl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class MT{constructor(){this.ga=new yt(Ce.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Co{constructor(e,t,s,a,l,u,d,g,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Co(e,t,vo.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class NV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class kV{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Me(t),l=a.queries;a.queries=NT(),l.forEach(((u,d)=>{for(const g of d.ba)g.onError(s)}))})(this,new xe(re.ABORTED,"Firestore shutting down"))}}function NT(){return new da((n=>lE(n)),_h)}async function VV(n,e){const t=Me(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new NV,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=Ty(u,`Initialization of query '${so(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&xy(t)}async function PV(n,e){const t=Me(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function IV(n,e){const t=Me(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&xy(t)}function OV(n,e,t){const s=Me(n),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(t);s.queries.delete(e)}function xy(n){n.Ca.forEach((e=>{e.next()}))}var lg,kT;(kT=lg||(lg={})).Ma="default",kT.Cache="cache";class jV{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lg.Cache}}class HE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class LV{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=cE(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new MT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const S=a.get(y),C=bh(this.query,_)?_:null,N=!!S&&this.mutatedKeys.has(S.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;S&&C?S.data.isEqual(C.data)?N!==L&&(s.track({type:3,doc:C}),B=!0):this.su(S,C)||(s.track({type:2,doc:C}),B=!0,(g&&this.eu(C,g)>0||m&&this.eu(C,m)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),B=!0):S&&!C&&(s.track({type:1,doc:S}),B=!0,(g||m)&&(d=!0)),B&&(C?(u=u.add(C),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(C,N){const L=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:B})}};return L(C)-L(N)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,m=g!==this.Xa;return this.Xa=g,u.length!==0||m?{snapshot:new Co(this.query,e.tu,l,u,e.mutatedKeys,g===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new qE(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new HE(s))})),t}cu(e){this.Za=e.ks,this.Ya=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sy="SyncEngine";class BV{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class zV{constructor(e){this.key=e,this.hu=!1}}class UV{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new da((d=>lE(d)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(Ce.comparator),this.Au=new Map,this.Vu=new hy,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FV(n,e,t=!0){const s=XE(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await GE(s,e,t,!0),a}async function HV(n,e){const t=XE(n);await GE(t,e,!0,!1)}async function GE(n,e,t,s){const a=await rV(n.localStore,$i(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await qV(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&jE(n.remoteStore,a),d}async function qV(n,e,t,s,a){n.pu=(_,S,C)=>(async function(L,B,K,Z){let ee=B.view.ru(K);ee.Ss&&(ee=await ET(L.localStore,B.query,!1).then((({documents:D})=>B.view.ru(D,ee))));const le=Z&&Z.targetChanges.get(B.targetId),ae=Z&&Z.targetMismatches.get(B.targetId)!=null,de=B.view.applyChanges(ee,L.isPrimaryClient,le,ae);return PT(L,B.targetId,de.au),de.snapshot})(n,_,S,C);const l=await ET(n.localStore,e,!0),u=new LV(e,l.ks),d=u.ru(l.documents),g=Rc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),m=u.applyChanges(d,n.isPrimaryClient,g);PT(n,t,m.au);const y=new BV(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function GV(n,e,t){const s=Me(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!_h(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ag(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&gy(s.remoteStore,a.targetId),cg(s,a.targetId)})).catch(ko)):(cg(s,a.targetId),await ag(s.localStore,a.targetId,!0))}async function $V(n,e){const t=Me(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),gy(t.remoteStore,s.targetId))}async function KV(n,e,t){const s=eP(n);try{const a=await(function(u,d){const g=Me(u),m=ht.now(),y=d.reduce(((C,N)=>C.add(N.key)),Ue());let _,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let N=xs(),L=Ue();return g.xs.getEntries(C,y).next((B=>{N=B,N.forEach(((K,Z)=>{Z.isValidDocument()||(L=L.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,N))).next((B=>{_=B;const K=[];for(const Z of d){const ee=sk(Z,_.get(Z.key).overlayedDocument);ee!=null&&K.push(new Tr(Z.key,ee,tE(ee.value.mapValue),bi.exists(!0)))}return g.mutationQueue.addMutationBatch(C,m,K,d)})).next((B=>{S=B;const K=B.applyToLocalDocumentSet(_,L);return g.documentOverlayCache.saveOverlays(C,B.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:fE(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,g){let m=u.du[u.currentUser.toKey()];m||(m=new yt(ze)),m=m.insert(d,g),u.du[u.currentUser.toKey()]=m})(s,a.batchId,t),await Dc(s,a.changes),await Ah(s.remoteStore)}catch(a){const l=Ty(a,"Failed to persist write");t.reject(l)}}async function $E(n,e){const t=Me(n);try{const s=await nV(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ze(u.hu,14607):a.removedDocuments.size>0&&(Ze(u.hu,42227),u.hu=!1))})),await Dc(t,s,e)}catch(s){await ko(s)}}function VT(n,e,t){const s=Me(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const g=Me(u);g.onlineState=d;let m=!1;g.queries.forEach(((y,_)=>{for(const S of _.ba)S.va(d)&&(m=!0)})),m&&xy(g)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YV(n,e,t){const s=Me(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new yt(Ce.comparator);u=u.insert(l,fn.newNoDocument(l,we.min()));const d=Ue().add(l),g=new Sh(we.min(),new Map,new yt(ze),u,d);await $E(s,g),s.Ru=s.Ru.remove(l),s.Au.delete(e),Ey(s)}else await ag(s.localStore,e,!1).then((()=>cg(s,e,t))).catch(ko)}async function QV(n,e){const t=Me(n),s=e.batch.batchId;try{const a=await tV(t.localStore,e);YE(t,s,null),KE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Dc(t,a)}catch(a){await ko(a)}}async function XV(n,e,t){const s=Me(n);try{const a=await(function(u,d){const g=Me(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return g.mutationQueue.lookupMutationBatch(m,d).next((_=>(Ze(_!==null,37113),y=_.keys(),g.mutationQueue.removeMutationBatch(m,_)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>g.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);YE(s,e,t),KE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Dc(s,a)}catch(a){await ko(a)}}function KE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function YE(n,e,t){const s=Me(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function cg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||QE(n,s)}))}function QE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(gy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Ey(n))}function PT(n,e,t){for(const s of t)s instanceof HE?(n.Vu.addReference(s.key,e),ZV(n,s)):s instanceof qE?(me(Sy,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||QE(n,s.key)):Re(19791,{wu:s})}function ZV(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(me(Sy,"New document in limbo: "+t),n.Eu.add(s),Ey(n))}function Ey(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ce(ft.fromString(e)),s=n.fu.next();n.Au.set(s,new zV(t)),n.Ru=n.Ru.insert(t,s),jE(n.remoteStore,new rr($i(ay(t.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function Dc(n,e,t){const s=Me(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,g)=>{u.push(s.pu(g,e,t).then((m=>{if((m||t)&&s.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(m){a.push(m);const y=py.Es(g.targetId,m);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(g,m){const y=Me(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(m,(S=>se.forEach(S.Ts,(C=>y.persistence.referenceDelegate.addReference(_,S.targetId,C))).next((()=>se.forEach(S.Is,(C=>y.persistence.referenceDelegate.removeReference(_,S.targetId,C)))))))))}catch(_){if(!Vo(_))throw _;me(my,"Failed to update sequence numbers: "+_)}for(const _ of m){const S=_.targetId;if(!_.fromCache){const C=y.vs.get(S),N=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(S,L)}}})(s.localStore,l))}async function WV(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){me(Sy,"User change. New user:",e.toKey());const s=await VE(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new xe(re.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Dc(t,s.Ns)}}function JV(n,e){const t=Me(n),s=t.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const d=t.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function XE(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YV.bind(null,e),e.Pu.J_=IV.bind(null,e.eventManager),e.Pu.yu=OV.bind(null,e.eventManager),e}function eP(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XV.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eV(this.persistence,new Zk,e.initialUser,this.serializer)}Cu(e){return new kE(dy.Vi,this.serializer)}Du(e){return new oV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class tP extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ok(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new kE((s=>ih.Vi(s,t)),this.serializer)}}class ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>VT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WV.bind(null,this.syncEngine),await MV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kV})()}createDatastore(e){const t=Eh(e.databaseInfo.databaseId),s=hV(e.databaseInfo);return yV(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,u,d){return new _V(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>VT(this.syncEngine,t,0)),(function(){return RT.v()?new RT:new lV})())}createSyncEngine(e,t){return(function(a,l,u,d,g,m,y){const _=new UV(a,l,u,d,g,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Me(t);me(ca,"RemoteStore shutting down."),s.Ea.add(5),await wc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};class nP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vr="FirestoreClient";class iP{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me(vr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(vr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ty(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fm(n,e){n.asyncQueue.verifyOperationInProgress(),me(vr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await VE(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function IT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sP(n);me(vr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>DT(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>DT(e.remoteStore,a))),n._onlineComponents=e}async function sP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(vr,"Using user provided OfflineComponentProvider");try{await fm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;la("Error using user provided cache. Falling back to memory cache: "+t),await fm(n,new rh)}}else me(vr,"Using default OfflineComponentProvider"),await fm(n,new tP(void 0));return n._offlineComponents}async function ZE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(vr,"Using user provided OnlineComponentProvider"),await IT(n,n._uninitializedComponentsProvider._online)):(me(vr,"Using default OnlineComponentProvider"),await IT(n,new ug))),n._onlineComponents}function rP(n){return ZE(n).then((e=>e.syncEngine))}async function OT(n){const e=await ZE(n),t=e.eventManager;return t.onListen=FV.bind(null,e.syncEngine),t.onUnlisten=GV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$V.bind(null,e.syncEngine),t}function aP(n,e,t,s){const a=new nP(s),l=new jV(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>VV(await OT(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>PV(await OT(n),l)))}}function oP(n,e){const t=new ra;return n.asyncQueue.enqueueAndForget((async()=>KV(await rP(n),e,t))),t.promise}function WE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const lP="ComponentProvider",jT=new Map;function cP(n,e,t,s,a){return new CN(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,WE(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const JE="firestore.googleapis.com",LT=!0;class BT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=LT}else this.host=e.host,this.ssl=e.ssl??LT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pk)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sN;switch(s.type){case"firstParty":return new lN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=jT.get(t);s&&(me(lP,"Removing Datastore"),jT.delete(t),s.terminate())})(this),Promise.resolve()}}function uP(n,e,t,s={}){n=ys(n,Rh);const a=Xg(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(M6(`https://${d}`),P6("Firestore",!0)),l.host!==JE&&l.host!==d&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:a,emulatorOptions:s};if(!Kf(g,u)&&(n._setSettings(g),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=cn.MOCK_USER;else{m=N6(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(_)}n._authCredentials=new rN(new HS(m,y))}}class wh{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wh(this.firestore,e,this._query)}}class Bt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cc(t,Bt._jsonSchema))return new Bt(e,s||null,new Ce(ft.fromString(t.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Lt("string",Bt._jsonSchemaVersion),referencePath:Lt("string")};class ur extends wh{constructor(e,t,s){super(e,t,ay(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Ce(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function fP(n,e,...t){if(n=_s(n),qS("collection","path",e),n instanceof Rh){const s=ft.fromString(e,...t);return W1(s),new ur(n,null,s)}{if(!(n instanceof Bt||n instanceof ur))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ft.fromString(e,...t));return W1(s),new ur(n.firestore,null,s)}}function Cy(n,e,...t){if(n=_s(n),arguments.length===1&&(e=Jg.newId()),qS("doc","path",e),n instanceof Rh){const s=ft.fromString(e,...t);return Z1(s),new Bt(n,null,new Ce(s))}{if(!(n instanceof Bt||n instanceof ur))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ft.fromString(e,...t));return Z1(s),new Bt(n.firestore,n instanceof ur?n.converter:null,new Ce(s))}}const zT="AsyncQueue";class UT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IE(this,"async_queue_retry"),this._c=()=>{const s=um();s&&me(zT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;me(zT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",FT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=by.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:FT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function FT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ao extends Rh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new UT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function hP(n,e){const t=typeof n=="object"?n:qM(),s=typeof n=="string"?n:Zf,a=BM(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=w6("firestore");l&&uP(a,...l)}return a}function eC(n){if(n._terminated)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dP(n),n._firestoreClient}function dP(n){const e=n._freezeSettings(),t=cP(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new iP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(an.fromBase64String(e))}catch(t){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ni(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cc(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Lt("string",ni._jsonSchemaVersion),bytes:Lt("string")};class Ay{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dh{constructor(e){this._methodName=e}}class Yi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(Cc(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Lt("string",Yi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Ti{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cc(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ti(e.vectorValues);throw new xe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Lt("string",Ti._jsonSchemaVersion),vectorValues:Lt("object")};const pP=/^__.*__$/;class mP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ac(e,this.data,t,this.fieldTransforms)}}class tC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:n})}}class Ry{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ry({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nC(this.dataSource)&&pP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Eh(e)}createContext(e,t,s,a=!1){return new Ry({dataSource:e,methodName:t,targetDoc:s,path:rn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iC(n){const e=n._freezeSettings(),t=Eh(n._databaseId);return new gP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yP(n,e,t,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);Dy("Data must be an object, but it was:",u,s);const d=sC(s,u);let g,m;if(l.merge)g=new Un(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=bc(e,_,t);if(!u.contains(S))throw new xe(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);oC(y,S)||y.push(S)}g=new Un(y),m=u.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,m=u.fieldTransforms;return new mP(new Mn(d),g,m)}class Mh extends Dh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class wy extends Dh{_toFieldTransform(e){return new ek(e.path,new yc)}isEqual(e){return e instanceof wy}}function vP(n,e,t,s){const a=n.createContext(1,e,t);Dy("Data must be an object, but it was:",a,s);const l=[],u=Mn.empty();br(s,((g,m)=>{const y=aC(e,g,t);m=_s(m);const _=a.childContextForFieldPath(y);if(m instanceof Mh)l.push(y);else{const S=Nh(m,_);S!=null&&(l.push(y),u.set(y,S))}}));const d=new Un(l);return new tC(u,d,a.fieldTransforms)}function _P(n,e,t,s,a,l){const u=n.createContext(1,e,t),d=[bc(e,s,t)],g=[a];if(l.length%2!=0)throw new xe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(bc(e,l[S])),g.push(l[S+1]);const m=[],y=Mn.empty();for(let S=d.length-1;S>=0;--S)if(!oC(m,d[S])){const C=d[S];let N=g[S];N=_s(N);const L=u.childContextForFieldPath(C);if(N instanceof Mh)m.push(C);else{const B=Nh(N,L);B!=null&&(m.push(C),y.set(C,B))}}const _=new Un(m);return new tC(y,_,u.fieldTransforms)}function Nh(n,e){if(rC(n=_s(n)))return Dy("Unsupported field value:",e,n),sC(n,e);if(n instanceof Dh)return(function(s,a){if(!nC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let g=Nh(d,a.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=_s(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ht.fromDate(s);return{timestampValue:nh(a.serializer,l)}}if(s instanceof ht){const l=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(a.serializer,l)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:SE(a.serializer,s._byteString)};if(s instanceof Bt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ti)return(function(u,d){const g=u instanceof Ti?u.toArray():u;return{mapValue:{fields:{[JS]:{stringValue:eE},[Wf]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return oy(d.serializer,y)}))}}}}}})(s,a);if(ME(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ey(s)}`)})(n,e)}function sC(n,e){const t={};return KS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(n,((s,a)=>{const l=Nh(a,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function rC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Yi||n instanceof ni||n instanceof Bt||n instanceof Dh||n instanceof Ti||ME(n))}function Dy(n,e,t){if(!rC(t)||!GS(t)){const s=ey(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function bc(n,e,t){if((e=_s(e))instanceof Ay)return e._internalPath;if(typeof e=="string")return aC(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const bP=new RegExp("[~\\*/\\[\\]]");function aC(n,e,t){if(e.search(bP)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ay(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${s}`),u&&(g+=` in document ${a}`),g+=")"),new xe(re.INVALID_ARGUMENT,d+n+g)}function oC(n,e){return n.some((t=>t.isEqual(e)))}class TP{convertValue(e,t="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return br(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Wf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new Ti(t)}convertGeoPoint(e){return new Yi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=pr(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ft.fromString(e);Ze(DE(s),9688,{name:e});const a=new mc(s.get(1),s.get(3)),l=new Ce(s.popFirst(5));return a.isEqual(t)||Ts(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class lC extends TP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function cC(){return new wy("serverTimestamp")}const HT="@firebase/firestore",qT="4.11.0";function GT(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class uC{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(bc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xP extends uC{data(){return super.data()}}function SP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function EP(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends uC{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(bc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Lt("string",aa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Pf extends aa{data(e={}){return super.data(e)}}class _o{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ql(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Pf(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const g=new Pf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ql(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new Pf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ql(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:CP(d.type),doc:g,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Lt("string",_o._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function AP(n,e,t){n=ys(n,Bt);const s=ys(n.firestore,Ao),a=EP(n.converter,e),l=iC(s);return My(s,[yP(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,bi.none())])}function RP(n,e,t,...s){n=ys(n,Bt);const a=ys(n.firestore,Ao),l=iC(a);let u;return u=typeof(e=_s(e))=="string"||e instanceof Ay?_P(l,"updateDoc",n._key,e,t,s):vP(l,"updateDoc",n._key,e),My(a,[u.toMutation(n._key,bi.exists(!0))])}function wP(n){return My(ys(n.firestore,Ao),[new ly(n._key,bi.none())])}function DP(n,...e){n=_s(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GT(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(GT(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,u,d;if(n instanceof Bt)u=ys(n.firestore,Ao),d=ay(n._key.path),l={next:m=>{e[s]&&e[s](MP(u,n,m))},error:e[s+1],complete:e[s+2]};else{const m=ys(n,wh);u=ys(m.firestore,Ao),d=m._query;const y=new lC(u);l={next:_=>{e[s]&&e[s](new _o(u,y,m,_))},error:e[s+1],complete:e[s+2]},SP(n._query)}const g=eC(u);return aP(g,d,a,l)}function My(n,e){const t=eC(n);return oP(t,e)}function MP(n,e,t){const s=t.docs.get(e._key),a=new lC(n);return new aa(n,a,e._key,s,new Ql(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){iN(HM),Qf(new fc("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Ao(new aN(s.getProvider("auth-internal")),new cN(u,s.getProvider("app-check-internal")),AN(u,a),u);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),go(HT,qT,e),go(HT,qT,"esm2020")})();const NP={apiKey:"AIzaSyBQDdzlJemo4Cbw3SKcTDX_YjQ27eCp5ug",authDomain:"ghost-chatamd.firebaseapp.com",projectId:"ghost-chatamd",storageBucket:"ghost-chatamd.appspot.com",messagingSenderId:"100973455099363666904",appId:"1:100973455099363666904:web:abcdef123456"},kP=VS(NP),kh=hP(kP),VP=async(n,e,t)=>{const s=Cy(kh,"parallel_rooms",n,"peers",e);await AP(s,{...t,lastSeen:cC()})},PP=async(n,e)=>{try{const t=Cy(kh,"parallel_rooms",n,"peers",e);await RP(t,{lastSeen:cC()})}catch{}},$T=async(n,e)=>{try{const t=Cy(kh,"parallel_rooms",n,"peers",e);await wP(t)}catch{}},IP=(n,e)=>{const t=fP(kh,"parallel_rooms",n,"peers");return DP(t,s=>{const a=[],l=Date.now();s.forEach(u=>{const d=u.data();let g=!0;if(d.lastSeen){const m=d.lastSeen.toMillis?d.lastSeen.toMillis():Date.now();l-m>6e4&&(g=!1)}g&&a.push({id:u.id,...d})}),e(a)})},fC={name:"ECDH",namedCurve:"P-256"},OP={name:"AES-GCM",length:256};async function jP(){return window.crypto.subtle.generateKey(fC,!0,["deriveKey","deriveBits"])}async function LP(n){return window.crypto.subtle.exportKey("jwk",n)}async function mf(n){return window.crypto.subtle.importKey("jwk",n,fC,!0,[])}async function hm(n,e){return window.crypto.subtle.deriveKey({name:"ECDH",public:e},n,OP,!1,["encrypt","decrypt"])}async function KT(n,e){const t=new TextEncoder,s=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},e,t.encode(n));return JSON.stringify({iv:Array.from(s),data:Array.from(new Uint8Array(a))})}async function BP(n,e){try{const t=JSON.parse(n),s=new Uint8Array(t.iv),a=new Uint8Array(t.data),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},e,a);return new TextDecoder().decode(l)}catch{return null}}const zP=(n,e)=>{const[t,s]=F.useState("disconnected"),[a,l]=F.useState([]),[u,d]=F.useState([]),[g,m]=F.useState(null),[y,_]=F.useState(!1),[S,C]=F.useState({}),N=H=>{_(H)};F.useEffect(()=>{if(!y)return;const H=setInterval(()=>{const W=Date.now(),ie=1440*60*1e3;d(ue=>{const pe=ue.filter(ve=>W-ve.timestamp<ie);return pe.length!==ue.length?pe:ue})},60*1e3);return()=>clearInterval(H)},[y]);const[L,B]=F.useState(null),[K,Z]=F.useState(null),[ee,le]=F.useState(null),ae=(H,W)=>{if(!k.current)return;const ie=k.current.call(H,W);ie&&(ie.on("stream",ue=>{le(ue)}),ie.on("close",()=>D()),ie.on("error",()=>{}),Z({call:ie,stream:W}))},de=H=>{if(!L)return;const{call:W}=L;W.answer(H),W.on("stream",ie=>{le(ie)}),W.on("close",()=>D()),Z({call:W,stream:H}),B(null)},D=()=>{K&&(K.call.close(),K.stream?.getTracks().forEach(H=>H.stop())),L&&L.call.close(),Z(null),B(null),le(null)},A=F.useRef({}),w=F.useRef(null),k=F.useRef(null),P=F.useRef([]),j=F.useRef(null),M=F.useRef(null),Ve=F.useRef(null),at=F.useCallback(H=>{d(W=>W.some(ie=>ie.id===H.id)?W:[...W,H].sort((ie,ue)=>ie.timestamp-ue.timestamp))},[]),X=async(H,W,ie)=>{const ue=()=>{console.log(`[P2P] Connection OPEN with ${ie}`)};if(H.open?ue():H.on("open",ue),A.current[ie]={conn:H},W)try{A.current[ie].sharedSecret=await hm(w.current.privateKey,W)}catch(pe){console.error(`[P2P] Failed to derive shared secret for ${ie}:`,pe)}H.on("data",async pe=>{if(pe.type==="typing"){C(ve=>({...ve,[ie]:Date.now()}));return}if(pe.type==="delivered"){d(ve=>ve.map(Ie=>Ie.id===pe.msgId?{...Ie,status:"delivered"}:Ie));return}if(pe.payload){const ve=A.current[ie];if(!ve)return;if(!ve.sharedSecret){const Te=P.current.find(Ge=>Ge.id===ie);if(Te)try{const Ge=await mf(JSON.parse(Te.key));ve.sharedSecret=await hm(w.current.privateKey,Ge)}catch(Ge){console.error(`[P2P] Key derivation failed for ${ie}:`,Ge)}}if(!ve.sharedSecret){console.warn(`[P2P] No shared secret for ${ie}, dropping message`);return}const Ie=await BP(pe.payload,ve.sharedSecret);if(Ie)try{const Te=JSON.parse(Ie);at({...Te,peerId:ie,isMe:!1,status:"delivered"}),ve.conn&&ve.conn.open&&ve.conn.send({type:"delivered",msgId:Te.id})}catch(Te){console.error("[P2P] Failed to parse decrypted message:",Te)}}}),H.on("close",()=>{console.log(`[P2P] Connection CLOSED with ${ie}`),delete A.current[ie]}),H.on("error",pe=>{console.error(`[P2P] Connection ERROR with ${ie}:`,pe),delete A.current[ie]})},oe=async H=>{const W=H.peer;if(console.log(`[P2P] Incoming connection from ${W}`),A.current[W]){console.log(`[P2P] Replacing existing connection to ${W}`);try{A.current[W].conn.close()}catch{}delete A.current[W]}const ie=P.current.find(pe=>pe.id===W);let ue=null;if(ie)try{ue=await mf(JSON.parse(ie.key))}catch{}X(H,ue,W)},he=async H=>{const W=k.current;if(!W||W.destroyed)return;const ie=A.current[H.id];if(!(ie&&ie.conn&&ie.conn.open)){if(ie){try{ie.conn.close()}catch{}delete A.current[H.id]}try{console.log(`[P2P] Connecting to peer ${H.id}...`);const ue=W.connect(H.id,{metadata:{user:e},reliable:!0});if(!ue){console.error(`[P2P] peer.connect returned null for ${H.id}`);return}const pe=await mf(JSON.parse(H.key));await X(ue,pe,H.id)}catch(ue){console.error(`[P2P] Failed to connect to ${H.id}:`,ue)}}};F.useEffect(()=>{if(!n||!e)return;let H=()=>{},W=!1;M.current=n,typeof window<"u"&&(async()=>{s("connecting"),w.current=await jP();const pe=await LP(w.current.publicKey),ve=`parallel_${n}_${e}_${Date.now().toString(36)}`;m(ve),Ve.current=ve;const Ie=new y6(ve,{debug:0,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]}});k.current=Ie,P.current=[],Ie.on("open",async Te=>{W||(console.log(`[P2P] PeerJS OPEN: ${Te}`),s("connected"),await VP(n,Te,{user:e,key:JSON.stringify(pe)}),j.current&&clearInterval(j.current),j.current=setInterval(()=>{W||PP(n,Te)},1e4),H=IP(n,Ge=>{if(W)return;const Xe=Ge.filter(dt=>dt.id!==Te);l(Xe),P.current=Xe,Xe.forEach(dt=>{const pn=A.current[dt.id];!pn||!pn.conn||!pn.conn.open?he(dt):pn&&!pn.sharedSecret&&(async()=>{try{const Fn=await mf(JSON.parse(dt.key));pn.sharedSecret=await hm(w.current.privateKey,Fn)}catch{}})()})}))}),Ie.on("connection",Te=>oe(Te)),Ie.on("call",Te=>{W||B({call:Te})}),Ie.on("error",Te=>{console.error("[P2P] PeerJS error:",Te),Te.type==="unavailable-id"?(console.log("[P2P] ID taken, will retry with new ID on next init"),s("error")):Te.type==="peer-unavailable"?console.warn("[P2P] Peer unavailable (may be offline):",Te.message):s("error")}),Ie.on("disconnected",()=>{if(!W){console.log("[P2P] PeerJS disconnected, attempting reconnect..."),s("connecting");try{Ie.reconnect()}catch{s("error")}}})})();const ue=()=>{Ve.current&&M.current&&$T(M.current,Ve.current)};return window.addEventListener("beforeunload",ue),()=>{if(W=!0,j.current&&(clearInterval(j.current),j.current=null),H(),Object.values(A.current).forEach(pe=>{try{pe.conn.close()}catch{}}),A.current={},k.current){try{k.current.destroy()}catch{}k.current=null}Ve.current&&M.current&&$T(M.current,Ve.current),window.removeEventListener("beforeunload",ue)}},[n,e]);const fe=async(H,W,ie="text")=>{const ue={id:Date.now()+Math.random(),user:e,text:H,type:ie,timestamp:Date.now()},pe={...ue,isMe:!0,peerId:W||"broadcast",status:"sending"};at(pe);const ve=Te=>{d(Ge=>Ge.map(Xe=>Xe.id===ue.id?{...Xe,status:Te}:Xe))},Ie=async Te=>{let Ge=A.current[Te];if(!Ge||!Ge.conn||!Ge.conn.open){const Xe=P.current.find(dt=>dt.id===Te);Xe&&(await he(Xe),await new Promise(dt=>setTimeout(dt,1500)),Ge=A.current[Te])}if(Ge&&Ge.conn&&Ge.conn.open&&Ge.sharedSecret)try{const Xe=await KT(JSON.stringify(ue),Ge.sharedSecret);return Ge.conn.send({payload:Xe}),!0}catch(Xe){return console.error("[P2P] Encryption/send failed:",Xe),!1}return console.warn(`[P2P] Failed to send to ${Te}`),!1};if(W){const Te=await Ie(W);ve(Te?"sent":"failed")}else{const Te=Object.entries(A.current);for(const[Ge,Xe]of Te)if(Xe.conn&&Xe.conn.open&&Xe.sharedSecret)try{const dt=await KT(JSON.stringify(ue),Xe.sharedSecret);Xe.conn.send({payload:dt})}catch(dt){console.error(`[P2P] Broadcast send failed to ${Ge}:`,dt)}ve("sent")}},Ee=H=>{const W=A.current[H];if(W&&W.conn&&W.conn.open)try{W.conn.send({type:"typing"})}catch{}},I=()=>{d([]),navigator.vibrate&&navigator.vibrate([100,50,100,50,200])};return F.useEffect(()=>{const H=setInterval(()=>{const W=Date.now();C(ie=>{const ue={};for(const[pe,ve]of Object.entries(ie))W-ve<3e3&&(ue[pe]=ve);return Object.keys(ue).length!==Object.keys(ie).length?ue:ie})},1e3);return()=>clearInterval(H)},[]),{status:t,peers:a,messages:u,sendMessage:fe,myPeerId:g,callPeer:ae,incomingCall:L,answerCall:de,endCall:D,activeCall:K,remoteStream:ee,retentionEnabled:y,toggleRetention:N,typingPeers:S,sendTyping:Ee,panicWipe:I}},hC=F.createContext(),UP=({children:n})=>{const[e,t]=F.useState(()=>localStorage.getItem("parallel_premium_unlocked")==="true"),s=()=>{localStorage.setItem("parallel_premium_unlocked","true"),t(!0),window.dispatchEvent(new Event("storage"))};return T.jsx(hC.Provider,{value:{isPremium:e,unlockPremium:s},children:n})},Ny=()=>F.useContext(hC),FP=({onClose:n,onSuccess:e})=>{const{unlockPremium:t}=Ny(),[s,a]=F.useState("form"),[l,u]=F.useState(""),[d,g]=F.useState(""),[m,y]=F.useState(""),_=C=>{C.preventDefault(),a("processing"),setTimeout(()=>{a("success"),t(),setTimeout(()=>{e?e():n()},2e3)},1500)},S=C=>{const N=C.target.value.replace(/\s+/g,"").replace(/[^0-9]/gi,""),L=N.match(/\d{4,16}/g),B=L&&L[0]||"",K=[];for(let Z=0,ee=B.length;Z<ee;Z+=4)K.push(B.substring(Z,Z+4));K.length?u(K.join(" ")):u(N)};return T.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-4",style:{background:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)"},children:T.jsx(motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:25,stiffness:300},className:"w-full max-w-md rounded-3xl shadow-2xl overflow-hidden",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.8)",backdropFilter:"blur(30px)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.08)"},children:T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:[T.jsx(ub,{size:20,className:"text-green-500"}),"Secure Checkout"]}),T.jsx("button",{onClick:n,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:T.jsx(ch,{size:20})})]}),T.jsxs(zn,{mode:"wait",children:[s==="form"&&T.jsxs(motion.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onSubmit:_,className:"space-y-4",children:[T.jsxs("div",{className:"p-4 rounded-xl mb-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.06))",border:"1px solid rgba(255, 255, 255, 0.6)"},children:[T.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-[0.06]",children:T.jsx(cb,{size:120,style:{color:"rgba(0,0,0,1)"}})}),T.jsxs("div",{className:"relative z-10",children:[T.jsx("div",{className:"text-xs uppercase mb-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Card Number"}),T.jsx("div",{className:"text-xl font-mono mb-4 tracking-wider",style:{color:"rgba(0, 0, 0, 0.7)"},children:l||"0000 0000 0000 0000"}),T.jsxs("div",{className:"flex justify-between",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-[10px] uppercase",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Card Holder"}),T.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.6)"},children:"PARALLEL USER"})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[10px] uppercase",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Expires"}),T.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.6)"},children:d||"MM/YY"})]})]})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Card Number"}),T.jsxs("div",{className:"relative",children:[T.jsx(cb,{className:"absolute left-3 top-3",size:18,style:{color:"rgba(0, 0, 0, 0.3)"}}),T.jsx("input",{type:"text",value:l,onChange:S,className:"w-full rounded-xl py-2.5 pl-10 pr-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},placeholder:"0000 0000 0000 0000",required:!0})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Expiry Date"}),T.jsx("input",{type:"text",value:d,onChange:C=>g(C.target.value.replace(/[^0-9/]/g,"").slice(0,5)),placeholder:"MM/YY",maxLength:5,className:"w-full rounded-xl py-2.5 px-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all text-center font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"CVC"}),T.jsx("input",{type:"text",value:m,onChange:C=>y(C.target.value.replace(/[^0-9]/g,"").slice(0,3)),placeholder:"123",maxLength:3,className:"w-full rounded-xl py-2.5 px-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all text-center font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},required:!0})]})]})]}),T.jsx("button",{type:"submit",className:"w-full text-white font-bold py-3.5 rounded-xl active:scale-95 transition-all mt-4 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)"},children:"Pay $4.99"}),T.jsxs("p",{className:"text-xs text-center mt-4 flex items-center justify-center gap-1",style:{color:"rgba(0, 0, 0, 0.35)"},children:[T.jsx(ub,{size:10})," Encrypted by Stripe (Mock)"]})]},"form"),s==="processing"&&T.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-12",children:[T.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:T.jsx(D5,{size:48,className:"text-blue-500 mb-4"})}),T.jsx("h4",{className:"text-lg font-medium",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Processing Payment..."}),T.jsx("p",{className:"text-sm",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Confirming with bank"})]},"processing"),s==="success"&&T.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-8",children:[T.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"bg-green-500/15 p-4 rounded-full mb-4",children:T.jsx(y5,{size:64,className:"text-green-500"})}),T.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Payment Successful!"}),T.jsxs("p",{className:"text-center mb-6",style:{color:"rgba(0, 0, 0, 0.45)"},children:["Welcome to Parallel Premium.",T.jsx("br",{}),"All features are now unlocked."]}),T.jsx("div",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.25)"},children:"Redirecting..."})]},"success")]})]})})})},HP=({onClose:n})=>{const{isPremium:e}=Ny(),[t,s]=F.useState(!1),a=[{icon:T.jsx(lh,{className:"text-blue-500",size:24}),title:"HD Video Calls",desc:"Encrypted peer-to-peer video calls."},{icon:T.jsx(WT,{className:"text-cyan-500",size:24}),title:"Image Sharing",desc:"Send encrypted photos directly via P2P."},{icon:T.jsx(q5,{className:"text-amber-500",size:24}),title:"288 Stickers",desc:"12 packs of expressive emoji stickers."},{icon:T.jsx(ho,{className:"text-purple-500",size:24}),title:"Priority Features",desc:"Early access to new Parallel features."}];return T.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex flex-col overflow-hidden",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)"},children:[T.jsxs("div",{className:"p-4 flex justify-between items-center z-10",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:T.jsx(ho,{size:18,className:"text-white fill-current"})}),T.jsx("span",{className:"font-bold text-lg tracking-wide text-transparent bg-clip-text",style:{backgroundImage:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:"PARALLEL PREMIUM"})]}),T.jsx("button",{onClick:n,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:T.jsx(ch,{size:20})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsxs("h1",{className:"text-4xl font-black mb-2 tracking-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:["Unlock the ",T.jsx("span",{className:"text-blue-500",children:"Full Power"})]}),T.jsx("p",{className:"max-w-xs mx-auto",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Get the ultimate privacy experience with unlimited access to all features."})]}),T.jsx("div",{className:"grid grid-cols-1 gap-3 mb-8",children:a.map((l,u)=>T.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:u*.08},className:"p-4 rounded-2xl flex items-center gap-4",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0,0,0,0.04)"},children:[T.jsx("div",{className:"p-3 rounded-xl",style:{background:"rgba(59, 130, 246, 0.06)"},children:l.icon}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:l.title}),T.jsx("p",{className:"text-sm",style:{color:"rgba(0, 0, 0, 0.4)"},children:l.desc})]})]},u))}),T.jsxs("div",{className:"p-6 rounded-3xl relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.06))",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(20px)"},children:[T.jsx("div",{className:"absolute top-0 right-0 text-xs font-bold text-white px-3 py-1 rounded-bl-xl",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:"BEST VALUE"}),T.jsx("div",{className:"flex justify-between items-end mb-4",children:T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"rgba(0, 0, 0, 0.45)"},children:"Monthly Plan"}),T.jsxs("div",{className:"flex items-baseline gap-1",children:[T.jsx("span",{className:"text-3xl font-black",style:{color:"rgba(0, 0, 0, 0.85)"},children:"$4.99"}),T.jsx("span",{className:"text-sm line-through",style:{color:"rgba(0, 0, 0, 0.3)"},children:"$9.99"})]})]})}),T.jsx("ul",{className:"space-y-2 mb-6",children:["Ad-free experience","Priority support","Early access to features"].map((l,u)=>T.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"rgba(0, 0, 0, 0.6)"},children:[T.jsx(ZT,{size:14,className:"text-green-500"})," ",l]},u))})]})]}),T.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.85) 60%, transparent 100%)"},children:[T.jsxs("button",{onClick:()=>s(!0),className:"w-full text-white font-bold py-4 rounded-2xl active:scale-95 transition-all flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)"},children:[T.jsx(ho,{size:20,className:"fill-current"}),e?"You are Premium!":"Upgrade Now"]}),T.jsx("div",{className:"text-center mt-3",children:T.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.3)"},children:"Cancel anytime. Secure payment via Stripe."})})]}),T.jsx(zn,{children:t&&T.jsx(FP,{onClose:()=>{s(!1)},onSuccess:()=>{s(!1),setTimeout(n,500)}})})]})},qP="https://cdn.jsdelivr.net/gh/jdecked/twemoji@latest/assets/svg",oh=n=>{const e=[];for(const t of n){const s=t.codePointAt(0);s===65039||s===65038||e.push(s.toString(16))}return`${qP}/${e.join("-")}.svg`},dm=[{name:"Love",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Reactions",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Dark",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Street",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Money",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Hands",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Animals",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Fun",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Food",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Weather",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Flags",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Symbols",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]}],GP=({onSelect:n,onClose:e})=>{const[t,s]=F.useState(0);return T.jsxs(sn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[55vh] rounded-t-3xl shadow-2xl z-40 flex flex-col overflow-hidden",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 -10px 40px rgba(0, 0, 0, 0.06)"},children:[T.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[T.jsx("span",{className:"font-medium text-sm",style:{color:"rgba(0, 0, 0, 0.5)"},children:dm[t].name}),T.jsx("button",{onClick:e,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:T.jsx(ch,{size:18})})]}),T.jsx("div",{className:"flex overflow-x-auto scrollbar-hide px-2 py-2 gap-1 flex-shrink-0",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.4)"},children:dm.map((a,l)=>T.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all",style:t===l?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.15))",border:"1px solid rgba(59, 130, 246, 0.3)",transform:"scale(1.1)",boxShadow:"0 4px 15px rgba(59, 130, 246, 0.12)"}:{background:"rgba(255,255,255,0.3)",border:"1px solid transparent"},title:a.name,children:T.jsx("img",{src:oh(a.icon),alt:a.name,width:22,height:22,loading:"lazy"})},a.name))}),T.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:T.jsx(zn,{mode:"wait",children:T.jsx(sn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},className:"grid grid-cols-6 gap-2",children:dm[t].stickers.map((a,l)=>T.jsx(sn.button,{whileHover:{scale:1.15},whileTap:{scale:.85},onClick:()=>n(a),className:"aspect-square flex items-center justify-center rounded-xl transition-colors active:opacity-70 p-1.5",style:{background:"transparent"},onMouseEnter:u=>u.currentTarget.style.background="rgba(0,0,0,0.04)",onMouseLeave:u=>u.currentTarget.style.background="transparent",children:T.jsx("img",{src:oh(a),alt:a,width:42,height:42,loading:"lazy",draggable:!1,style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.15))"}})},l))},t)})})]})},$P={lower:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["SHIFT","z","x","c","v","b","n","m","BACK"],["NUM","SPACE","ENTER"]],upper:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["SHIFT","Z","X","C","V","B","N","M","BACK"],["NUM","SPACE","ENTER"]],num:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["SYM",".",",","?","!","'","BACK"],["ABC","SPACE","ENTER"]],sym:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","","","",""],["NUM",".",",","?","!","'","BACK"],["ABC","SPACE","ENTER"]]},dC=F.memo(({onKeyPress:n,onBackspace:e,onEnter:t,visible:s})=>{const[a,l]=F.useState("lower"),[u,d]=F.useState(!1),g=F.useRef(null),m=F.useRef(null),y=F.useCallback(B=>{switch(navigator.vibrate&&navigator.vibrate(5),B){case"SHIFT":a==="lower"?l("upper"):a==="upper"&&(u?(d(!1),l("lower")):d(!0));break;case"BACK":e();break;case"ENTER":t();break;case"SPACE":n(" ");break;case"NUM":l("num");break;case"SYM":l("sym");break;case"ABC":l(u?"upper":"lower");break;default:n(B),a==="upper"&&!u&&l("lower");break}},[a,u,n,e,t]),_=F.useCallback(()=>{g.current=setTimeout(()=>{m.current=setInterval(()=>{e(),navigator.vibrate&&navigator.vibrate(3)},60)},400)},[e]),S=F.useCallback(()=>{clearTimeout(g.current),clearInterval(m.current)},[]),C=B=>{switch(B){case"SPACE":return"flex-[3]";case"ENTER":return"flex-[1.5]";case"SHIFT":return"flex-[1.3]";case"BACK":return"flex-[1.3]";case"NUM":case"SYM":case"ABC":return"flex-[1.2]";default:return"flex-1"}},N=B=>{const K=["SHIFT","BACK","ENTER","NUM","SYM","ABC","SPACE"].includes(B),Z=a==="upper",ee=(()=>{switch(B){case"SHIFT":return T.jsx(o5,{size:20,fill:u?"currentColor":"none",strokeWidth:u?2.5:1.5});case"BACK":return T.jsx(x5,{size:20,strokeWidth:1.5});case"ENTER":return T.jsx("span",{className:"text-xs font-semibold tracking-wide",children:"Send"});case"SPACE":return T.jsx("span",{className:"text-xs tracking-wider",style:{color:"rgba(0,0,0,0.3)"},children:"incognito"});case"NUM":return T.jsx("span",{className:"text-xs font-semibold",children:"123"});case"SYM":return T.jsx("span",{className:"text-xs font-semibold",children:"#+="});case"ABC":return T.jsx("span",{className:"text-xs font-semibold",children:"ABC"});default:return T.jsx("span",{className:"text-[17px] font-normal",children:B})}})(),le=B==="ENTER"?"linear-gradient(135deg, #3b82f6, #6366f1)":Z&&B==="SHIFT"?"rgba(255, 255, 255, 0.75)":"rgba(0, 0, 0, 0.04)",ae=B==="ENTER"?"white":"rgba(0, 0, 0, 0.65)";return T.jsx("button",{onTouchStart:B==="BACK"?_:void 0,onTouchEnd:B==="BACK"?S:void 0,onMouseDown:B==="BACK"?_:void 0,onMouseUp:B==="BACK"?S:void 0,onMouseLeave:B==="BACK"?S:void 0,onClick:()=>y(B),className:`h-[42px] rounded-lg flex items-center justify-center active:scale-[0.92] active:opacity-70 transition-all select-none ${C(B)}`,style:{background:K?le:"rgba(255, 255, 255, 0.65)",color:K?ae:"rgba(0, 0, 0, 0.85)",border:B==="ENTER"?"none":"1px solid rgba(255, 255, 255, 0.5)",boxShadow:K?"none":"0 1px 3px rgba(0,0,0,0.06)",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:ee},B)};if(!s)return null;const L=$P[a];return T.jsxs(sn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:28,stiffness:350},className:"w-full flex-shrink-0",style:{background:"rgba(210, 215, 225, 0.85)",backdropFilter:"blur(30px) saturate(180%)",WebkitBackdropFilter:"blur(30px) saturate(180%)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",paddingBottom:"env(safe-area-inset-bottom, 8px)"},children:[T.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1.5",children:[T.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),T.jsx("span",{className:"text-[9px] font-bold uppercase tracking-[0.15em]",style:{color:"rgba(0, 0, 0, 0.25)"},children:"Incognito Keyboard  No Data Leaves This App"})]}),T.jsx("div",{className:"px-1.5 pb-2 space-y-[5px]",children:L.map((B,K)=>T.jsx("div",{className:"flex gap-[5px] justify-center px-0.5",children:B.map(Z=>N(Z))},K))})]})});dC.displayName="IncognitoKeyboard";const KP=({onLock:n})=>{const[e,t]=F.useState(null),[s,a]=F.useState(!0),[l,u]=F.useState(""),[d,g]=F.useState(!1),[m,y]=F.useState(""),_=zP(s?null:l,s?null:m);F.useEffect(()=>{const C=N=>{N.key==="PrintScreen"&&alert(" Security Warning: Screenshots are discouraged in Parallel.")};return window.addEventListener("keyup",C),()=>window.removeEventListener("keyup",C)},[]);const S=C=>{C.preventDefault(),l&&m&&a(!1)};return s?T.jsxs("div",{className:"h-[100dvh] flex flex-col items-center justify-center p-8 font-sans overflow-hidden",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(60px) saturate(200%)",WebkitBackdropFilter:"blur(60px) saturate(200%)"},children:[T.jsxs("div",{className:"mb-12 relative flex flex-col items-center",children:[T.jsx("button",{onClick:n,className:"absolute -top-8 left-0 transition-colors",style:{color:"rgba(0, 0, 0, 0.4)"},children:T.jsx(If,{size:24})}),T.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsx("clipPath",{id:"roundedBox",children:T.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25"})})}),T.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25",stroke:"rgba(0,0,0,0.7)",strokeWidth:"3",fill:"rgba(255,255,255,0.3)"}),T.jsxs("g",{clipPath:"url(#roundedBox)",children:[T.jsx("line",{x1:"38",y1:"0",x2:"38",y2:"100",stroke:"rgba(0,0,0,0.7)",strokeWidth:"4"}),T.jsx("line",{x1:"62",y1:"0",x2:"62",y2:"100",stroke:"rgba(0,0,0,0.7)",strokeWidth:"4"})]})]}),T.jsx("h1",{className:"text-2xl font-light tracking-[0.3em] mt-6",style:{fontFamily:"Inter, sans-serif",color:"rgba(0, 0, 0, 0.8)"},children:"PARALLEL"})]}),T.jsxs("form",{onSubmit:S,className:"w-full max-w-sm space-y-4",children:[T.jsxs("div",{className:"space-y-3",children:[T.jsx("input",{value:m,onChange:C=>y(C.target.value),placeholder:"Username",className:"w-full p-4 rounded-2xl outline-none text-base transition-colors",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},autoFocus:!0}),T.jsx("input",{value:l,onChange:C=>u(C.target.value),placeholder:"Room Key",className:"w-full p-4 rounded-2xl outline-none text-base transition-colors",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}})]}),T.jsxs("button",{type:"submit",className:"w-full p-4 rounded-2xl font-semibold text-base transition-all flex items-center justify-center gap-2 active:scale-[0.98]",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",color:"white",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.25)"},children:[T.jsx("span",{children:"Enter Parallel"}),T.jsx(If,{className:"rotate-180",size:18})]})]}),T.jsx("div",{className:"mt-auto mb-4 text-xs font-medium tracking-widest text-center",style:{color:"rgba(0, 0, 0, 0.3)"},children:"ENCRYPTED P2P MESSENGER"})]}):T.jsxs("div",{className:"h-[100dvh] w-full flex flex-col font-sans overflow-hidden relative",children:[T.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 opacity-[0.02] overflow-hidden flex flex-wrap content-center justify-center select-none",children:Array.from({length:12}).map((C,N)=>T.jsx("div",{className:"w-64 h-64 flex items-center justify-center transform -rotate-45",children:T.jsx("span",{className:"text-2xl font-black whitespace-nowrap",style:{color:"rgba(0, 0, 0, 0.5)"},children:"PARALLEL SECURE"})},N))}),T.jsx(zn,{initial:!1,mode:"wait",children:e?T.jsx(JP,{chat:e,messages:_.messages.filter(C=>C.peerId===e.id),onSendMessage:(C,N)=>_.sendMessage(C,e.id,N),onVideoCall:C=>_.callPeer(e.id,C),onBack:()=>t(null),isTyping:!!_.typingPeers[e.id],onTyping:()=>_.sendTyping(e.id),onOpenStore:()=>g(!0),onWipeAndLock:()=>{_.panicWipe(),n()}},"conversation"):T.jsx(YP,{peers:_.peers,onLock:n,onSelectChat:C=>t(C),status:_.status,currentUser:m,retentionEnabled:_.retentionEnabled,onToggleRetention:_.toggleRetention,onPanicWipe:()=>{_.panicWipe(),n()},onOpenStore:()=>g(!0)},"list")}),_.incomingCall&&T.jsx(eI,{call:_.incomingCall,onAnswer:()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(C=>{_.answerCall(C)}).catch(()=>{})},onReject:()=>_.endCall()}),_.activeCall&&T.jsx(tI,{call:_.activeCall,remoteStream:_.remoteStream,onEnd:()=>_.endCall()}),T.jsx(zn,{children:d&&T.jsx(HP,{onClose:()=>g(!1)})})]})},YP=F.memo(({onLock:n,onSelectChat:e,peers:t,status:s,currentUser:a,retentionEnabled:l,onToggleRetention:u,onPanicWipe:d,onOpenStore:g})=>T.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full",children:[T.jsxs("header",{className:"px-4 py-3 flex justify-between items-center sticky top-0 z-10",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:n,style:{color:"rgba(0, 0, 0, 0.7)"},children:T.jsx(If,{size:24,strokeWidth:2})}),T.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",children:[T.jsx("h1",{className:"text-xl font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:a}),T.jsx("span",{className:"text-[10px] mt-1",style:{color:"rgba(0, 0, 0, 0.3)"},children:""})]})]}),T.jsxs("div",{className:"flex gap-5 items-center",children:[T.jsx("button",{onClick:g,className:"text-amber-500 hover:text-amber-400 active:scale-95 transition-all",title:"Premium Store",children:T.jsx(ho,{size:22,className:"fill-current"})}),T.jsx("button",{onClick:d,className:"relative active:scale-90 transition-all",title:"Panic Wipe  Erase All Messages",children:T.jsx("div",{className:"p-1.5 rounded-lg",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:T.jsx($5,{size:16,className:"text-red-500",strokeWidth:2})})}),T.jsxs("button",{onClick:()=>u(!l),className:`relative transition-all ${l?"text-blue-500":""}`,style:l?{}:{color:"rgba(0, 0, 0, 0.3)"},title:l?"24h Retention ON":"24h Retention OFF",children:[T.jsx(_5,{size:22,strokeWidth:1.5}),l&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute -top-1.5 -right-2.5 bg-blue-500 text-[7px] font-black text-white px-1 py-0.5 rounded-md leading-none tracking-tight",style:{boxShadow:"0 0 8px rgba(59, 130, 246, 0.5)"},children:"24H"}),T.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-20 bg-blue-400",style:{animationDuration:"2s"}})]})]}),T.jsxs("div",{className:"relative",children:[T.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 100 100",fill:"none",children:[T.jsx("rect",{x:"10",y:"10",width:"80",height:"80",rx:"22",stroke:"rgba(0,0,0,0.15)",strokeWidth:"4",fill:"rgba(255,255,255,0.35)"}),T.jsx("line",{x1:"40",y1:"22",x2:"40",y2:"78",stroke:"rgba(0,0,0,0.5)",strokeWidth:"5",strokeLinecap:"round"}),T.jsx("line",{x1:"60",y1:"22",x2:"60",y2:"78",stroke:"rgba(0,0,0,0.5)",strokeWidth:"5",strokeLinecap:"round"})]}),s==="connected"&&T.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),s==="connecting"&&T.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-yellow-500 rounded-full border-2 border-white animate-pulse"})]})]})]}),T.jsx("div",{className:"px-4 mt-2 mb-4",children:T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:T.jsx("svg",{className:"w-4 h-4",style:{color:"rgba(0, 0, 0, 0.3)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),T.jsx("input",{type:"text",placeholder:"Search",className:"w-full py-2.5 pl-10 pr-4 rounded-2xl text-sm outline-none",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.6)",color:"rgba(0, 0, 0, 0.8)"}})]})}),T.jsxs("div",{className:"pl-4 pb-4 overflow-x-auto whitespace-nowrap scrollbar-hide",children:[T.jsxs("div",{className:"inline-flex flex-col items-center mr-4 relative",children:[T.jsxs("div",{className:"w-16 h-16 rounded-full flex items-center justify-center relative",style:{background:"rgba(255, 255, 255, 0.35)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:[T.jsx("span",{className:"text-2xl font-bold",style:{color:"rgba(0, 0, 0, 0.3)"},children:"+"}),T.jsx("div",{className:"absolute bottom-0 right-0 bg-blue-500 rounded-full p-0.5",children:T.jsx(L5,{size:14,className:"text-white"})})]}),T.jsx("span",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Your note"})]}),t.map(m=>T.jsxs("div",{className:"inline-flex flex-col items-center mr-4",onClick:()=>e({id:m.id,name:m.user}),children:[T.jsx("div",{className:"w-16 h-16 rounded-full p-[2px]",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:T.jsx("div",{className:"w-full h-full rounded-full p-[2px]",style:{background:"rgba(255, 255, 255, 0.9)"},children:T.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-lg font-semibold cursor-pointer",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(m.user||"?")[0].toUpperCase()})})}),T.jsx("span",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.7)"},children:m.user})]},m.id))]}),T.jsxs("div",{className:"flex-1 overflow-y-auto",children:[T.jsxs("div",{className:"px-4 py-2 flex justify-between items-center",children:[T.jsx("h3",{className:"font-bold text-base",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Messages"}),T.jsx("span",{className:"text-[#0095F6] text-sm font-semibold",children:"Requests"})]}),t.length===0&&T.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 px-6 py-10",children:[T.jsxs("div",{className:"relative w-32 h-32 mb-8 flex items-center justify-center",children:[T.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-[0.06]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.5)":"rgba(234, 179, 8, 0.5)",animationDuration:"2.5s"}}),T.jsx("div",{className:"absolute inset-4 rounded-full animate-ping opacity-[0.1]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.4)":"rgba(234, 179, 8, 0.4)",animationDuration:"2s",animationDelay:"0.5s"}}),T.jsx("div",{className:"absolute inset-8 rounded-full animate-ping opacity-[0.15]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.3)":"rgba(234, 179, 8, 0.3)",animationDuration:"1.5s",animationDelay:"1s"}}),T.jsx("div",{className:"relative w-16 h-16 rounded-full flex items-center justify-center z-10",style:{background:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:s==="connecting"?T.jsx(sn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:T.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(234, 179, 8, 0.8)",strokeWidth:"2",strokeLinecap:"round",children:T.jsx("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})})}):s==="connected"?T.jsx(sn.div,{animate:{scale:[1,1.15,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:T.jsx(z5,{size:26,strokeWidth:1.5,className:"-rotate-12",style:{color:"rgba(59, 130, 246, 0.8)"}})}):T.jsx(ex,{size:26,style:{color:"rgba(0, 0, 0, 0.3)"}})})]}),T.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"rgba(0, 0, 0, 0.75)"},children:s==="connecting"?"Connecting...":s==="connected"?"Room is Ready":"Disconnected"}),T.jsx("p",{className:"text-sm text-center mb-6",style:{color:"rgba(0, 0, 0, 0.35)"},children:s==="connecting"?"Establishing secure connection":s==="connected"?"Share the room key with a friend to start chatting":"Connection lost, please try again"}),s==="connected"&&T.jsxs(sn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-4 py-2 rounded-2xl flex items-center gap-2 mb-4",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)"},children:[T.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),T.jsx("span",{className:"text-xs font-medium",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Encrypted & Listening"})]}),T.jsxs("div",{className:"w-full max-w-xs p-4 rounded-2xl mt-2",style:{background:"rgba(255, 255, 255, 0.35)",border:"1px solid rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)"},children:[T.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:"rgba(0, 0, 0, 0.3)"},children:"Quick Tips"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:T.jsx("span",{className:"text-xs",children:""})}),T.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Messages are end-to-end encrypted"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:T.jsx("span",{className:"text-xs",children:""})}),T.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Both users must enter the same room key"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:T.jsx("span",{className:"text-xs",children:""})}),T.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Messages vanish when you close the app"})]})]})]})]}),t.map(m=>T.jsxs("button",{onClick:()=>e({id:m.id,name:m.user}),className:"w-full px-4 py-3 flex items-center gap-3 transition-colors",style:{background:"transparent"},onMouseEnter:y=>y.currentTarget.style.background="rgba(255,255,255,0.3)",onMouseLeave:y=>y.currentTarget.style.background="transparent",children:[T.jsxs("div",{className:"w-14 h-14 rounded-full flex items-center justify-center font-bold text-lg relative",style:{background:"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(255, 255, 255, 0.5)",color:"rgba(0, 0, 0, 0.7)"},children:[(m.user||"?")[0].toUpperCase(),T.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white"})]}),T.jsxs("div",{className:"flex-1 text-left",children:[T.jsx("h3",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.85)"},children:m.user}),T.jsxs("div",{className:"text-sm flex items-center gap-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:[T.jsx("span",{children:"Active now"}),T.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"})]})]}),T.jsx("div",{style:{color:"rgba(0, 0, 0, 0.3)"},children:T.jsx(h5,{size:22,strokeWidth:1.5})})]},m.id))]})]})),QP=n=>{const e=new Date(n),s=new Date-e,a=Math.floor(s/6e4),l=Math.floor(s/36e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l<48?"Yesterday "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},XP=(n,e)=>n?e.timestamp-n.timestamp>900*1e3:!0,ZP=(n,e,t)=>n?e&&t?"rounded-[22px]":e?"rounded-[22px] rounded-br-md":t?"rounded-[22px] rounded-tr-md":"rounded-[22px] rounded-tr-md rounded-br-md":e&&t?"rounded-[22px]":e?"rounded-[22px] rounded-bl-md":t?"rounded-[22px] rounded-tl-md":"rounded-[22px] rounded-tl-md rounded-bl-md",WP=["","","","","",""],JP=F.memo(({chat:n,onBack:e,messages:t,onSendMessage:s,onVideoCall:a,isTyping:l,onTyping:u,onOpenStore:d,onWipeAndLock:g})=>{const[m,y]=F.useState(""),[_,S]=F.useState(null),[C,N]=F.useState(!1),[L,B]=F.useState(!1),[K,Z]=F.useState(!1),[ee,le]=F.useState(!1),{isPremium:ae}=Ny(),de=F.useRef(null),D=F.useRef(null),A=F.useRef(null),w=F.useRef(null),k=F.useCallback(fe=>{y(Ee=>Ee+fe),D.current||(u(),D.current=setTimeout(()=>{D.current=null},2e3))},[u]),P=F.useCallback(()=>{y(fe=>fe.slice(0,-1))},[]),j=F.useCallback(()=>{m.trim()&&(s(m,"text"),y(""),navigator.vibrate&&navigator.vibrate(10))},[m,s]),M=F.useCallback(()=>{if(!ae){d();return}A.current?.click()},[ae,d]),Ve=F.useCallback(fe=>{const Ee=fe.target.files?.[0];if(!Ee)return;if(!Ee.type.startsWith("image/")){alert("Only images are supported.");return}if(Ee.size>2*1024*1024){alert("Image must be under 2MB for P2P transfer.");return}const I=new FileReader;I.onload=()=>{s(I.result,"image")},I.readAsDataURL(Ee),fe.target.value=""},[s]),at=F.useCallback(()=>{if(!ae){d();return}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Video calls require HTTPS and camera permissions.");return}try{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(fe=>{a(fe)}).catch(()=>alert("Camera access required for video calls."))}catch{alert("Video calls are not supported on this device/browser.")}},[ae,d,a]),X=F.useCallback(fe=>{fe.preventDefault(),m.trim()&&(s(m,"text"),y(""),navigator.vibrate&&navigator.vibrate(10))},[m,s]),oe=F.useCallback(()=>{s("","sticker"),navigator.vibrate&&navigator.vibrate(10)},[s]);F.useEffect(()=>{de.current?.scrollIntoView({behavior:"smooth"})},[t,l]);const he=t.reduce((fe,Ee,I)=>Ee.isMe?I:fe,-1);return T.jsxs(sn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 flex flex-col z-20",children:[T.jsxs("header",{className:"px-3 py-2 flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:e,className:"active:opacity-50 transition-opacity",style:{color:"rgba(0, 0, 0, 0.7)"},children:T.jsx(If,{size:26,strokeWidth:1.5})}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-9 h-9 rounded-full p-[1.5px]",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:T.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.9)"},children:T.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-sm font-bold uppercase",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(n.name||"?")[0]})})}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("h3",{className:"text-[15px] font-semibold leading-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:n.name}),T.jsx("span",{className:"text-[11px] leading-tight",style:{color:"rgba(0, 0, 0, 0.4)"},children:l?T.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:["typing",T.jsxs("span",{className:"flex gap-0.5",children:[T.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),T.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),T.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Active now"})]})]})]}),T.jsxs("div",{className:"flex gap-5 pr-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:[T.jsx(ex,{size:22,strokeWidth:1.5,className:"opacity-50"}),T.jsxs("button",{onClick:at,className:"relative",children:[T.jsx(lh,{size:24,strokeWidth:1.5,className:ae?"":"text-blue-500",style:ae?{color:"rgba(0, 0, 0, 0.6)"}:{}}),!ae&&T.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-400 rounded-full p-[2px]",children:T.jsx(ho,{size:8,className:"text-black fill-current"})})]}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>Z(!K),className:"active:opacity-50 transition-opacity",children:T.jsx(E5,{size:24,strokeWidth:1.5})}),T.jsx(zn,{children:K&&T.jsxs(sn.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-8 right-0 bg-white rounded-xl shadow-xl border border-gray-100 py-1 w-48 z-50 text-sm overflow-hidden flex flex-col",children:[T.jsxs("button",{onClick:()=>{Z(!1),g()},className:"px-4 py-2.5 flex items-center gap-3 text-red-500 hover:bg-red-50 font-medium transition-colors",children:[T.jsx(u5,{size:16})," Block User"]}),T.jsxs("button",{onClick:()=>{Z(!1),le(!0)},className:"px-4 py-2.5 flex items-center gap-3 text-orange-500 hover:bg-orange-50 font-medium transition-colors",children:[T.jsx(fb,{size:16})," Report User"]})]})})]})]})]}),T.jsx(zn,{children:ee&&T.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0,0,0,0.4)",backdropFilter:"blur(10px)"},children:T.jsxs(sn.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl flex flex-col items-center text-center",children:[T.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center mb-4",children:T.jsx(fb,{size:32,className:"text-orange-500"})}),T.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:"Report Abuse"}),T.jsxs("p",{className:"text-sm text-gray-500 mb-6 font-medium",children:["Because Parallel is an encrypted, zero-knowledge network without central servers, we cannot access your chat logs. ",T.jsx("br",{}),T.jsx("br",{})," Reporting will immediately sever the P2P connection, purge all local RAM logs, and permanently block this user from your current session to ensure your safety."]}),T.jsxs("div",{className:"flex gap-3 w-full",children:[T.jsx("button",{onClick:()=>le(!1),className:"flex-1 py-3 rounded-full font-semibold text-gray-600 bg-gray-100",children:"Cancel"}),T.jsx("button",{onClick:()=>{le(!1),g()},className:"flex-1 py-3 rounded-full font-semibold text-white bg-orange-500",children:"Report & Wipe"})]})]})})}),T.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-2",onClick:()=>S(null),children:[T.jsxs("div",{className:"flex flex-col items-center mb-6 mt-2",children:[T.jsx("div",{className:"w-20 h-20 rounded-full p-[2px] mb-3",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:T.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.8)"},children:T.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-2xl font-bold uppercase",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(n.name||"?")[0]})})}),T.jsx("h3",{className:"font-bold text-lg",style:{color:"rgba(0, 0, 0, 0.85)"},children:n.name}),T.jsx("p",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Parallel  Encrypted P2P"}),T.jsxs("div",{className:"rounded-full px-3 py-1.5 mt-3 flex items-center gap-1.5",style:{background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(10px)"},children:[T.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"rgba(0, 0, 0, 0.35)"},children:[T.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),T.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),T.jsx("span",{className:"text-[11px]",style:{color:"rgba(0, 0, 0, 0.35)"},children:"End-to-end encrypted"})]})]}),t.map((fe,Ee)=>{const I=fe.isMe,H=Ee>0?t[Ee-1]:null,W=Ee<t.length-1?t[Ee+1]:null,ie=H&&H.isMe===I,ue=W&&W.isMe===I,pe=!ie,ve=!ue,Ie=!I&&ve,Te=XP(H,fe),Ge=pe&&Ee>0&&!Te?"mt-2":"mt-[2px]",Xe=ZP(I,pe,ve);return T.jsxs(QT.Fragment,{children:[Te&&T.jsx("div",{className:"flex justify-center my-4",children:T.jsx("span",{className:"text-[11px] font-medium",style:{color:"rgba(0, 0, 0, 0.35)"},children:QP(fe.timestamp)})}),T.jsxs("div",{className:`flex ${I?"justify-end":"justify-start"} ${Ge} relative group`,children:[!I&&T.jsx("div",{className:"w-7 h-7 mr-2 flex-shrink-0 self-end",children:Ie?T.jsx("div",{className:"w-full h-full rounded-full p-[1px]",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1, #0ea5e9)"},children:T.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.85)"},children:T.jsx("span",{className:"text-[10px] font-bold uppercase select-none",style:{color:"rgba(0, 0, 0, 0.6)"},children:(fe.user||"?")[0]})})}):T.jsx("div",{className:"w-full h-full"})}),T.jsxs("div",{className:"relative max-w-[75%]",children:[T.jsx(zn,{children:_===fe.id&&T.jsx(sn.div,{initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30",children:T.jsx("div",{className:"rounded-full px-2 py-1.5 flex gap-1 shadow-2xl",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(30px) saturate(200%)",WebkitBackdropFilter:"blur(30px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:WP.map(dt=>T.jsx("button",{className:"hover:scale-125 transition-transform px-0.5 active:scale-90",onClick:pn=>{pn.stopPropagation(),S(null)},children:T.jsx("img",{src:oh(dt),alt:dt,width:26,height:26,draggable:!1})},dt))})})}),fe.type==="sticker"?T.jsx("div",{className:"hover:scale-110 transition-transform cursor-pointer active:scale-95",onDoubleClick:()=>S(fe.id),children:T.jsx("img",{src:oh(fe.text),alt:fe.text,width:100,height:100,draggable:!1,style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.15))"}})}):fe.type==="image"?T.jsx("div",{onDoubleClick:()=>S(fe.id),className:`overflow-hidden cursor-pointer ${Xe}`,style:I?{border:"2px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"}:{border:"2px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"},children:T.jsx("img",{src:fe.text,alt:"Shared",className:"max-w-[260px] max-h-[300px] object-cover",style:{borderRadius:"inherit"}})}):T.jsx("div",{onDoubleClick:()=>S(fe.id),className:`
                                                px-3.5 py-2 text-[15px] leading-[20px] break-words cursor-pointer select-none ${Xe}
                                            `,style:I?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.75), rgba(99, 102, 241, 0.65))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.25)",color:"white",boxShadow:"0 4px 16px rgba(59, 130, 246, 0.15)"}:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.65)",color:"rgba(0, 0, 0, 0.85)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:fe.text}),I&&ve&&T.jsx("div",{className:"flex justify-end mt-0.5 pr-1",children:Ee===he&&fe.status==="delivered"?T.jsx("span",{className:"text-[10px] font-normal",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Seen"}):fe.status==="delivered"?T.jsx(p5,{size:13,className:"text-blue-500"}):fe.status==="failed"?T.jsx("span",{className:"text-[10px] text-red-500 font-medium",children:"Not sent"}):T.jsx(ZT,{size:13,style:{color:"rgba(0, 0, 0, 0.25)"}})})]})]})]},fe.id)}),l&&T.jsxs("div",{className:"flex justify-start mt-2 mb-1",children:[T.jsx("div",{className:"w-7 h-7 rounded-full mr-2 flex-shrink-0 self-end flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.45)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:T.jsx("span",{className:"text-[10px] font-bold uppercase",style:{color:"rgba(0, 0, 0, 0.6)"},children:(n.name||"?")[0]})}),T.jsx("div",{className:"rounded-[22px] rounded-bl-md px-4 py-3",style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.65)"},children:T.jsxs("div",{className:"flex gap-1",children:[T.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"0ms"}}),T.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"150ms"}}),T.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"300ms"}})]})})]}),T.jsx("div",{ref:de})]}),T.jsx("input",{type:"file",ref:A,accept:"image/*",className:"hidden",onChange:Ve}),T.jsxs("form",{onSubmit:X,className:"px-3 py-2 flex items-center gap-2",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.5)"},children:[T.jsxs("button",{type:"button",onClick:M,className:"h-11 w-11 flex items-center justify-center rounded-full text-white flex-shrink-0 active:scale-90 transition-transform relative",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.2)"},children:[T.jsx(WT,{size:22}),!ae&&T.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-400 rounded-full p-[2px]",children:T.jsx(ho,{size:8,className:"text-black fill-current"})})]}),T.jsxs("div",{className:"flex-1 rounded-full h-11 flex items-center px-4 gap-2 cursor-text",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.65)",backdropFilter:"blur(10px)"},onClick:()=>{B(!0),N(!1)},children:[T.jsxs("div",{ref:w,className:"flex-1 text-[15px] min-h-[20px] select-none overflow-hidden whitespace-nowrap",style:{color:m?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.35)"},children:[m||"Message...",L&&T.jsx("span",{className:"inline-block w-[2px] h-[18px] bg-blue-500 ml-[1px] align-text-bottom animate-pulse"})]}),m?T.jsx("button",{type:"submit",className:"text-blue-500 font-bold text-sm flex-shrink-0 active:opacity-60",children:"Send"}):T.jsx(T.Fragment,{children:T.jsx("button",{type:"button",onClick:()=>{ae?N(!C):d()},className:"flex-shrink-0 active:opacity-50",style:{color:"rgba(0, 0, 0, 0.5)"},children:T.jsx(F5,{size:22,strokeWidth:1.5})})})]}),!m&&T.jsx("button",{type:"button",onClick:oe,className:"flex-shrink-0 active:scale-75 transition-transform",style:{color:"rgba(0, 0, 0, 0.5)"},children:T.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),T.jsx(zn,{children:C&&T.jsx(GP,{onClose:()=>N(!1),onSelect:fe=>{s(fe,"sticker"),N(!1)}})}),T.jsx(zn,{children:T.jsx(dC,{visible:L&&!C,onKeyPress:k,onBackspace:P,onEnter:j})})]})}),eI=({onAnswer:n,onReject:e})=>T.jsxs(sn.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},className:"fixed top-4 left-4 right-4 rounded-3xl p-4 shadow-2xl z-50 flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-12 h-12 rounded-full animate-pulse",style:{background:"rgba(59, 130, 246, 0.1)"}}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Incoming Video Call..."}),T.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Encrypted P2P Connection"})]})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:e,className:"p-3 rounded-full text-white active:scale-90 transition-transform",style:{background:"rgba(239, 68, 68, 0.85)"},children:T.jsx(JT,{size:20})}),T.jsx("button",{onClick:n,className:"p-3 rounded-full text-white active:scale-90 transition-transform",style:{background:"rgba(34, 197, 94, 0.85)"},children:T.jsx(lh,{size:20})})]})]}),tI=({call:n,remoteStream:e,onEnd:t})=>{const s=F.useRef(null),a=F.useRef(null),[l,u]=F.useState(!1),[d,g]=F.useState(!1);F.useEffect(()=>{s.current&&e&&(s.current.srcObject=e),a.current&&n.stream&&(a.current.srcObject=n.stream)},[e,n.stream]);const m=()=>{n.stream&&(n.stream.getAudioTracks().forEach(_=>_.enabled=l),u(!l))},y=()=>{n.stream&&(n.stream.getVideoTracks().forEach(_=>_.enabled=d),g(!d))};return T.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col",style:{background:"#f0f0f0"},children:[T.jsxs("div",{className:"flex-1 relative",style:{background:"rgba(0, 0, 0, 0.05)"},children:[e?T.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Connecting..."}),T.jsx("div",{className:"absolute top-4 right-4 w-32 h-48 rounded-3xl overflow-hidden shadow-lg",style:{background:"rgba(255, 255, 255, 0.5)",border:"2px solid rgba(255, 255, 255, 0.7)"},children:T.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})})]}),T.jsxs("div",{className:"h-24 flex items-center justify-center gap-8 pb-4",style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.6)"},children:[T.jsx("button",{onClick:m,className:"p-4 rounded-full transition-all active:scale-90",style:l?{background:"rgba(0,0,0,0.8)",color:"white"}:{background:"rgba(255,255,255,0.6)",color:"rgba(0,0,0,0.7)",border:"1px solid rgba(255,255,255,0.7)"},children:l?T.jsx(k5,{}):T.jsx(P5,{})}),T.jsx("button",{onClick:t,className:"p-4 rounded-full text-white shadow-lg scale-110 active:scale-95 transition-transform",style:{background:"rgba(220, 38, 38, 0.85)",boxShadow:"0 4px 20px rgba(220, 38, 38, 0.3)"},children:T.jsx(JT,{size:32})}),T.jsx("button",{onClick:y,className:"p-4 rounded-full transition-all active:scale-90",style:d?{background:"rgba(0,0,0,0.8)",color:"white"}:{background:"rgba(255,255,255,0.6)",color:"rgba(0,0,0,0.7)",border:"1px solid rgba(255,255,255,0.7)"},children:d?T.jsx(Q5,{}):T.jsx(lh,{})})]})]})},nI=({onLock:n})=>{const[e,t]=F.useState("0"),[s,a]=F.useState(null),[l,u]=F.useState(null),[d,g]=F.useState(!1),[m,y]=F.useState(!1),_=F.useRef(null),S=(w,k,P)=>{const j=parseFloat(w),M=parseFloat(k);if(isNaN(j)||isNaN(M))return typeof k=="string"?k:String(k);let Ve=0;switch(P){case"+":Ve=j+M;break;case"-":Ve=j-M;break;case"":Ve=j*M;break;case"":if(M===0)return"Error";Ve=j/M;break;default:return String(k)}return String(parseFloat(Number(Ve).toPrecision(10)))},C=w=>{if(e==="Error"){t(w),g(!1);return}d?(t(w),g(!1)):t(e==="0"?w:e+w)},N=()=>{if(d){t("0."),g(!1);return}e.indexOf(".")===-1&&e!=="Error"&&t(e+".")},L=()=>{t("0"),a(null),u(null),g(!1)},B=()=>{if(e==="Error")return;const w=parseFloat(e);isNaN(w)||t(String(w*-1))},K=()=>{if(e==="Error")return;const w=parseFloat(e);isNaN(w)||t(String(parseFloat(Number(w/100).toPrecision(10))))},Z=w=>{if(e!=="Error"){if(l&&!d){const k=S(s,e,l);t(k),a(k)}else a(e);u(w),g(!0)}},ee=F.useCallback(()=>{if(!l||!s||e==="Error")return;const w=S(s,e,l);t(w),a(null),u(null),g(!0)},[l,s,e]),le=F.useCallback(w=>{w.preventDefault(),ee(),_.current=setTimeout(()=>{t(k=>((k==="2025"||k==="2025.")&&(navigator.vibrate&&navigator.vibrate([50,50,50]),n()),k))},1500)},[ee,n]),ae=F.useCallback(()=>{_.current&&(clearTimeout(_.current),_.current=null)},[]);F.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const de=w=>{if(w==="Error")return w;const k=w.split(".");return k[0]=k[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),k.join(".")},D=e.length;let A="text-7xl";return D>7&&(A="text-6xl"),D>9&&(A="text-5xl"),D>12&&(A="text-4xl"),T.jsxs("div",{className:"h-[100dvh] w-full bg-black flex flex-col font-sans select-none overflow-hidden relative",children:[T.jsx("button",{onClick:()=>y(!0),className:"absolute top-12 left-6 p-2 text-white/20 hover:text-white/40 transition-colors z-10",children:T.jsx(R5,{size:20})}),T.jsx(zn,{children:m&&T.jsxs(sn.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute inset-0 z-50 bg-[#1c1c1e] text-white flex flex-col",children:[T.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-white/10 shrink-0",children:[T.jsx("h2",{className:"text-xl font-semibold",children:"About Parallel"}),T.jsx("button",{onClick:()=>y(!1),className:"p-2 bg-white/10 rounded-full active:bg-white/20 transition-colors",children:T.jsx(ch,{size:20})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-sm text-gray-300 leading-relaxed font-light",children:[T.jsxs("section",{children:[T.jsx("h3",{className:"text-white font-medium text-lg mb-2",children:"Privacy Policy"}),T.jsx("p",{className:"mb-3",children:"Parallel is designed as a zero-knowledge, local-RAM-only utility. We believe absolute privacy is a fundamental right."}),T.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Zero Data Collection:"})," We do not collect, store, transmit, or analyze any personally identifiable information (PII), metadata, or analytics."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"No Central Servers:"})," All peer-to-peer (P2P) connections are established directly between devices. We do not proxy, queue, or log communications on any external servers."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Volatile Memory Only:"})," The application operates strictly in the device's Random Access Memory (RAM). No user-generated content (UGC), messages, or connection logs are ever written to the physical storage drive of your device."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Accountless:"})," Parallel requires no phone number, email, or account registration to function."]})]})]}),T.jsxs("section",{children:[T.jsx("h3",{className:"text-white font-medium text-lg mb-2",children:"Terms of Use (EULA)"}),T.jsx("p",{className:"mb-3",children:"By using Parallel, you agree to the following terms regarding User Generated Content (UGC) and acceptable use:"}),T.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Zero Tolerance for Abuse:"})," Parallel maintains a strict zero-tolerance policy for objectionable content, harassment, or abuse."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"User Blocking & Reporting:"})," Users have the ability to instantly block and report any peer. Because Parallel is decentralized and stateless, triggering a report or block will immediately sever the cryptographic connection, purge the local volatile memory, and permanently lock the session to ensure immediate safety."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"No Content Moderation:"})," Because Parallel is a mathematically encrypted, direct-socket tool with no data retention, we cannot actively monitor or moderate conversations. You are entirely responsible for the connections you accept and the content you engage with."]})]})]}),T.jsxs("div",{className:"pt-8 pb-12 text-center text-xs text-white/30",children:["Parallel Vault v1.0.0",T.jsx("br",{}),"Designed for absolute digital sovereignty."]})]})]})}),T.jsx("div",{className:`flex-1 flex items-end justify-end px-6 pb-4 ${A} tracking-tight font-light text-white overflow-hidden break-all`,children:de(e)}),T.jsxs("div",{className:"w-full px-4 pb-8 space-y-3",children:[T.jsxs("div",{className:"flex gap-3 justify-between",children:[T.jsx("button",{onClick:L,className:"w-[22%] aspect-square rounded-full bg-[#a5a5a5] active:bg-[#d4d4d2] text-black text-2xl font-medium transition-colors",children:e==="0"?"AC":"C"}),T.jsx("button",{onClick:B,className:"w-[22%] aspect-square rounded-full bg-[#a5a5a5] active:bg-[#d4d4d2] text-black text-2xl font-medium transition-colors",children:"+/-"}),T.jsx("button",{onClick:K,className:"w-[22%] aspect-square rounded-full bg-[#a5a5a5] active:bg-[#d4d4d2] text-black text-2xl font-medium transition-colors",children:"%"}),T.jsx("button",{onClick:()=>Z(""),className:`w-[22%] aspect-square rounded-full text-3xl font-medium transition-colors ${l===""&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:""})]}),T.jsxs("div",{className:"flex gap-3 justify-between",children:[T.jsx("button",{onClick:()=>C("7"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"7"}),T.jsx("button",{onClick:()=>C("8"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"8"}),T.jsx("button",{onClick:()=>C("9"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"9"}),T.jsx("button",{onClick:()=>Z(""),className:`w-[22%] aspect-square rounded-full text-3xl font-medium transition-colors ${l===""&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:""})]}),T.jsxs("div",{className:"flex gap-3 justify-between",children:[T.jsx("button",{onClick:()=>C("4"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"4"}),T.jsx("button",{onClick:()=>C("5"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"5"}),T.jsx("button",{onClick:()=>C("6"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"6"}),T.jsx("button",{onClick:()=>Z("-"),className:`w-[22%] aspect-square rounded-full text-4xl font-medium transition-colors ${l==="-"&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:""})]}),T.jsxs("div",{className:"flex gap-3 justify-between",children:[T.jsx("button",{onClick:()=>C("1"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"1"}),T.jsx("button",{onClick:()=>C("2"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"2"}),T.jsx("button",{onClick:()=>C("3"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"3"}),T.jsx("button",{onClick:()=>Z("+"),className:`w-[22%] aspect-square rounded-full text-4xl font-medium transition-colors ${l==="+"&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:"+"})]}),T.jsxs("div",{className:"flex gap-3 justify-between",children:[T.jsx("button",{onClick:()=>C("0"),className:"w-[47.5%] aspect-[2.15/1] rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors flex items-center justify-start pl-8 text-left",children:"0"}),T.jsx("button",{onClick:N,className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"."}),T.jsx("button",{onMouseDown:le,onMouseUp:ae,onMouseLeave:ae,onTouchStart:le,onTouchEnd:ae,className:"w-[22%] aspect-square rounded-full bg-[#f1a33b] active:bg-[#f3c285] text-white text-4xl font-medium transition-colors select-none",children:"="})]})]})]})};class iI extends QT.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("[Parallel] Caught error:",e,t)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?T.jsxs("div",{className:"h-[100dvh] w-full ios26-wallpaper flex flex-col items-center justify-center p-8",children:[T.jsx("div",{className:"w-20 h-20 rounded-3xl flex items-center justify-center mb-6",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Something went wrong"}),T.jsx("p",{className:"text-sm text-center mb-6 max-w-xs",style:{color:"rgba(0, 0, 0, 0.45)"},children:"An unexpected error occurred. Tap below to recover."}),T.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-2xl font-semibold active:scale-95 transition-transform",style:{color:"white",background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:"Try Again"})]}):this.props.children}}function sI(){const[n,e]=F.useState(!0),[t,s]=F.useState(!0),[a,l]=F.useState(!1);F.useEffect(()=>{const m=()=>l(!0),y=()=>l(!1);return window.addEventListener("blur",m),window.addEventListener("focus",y),()=>{window.removeEventListener("blur",m),window.removeEventListener("focus",y)}},[]);const u=()=>{e(!1)},d=()=>{s(!1)},g=()=>{s(!0),e(!0)};return T.jsx(UP,{children:T.jsx(iI,{children:T.jsxs("div",{className:"h-[100dvh] w-full ios26-wallpaper overflow-hidden relative",children:[T.jsx(zn,{children:a&&T.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)"},children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-20 h-20 rounded-3xl mx-auto mb-6 flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0,0,0,0.06)"},children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h2",{className:"text-2xl font-bold tracking-widest uppercase",style:{color:"rgba(0, 0, 0, 0.8)"},children:"Parallel Protected"}),T.jsx("p",{className:"text-sm mt-2",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Content Hidden for Privacy"})]})})}),T.jsx(zn,{mode:"wait",children:n?T.jsx(nI,{onLock:u},"calc"):t?T.jsx($4,{onAuthenticated:d},"auth"):T.jsx(KP,{onLock:g},"private")})]})})})}e5.createRoot(document.getElementById("root")).render(T.jsx(F.StrictMode,{children:T.jsx(sI,{})}));
