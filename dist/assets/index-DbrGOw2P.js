function Vx(n,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(n,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=e(a);fetch(a.href,c)}})();function jb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ap={exports:{}},kl={};var B_;function Ix(){if(B_)return kl;B_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var d in a)d!=="key"&&(c[d]=a[d])}else c=a;return a=c.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:c}}return kl.Fragment=t,kl.jsx=e,kl.jsxs=e,kl}var F_;function Nx(){return F_||(F_=1,Ap.exports=Ix()),Ap.exports}var D=Nx(),xp={exports:{}},Rt={};var H_;function Ox(){if(H_)return Rt;H_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function $(V,G,it){this.props=V,this.context=G,this.refs=H,this.updater=it||P}$.prototype.isReactComponent={},$.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function tt(){}tt.prototype=$.prototype;function Z(V,G,it){this.props=V,this.context=G,this.refs=H,this.updater=it||P}var at=Z.prototype=new tt;at.constructor=Z,z(at,$.prototype),at.isPureReactComponent=!0;var ot=Array.isArray;function ht(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,G,it){var lt=it.ref;return{$$typeof:n,type:V,key:G,ref:lt!==void 0?lt:null,props:it}}function O(V,G){return R(V.type,G,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function L(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return G[it]})}var M=/\/+/g;function Kt(V,G){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):G.toString(36)}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ht,ht):(V.status="pending",V.then(function(G){V.status==="pending"&&(V.status="fulfilled",V.value=G)},function(G){V.status==="pending"&&(V.status="rejected",V.reason=G)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,G,it,lt,bt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Vt=!1;if(V===null)Vt=!0;else switch(Ct){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(V.$$typeof){case n:case t:Vt=!0;break;case y:return Vt=V._init,Q(Vt(V._payload),G,it,lt,bt)}}if(Vt)return bt=bt(V),Vt=lt===""?"."+Kt(V,0):lt,ot(bt)?(it="",Vt!=null&&(it=Vt.replace(M,"$&/")+"/"),Q(bt,G,it,"",function(fr){return fr})):bt!=null&&(N(bt)&&(bt=O(bt,it+(bt.key==null||V&&V.key===bt.key?"":(""+bt.key).replace(M,"$&/")+"/")+Vt)),G.push(bt)),1;Vt=0;var fe=lt===""?".":lt+":";if(ot(V))for(var ne=0;ne<V.length;ne++)lt=V[ne],Ct=fe+Kt(lt,ne),Vt+=Q(lt,G,it,Ct,bt);else if(ne=x(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(lt=V.next()).done;)lt=lt.value,Ct=fe+Kt(lt,ne++),Vt+=Q(lt,G,it,Ct,bt);else if(Ct==="object"){if(typeof V.then=="function")return Q(ce(V),G,it,lt,bt);throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function rt(V,G,it){if(V==null)return V;var lt=[],bt=0;return Q(V,lt,"","",function(Ct){return G.call(it,Ct,bt++)}),lt}function ft(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},dt={map:rt,forEach:function(V,G,it){rt(V,function(){G.apply(this,arguments)},it)},count:function(V){var G=0;return rt(V,function(){G++}),G},toArray:function(V){return rt(V,function(G){return G})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Rt.Activity=_,Rt.Children=dt,Rt.Component=$,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=Z,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(V,G,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var lt=z({},V.props),bt=V.key;if(G!=null)for(Ct in G.key!==void 0&&(bt=""+G.key),G)!A.call(G,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&G.ref===void 0||(lt[Ct]=G[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=it;else if(1<Ct){for(var Vt=Array(Ct),fe=0;fe<Ct;fe++)Vt[fe]=arguments[fe+2];lt.children=Vt}return R(V.type,bt,lt)},Rt.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Rt.createElement=function(V,G,it){var lt,bt={},Ct=null;if(G!=null)for(lt in G.key!==void 0&&(Ct=""+G.key),G)A.call(G,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(bt[lt]=G[lt]);var Vt=arguments.length-2;if(Vt===1)bt.children=it;else if(1<Vt){for(var fe=Array(Vt),ne=0;ne<Vt;ne++)fe[ne]=arguments[ne+2];bt.children=fe}if(V&&V.defaultProps)for(lt in Vt=V.defaultProps,Vt)bt[lt]===void 0&&(bt[lt]=Vt[lt]);return R(V,Ct,bt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:d,render:V}},Rt.isValidElement=N,Rt.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:ft}},Rt.memo=function(V,G){return{$$typeof:g,type:V,compare:G===void 0?null:G}},Rt.startTransition=function(V){var G=w.T,it={};w.T=it;try{var lt=V(),bt=w.S;bt!==null&&bt(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(ht,ut)}catch(Ct){ut(Ct)}finally{G!==null&&it.types!==null&&(G.types=it.types),w.T=G}},Rt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Rt.use=function(V){return w.H.use(V)},Rt.useActionState=function(V,G,it){return w.H.useActionState(V,G,it)},Rt.useCallback=function(V,G){return w.H.useCallback(V,G)},Rt.useContext=function(V){return w.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,G){return w.H.useDeferredValue(V,G)},Rt.useEffect=function(V,G){return w.H.useEffect(V,G)},Rt.useEffectEvent=function(V){return w.H.useEffectEvent(V)},Rt.useId=function(){return w.H.useId()},Rt.useImperativeHandle=function(V,G,it){return w.H.useImperativeHandle(V,G,it)},Rt.useInsertionEffect=function(V,G){return w.H.useInsertionEffect(V,G)},Rt.useLayoutEffect=function(V,G){return w.H.useLayoutEffect(V,G)},Rt.useMemo=function(V,G){return w.H.useMemo(V,G)},Rt.useOptimistic=function(V,G){return w.H.useOptimistic(V,G)},Rt.useReducer=function(V,G,it){return w.H.useReducer(V,G,it)},Rt.useRef=function(V){return w.H.useRef(V)},Rt.useState=function(V){return w.H.useState(V)},Rt.useSyncExternalStore=function(V,G,it){return w.H.useSyncExternalStore(V,G,it)},Rt.useTransition=function(){return w.H.useTransition()},Rt.version="19.2.4",Rt}var q_;function sg(){return q_||(q_=1,xp.exports=Ox()),xp.exports}var et=sg();const zb=jb(et);var Rp={exports:{}},Ll={},Dp={exports:{}},wp={};var G_;function Px(){return G_||(G_=1,(function(n){function t(Q,rt){var ft=Q.length;Q.push(rt);t:for(;0<ft;){var ut=ft-1>>>1,dt=Q[ut];if(0<a(dt,rt))Q[ut]=rt,Q[ft]=dt,ft=ut;else break t}}function e(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var rt=Q[0],ft=Q.pop();if(ft!==rt){Q[0]=ft;t:for(var ut=0,dt=Q.length,V=dt>>>1;ut<V;){var G=2*(ut+1)-1,it=Q[G],lt=G+1,bt=Q[lt];if(0>a(it,ft))lt<dt&&0>a(bt,it)?(Q[ut]=bt,Q[lt]=ft,ut=lt):(Q[ut]=it,Q[G]=ft,ut=G);else if(lt<dt&&0>a(bt,ft))Q[ut]=bt,Q[lt]=ft,ut=lt;else break t}}return rt}function a(Q,rt){var ft=Q.sortIndex-rt.sortIndex;return ft!==0?ft:Q.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],g=[],y=1,_=null,E=3,x=!1,P=!1,z=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function at(Q){for(var rt=e(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=Q)s(g),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=e(g)}}function ot(Q){if(z=!1,at(Q),!P)if(e(m)!==null)P=!0,ht||(ht=!0,L());else{var rt=e(g);rt!==null&&ce(ot,rt.startTime-Q)}}var ht=!1,w=-1,A=5,R=-1;function O(){return H?!0:!(n.unstable_now()-R<A)}function N(){if(H=!1,ht){var Q=n.unstable_now();R=Q;var rt=!0;try{t:{P=!1,z&&(z=!1,tt(w),w=-1),x=!0;var ft=E;try{e:{for(at(Q),_=e(m);_!==null&&!(_.expirationTime>Q&&O());){var ut=_.callback;if(typeof ut=="function"){_.callback=null,E=_.priorityLevel;var dt=ut(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof dt=="function"){_.callback=dt,at(Q),rt=!0;break e}_===e(m)&&s(m),at(Q)}else s(m);_=e(m)}if(_!==null)rt=!0;else{var V=e(g);V!==null&&ce(ot,V.startTime-Q),rt=!1}}break t}finally{_=null,E=ft,x=!1}rt=void 0}}finally{rt?L():ht=!1}}}var L;if(typeof Z=="function")L=function(){Z(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Kt=M.port2;M.port1.onmessage=N,L=function(){Kt.postMessage(null)}}else L=function(){$(N,0)};function ce(Q,rt){w=$(function(){Q(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var ft=E;E=rt;try{return Q()}finally{E=ft}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=E;E=Q;try{return rt()}finally{E=ft}},n.unstable_scheduleCallback=function(Q,rt,ft){var ut=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?ut+ft:ut):ft=ut,Q){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=ft+dt,Q={id:y++,callback:rt,priorityLevel:Q,startTime:ft,expirationTime:dt,sortIndex:-1},ft>ut?(Q.sortIndex=ft,t(g,Q),e(m)===null&&Q===e(g)&&(z?(tt(w),w=-1):z=!0,ce(ot,ft-ut))):(Q.sortIndex=dt,t(m,Q),P||x||(P=!0,ht||(ht=!0,L()))),Q},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Q){var rt=E;return function(){var ft=E;E=rt;try{return Q.apply(this,arguments)}finally{E=ft}}}})(wp)),wp}var $_;function kx(){return $_||($_=1,Dp.exports=Px()),Dp.exports}var Mp={exports:{}},nn={};var K_;function Lx(){if(K_)return nn;K_=1;var n=sg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,y)},nn.flushSync=function(m){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=y,s.d.f()}},nn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},nn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},nn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:x}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},nn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},nn.requestFormReset=function(m){s.d.r(m)},nn.unstable_batchedUpdates=function(m,g){return m(g)},nn.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var Y_;function jx(){if(Y_)return Mp.exports;Y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mp.exports=Lx(),Mp.exports}var Q_;function zx(){if(Q_)return Ll;Q_=1;var n=kx(),t=sg(),e=jx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,l=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===l)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=p;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,l=p;break}if(S===l){T=!0,l=f,o=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===o){T=!0,o=p,l=f;break}if(S===l){T=!0,l=p,o=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Kt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case ot:return"Suspense";case ht:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case Z:return i.displayName||"Context";case tt:return(i._context.displayName||"Context")+".Consumer";case at:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case w:return r=i.displayName||null,r!==null?r:Kt(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Kt(i(r))}catch{}}return null}var ce=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},ut=[],dt=-1;function V(i){return{current:i}}function G(i){0>dt||(i.current=ut[dt],ut[dt]=null,dt--)}function it(i,r){dt++,ut[dt]=i.current,i.current=r}var lt=V(null),bt=V(null),Ct=V(null),Vt=V(null);function fe(i,r){switch(it(Ct,r),it(bt,i),it(lt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?u_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=u_(r),i=h_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(lt),it(lt,i)}function ne(){G(lt),G(bt),G(Ct)}function fr(i){i.memoizedState!==null&&it(Vt,i);var r=lt.current,o=h_(r,i.type);r!==o&&(it(bt,i),it(lt,o))}function la(i){bt.current===i&&(G(lt),G(bt)),Vt.current===i&&(G(Vt),Il._currentValue=ft)}var ca,ua;function pi(i){if(ca===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ca=r&&r[1]||"",ua=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+i+ua}var Io=!1;function dr(i,r){if(!i||Io)return"";Io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var q=Y}Reflect.construct(i,[],W)}else{try{W.call()}catch(Y){q=Y}i.call(W.prototype)}}else{try{throw Error()}catch(Y){q=Y}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var I=T.split(`
`),F=S.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var X=`
`+I[l].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=l&&0<=f);break}}}finally{Io=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?pi(o):""}function No(i,r){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==r&&r!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return dr(i.type,!1);case 11:return dr(i.type.render,!1);case 1:return dr(i.type,!0);case 31:return pi("Activity");default:return""}}function Oo(i){try{var r="",o=null;do r+=No(i,o),o=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,ms=n.unstable_cancelCallback,Rf=n.unstable_shouldYield,Rc=n.unstable_requestPaint,un=n.unstable_now,pr=n.unstable_getCurrentPriorityLevel,Po=n.unstable_ImmediatePriority,ko=n.unstable_UserBlockingPriority,gs=n.unstable_NormalPriority,Df=n.unstable_LowPriority,Dc=n.unstable_IdlePriority,wc=n.log,Mc=n.unstable_setDisableYieldValue,Zn=null,$e=null;function On(i){if(typeof wc=="function"&&Mc(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Zn,i)}catch{}}var ve=Math.clz32?Math.clz32:Ic,Vc=Math.log,ha=Math.LN2;function Ic(i){return i>>>=0,i===0?32:31-(Vc(i)/ha|0)|0}var mi=256,mr=262144,Ce=4194304;function gi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,r,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?f=gi(l):(T&=S,T!==0?f=gi(T):o||(o=S&~i,o!==0&&(f=gi(o))))):(S=l&~p,S!==0?f=gi(S):T!==0?f=gi(T):o||(o=l&~i,o!==0&&(f=gi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Jn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function wf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var i=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),i}function vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function gr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Mf(i,r,o,l,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,I=i.expirationTimes,F=i.hiddenUpdates;for(o=T&~o;0<o;){var X=31-ve(o),W=1<<X;S[X]=0,I[X]=-1;var q=F[X];if(q!==null)for(F[X]=null,X=0;X<q.length;X++){var Y=q[X];Y!==null&&(Y.lane&=-536870913)}o&=~W}l!==0&&yr(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function yr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-ve(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|o&261930}function Lo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var l=31-ve(o),f=1<<l;f&r|i[l]&r&&(i[l]|=r),o&=~f}}function jo(i,r){var o=r&-r;return o=(o&42)!==0?1:vr(o),(o&(i.suspendedLanes|r))!==0?0:o}function vr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:O_(i.type))}function Wn(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var ti=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ti,Fe="__reactProps$"+ti,_i="__reactContainer$"+ti,fa="__reactEvents$"+ti,Vf="__reactListeners$"+ti,Pc="__reactHandles$"+ti,kc="__reactResources$"+ti,Ti="__reactMarker$"+ti;function da(i){delete i[Ae],delete i[Fe],delete i[fa],delete i[Vf],delete i[Pc]}function bi(i){var r=i[Ae];if(r)return r;for(var o=i.parentNode;o;){if(r=o[_i]||o[Ae]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=v_(i);i!==null;){if(o=i[Ae])return o;i=v_(i)}return r}i=o,o=i.parentNode}return null}function Pn(i){if(i=i[Ae]||i[_i]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function An(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ei(i){var r=i[kc];return r||(r=i[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xe(i){i[Ti]=!0}var zo=new Set,Uo={};function Si(i,r){Ci(i,r),Ci(i+"Capture",r)}function Ci(i,r){for(Uo[i]=r,i=0;i<r.length;i++)zo.add(r[i])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Ho={};function Lc(i){return Se.call(Ho,i)?!0:Se.call(Fo,i)?!1:Bo.test(i)?Ho[i]=!0:(Fo[i]=!0,!1)}function pa(i,r,o){if(Lc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function xn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+l)}}function He(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ys(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qo(i,r,o){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=ys(i)?"checked":"value";i._valueTracker=qo(i,r,""+i[r])}}function _r(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return i&&(l=ys(i)?i.checked?"true":"false":i.value),i=l,i!==o?(r.setValue(i),!0):!1}function Ai(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Tr=/[\n"\\]/g;function gn(i){return i.replace(Tr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ma(i,r,o,l,f,p,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+He(r)):i.value!==""+He(r)&&(i.value=""+He(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Go(i,T,He(r)):o!=null?Go(i,T,He(o)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+He(S):i.removeAttribute("name")}function jc(i,r,o,l,f,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Yt(i);return}o=o!=null?""+He(o):"",r=r!=null?""+He(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Yt(i)}function Go(i,r,o){r==="number"&&Ai(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function vs(i,r,o,l){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&l&&(i[o].defaultSelected=!0)}else{for(o=""+He(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function zc(i,r,o){if(r!=null&&(r=""+He(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+He(o):""}function _s(i,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(s(92));if(ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=He(r),i.defaultValue=o,l=i.textContent,l===o&&l!==""&&l!==null&&(i.value=l),Yt(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(i,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,o):typeof o!="number"||o===0||Uc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ko(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&o[f]!==l&&$o(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&$o(i,p,r[p])}function ga(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(i){return Ts.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var Yo=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bs=null,xi=null;function br(i){var r=Pn(i);if(r&&(i=r.stateNode)){var o=i[Fe]||null;t:switch(i=r.stateNode,r.type){case"input":if(ma(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==i&&l.form===i.form){var f=l[Fe]||null;if(!f)throw Error(s(90));ma(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===i.form&&_r(l)}break t;case"textarea":zc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&vs(i,!!o.multiple,r,!1)}}}var va=!1;function Es(i,r,o){if(va)return i(r,o);va=!0;try{var l=i(r);return l}finally{if(va=!1,(bs!==null||xi!==null)&&(Ou(),bs&&(r=bs,i=xi,xi=bs=null,br(r),i)))for(r=0;r<i.length;r++)br(i[r])}}function ni(i,r){var o=i.stateNode;if(o===null)return null;var l=o[Fe]||null;if(l===null)return null;o=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Ln)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Er=!1}var Ri=null,Qo=null,Sr=null;function Xo(){if(Sr)return Sr;var i,r=Qo,o=r.length,l,f="value"in Ri?Ri.value:Ri.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(l=1;l<=T&&r[o-l]===f[p-l];l++);return Sr=f.slice(i,1<l?1-l:void 0)}function Cr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function $i(){return!0}function ii(){return!1}function Ke(i){function r(o,l,f,p,T){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$i:ii,this.isPropagationStopped=ii,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Ke(Ki),Ss=_({},Ki,{view:0,detail:0}),Zo=Ke(Ss),Cs,_a,wi,Ta=_({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(Cs=i.screenX-wi.screenX,_a=i.screenY-wi.screenY):_a=Cs=0,wi=i),Cs)},movementY:function(i){return"movementY"in i?i.movementY:_a}}),Jo=Ke(Ta),Ar=_({},Ta,{dataTransfer:0}),Fc=Ke(Ar),Hc=_({},Ss,{relatedTarget:0}),xr=Ke(Hc),Wo=_({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),qc=Ke(Wo),ba=_({},Ki,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gc=Ke(ba),$c=_({},Ki,{data:0}),Mi=Ke($c),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Qc[i])?!!r[i]:!1}function As(){return Xc}var hn=_({},Ss,{key:function(i){if(i.key){var r=Kc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Cr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(i){return i.type==="keypress"?Cr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zc=Ke(hn),Jc=_({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ke(Jc),h=_({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),v=Ke(h),b=_({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Ke(b),U=_({},Ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ke(U),ct=_({},Ki,{newState:0,oldState:0}),wt=Ke(ct),_e=[9,13,27,32],qt=Ln&&"CompositionEvent"in window,ue=null;Ln&&"documentMode"in document&&(ue=document.documentMode);var jn=Ln&&"TextEvent"in window&&!ue,Vi=Ln&&(!qt||ue&&8<ue&&11>=ue),si=" ",ri=!1;function Rr(i,r){switch(i){case"keyup":return _e.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sa=!1;function eA(i,r){switch(i){case"compositionend":return Ea(r);case"keypress":return r.which!==32?null:(ri=!0,si);case"textInput":return i=r.data,i===si&&ri?null:i;default:return null}}function nA(i,r){if(Sa)return i==="compositionend"||!qt&&Rr(i,r)?(i=Xo(),Sr=Qo=Ri=null,Sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vi&&r.locale!=="ko"?null:r.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!iA[i.type]:r==="textarea"}function Ey(i,r,o,l){bs?xi?xi.push(l):xi=[l]:bs=l,r=Bu(r,"onChange"),0<r.length&&(o=new Di("onChange","change",null,o,l),i.push({event:o,listeners:r}))}var tl=null,el=null;function sA(i){s_(i,0)}function Wc(i){var r=An(i);if(_r(r))return i}function Sy(i,r){if(i==="change")return r}var Cy=!1;if(Ln){var If;if(Ln){var Nf="oninput"in document;if(!Nf){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Nf=typeof Ay.oninput=="function"}If=Nf}else If=!1;Cy=If&&(!document.documentMode||9<document.documentMode)}function xy(){tl&&(tl.detachEvent("onpropertychange",Ry),el=tl=null)}function Ry(i){if(i.propertyName==="value"&&Wc(el)){var r=[];Ey(r,el,i,kn(i)),Es(sA,r)}}function rA(i,r,o){i==="focusin"?(xy(),tl=r,el=o,tl.attachEvent("onpropertychange",Ry)):i==="focusout"&&xy()}function aA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wc(el)}function oA(i,r){if(i==="click")return Wc(r)}function lA(i,r){if(i==="input"||i==="change")return Wc(r)}function cA(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:cA;function nl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Se.call(r,f)||!Rn(i[f],r[f]))return!1}return!0}function Dy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wy(i,r){var o=Dy(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=r&&l>=r)return{node:o,offset:r-i};i=l}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Dy(o)}}function My(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?My(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Vy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ai(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ai(i.document)}return r}function Of(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var uA=Ln&&"documentMode"in document&&11>=document.documentMode,Ca=null,Pf=null,il=null,kf=!1;function Iy(i,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;kf||Ca==null||Ca!==Ai(l)||(l=Ca,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Bu(Pf,"onSelect"),0<l.length&&(r=new Di("onSelect","select",null,r,o),i.push({event:r,listeners:l}),r.target=Ca)))}function Dr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Aa={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Lf={},Ny={};Ln&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function wr(i){if(Lf[i])return Lf[i];if(!Aa[i])return i;var r=Aa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ny)return Lf[i]=r[o];return i}var Oy=wr("animationend"),Py=wr("animationiteration"),ky=wr("animationstart"),hA=wr("transitionrun"),fA=wr("transitionstart"),dA=wr("transitioncancel"),Ly=wr("transitionend"),jy=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function ai(i,r){jy.set(i,r),Si(r,[i])}var tu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],xa=0,zf=0;function eu(){for(var i=xa,r=zf=xa=0;r<i;){var o=zn[r];zn[r++]=null;var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var p=zn[r];if(zn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&zy(o,f,p)}}function nu(i,r,o,l){zn[xa++]=i,zn[xa++]=r,zn[xa++]=o,zn[xa++]=l,zf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Uf(i,r,o,l){return nu(i,r,o,l),iu(i)}function Mr(i,r){return nu(i,null,null,r),iu(i)}function zy(i,r,o){i.lanes|=o;var l=i.alternate;l!==null&&(l.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-ve(o),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=o|536870912),p):null}function iu(i){if(50<Al)throw Al=0,Qd=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ra={};function pA(i,r,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,l){return new pA(i,r,o,l)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qi(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Uy(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function su(i,r,o,l,f,p){var T=0;if(l=i,typeof i=="function")Bf(i)&&(T=1);else if(typeof i=="string")T=_x(i,o,lt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Dn(31,o,r,f),i.elementType=R,i.lanes=p,i;case z:return Vr(o.children,f,p,r);case H:T=8,f|=24;break;case $:return i=Dn(12,o,r,f|2),i.elementType=$,i.lanes=p,i;case ot:return i=Dn(13,o,r,f),i.elementType=ot,i.lanes=p,i;case ht:return i=Dn(19,o,r,f),i.elementType=ht,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:T=10;break t;case tt:T=9;break t;case at:T=11;break t;case w:T=14;break t;case A:T=16,l=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Dn(T,o,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function Vr(i,r,o,l){return i=Dn(7,i,l,r),i.lanes=o,i}function Ff(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function By(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function Hf(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Fy=new WeakMap;function Un(i,r){if(typeof i=="object"&&i!==null){var o=Fy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Oo(r)},Fy.set(i,r),r)}return{value:i,source:r,stack:Oo(r)}}var Da=[],wa=0,ru=null,sl=0,Bn=[],Fn=0,xs=null,Ii=1,Ni="";function Xi(i,r){Da[wa++]=sl,Da[wa++]=ru,ru=i,sl=r}function Hy(i,r,o){Bn[Fn++]=Ii,Bn[Fn++]=Ni,Bn[Fn++]=xs,xs=i;var l=Ii;i=Ni;var f=32-ve(l)-1;l&=~(1<<f),o+=1;var p=32-ve(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ii=1<<32-ve(r)+f|o<<f|l,Ni=p+i}else Ii=1<<p|o<<f|l,Ni=i}function qf(i){i.return!==null&&(Xi(i,1),Hy(i,1,0))}function Gf(i){for(;i===ru;)ru=Da[--wa],Da[wa]=null,sl=Da[--wa],Da[wa]=null;for(;i===xs;)xs=Bn[--Fn],Bn[Fn]=null,Ni=Bn[--Fn],Bn[Fn]=null,Ii=Bn[--Fn],Bn[Fn]=null}function qy(i,r){Bn[Fn++]=Ii,Bn[Fn++]=Ni,Bn[Fn++]=xs,Ii=r.id,Ni=r.overflow,xs=i}var Ye=null,re=null,zt=!1,Rs=null,Hn=!1,$f=Error(s(519));function Ds(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Un(r,i)),$f}function Gy(i){var r=i.stateNode,o=i.type,l=i.memoizedProps;switch(r[Ae]=i,r[Fe]=l,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<Rl.length;o++)Ot(Rl[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),jc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),_s(r,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||l_(r.textContent,o)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Ds(i,!0)}function $y(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ye=Ye.return}}function Ma(i){if(i!==Ye)return!1;if(!zt)return $y(i),zt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||up(i.type,i.memoizedProps)),o=!o),o&&re&&Ds(i),$y(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=y_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=y_(i)}else r===27?(r=re,Fs(i.type)?(i=mp,mp=null,re=i):re=r):re=Ye?Gn(i.stateNode.nextSibling):null;return!0}function Ir(){re=Ye=null,zt=!1}function Kf(){var i=Rs;return i!==null&&(bn===null?bn=i:bn.push.apply(bn,i),Rs=null),i}function rl(i){Rs===null?Rs=[i]:Rs.push(i)}var Yf=V(null),Nr=null,Zi=null;function ws(i,r,o){it(Yf,r._currentValue),r._currentValue=o}function Ji(i){i._currentValue=Yf.current,G(Yf)}function Qf(i,r,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===o)break;i=i.return}}function Xf(i,r,o,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var I=0;I<r.length;I++)if(S.context===r[I]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Qf(p.return,o,i),l||(T=null);break t}p=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Qf(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Va(i,r,o,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;Rn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===Vt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Il):i=[Il])}f=f.return}i!==null&&Xf(r,i,o,l),r.flags|=262144}function au(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Or(i){Nr=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return Ky(Nr,i)}function ou(i,r){return Nr===null&&Or(i),Ky(i,r)}function Ky(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(s(308));Zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zi=Zi.next=r;return o}var mA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},gA=n.unstable_scheduleCallback,yA=n.unstable_NormalPriority,De={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new mA,data:new Map,refCount:0}}function al(i){i.refCount--,i.refCount===0&&gA(yA,function(){i.controller.abort()})}var ol=null,Jf=0,Ia=0,Na=null;function vA(i,r){if(ol===null){var o=ol=[];Jf=0,Ia=ep(),Na={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Jf++,r.then(Yy,Yy),r}function Yy(){if(--Jf===0&&ol!==null){Na!==null&&(Na.status="fulfilled");var i=ol;ol=null,Ia=0,Na=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function _A(i,r){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var Qy=Q.S;Q.S=function(i,r){Iv=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&vA(i,r),Qy!==null&&Qy(i,r)};var Pr=V(null);function Wf(){var i=Pr.current;return i!==null?i:ee.pooledCache}function lu(i,r){r===null?it(Pr,Pr.current):it(Pr,r.pool)}function Xy(){var i=Wf();return i===null?null:{parent:De._currentValue,pool:i}}var Oa=Error(s(460)),td=Error(s(474)),cu=Error(s(542)),uu={then:function(){}};function Zy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jy(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ei,ei),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,t0(i),i;default:if(typeof r.status=="string")r.then(ei,ei);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,t0(i),i}throw Lr=r,Oa}}function kr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Lr=o,Oa):o}}var Lr=null;function Wy(){if(Lr===null)throw Error(s(459));var i=Lr;return Lr=null,i}function t0(i){if(i===Oa||i===cu)throw Error(s(483))}var Pa=null,ll=0;function hu(i){var r=ll;return ll+=1,Pa===null&&(Pa=[]),Jy(Pa,i,r)}function cl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function fu(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function e0(i){function r(j,k){if(i){var B=j.deletions;B===null?(j.deletions=[k],j.flags|=16):B.push(k)}}function o(j,k){if(!i)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Qi(j,k),j.index=0,j.sibling=null,j}function p(j,k,B){return j.index=B,i?(B=j.alternate,B!==null?(B=B.index,B<k?(j.flags|=67108866,k):B):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function T(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function S(j,k,B,J){return k===null||k.tag!==6?(k=Ff(B,j.mode,J),k.return=j,k):(k=f(k,B),k.return=j,k)}function I(j,k,B,J){var Tt=B.type;return Tt===z?X(j,k,B.props.children,J,B.key):k!==null&&(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&kr(Tt)===k.type)?(k=f(k,B.props),cl(k,B),k.return=j,k):(k=su(B.type,B.key,B.props,null,j.mode,J),cl(k,B),k.return=j,k)}function F(j,k,B,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Hf(B,j.mode,J),k.return=j,k):(k=f(k,B.children||[]),k.return=j,k)}function X(j,k,B,J,Tt){return k===null||k.tag!==7?(k=Vr(B,j.mode,J,Tt),k.return=j,k):(k=f(k,B),k.return=j,k)}function W(j,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ff(""+k,j.mode,B),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return B=su(k.type,k.key,k.props,null,j.mode,B),cl(B,k),B.return=j,B;case P:return k=Hf(k,j.mode,B),k.return=j,k;case A:return k=kr(k),W(j,k,B)}if(ce(k)||L(k))return k=Vr(k,j.mode,B,null),k.return=j,k;if(typeof k.then=="function")return W(j,hu(k),B);if(k.$$typeof===Z)return W(j,ou(j,k),B);fu(j,k)}return null}function q(j,k,B,J){var Tt=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Tt!==null?null:S(j,k,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return B.key===Tt?I(j,k,B,J):null;case P:return B.key===Tt?F(j,k,B,J):null;case A:return B=kr(B),q(j,k,B,J)}if(ce(B)||L(B))return Tt!==null?null:X(j,k,B,J,null);if(typeof B.then=="function")return q(j,k,hu(B),J);if(B.$$typeof===Z)return q(j,k,ou(j,B),J);fu(j,B)}return null}function Y(j,k,B,J,Tt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(B)||null,S(k,j,""+J,Tt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return j=j.get(J.key===null?B:J.key)||null,I(k,j,J,Tt);case P:return j=j.get(J.key===null?B:J.key)||null,F(k,j,J,Tt);case A:return J=kr(J),Y(j,k,B,J,Tt)}if(ce(J)||L(J))return j=j.get(B)||null,X(k,j,J,Tt,null);if(typeof J.then=="function")return Y(j,k,B,hu(J),Tt);if(J.$$typeof===Z)return Y(j,k,B,ou(k,J),Tt);fu(k,J)}return null}function mt(j,k,B,J){for(var Tt=null,Ft=null,vt=k,It=k=0,kt=null;vt!==null&&It<B.length;It++){vt.index>It?(kt=vt,vt=null):kt=vt.sibling;var Ht=q(j,vt,B[It],J);if(Ht===null){vt===null&&(vt=kt);break}i&&vt&&Ht.alternate===null&&r(j,vt),k=p(Ht,k,It),Ft===null?Tt=Ht:Ft.sibling=Ht,Ft=Ht,vt=kt}if(It===B.length)return o(j,vt),zt&&Xi(j,It),Tt;if(vt===null){for(;It<B.length;It++)vt=W(j,B[It],J),vt!==null&&(k=p(vt,k,It),Ft===null?Tt=vt:Ft.sibling=vt,Ft=vt);return zt&&Xi(j,It),Tt}for(vt=l(vt);It<B.length;It++)kt=Y(vt,j,It,B[It],J),kt!==null&&(i&&kt.alternate!==null&&vt.delete(kt.key===null?It:kt.key),k=p(kt,k,It),Ft===null?Tt=kt:Ft.sibling=kt,Ft=kt);return i&&vt.forEach(function(Ks){return r(j,Ks)}),zt&&Xi(j,It),Tt}function St(j,k,B,J){if(B==null)throw Error(s(151));for(var Tt=null,Ft=null,vt=k,It=k=0,kt=null,Ht=B.next();vt!==null&&!Ht.done;It++,Ht=B.next()){vt.index>It?(kt=vt,vt=null):kt=vt.sibling;var Ks=q(j,vt,Ht.value,J);if(Ks===null){vt===null&&(vt=kt);break}i&&vt&&Ks.alternate===null&&r(j,vt),k=p(Ks,k,It),Ft===null?Tt=Ks:Ft.sibling=Ks,Ft=Ks,vt=kt}if(Ht.done)return o(j,vt),zt&&Xi(j,It),Tt;if(vt===null){for(;!Ht.done;It++,Ht=B.next())Ht=W(j,Ht.value,J),Ht!==null&&(k=p(Ht,k,It),Ft===null?Tt=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&Xi(j,It),Tt}for(vt=l(vt);!Ht.done;It++,Ht=B.next())Ht=Y(vt,j,It,Ht.value,J),Ht!==null&&(i&&Ht.alternate!==null&&vt.delete(Ht.key===null?It:Ht.key),k=p(Ht,k,It),Ft===null?Tt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&vt.forEach(function(Mx){return r(j,Mx)}),zt&&Xi(j,It),Tt}function te(j,k,B,J){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case x:t:{for(var Tt=B.key;k!==null;){if(k.key===Tt){if(Tt=B.type,Tt===z){if(k.tag===7){o(j,k.sibling),J=f(k,B.props.children),J.return=j,j=J;break t}}else if(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&kr(Tt)===k.type){o(j,k.sibling),J=f(k,B.props),cl(J,B),J.return=j,j=J;break t}o(j,k);break}else r(j,k);k=k.sibling}B.type===z?(J=Vr(B.props.children,j.mode,J,B.key),J.return=j,j=J):(J=su(B.type,B.key,B.props,null,j.mode,J),cl(J,B),J.return=j,j=J)}return T(j);case P:t:{for(Tt=B.key;k!==null;){if(k.key===Tt)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){o(j,k.sibling),J=f(k,B.children||[]),J.return=j,j=J;break t}else{o(j,k);break}else r(j,k);k=k.sibling}J=Hf(B,j.mode,J),J.return=j,j=J}return T(j);case A:return B=kr(B),te(j,k,B,J)}if(ce(B))return mt(j,k,B,J);if(L(B)){if(Tt=L(B),typeof Tt!="function")throw Error(s(150));return B=Tt.call(B),St(j,k,B,J)}if(typeof B.then=="function")return te(j,k,hu(B),J);if(B.$$typeof===Z)return te(j,k,ou(j,B),J);fu(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(o(j,k.sibling),J=f(k,B),J.return=j,j=J):(o(j,k),J=Ff(B,j.mode,J),J.return=j,j=J),T(j)):o(j,k)}return function(j,k,B,J){try{ll=0;var Tt=te(j,k,B,J);return Pa=null,Tt}catch(vt){if(vt===Oa||vt===cu)throw vt;var Ft=Dn(29,vt,null,j.mode);return Ft.lanes=J,Ft.return=j,Ft}}}var jr=e0(!0),n0=e0(!1),Ms=!1;function ed(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Is(i,r,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=iu(i),zy(i,null,o),r}return nu(i,l,r,o),iu(i)}function ul(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Lo(i,o)}}function id(i,r){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var sd=!1;function hl(){if(sd){var i=Na;if(i!==null)throw i}}function fl(i,r,o,l){sd=!1;var f=i.updateQueue;Ms=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,F=I.next;I.next=null,T===null?p=F:T.next=F,T=I;var X=i.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==T&&(S===null?X.firstBaseUpdate=F:S.next=F,X.lastBaseUpdate=I))}if(p!==null){var W=f.baseState;T=0,X=F=I=null,S=p;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(Pt&q)===q:(l&q)===q){q!==0&&q===Ia&&(sd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=i,St=S;q=r;var te=o;switch(St.tag){case 1:if(mt=St.payload,typeof mt=="function"){W=mt.call(te,W,q);break t}W=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=St.payload,q=typeof mt=="function"?mt.call(te,W,q):mt,q==null)break t;W=_({},W,q);break t;case 2:Ms=!0}}q=S.callback,q!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(F=X=Y,I=W):X=X.next=Y,T|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(I=W),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),Ls|=T,i.lanes=T,i.memoizedState=W}}function i0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function s0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)i0(o[i],r)}var ka=V(null),du=V(0);function r0(i,r){i=os,it(du,i),it(ka,r),os=i|r.baseLanes}function rd(){it(du,os),it(ka,ka.current)}function ad(){os=du.current,G(ka),G(du)}var wn=V(null),qn=null;function Ns(i){var r=i.alternate;it(Te,Te.current&1),it(wn,i),qn===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(qn=i)}function od(i){it(Te,Te.current),it(wn,i),qn===null&&(qn=i)}function a0(i){i.tag===22?(it(Te,Te.current),it(wn,i),qn===null&&(qn=i)):Os()}function Os(){it(Te,Te.current),it(wn,wn.current)}function Mn(i){G(wn),qn===i&&(qn=null),G(Te)}var Te=V(0);function pu(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||dp(o)||pp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wi=0,Mt=null,Jt=null,we=null,mu=!1,La=!1,zr=!1,gu=0,dl=0,ja=null,TA=0;function me(){throw Error(s(321))}function ld(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Rn(i[o],r[o]))return!1;return!0}function cd(i,r,o,l,f,p){return Wi=p,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?H0:Cd,zr=!1,p=o(l,f),zr=!1,La&&(p=l0(r,o,l,f)),o0(i),p}function o0(i){Q.H=gl;var r=Jt!==null&&Jt.next!==null;if(Wi=0,we=Jt=Mt=null,mu=!1,dl=0,ja=null,r)throw Error(s(300));i===null||Me||(i=i.dependencies,i!==null&&au(i)&&(Me=!0))}function l0(i,r,o,l){Mt=i;var f=0;do{if(La&&(ja=null),dl=0,La=!1,25<=f)throw Error(s(301));if(f+=1,we=Jt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=q0,p=r(o,l)}while(La);return p}function bA(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?pl(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Mt.flags|=1024),r}function ud(){var i=gu!==0;return gu=0,i}function hd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function fd(i){if(mu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}mu=!1}Wi=0,we=Jt=Mt=null,La=!1,dl=gu=0,ja=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Mt.memoizedState=we=i:we=we.next=i,we}function be(){if(Jt===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=we===null?Mt.memoizedState:we.next;if(r!==null)we=r,Jt=i;else{if(i===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Mt.memoizedState=we=i:we=we.next=i}return we}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(i){var r=dl;return dl+=1,ja===null&&(ja=[]),i=Jy(ja,i,r),r=Mt,(we===null?r.memoizedState:we.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?H0:Cd),i}function vu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return pl(i);if(i.$$typeof===Z)return Qe(i)}throw Error(s(438,String(i)))}function dd(i){var r=null,o=Mt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=yu(),Mt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),l=0;l<i;l++)o[l]=O;return r.index++,o}function ts(i,r){return typeof r=="function"?r(i):r}function _u(i){var r=be();return pd(r,Jt,i)}function pd(i,r,o){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var S=T=null,I=null,F=r,X=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Pt&W)===W:(Wi&W)===W){var q=F.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===Ia&&(X=!0);else if((Wi&q)===q){F=F.next,q===Ia&&(X=!0);continue}else W={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(S=I=W,T=p):I=I.next=W,Mt.lanes|=q,Ls|=q;W=F.action,zr&&o(p,W),p=F.hasEagerState?F.eagerState:o(p,W)}else q={lane:W,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(S=I=q,T=p):I=I.next=q,Mt.lanes|=W,Ls|=W;F=F.next}while(F!==null&&F!==r);if(I===null?T=p:I.next=S,!Rn(p,i.memoizedState)&&(Me=!0,X&&(o=Na,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=I,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function md(i){var r=be(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var l=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Rn(p,r.memoizedState)||(Me=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,l]}function c0(i,r,o){var l=Mt,f=be(),p=zt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Rn((Jt||f).memoizedState,o);if(T&&(f.memoizedState=o,Me=!0),f=f.queue,vd(f0.bind(null,l,f,i),[i]),f.getSnapshot!==r||T||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},h0.bind(null,l,f,o,r),null),ee===null)throw Error(s(349));p||(Wi&127)!==0||u0(l,r,o)}return o}function u0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Mt.updateQueue,r===null?(r=yu(),Mt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function h0(i,r,o,l){r.value=o,r.getSnapshot=l,d0(r)&&p0(i)}function f0(i,r,o){return o(function(){d0(r)&&p0(i)})}function d0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Rn(i,o)}catch{return!0}}function p0(i){var r=Mr(i,2);r!==null&&En(r,i,2)}function gd(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),zr){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:i},r}function m0(i,r,o,l){return i.baseState=o,pd(i,Jt,typeof l=="function"?l:ts)}function EA(i,r,o,l,f){if(Eu(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Q.T!==null?o(!0):p.isTransition=!1,l(p),o=r.pending,o===null?(p.next=r.pending=p,g0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function g0(i,r){var o=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=Q.T,T={};Q.T=T;try{var S=o(f,l),I=Q.S;I!==null&&I(T,S),y0(i,r,S)}catch(F){yd(i,r,F)}finally{p!==null&&T.types!==null&&(p.types=T.types),Q.T=p}}else try{p=o(f,l),y0(i,r,p)}catch(F){yd(i,r,F)}}function y0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){v0(i,r,l)},function(l){return yd(i,r,l)}):v0(i,r,o)}function v0(i,r,o){r.status="fulfilled",r.value=o,_0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,g0(i,o)))}function yd(i,r,o){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,_0(r),r=r.next;while(r!==l)}i.action=null}function _0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function T0(i,r){return r}function b0(i,r){if(zt){var o=ee.formState;if(o!==null){t:{var l=Mt;if(zt){if(re){e:{for(var f=re,p=Hn;f.nodeType!==8;){if(!p){f=null;break e}if(f=Gn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){re=Gn(f.nextSibling),l=f.data==="F!";break t}}Ds(l)}l=!1}l&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:r},o.queue=l,o=U0.bind(null,Mt,l),l.dispatch=o,l=gd(!1),p=Sd.bind(null,Mt,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,o=EA.bind(null,Mt,f,p,o),f.dispatch=o,l.memoizedState=i,[r,o,!1]}function E0(i){var r=be();return S0(r,Jt,i)}function S0(i,r,o){if(r=pd(i,r,T0)[0],i=_u(ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(T){throw T===Oa?cu:T}else l=r;r=be();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Mt.flags|=2048,za(9,{destroy:void 0},SA.bind(null,f,o),null)),[l,p,i]}function SA(i,r){i.action=r}function C0(i){var r=be(),o=Jt;if(o!==null)return S0(r,o,i);be(),r=r.memoizedState,o=be();var l=o.queue.dispatch;return o.memoizedState=i,[r,l,!1]}function za(i,r,o,l){return i={tag:i,create:o,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=yu(),Mt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,r.lastEffect=i),i}function A0(){return be().memoizedState}function Tu(i,r,o,l){var f=fn();Mt.flags|=i,f.memoizedState=za(1|r,{destroy:void 0},o,l===void 0?null:l)}function bu(i,r,o,l){var f=be();l=l===void 0?null:l;var p=f.memoizedState.inst;Jt!==null&&l!==null&&ld(l,Jt.memoizedState.deps)?f.memoizedState=za(r,p,o,l):(Mt.flags|=i,f.memoizedState=za(1|r,p,o,l))}function x0(i,r){Tu(8390656,8,i,r)}function vd(i,r){bu(2048,8,i,r)}function CA(i){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=yu(),Mt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function R0(i){var r=be().memoizedState;return CA({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function D0(i,r){return bu(4,2,i,r)}function w0(i,r){return bu(4,4,i,r)}function M0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function V0(i,r,o){o=o!=null?o.concat([i]):null,bu(4,4,M0.bind(null,r,i),o)}function _d(){}function I0(i,r){var o=be();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&ld(r,l[1])?l[0]:(o.memoizedState=[i,r],i)}function N0(i,r){var o=be();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&ld(r,l[1]))return l[0];if(l=i(),zr){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[l,r],l}function Td(i,r,o){return o===void 0||(Wi&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Ov(),Mt.lanes|=i,Ls|=i,o)}function O0(i,r,o,l){return Rn(o,r)?o:ka.current!==null?(i=Td(i,o,l),Rn(i,r)||(Me=!0),i):(Wi&42)===0||(Wi&1073741824)!==0&&(Pt&261930)===0?(Me=!0,i.memoizedState=o):(i=Ov(),Mt.lanes|=i,Ls|=i,r)}function P0(i,r,o,l,f){var p=rt.p;rt.p=p!==0&&8>p?p:8;var T=Q.T,S={};Q.T=S,Sd(i,!1,r,o);try{var I=f(),F=Q.S;if(F!==null&&F(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=_A(I,l);ml(i,r,X,Nn(i))}else ml(i,r,l,Nn(i))}catch(W){ml(i,r,{then:function(){},status:"rejected",reason:W},Nn())}finally{rt.p=p,T!==null&&S.types!==null&&(T.types=S.types),Q.T=T}}function AA(){}function bd(i,r,o,l){if(i.tag!==5)throw Error(s(476));var f=k0(i).queue;P0(i,f,r,ft,o===null?AA:function(){return L0(i),o(l)})}function k0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ft},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function L0(i){var r=k0(i);r.next===null&&(r=i.alternate.memoizedState),ml(i,r.next.queue,{},Nn())}function Ed(){return Qe(Il)}function j0(){return be().memoizedState}function z0(){return be().memoizedState}function xA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Nn();i=Vs(o);var l=Is(r,i,o);l!==null&&(En(l,r,o),ul(l,r,o)),r={cache:Zf()},i.payload=r;return}r=r.return}}function RA(i,r,o){var l=Nn();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eu(i)?B0(r,o):(o=Uf(i,r,o,l),o!==null&&(En(o,i,l),F0(o,r,l)))}function U0(i,r,o){var l=Nn();ml(i,r,o,l)}function ml(i,r,o,l){var f={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Eu(i))B0(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,S=p(T,o);if(f.hasEagerState=!0,f.eagerState=S,Rn(S,T))return nu(i,r,f,0),ee===null&&eu(),!1}catch{}if(o=Uf(i,r,f,l),o!==null)return En(o,i,l),F0(o,r,l),!0}return!1}function Sd(i,r,o,l){if(l={lane:2,revertLane:ep(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Eu(i)){if(r)throw Error(s(479))}else r=Uf(i,o,l,2),r!==null&&En(r,i,2)}function Eu(i){var r=i.alternate;return i===Mt||r!==null&&r===Mt}function B0(i,r){La=mu=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function F0(i,r,o){if((o&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Lo(i,o)}}var gl={readContext:Qe,use:vu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};gl.useEffectEvent=me;var H0={readContext:Qe,use:vu,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:x0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Tu(4194308,4,M0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Tu(4194308,4,i,r)},useInsertionEffect:function(i,r){Tu(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var l=i();if(zr){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[l,r],l},useReducer:function(i,r,o){var l=fn();if(o!==void 0){var f=o(r);if(zr){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=RA.bind(null,Mt,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=gd(i);var r=i.queue,o=U0.bind(null,Mt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:_d,useDeferredValue:function(i,r){var o=fn();return Td(o,i,r)},useTransition:function(){var i=gd(!1);return i=P0.bind(null,Mt,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var l=Mt,f=fn();if(zt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ee===null)throw Error(s(349));(Pt&127)!==0||u0(l,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,x0(f0.bind(null,l,p,i),[i]),l.flags|=2048,za(9,{destroy:void 0},h0.bind(null,l,p,o,r),null),o},useId:function(){var i=fn(),r=ee.identifierPrefix;if(zt){var o=Ni,l=Ii;o=(l&~(1<<32-ve(l)-1)).toString(32)+o,r="_"+r+"R_"+o,o=gu++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=TA++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Ed,useFormState:b0,useActionState:b0,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Sd.bind(null,Mt,!0,o),o.dispatch=r,[i,r]},useMemoCache:dd,useCacheRefresh:function(){return fn().memoizedState=xA.bind(null,Mt)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Gt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Cd={readContext:Qe,use:vu,useCallback:I0,useContext:Qe,useEffect:vd,useImperativeHandle:V0,useInsertionEffect:D0,useLayoutEffect:w0,useMemo:N0,useReducer:_u,useRef:A0,useState:function(){return _u(ts)},useDebugValue:_d,useDeferredValue:function(i,r){var o=be();return O0(o,Jt.memoizedState,i,r)},useTransition:function(){var i=_u(ts)[0],r=be().memoizedState;return[typeof i=="boolean"?i:pl(i),r]},useSyncExternalStore:c0,useId:j0,useHostTransitionStatus:Ed,useFormState:E0,useActionState:E0,useOptimistic:function(i,r){var o=be();return m0(o,Jt,i,r)},useMemoCache:dd,useCacheRefresh:z0};Cd.useEffectEvent=R0;var q0={readContext:Qe,use:vu,useCallback:I0,useContext:Qe,useEffect:vd,useImperativeHandle:V0,useInsertionEffect:D0,useLayoutEffect:w0,useMemo:N0,useReducer:md,useRef:A0,useState:function(){return md(ts)},useDebugValue:_d,useDeferredValue:function(i,r){var o=be();return Jt===null?Td(o,i,r):O0(o,Jt.memoizedState,i,r)},useTransition:function(){var i=md(ts)[0],r=be().memoizedState;return[typeof i=="boolean"?i:pl(i),r]},useSyncExternalStore:c0,useId:j0,useHostTransitionStatus:Ed,useFormState:C0,useActionState:C0,useOptimistic:function(i,r){var o=be();return Jt!==null?m0(o,Jt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:dd,useCacheRefresh:z0};q0.useEffectEvent=R0;function Ad(i,r,o,l){r=i.memoizedState,o=o(l,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var xd={enqueueSetState:function(i,r,o){i=i._reactInternals;var l=Nn(),f=Vs(l);f.payload=r,o!=null&&(f.callback=o),r=Is(i,f,l),r!==null&&(En(r,i,l),ul(r,i,l))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var l=Nn(),f=Vs(l);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Is(i,f,l),r!==null&&(En(r,i,l),ul(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Nn(),l=Vs(o);l.tag=2,r!=null&&(l.callback=r),r=Is(i,l,o),r!==null&&(En(r,i,o),ul(r,i,o))}};function G0(i,r,o,l,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!nl(o,l)||!nl(f,p):!0}function $0(i,r,o,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==i&&xd.enqueueReplaceState(r,r.state,null)}function Ur(i,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function K0(i){tu(i)}function Y0(i){console.error(i)}function Q0(i){tu(i)}function Su(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function X0(i,r,o){try{var l=i.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(i,r,o){return o=Vs(o),o.tag=3,o.payload={element:null},o.callback=function(){Su(i,r)},o}function Z0(i){return i=Vs(i),i.tag=3,i}function J0(i,r,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){X0(r,o,l)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){X0(r,o,l),typeof f!="function"&&(js===null?js=new Set([this]):js.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function DA(i,r,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&Va(r,o,f,!0),o=wn.current,o!==null){switch(o.tag){case 31:case 13:return qn===null?Pu():o.alternate===null&&ge===0&&(ge=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===uu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),Jd(i,l,f)),!1;case 22:return o.flags|=65536,l===uu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),Jd(i,l,f)),!1}throw Error(s(435,o.tag))}return Jd(i,l,f),Pu(),!1}if(zt)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==$f&&(i=Error(s(422),{cause:l}),rl(Un(i,o)))):(l!==$f&&(r=Error(s(423),{cause:l}),rl(Un(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Un(l,o),f=Rd(i.stateNode,l,f),id(i,f),ge!==4&&(ge=2)),!1;var p=Error(s(520),{cause:l});if(p=Un(p,o),Cl===null?Cl=[p]:Cl.push(p),ge!==4&&(ge=2),r===null)return!0;l=Un(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Rd(o.stateNode,l,i),id(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(js===null||!js.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Z0(f),J0(f,i,o,l),id(o,f),!1}o=o.return}while(o!==null);return!1}var Dd=Error(s(461)),Me=!1;function Xe(i,r,o,l){r.child=i===null?n0(r,null,o,l):jr(r,i.child,o,l)}function W0(i,r,o,l,f){o=o.render;var p=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Or(r),l=cd(i,r,o,T,p,f),S=ud(),i!==null&&!Me?(hd(i,r,f),es(i,r,f)):(zt&&S&&qf(r),r.flags|=1,Xe(i,r,l,f),r.child)}function tv(i,r,o,l,f){if(i===null){var p=o.type;return typeof p=="function"&&!Bf(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,ev(i,r,p,l,f)):(i=su(o.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!kd(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:nl,o(T,l)&&i.ref===r.ref)return es(i,r,f)}return r.flags|=1,i=Qi(p,l),i.ref=r.ref,i.return=r,r.child=i}function ev(i,r,o,l,f){if(i!==null){var p=i.memoizedProps;if(nl(p,l)&&i.ref===r.ref)if(Me=!1,r.pendingProps=l=p,kd(i,f))(i.flags&131072)!==0&&(Me=!0);else return r.lanes=i.lanes,es(i,r,f)}return wd(i,r,o,l,f)}function nv(i,r,o,l){var f=l.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,r.child=null;return iv(i,r,p,o,l)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&lu(r,p!==null?p.cachePool:null),p!==null?r0(r,p):rd(),a0(r);else return l=r.lanes=536870912,iv(i,r,p!==null?p.baseLanes|o:o,o,l)}else p!==null?(lu(r,p.cachePool),r0(r,p),Os(),r.memoizedState=null):(i!==null&&lu(r,null),rd(),Os());return Xe(i,r,f,o),r.child}function yl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function iv(i,r,o,l,f){var p=Wf();return p=p===null?null:{parent:De._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&lu(r,null),rd(),a0(r),i!==null&&Va(i,r,l,!0),r.childLanes=f,null}function Cu(i,r){return r=xu({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function sv(i,r,o){return jr(r,i.child,null,o),i=Cu(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function wA(i,r,o){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(l.mode==="hidden")return i=Cu(r,l),r.lanes=536870912,yl(null,i);if(od(r),(i=re)?(i=g_(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:xs!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=By(i),o.return=r,r.child=o,Ye=r,re=null)):i=null,i===null)throw Ds(r);return r.lanes=536870912,null}return Cu(r,l)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(od(r),f)if(r.flags&256)r.flags&=-257,r=sv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Me||Va(i,r,o,!1),f=(o&i.childLanes)!==0,Me||f){if(l=ee,l!==null&&(T=jo(l,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Mr(i,T),En(l,i,T),Dd;Pu(),r=sv(i,r,o)}else i=p.treeContext,re=Gn(T.nextSibling),Ye=r,zt=!0,Rs=null,Hn=!1,i!==null&&qy(r,i),r=Cu(r,l),r.flags|=4096;return r}return i=Qi(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Au(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function wd(i,r,o,l,f){return Or(r),o=cd(i,r,o,l,void 0,f),l=ud(),i!==null&&!Me?(hd(i,r,f),es(i,r,f)):(zt&&l&&qf(r),r.flags|=1,Xe(i,r,o,f),r.child)}function rv(i,r,o,l,f,p){return Or(r),r.updateQueue=null,o=l0(r,l,o,f),o0(i),l=ud(),i!==null&&!Me?(hd(i,r,p),es(i,r,p)):(zt&&l&&qf(r),r.flags|=1,Xe(i,r,o,p),r.child)}function av(i,r,o,l,f){if(Or(r),r.stateNode===null){var p=Ra,T=o.contextType;typeof T=="object"&&T!==null&&(p=Qe(T)),p=new o(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},ed(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Qe(T):Ra,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Ad(r,o,T,l),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&xd.enqueueReplaceState(p,p.state,null),fl(r,l,p,f),hl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var S=r.memoizedProps,I=Ur(o,S);p.props=I;var F=p.context,X=o.contextType;T=Ra,typeof X=="object"&&X!==null&&(T=Qe(X));var W=o.getDerivedStateFromProps;X=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==T)&&$0(r,p,l,T),Ms=!1;var q=r.memoizedState;p.state=q,fl(r,l,p,f),hl(),F=r.memoizedState,S||q!==F||Ms?(typeof W=="function"&&(Ad(r,o,W,l),F=r.memoizedState),(I=Ms||G0(r,o,I,l,q,F,T))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=T,l=I):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,nd(i,r),T=r.memoizedProps,X=Ur(o,T),p.props=X,W=r.pendingProps,q=p.context,F=o.contextType,I=Ra,typeof F=="object"&&F!==null&&(I=Qe(F)),S=o.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==W||q!==I)&&$0(r,p,l,I),Ms=!1,q=r.memoizedState,p.state=q,fl(r,l,p,f),hl();var Y=r.memoizedState;T!==W||q!==Y||Ms||i!==null&&i.dependencies!==null&&au(i.dependencies)?(typeof S=="function"&&(Ad(r,o,S,l),Y=r.memoizedState),(X=Ms||G0(r,o,X,l,q,Y,I)||i!==null&&i.dependencies!==null&&au(i.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Y,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Y,I)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),p.props=l,p.state=Y,p.context=I,l=X):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,Au(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=jr(r,i.child,null,f),r.child=jr(r,null,o,f)):Xe(i,r,o,f),r.memoizedState=p.state,i=r.child):i=es(i,r,f),i}function ov(i,r,o,l){return Ir(),r.flags|=256,Xe(i,r,o,l),r.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(i){return{baseLanes:i,cachePool:Xy()}}function Id(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=In),i}function lv(i,r,o){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Te.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?Ns(r):Os(),(i=re)?(i=g_(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:xs!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=By(i),o.return=r,r.child=o,Ye=r,re=null)):i=null,i===null)throw Ds(r);return pp(i)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Os(),f=r.mode,S=xu({mode:"hidden",children:S},f),l=Vr(l,f,o,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Vd(o),l.childLanes=Id(i,T,o),r.memoizedState=Md,yl(null,l)):(Ns(r),Nd(r,S))}var I=i.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(p)r.flags&256?(Ns(r),r.flags&=-257,r=Od(i,r,o)):r.memoizedState!==null?(Os(),r.child=i.child,r.flags|=128,r=null):(Os(),S=l.fallback,f=r.mode,l=xu({mode:"visible",children:l.children},f),S=Vr(S,f,o,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,jr(r,i.child,null,o),l=r.child,l.memoizedState=Vd(o),l.childLanes=Id(i,T,o),r.memoizedState=Md,r=yl(null,l));else if(Ns(r),pp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,rl({value:l,source:null,stack:null}),r=Od(i,r,o)}else if(Me||Va(i,r,o,!1),T=(o&i.childLanes)!==0,Me||T){if(T=ee,T!==null&&(l=jo(T,o),l!==0&&l!==I.retryLane))throw I.retryLane=l,Mr(i,l),En(T,i,l),Dd;dp(S)||Pu(),r=Od(i,r,o)}else dp(S)?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,re=Gn(S.nextSibling),Ye=r,zt=!0,Rs=null,Hn=!1,i!==null&&qy(r,i),r=Nd(r,l.children),r.flags|=4096);return r}return f?(Os(),S=l.fallback,f=r.mode,I=i.child,F=I.sibling,l=Qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?S=Qi(F,S):(S=Vr(S,f,o,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,yl(null,l),l=r.child,S=i.child.memoizedState,S===null?S=Vd(o):(f=S.cachePool,f!==null?(I=De._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Xy(),S={baseLanes:S.baseLanes|o,cachePool:f}),l.memoizedState=S,l.childLanes=Id(i,T,o),r.memoizedState=Md,yl(i.child,l)):(Ns(r),o=i.child,i=o.sibling,o=Qi(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Nd(i,r){return r=xu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function xu(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function Od(i,r,o){return jr(r,i.child,null,o),i=Nd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function cv(i,r,o){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Qf(i.return,r,o)}function Pd(i,r,o,l,f,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function uv(i,r,o){var l=r.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var T=Te.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,it(Te,T),Xe(i,r,l,o),l=zt?sl:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cv(i,o,r);else if(i.tag===19)cv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&pu(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Pd(r,!1,f,o,p,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&pu(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Pd(r,!0,o,null,p,l);break;case"together":Pd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function es(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ls|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Va(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Qi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Qi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function kd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&au(i)))}function MA(i,r,o){switch(r.tag){case 3:fe(r,r.stateNode.containerInfo),ws(r,De,i.memoizedState.cache),Ir();break;case 27:case 5:fr(r);break;case 4:fe(r,r.stateNode.containerInfo);break;case 10:ws(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,od(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(r),r.flags|=128,null):(o&r.child.childLanes)!==0?lv(i,r,o):(Ns(r),i=es(i,r,o),i!==null?i.sibling:null);Ns(r);break;case 19:var f=(i.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(Va(i,r,o,!1),l=(o&r.childLanes)!==0),f){if(l)return uv(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Te,Te.current),l)break;return null;case 22:return r.lanes=0,nv(i,r,o,r.pendingProps);case 24:ws(r,De,i.memoizedState.cache)}return es(i,r,o)}function hv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Me=!0;else{if(!kd(i,o)&&(r.flags&128)===0)return Me=!1,MA(i,r,o);Me=(i.flags&131072)!==0}else Me=!1,zt&&(r.flags&1048576)!==0&&Hy(r,sl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=kr(r.elementType),r.type=i,typeof i=="function")Bf(i)?(l=Ur(i,l),r.tag=1,r=av(null,r,i,l,o)):(r.tag=0,r=wd(null,r,i,l,o));else{if(i!=null){var f=i.$$typeof;if(f===at){r.tag=11,r=W0(null,r,i,l,o);break t}else if(f===w){r.tag=14,r=tv(null,r,i,l,o);break t}}throw r=Kt(i)||i,Error(s(306,r,""))}}return r;case 0:return wd(i,r,r.type,r.pendingProps,o);case 1:return l=r.type,f=Ur(l,r.pendingProps),av(i,r,l,f,o);case 3:t:{if(fe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,nd(i,r),fl(r,l,null,o);var T=r.memoizedState;if(l=T.cache,ws(r,De,l),l!==p.cache&&Xf(r,[De],o,!0),hl(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=ov(i,r,l,o);break t}else if(l!==f){f=Un(Error(s(424)),r),rl(f),r=ov(i,r,l,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,re=Gn(i.firstChild),Ye=r,zt=!0,Rs=null,Hn=!0,o=n0(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ir(),l===f){r=es(i,r,o);break t}Xe(i,r,l,o)}r=r.child}return r;case 26:return Au(i,r),i===null?(o=E_(r.type,null,r.pendingProps,null))?r.memoizedState=o:zt||(o=r.type,i=r.pendingProps,l=Fu(Ct.current).createElement(o),l[Ae]=r,l[Fe]=i,Ze(l,o,i),xe(l),r.stateNode=l):r.memoizedState=E_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return fr(r),i===null&&zt&&(l=r.stateNode=__(r.type,r.pendingProps,Ct.current),Ye=r,Hn=!0,f=re,Fs(r.type)?(mp=f,re=Gn(l.firstChild)):re=f),Xe(i,r,r.pendingProps.children,o),Au(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=l=re)&&(l=ax(l,r.type,r.pendingProps,Hn),l!==null?(r.stateNode=l,Ye=r,re=Gn(l.firstChild),Hn=!1,f=!0):f=!1),f||Ds(r)),fr(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,l=p.children,up(f,p)?l=null:T!==null&&up(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=cd(i,r,bA,null,null,o),Il._currentValue=f),Au(i,r),Xe(i,r,l,o),r.child;case 6:return i===null&&zt&&((i=o=re)&&(o=ox(o,r.pendingProps,Hn),o!==null?(r.stateNode=o,Ye=r,re=null,i=!0):i=!1),i||Ds(r)),null;case 13:return lv(i,r,o);case 4:return fe(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=jr(r,null,l,o):Xe(i,r,l,o),r.child;case 11:return W0(i,r,r.type,r.pendingProps,o);case 7:return Xe(i,r,r.pendingProps,o),r.child;case 8:return Xe(i,r,r.pendingProps.children,o),r.child;case 12:return Xe(i,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,ws(r,r.type,l.value),Xe(i,r,l.children,o),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Or(r),f=Qe(f),l=l(f),r.flags|=1,Xe(i,r,l,o),r.child;case 14:return tv(i,r,r.type,r.pendingProps,o);case 15:return ev(i,r,r.type,r.pendingProps,o);case 19:return uv(i,r,o);case 31:return wA(i,r,o);case 22:return nv(i,r,o,r.pendingProps);case 24:return Or(r),l=Qe(De),i===null?(f=Wf(),f===null&&(f=ee,p=Zf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:l,cache:f},ed(r),ws(r,De,f)):((i.lanes&o)!==0&&(nd(i,r),fl(r,null,null,o),hl()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ws(r,De,l)):(l=p.cache,ws(r,De,l),l!==f.cache&&Xf(r,[De],o,!0))),Xe(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ns(i){i.flags|=4}function Ld(i,r,o,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(jv())i.flags|=8192;else throw Lr=uu,td}else i.flags&=-16777217}function fv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!R_(r))if(jv())i.flags|=8192;else throw Lr=uu,td}function Ru(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Nc():536870912,i.lanes|=r,Ha|=r)}function vl(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ae(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=o,r}function VA(i,r,o){var l=r.pendingProps;switch(Gf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return o=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(De),ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ma(r)?ns(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),ae(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(ns(r),p!==null?(ae(r),fv(r,p)):(ae(r),Ld(r,f,null,l,o))):p?p!==i.memoizedState?(ns(r),ae(r),fv(r,p)):(ae(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&ns(r),ae(r),Ld(r,f,i,l,o)),null;case 27:if(la(r),o=Ct.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ns(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}i=lt.current,Ma(r)?Gy(r):(i=__(f,l,o),r.stateNode=i,ns(r))}return ae(r),null;case 5:if(la(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ns(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(p=lt.current,Ma(r))Gy(r);else{var T=Fu(Ct.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(f,{is:l.is}):T.createElement(f)}}p[Ae]=r,p[Fe]=l;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;t:switch(Ze(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ns(r)}}return ae(r),Ld(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ns(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ct.current,Ma(r)){if(i=r.stateNode,o=r.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Ae]=r,i=!!(i.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||l_(i.nodeValue,o)),i||Ds(r,!0)}else i=Fu(i).createTextNode(l),i[Ae]=r,r.stateNode=i}return ae(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(l=Ma(r),o!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ae]=r}else Ir(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),i=!1}else o=Kf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ae(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ma(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=r}else Ir(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),f=!1}else f=Kf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=l!==null,i=i!==null&&i.memoizedState!==null,o&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Ru(r,r.updateQueue),ae(r),null);case 4:return ne(),i===null&&rp(r.stateNode.containerInfo),ae(r),null;case 10:return Ji(r.type),ae(r),null;case 19:if(G(Te),l=r.memoizedState,l===null)return ae(r),null;if(f=(r.flags&128)!==0,p=l.rendering,p===null)if(f)vl(l,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=pu(i),p!==null){for(r.flags|=128,vl(l,!1),i=p.updateQueue,r.updateQueue=i,Ru(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Uy(o,i),o=o.sibling;return it(Te,Te.current&1|2),zt&&Xi(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&un()>Iu&&(r.flags|=128,f=!0,vl(l,!1),r.lanes=4194304)}else{if(!f)if(i=pu(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Ru(r,i),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!zt)return ae(r),null}else 2*un()-l.renderingStartTime>Iu&&o!==536870912&&(r.flags|=128,f=!0,vl(l,!1),r.lanes=4194304);l.isBackwards?(p.sibling=r.child,r.child=p):(i=l.last,i!==null?i.sibling=p:r.child=p,l.last=p)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=un(),i.sibling=null,o=Te.current,it(Te,f?o&1|2:o&1),zt&&Xi(r,l.treeForkCount),i):(ae(r),null);case 22:case 23:return Mn(r),ad(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),o=r.updateQueue,o!==null&&Ru(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),i!==null&&G(Pr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ji(De),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IA(i,r){switch(Gf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ji(De),ne(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return la(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));Ir()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ir()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return G(Te),null;case 4:return ne(),null;case 10:return Ji(r.type),null;case 22:case 23:return Mn(r),ad(),i!==null&&G(Pr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ji(De),null;case 25:return null;default:return null}}function dv(i,r){switch(Gf(r),r.tag){case 3:Ji(De),ne();break;case 26:case 27:case 5:la(r);break;case 4:ne();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:G(Te);break;case 10:Ji(r.type);break;case 22:case 23:Mn(r),ad(),i!==null&&G(Pr);break;case 24:Ji(De)}}function _l(i,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&i)===i){l=void 0;var p=o.create,T=o.inst;l=p(),T.destroy=l}o=o.next}while(o!==f)}}catch(S){Xt(r,r.return,S)}}function Ps(i,r,o){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var I=o,F=S;try{F()}catch(X){Xt(f,I,X)}}}l=l.next}while(l!==p)}}catch(X){Xt(r,r.return,X)}}function pv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{s0(r,o)}catch(l){Xt(i,i.return,l)}}}function mv(i,r,o){o.props=Ur(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(l){Xt(i,r,l)}}function Tl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof o=="function"?i.refCleanup=o(l):o.current=l}}catch(f){Xt(i,r,f)}}function Oi(i,r){var o=i.ref,l=i.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xt(i,r,f)}else o.current=null}function gv(i){var r=i.type,o=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break t;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){Xt(i,i.return,f)}}function jd(i,r,o){try{var l=i.stateNode;tx(l,i.type,o,r),l[Fe]=r}catch(f){Xt(i,i.return,f)}}function yv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function zd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||yv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ud(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ei));else if(l!==4&&(l===27&&Fs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Ud(i,r,o),i=i.sibling;i!==null;)Ud(i,r,o),i=i.sibling}function Du(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(l!==4&&(l===27&&Fs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Du(i,r,o),i=i.sibling;i!==null;)Du(i,r,o),i=i.sibling}function vv(i){var r=i.stateNode,o=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ze(r,l,o),r[Ae]=i,r[Fe]=o}catch(p){Xt(i,i.return,p)}}var is=!1,Ve=!1,Bd=!1,_v=typeof WeakSet=="function"?WeakSet:Set,qe=null;function NA(i,r){if(i=i.containerInfo,lp=Qu,i=Vy(i),Of(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,S=-1,I=-1,F=0,X=0,W=i,q=null;e:for(;;){for(var Y;W!==o||f!==0&&W.nodeType!==3||(S=T+f),W!==p||l!==0&&W.nodeType!==3||(I=T+l),W.nodeType===3&&(T+=W.nodeValue.length),(Y=W.firstChild)!==null;)q=W,W=Y;for(;;){if(W===i)break e;if(q===o&&++F===f&&(S=T),q===p&&++X===l&&(I=T),(Y=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Y}o=S===-1||I===-1?null:{start:S,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:i,selectionRange:o},Qu=!1,qe=r;qe!==null;)if(r=qe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qe=i;else for(;qe!==null;){switch(r=qe,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var mt=Ur(o.type,f);i=l.getSnapshotBeforeUpdate(mt,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(St){Xt(o,o.return,St)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)fp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qe=i;break}qe=r.return}}function Tv(i,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:rs(i,o),l&4&&_l(5,o);break;case 1:if(rs(i,o),l&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Xt(o,o.return,T)}else{var f=Ur(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(o,o.return,T)}}l&64&&pv(o),l&512&&Tl(o,o.return);break;case 3:if(rs(i,o),l&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{s0(i,r)}catch(T){Xt(o,o.return,T)}}break;case 27:r===null&&l&4&&vv(o);case 26:case 5:rs(i,o),r===null&&l&4&&gv(o),l&512&&Tl(o,o.return);break;case 12:rs(i,o);break;case 31:rs(i,o),l&4&&Sv(i,o);break;case 13:rs(i,o),l&4&&Cv(i,o),l&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=FA.bind(null,o),lx(i,o))));break;case 22:if(l=o.memoizedState!==null||is,!l){r=r!==null&&r.memoizedState!==null||Ve,f=is;var p=Ve;is=l,(Ve=r)&&!p?as(i,o,(o.subtreeFlags&8772)!==0):rs(i,o),is=f,Ve=p}break;case 30:break;default:rs(i,o)}}function bv(i){var r=i.alternate;r!==null&&(i.alternate=null,bv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&da(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var he=null,vn=!1;function ss(i,r,o){for(o=o.child;o!==null;)Ev(i,r,o),o=o.sibling}function Ev(i,r,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:Ve||Oi(o,r),ss(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ve||Oi(o,r);var l=he,f=vn;Fs(o.type)&&(he=o.stateNode,vn=!1),ss(i,r,o),wl(o.stateNode),he=l,vn=f;break;case 5:Ve||Oi(o,r);case 6:if(l=he,f=vn,he=null,ss(i,r,o),he=l,vn=f,he!==null)if(vn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(o.stateNode)}catch(p){Xt(o,r,p)}else try{he.removeChild(o.stateNode)}catch(p){Xt(o,r,p)}break;case 18:he!==null&&(vn?(i=he,p_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Za(i)):p_(he,o.stateNode));break;case 4:l=he,f=vn,he=o.stateNode.containerInfo,vn=!0,ss(i,r,o),he=l,vn=f;break;case 0:case 11:case 14:case 15:Ps(2,o,r),Ve||Ps(4,o,r),ss(i,r,o);break;case 1:Ve||(Oi(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&mv(o,r,l)),ss(i,r,o);break;case 21:ss(i,r,o);break;case 22:Ve=(l=Ve)||o.memoizedState!==null,ss(i,r,o),Ve=l;break;default:ss(i,r,o)}}function Sv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Za(i)}catch(o){Xt(r,r.return,o)}}}function Cv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Za(i)}catch(o){Xt(r,r.return,o)}}function OA(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new _v),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new _v),r;default:throw Error(s(435,i.tag))}}function wu(i,r){var o=OA(i);r.forEach(function(l){if(!o.has(l)){o.add(l);var f=HA.bind(null,i,l);l.then(f,f)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],p=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Fs(S.type)){he=S.stateNode,vn=!1;break t}break;case 5:he=S.stateNode,vn=!1;break t;case 3:case 4:he=S.stateNode.containerInfo,vn=!0;break t}S=S.return}if(he===null)throw Error(s(160));Ev(p,T,f),he=null,vn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Av(r,i),r=r.sibling}var oi=null;function Av(i,r){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),l&4&&(Ps(3,i,i.return),_l(3,i),Ps(5,i,i.return));break;case 1:_n(r,i),Tn(i),l&512&&(Ve||o===null||Oi(o,o.return)),l&64&&is&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=oi;if(_n(r,i),Tn(i),l&512&&(Ve||o===null||Oi(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=i.memoizedState,o===null)if(l===null)if(i.stateNode===null){t:{l=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ti]||p[Ae]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ze(p,l,o),p[Ae]=i,xe(p),l=p;break t;case"link":var T=A_("link","href",f).get(l+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}p=f.createElement(l),Ze(p,l,o),f.head.appendChild(p);break;case"meta":if(T=A_("meta","content",f).get(l+(o.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}p=f.createElement(l),Ze(p,l,o),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Ae]=i,xe(p),l=p}i.stateNode=l}else x_(f,i.type,i.stateNode);else i.stateNode=C_(f,l,i.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?x_(f,i.type,i.stateNode):C_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&jd(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),l&512&&(Ve||o===null||Oi(o,o.return)),o!==null&&l&4&&jd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),l&512&&(Ve||o===null||Oi(o,o.return)),i.flags&32){f=i.stateNode;try{yn(f,"")}catch(mt){Xt(i,i.return,mt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,jd(i,f,o!==null?o.memoizedProps:f)),l&1024&&(Bd=!0);break;case 6:if(_n(r,i),Tn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,o=i.stateNode;try{o.nodeValue=l}catch(mt){Xt(i,i.return,mt)}}break;case 3:if(Gu=null,f=oi,oi=Hu(r.containerInfo),_n(r,i),oi=f,Tn(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Za(r.containerInfo)}catch(mt){Xt(i,i.return,mt)}Bd&&(Bd=!1,xv(i));break;case 4:l=oi,oi=Hu(i.stateNode.containerInfo),_n(r,i),Tn(i),oi=l;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,wu(i,l)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vu=un()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,wu(i,l)));break;case 22:f=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,F=is,X=Ve;if(is=F||f,Ve=X||I,_n(r,i),Ve=X,is=F,Tn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||is||Ve||Br(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(p=I.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=I.stateNode;var W=I.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(mt){Xt(I,I.return,mt)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(mt){Xt(I,I.return,mt)}}}else if(r.tag===18){if(o===null){I=r;try{var Y=I.stateNode;f?m_(Y,!0):m_(I.stateNode,!1)}catch(mt){Xt(I,I.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,wu(i,o))));break;case 19:_n(r,i),Tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,wu(i,l)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,l=i.return;l!==null;){if(yv(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=zd(i);Du(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var S=zd(i);Du(i,S,T);break;case 3:case 4:var I=o.stateNode.containerInfo,F=zd(i);Ud(i,F,I);break;default:throw Error(s(161))}}catch(X){Xt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function xv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;xv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function rs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tv(i,r.alternate,r),r=r.sibling}function Br(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ps(4,r,r.return),Br(r);break;case 1:Oi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&mv(r,r.return,o),Br(r);break;case 27:wl(r.stateNode);case 26:case 5:Oi(r,r.return),Br(r);break;case 22:r.memoizedState===null&&Br(r);break;case 30:Br(r);break;default:Br(r)}i=i.sibling}}function as(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:as(f,p,o),_l(4,p);break;case 1:if(as(f,p,o),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xt(l,l.return,F)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)i0(I[f],S)}catch(F){Xt(l,l.return,F)}}o&&T&64&&pv(p),Tl(p,p.return);break;case 27:vv(p);case 26:case 5:as(f,p,o),o&&l===null&&T&4&&gv(p),Tl(p,p.return);break;case 12:as(f,p,o);break;case 31:as(f,p,o),o&&T&4&&Sv(f,p);break;case 13:as(f,p,o),o&&T&4&&Cv(f,p);break;case 22:p.memoizedState===null&&as(f,p,o),Tl(p,p.return);break;case 30:break;default:as(f,p,o)}r=r.sibling}}function Fd(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&al(o))}function Hd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&al(i))}function li(i,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rv(i,r,o,l),r=r.sibling}function Rv(i,r,o,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:li(i,r,o,l),f&2048&&_l(9,r);break;case 1:li(i,r,o,l);break;case 3:li(i,r,o,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&al(i)));break;case 12:if(f&2048){li(i,r,o,l),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Xt(r,r.return,I)}}else li(i,r,o,l);break;case 31:li(i,r,o,l);break;case 13:li(i,r,o,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?li(i,r,o,l):bl(i,r):p._visibility&2?li(i,r,o,l):(p._visibility|=2,Ua(i,r,o,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Fd(T,r);break;case 24:li(i,r,o,l),f&2048&&Hd(r.alternate,r);break;default:li(i,r,o,l)}}function Ua(i,r,o,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,T=r,S=o,I=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Ua(p,T,S,I,f),_l(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Ua(p,T,S,I,f):bl(p,T):(X._visibility|=2,Ua(p,T,S,I,f)),f&&F&2048&&Fd(T.alternate,T);break;case 24:Ua(p,T,S,I,f),f&&F&2048&&Hd(T.alternate,T);break;default:Ua(p,T,S,I,f)}r=r.sibling}}function bl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,l=r,f=l.flags;switch(l.tag){case 22:bl(o,l),f&2048&&Fd(l.alternate,l);break;case 24:bl(o,l),f&2048&&Hd(l.alternate,l);break;default:bl(o,l)}r=r.sibling}}var El=8192;function Ba(i,r,o){if(i.subtreeFlags&El)for(i=i.child;i!==null;)Dv(i,r,o),i=i.sibling}function Dv(i,r,o){switch(i.tag){case 26:Ba(i,r,o),i.flags&El&&i.memoizedState!==null&&Tx(o,oi,i.memoizedState,i.memoizedProps);break;case 5:Ba(i,r,o);break;case 3:case 4:var l=oi;oi=Hu(i.stateNode.containerInfo),Ba(i,r,o),oi=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ba(i,r,o),El=l):Ba(i,r,o));break;default:Ba(i,r,o)}}function wv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Sl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];qe=l,Vv(l,i)}wv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mv(i),i=i.sibling}function Mv(i){switch(i.tag){case 0:case 11:case 15:Sl(i),i.flags&2048&&Ps(9,i,i.return);break;case 3:Sl(i);break;case 12:Sl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Mu(i)):Sl(i);break;default:Sl(i)}}function Mu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];qe=l,Vv(l,i)}wv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ps(8,r,r.return),Mu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Mu(r));break;default:Mu(r)}i=i.sibling}}function Vv(i,r){for(;qe!==null;){var o=qe;switch(o.tag){case 0:case 11:case 15:Ps(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,qe=l;else t:for(o=i;qe!==null;){l=qe;var f=l.sibling,p=l.return;if(bv(l),l===o){qe=null;break t}if(f!==null){f.return=p,qe=f;break t}qe=p}}}var PA={getCacheForType:function(i){var r=Qe(De),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Qe(De).controller.signal}},kA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Nt=null,Pt=0,Qt=0,Vn=null,ks=!1,Fa=!1,qd=!1,os=0,ge=0,Ls=0,Fr=0,Gd=0,In=0,Ha=0,Cl=null,bn=null,$d=!1,Vu=0,Iv=0,Iu=1/0,Nu=null,js=null,Le=0,zs=null,qa=null,ls=0,Kd=0,Yd=null,Nv=null,Al=0,Qd=null;function Nn(){return(Gt&2)!==0&&Pt!==0?Pt&-Pt:Q.T!==null?ep():Oc()}function Ov(){if(In===0)if((Pt&536870912)===0||zt){var i=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),In=i}else In=536870912;return i=wn.current,i!==null&&(i.flags|=32),In}function En(i,r,o){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(Ga(i,0),Us(i,Pt,In,!1)),gr(i,o),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(Fr|=o),ge===4&&Us(i,Pt,In,!1)),Pi(i))}function Pv(i,r,o){if((Gt&6)!==0)throw Error(s(327));var l=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Jn(i,r),f=l?zA(i,r):Zd(i,r,!0),p=l;do{if(f===0){Fa&&!l&&Us(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!LA(o)){f=Zd(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;f=Cl;var I=S.current.memoizedState.isDehydrated;if(I&&(Ga(S,T).flags|=256),T=Zd(S,T,!1),T!==2){if(qd&&!I){S.errorRecoveryDisabledLanes|=p,Fr|=p,f=4;break t}p=bn,bn=f,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Ga(i,0),Us(i,r,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Us(l,r,In,!ks);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Vu+300-un(),10<f)){if(Us(l,r,In,!ks),yi(l,0,!0)!==0)break t;ls=r,l.timeoutHandle=f_(kv.bind(null,l,o,bn,Nu,$d,r,In,Fr,Ha,ks,p,"Throttled",-0,0),f);break t}kv(l,o,bn,Nu,$d,r,In,Fr,Ha,ks,p,null,-0,0)}}break}while(!0);Pi(i)}function kv(i,r,o,l,f,p,T,S,I,F,X,W,q,Y){if(i.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Dv(r,p,W);var mt=(p&62914560)===p?Vu-un():(p&4194048)===p?Iv-un():0;if(mt=bx(W,mt),mt!==null){ls=p,i.cancelPendingCommit=mt(qv.bind(null,i,r,p,o,l,f,T,S,I,X,W,null,q,Y)),Us(i,p,T,!F);return}}qv(i,r,p,o,l,f,T,S,I)}function LA(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],p=f.getSnapshot;f=f.value;try{if(!Rn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Us(i,r,o,l){r&=~Gd,r&=~Fr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-ve(f),T=1<<p;l[p]=-1,f&=~T}o!==0&&yr(i,o,r)}function Ou(){return(Gt&6)===0?(xl(0),!1):!0}function Xd(){if(Nt!==null){if(Qt===0)var i=Nt.return;else i=Nt,Zi=Nr=null,fd(i),Pa=null,ll=0,i=Nt;for(;i!==null;)dv(i.alternate,i),i=i.return;Nt=null}}function Ga(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ix(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ls=0,Xd(),ee=i,Nt=o=Qi(i.current,null),Pt=r,Qt=0,Vn=null,ks=!1,Fa=Jn(i,r),qd=!1,Ha=In=Gd=Fr=Ls=ge=0,bn=Cl=null,$d=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-ve(l),p=1<<f;r|=i[f],l&=~p}return os=r,eu(),o}function Lv(i,r){Mt=null,Q.H=gl,r===Oa||r===cu?(r=Wy(),Qt=3):r===td?(r=Wy(),Qt=4):Qt=r===Dd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Nt===null&&(ge=1,Su(i,Un(r,i.current)))}function jv(){var i=wn.current;return i===null?!0:(Pt&4194048)===Pt?qn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===qn:!1}function zv(){var i=Q.H;return Q.H=gl,i===null?gl:i}function Uv(){var i=Q.A;return Q.A=PA,i}function Pu(){ge=4,ks||(Pt&4194048)!==Pt&&wn.current!==null||(Fa=!0),(Ls&134217727)===0&&(Fr&134217727)===0||ee===null||Us(ee,Pt,In,!1)}function Zd(i,r,o){var l=Gt;Gt|=2;var f=zv(),p=Uv();(ee!==i||Pt!==r)&&(Nu=null,Ga(i,r)),r=!1;var T=ge;t:do try{if(Qt!==0&&Nt!==null){var S=Nt,I=Vn;switch(Qt){case 8:Xd(),T=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var F=Qt;if(Qt=0,Vn=null,$a(i,S,I,F),o&&Fa){T=0;break t}break;default:F=Qt,Qt=0,Vn=null,$a(i,S,I,F)}}jA(),T=ge;break}catch(X){Lv(i,X)}while(!0);return r&&i.shellSuspendCounter++,Zi=Nr=null,Gt=l,Q.H=f,Q.A=p,Nt===null&&(ee=null,Pt=0,eu()),T}function jA(){for(;Nt!==null;)Bv(Nt)}function zA(i,r){var o=Gt;Gt|=2;var l=zv(),f=Uv();ee!==i||Pt!==r?(Nu=null,Iu=un()+500,Ga(i,r)):Fa=Jn(i,r);t:do try{if(Qt!==0&&Nt!==null){r=Nt;var p=Vn;e:switch(Qt){case 1:Qt=0,Vn=null,$a(i,r,p,1);break;case 2:case 9:if(Zy(p)){Qt=0,Vn=null,Fv(r);break}r=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),Pi(i)},p.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Zy(p)?(Qt=0,Vn=null,Fv(r)):(Qt=0,Vn=null,$a(i,r,p,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var S=Nt;if(T?R_(T):S.stateNode.complete){Qt=0,Vn=null;var I=S.sibling;if(I!==null)Nt=I;else{var F=S.return;F!==null?(Nt=F,ku(F)):Nt=null}break e}}Qt=0,Vn=null,$a(i,r,p,5);break;case 6:Qt=0,Vn=null,$a(i,r,p,6);break;case 8:Xd(),ge=6;break t;default:throw Error(s(462))}}UA();break}catch(X){Lv(i,X)}while(!0);return Zi=Nr=null,Q.H=l,Q.A=f,Gt=o,Nt!==null?0:(ee=null,Pt=0,eu(),ge)}function UA(){for(;Nt!==null&&!Rf();)Bv(Nt)}function Bv(i){var r=hv(i.alternate,i,os);i.memoizedProps=i.pendingProps,r===null?ku(i):Nt=r}function Fv(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=rv(o,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=rv(o,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:fd(r);default:dv(o,r),r=Nt=Uy(r,os),r=hv(o,r,os)}i.memoizedProps=i.pendingProps,r===null?ku(i):Nt=r}function $a(i,r,o,l){Zi=Nr=null,fd(r),Pa=null,ll=0;var f=r.return;try{if(DA(i,f,r,o,Pt)){ge=1,Su(i,Un(o,i.current)),Nt=null;return}}catch(p){if(f!==null)throw Nt=f,p;ge=1,Su(i,Un(o,i.current)),Nt=null;return}r.flags&32768?(zt||l===1?i=!0:Fa||(Pt&536870912)!==0?i=!1:(ks=i=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hv(r,i)):ku(r)}function ku(i){var r=i;do{if((r.flags&32768)!==0){Hv(r,ks);return}i=r.return;var o=VA(r.alternate,r,os);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);ge===0&&(ge=5)}function Hv(i,r){do{var o=IA(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);ge=6,Nt=null}function qv(i,r,o,l,f,p,T,S,I){i.cancelPendingCommit=null;do Lu();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=zf,Mf(i,o,p,T,S,I),i===ee&&(Nt=ee=null,Pt=0),qa=r,zs=i,ls=o,Kd=p,Yd=f,Nv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qA(gs,function(){return Qv(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=rt.p,rt.p=2,T=Gt,Gt|=4;try{NA(i,r,o)}finally{Gt=T,rt.p=f,Q.T=l}}Le=1,Gv(),$v(),Kv()}}function Gv(){if(Le===1){Le=0;var i=zs,r=qa,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var l=rt.p;rt.p=2;var f=Gt;Gt|=4;try{Av(r,i);var p=cp,T=Vy(i.containerInfo),S=p.focusedElem,I=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&My(S.ownerDocument.documentElement,S)){if(I!==null&&Of(S)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(X,S.value.length);else{var W=S.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Y=q.getSelection(),mt=S.textContent.length,St=Math.min(I.start,mt),te=I.end===void 0?St:Math.min(I.end,mt);!Y.extend&&St>te&&(T=te,te=St,St=T);var j=wy(S,St),k=wy(S,te);if(j&&k&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var B=W.createRange();B.setStart(j.node,j.offset),Y.removeAllRanges(),St>te?(Y.addRange(B),Y.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Y.addRange(B))}}}}for(W=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var J=W[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qu=!!lp,cp=lp=null}finally{Gt=f,rt.p=l,Q.T=o}}i.current=r,Le=2}}function $v(){if(Le===2){Le=0;var i=zs,r=qa,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var l=rt.p;rt.p=2;var f=Gt;Gt|=4;try{Tv(i,r.alternate,r)}finally{Gt=f,rt.p=l,Q.T=o}}Le=3}}function Kv(){if(Le===4||Le===3){Le=0,Rc();var i=zs,r=qa,o=ls,l=Nv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,qa=zs=null,Yv(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(js=null),Gi(o),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=rt.p,rt.p=2,Q.T=null;try{for(var p=i.onRecoverableError,T=0;T<l.length;T++){var S=l[T];p(S.value,{componentStack:S.stack})}}finally{Q.T=r,rt.p=f}}(ls&3)!==0&&Lu(),Pi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Qd?Al++:(Al=0,Qd=i):Al=0,xl(0)}}function Yv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,al(r)))}function Lu(){return Gv(),$v(),Kv(),Qv()}function Qv(){if(Le!==5)return!1;var i=zs,r=Kd;Kd=0;var o=Gi(ls),l=Q.T,f=rt.p;try{rt.p=32>o?32:o,Q.T=null,o=Yd,Yd=null;var p=zs,T=ls;if(Le=0,qa=zs=null,ls=0,(Gt&6)!==0)throw Error(s(331));var S=Gt;if(Gt|=4,Mv(p.current),Rv(p,p.current,T,o),Gt=S,xl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Zn,p)}catch{}return!0}finally{rt.p=f,Q.T=l,Yv(i,r)}}function Xv(i,r,o){r=Un(o,r),r=Rd(i.stateNode,r,2),i=Is(i,r,2),i!==null&&(gr(i,2),Pi(i))}function Xt(i,r,o){if(i.tag===3)Xv(i,i,o);else for(;r!==null;){if(r.tag===3){Xv(r,i,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){i=Un(o,i),o=Z0(2),l=Is(r,o,2),l!==null&&(J0(o,l,r,i),gr(l,2),Pi(l));break}}r=r.return}}function Jd(i,r,o){var l=i.pingCache;if(l===null){l=i.pingCache=new kA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(qd=!0,f.add(o),i=BA.bind(null,i,r,o),r.then(i,i))}function BA(i,r,o){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Pt&o)===o&&(ge===4||ge===3&&(Pt&62914560)===Pt&&300>un()-Vu?(Gt&2)===0&&Ga(i,0):Gd|=o,Ha===Pt&&(Ha=0)),Pi(i)}function Zv(i,r){r===0&&(r=Nc()),i=Mr(i,r),i!==null&&(gr(i,r),Pi(i))}function FA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Zv(i,o)}function HA(i,r){var o=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Zv(i,o)}function qA(i,r){return ke(i,r)}var ju=null,Ka=null,Wd=!1,zu=!1,tp=!1,Bs=0;function Pi(i){i!==Ka&&i.next===null&&(Ka===null?ju=Ka=i:Ka=Ka.next=i),zu=!0,Wd||(Wd=!0,$A())}function xl(i,r){if(!tp&&zu){tp=!0;do for(var o=!1,l=ju;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-ve(42|i)+1)-1,p&=f&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,e_(l,p))}else p=Pt,p=yi(l,l===ee?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Jn(l,p)||(o=!0,e_(l,p));l=l.next}while(o);tp=!1}}function GA(){Jv()}function Jv(){zu=Wd=!1;var i=0;Bs!==0&&nx()&&(i=Bs);for(var r=un(),o=null,l=ju;l!==null;){var f=l.next,p=Wv(l,r);p===0?(l.next=null,o===null?ju=f:o.next=f,f===null&&(Ka=o)):(o=l,(i!==0||(p&3)!==0)&&(zu=!0)),l=f}Le!==0&&Le!==5||xl(i),Bs!==0&&(Bs=0)}function Wv(i,r){for(var o=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-ve(p),S=1<<T,I=f[T];I===-1?((S&o)===0||(S&l)!==0)&&(f[T]=wf(S,r)):I<=r&&(i.expiredLanes|=S),p&=~S}if(r=ee,o=Pt,o=yi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Jn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(l!==null&&ms(l),Gi(o)){case 2:case 8:o=ko;break;case 32:o=gs;break;case 268435456:o=Dc;break;default:o=gs}return l=t_.bind(null,i),o=ke(o,l),i.callbackPriority=r,i.callbackNode=o,r}return l!==null&&l!==null&&ms(l),i.callbackPriority=2,i.callbackNode=null,2}function t_(i,r){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Lu()&&i.callbackNode!==o)return null;var l=Pt;return l=yi(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(Pv(i,l,r),Wv(i,un()),i.callbackNode!=null&&i.callbackNode===o?t_.bind(null,i):null)}function e_(i,r){if(Lu())return null;Pv(i,r,!0)}function $A(){sx(function(){(Gt&6)!==0?ke(Po,GA):Jv()})}function ep(){if(Bs===0){var i=Ia;i===0&&(i=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Bs=i}return Bs}function n_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ya(""+i)}function i_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function KA(i,r,o,l,f){if(r==="submit"&&o&&o.stateNode===f){var p=n_((f[Fe]||null).action),T=l.submitter;T&&(r=(r=T[Fe]||null)?n_(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var S=new Di("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var I=T?i_(f,T):new FormData(f);bd(o,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(S.preventDefault(),I=T?i_(f,T):new FormData(f),bd(o,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var np=0;np<jf.length;np++){var ip=jf[np],YA=ip.toLowerCase(),QA=ip[0].toUpperCase()+ip.slice(1);ai(YA,"on"+QA)}ai(Oy,"onAnimationEnd"),ai(Py,"onAnimationIteration"),ai(ky,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(hA,"onTransitionRun"),ai(fA,"onTransitionStart"),ai(dA,"onTransitionCancel"),ai(Ly,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function s_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],I=S.instance,F=S.currentTarget;if(S=S.listener,I!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=F;try{p(f)}catch(X){tu(X)}f.currentTarget=null,p=I}else for(T=0;T<l.length;T++){if(S=l[T],I=S.instance,F=S.currentTarget,S=S.listener,I!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=F;try{p(f)}catch(X){tu(X)}f.currentTarget=null,p=I}}}}function Ot(i,r){var o=r[fa];o===void 0&&(o=r[fa]=new Set);var l=i+"__bubble";o.has(l)||(r_(r,i,2,!1),o.add(l))}function sp(i,r,o){var l=0;r&&(l|=4),r_(o,i,l,r)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function rp(i){if(!i[Uu]){i[Uu]=!0,zo.forEach(function(o){o!=="selectionchange"&&(XA.has(o)||sp(o,!1,i),sp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Uu]||(r[Uu]=!0,sp("selectionchange",!1,r))}}function r_(i,r,o,l){switch(O_(r)){case 2:var f=Cx;break;case 8:f=Ax;break;default:f=Tp}o=f.bind(null,r,o,i),f=void 0,!Er||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function ap(i,r,o,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=bi(S),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=p=T;continue t}S=S.parentNode}}l=l.return}Es(function(){var F=p,X=kn(o),W=[];t:{var q=jy.get(i);if(q!==void 0){var Y=Di,mt=i;switch(i){case"keypress":if(Cr(o)===0)break t;case"keydown":case"keyup":Y=Zc;break;case"focusin":mt="focus",Y=xr;break;case"focusout":mt="blur",Y=xr;break;case"beforeblur":case"afterblur":Y=xr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case Oy:case Py:case ky:Y=qc;break;case Ly:Y=C;break;case"scroll":case"scrollend":Y=Zo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Yi;break;case"toggle":case"beforetoggle":Y=wt}var St=(r&4)!==0,te=!St&&(i==="scroll"||i==="scrollend"),j=St?q!==null?q+"Capture":null:q;St=[];for(var k=F,B;k!==null;){var J=k;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||j===null||(J=ni(k,j),J!=null&&St.push(Dl(k,J,B))),te)break;k=k.return}0<St.length&&(q=new Y(q,mt,null,o,X),W.push({event:q,listeners:St}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",q&&o!==Yo&&(mt=o.relatedTarget||o.fromElement)&&(bi(mt)||mt[_i]))break t;if((Y||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(mt=o.relatedTarget||o.toElement,Y=F,mt=mt?bi(mt):null,mt!==null&&(te=c(mt),St=mt.tag,mt!==te||St!==5&&St!==27&&St!==6)&&(mt=null)):(Y=null,mt=F),Y!==mt)){if(St=Jo,J="onMouseLeave",j="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(St=Yi,J="onPointerLeave",j="onPointerEnter",k="pointer"),te=Y==null?q:An(Y),B=mt==null?q:An(mt),q=new St(J,k+"leave",Y,o,X),q.target=te,q.relatedTarget=B,J=null,bi(X)===F&&(St=new St(j,k+"enter",mt,o,X),St.target=B,St.relatedTarget=te,J=St),te=J,Y&&mt)e:{for(St=ZA,j=Y,k=mt,B=0,J=j;J;J=St(J))B++;J=0;for(var Tt=k;Tt;Tt=St(Tt))J++;for(;0<B-J;)j=St(j),B--;for(;0<J-B;)k=St(k),J--;for(;B--;){if(j===k||k!==null&&j===k.alternate){St=j;break e}j=St(j),k=St(k)}St=null}else St=null;Y!==null&&a_(W,q,Y,St,!1),mt!==null&&te!==null&&a_(W,te,mt,St,!0)}}t:{if(q=F?An(F):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var Ft=Sy;else if(by(q))if(Cy)Ft=lA;else{Ft=aA;var vt=rA}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&ga(F.elementType)&&(Ft=Sy):Ft=oA;if(Ft&&(Ft=Ft(i,F))){Ey(W,Ft,o,X);break t}vt&&vt(i,q,F),i==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Go(q,"number",q.value)}switch(vt=F?An(F):window,i){case"focusin":(by(vt)||vt.contentEditable==="true")&&(Ca=vt,Pf=F,il=null);break;case"focusout":il=Pf=Ca=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Iy(W,o,X);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":Iy(W,o,X)}var It;if(qt)t:{switch(i){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Sa?Rr(i,o)&&(kt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(Vi&&o.locale!=="ko"&&(Sa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Sa&&(It=Xo()):(Ri=X,Qo="value"in Ri?Ri.value:Ri.textContent,Sa=!0)),vt=Bu(F,kt),0<vt.length&&(kt=new Mi(kt,i,null,o,X),W.push({event:kt,listeners:vt}),It?kt.data=It:(It=Ea(o),It!==null&&(kt.data=It)))),(It=jn?eA(i,o):nA(i,o))&&(kt=Bu(F,"onBeforeInput"),0<kt.length&&(vt=new Mi("onBeforeInput","beforeinput",null,o,X),W.push({event:vt,listeners:kt}),vt.data=It)),KA(W,i,F,o,X)}s_(W,r)})}function Dl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Bu(i,r){for(var o=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ni(i,o),f!=null&&l.unshift(Dl(i,f,p)),f=ni(i,r),f!=null&&l.push(Dl(i,f,p))),i.tag===3)return l;i=i.return}return[]}function ZA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function a_(i,r,o,l,f){for(var p=r._reactName,T=[];o!==null&&o!==l;){var S=o,I=S.alternate,F=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||F===null||(I=F,f?(F=ni(o,p),F!=null&&T.unshift(Dl(o,F,I))):f||(F=ni(o,p),F!=null&&T.push(Dl(o,F,I)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var JA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function o_(i){return(typeof i=="string"?i:""+i).replace(JA,`
`).replace(WA,"")}function l_(i,r){return r=o_(r),o_(i)===r}function Wt(i,r,o,l,f,p){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||yn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&yn(i,""+l);break;case"className":xn(i,"class",l);break;case"tabIndex":xn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(i,o,l);break;case"style":Ko(i,l,p);break;case"data":if(r!=="object"){xn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=ya(""+l),i.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Wt(i,r,"name",f.name,f,null),Wt(i,r,"formEncType",f.formEncType,f,null),Wt(i,r,"formMethod",f.formMethod,f,null),Wt(i,r,"formTarget",f.formTarget,f,null)):(Wt(i,r,"encType",f.encType,f,null),Wt(i,r,"method",f.method,f,null),Wt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=ya(""+l),i.setAttribute(o,l);break;case"onClick":l!=null&&(i.onclick=ei);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}o=ya(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""+l):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":l===!0?i.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,l):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(o,l):i.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(o):i.setAttribute(o,l);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),pa(i,"popover",l);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bc.get(o)||o,pa(i,o,l))}}function op(i,r,o,l,f,p){switch(o){case"style":Ko(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof l=="string"?yn(i,l):(typeof l=="number"||typeof l=="bigint")&&yn(i,""+l);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Fe]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,l,f);break t}o in i?i[o]=l:l===!0?i.setAttribute(o,""):pa(i,o,l)}}}function Ze(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var l=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,p,T,o,null)}}f&&Wt(i,r,"srcSet",o.srcSet,o,null),l&&Wt(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var S=p=T=f=null,I=null,F=null;for(l in o)if(o.hasOwnProperty(l)){var X=o[l];if(X!=null)switch(l){case"name":f=X;break;case"type":T=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":p=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Wt(i,r,l,X,o,null)}}jc(i,p,S,I,F,T,f,!1);return;case"select":Ot("invalid",i),l=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:Wt(i,r,f,S,o,null)}r=p,o=T,i.multiple=!!l,r!=null?vs(i,!!l,r,!1):o!=null&&vs(i,!!l,o,!0);return;case"textarea":Ot("invalid",i),p=f=l=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Wt(i,r,T,S,o,null)}_s(i,l,f,p);return;case"option":for(I in o)o.hasOwnProperty(I)&&(l=o[I],l!=null)&&(I==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(i,r,I,l,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ot(Rl[l],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(l=o[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,F,l,o,null)}return;default:if(ga(r)){for(X in o)o.hasOwnProperty(X)&&(l=o[X],l!==void 0&&op(i,r,X,l,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(l=o[S],l!=null&&Wt(i,r,S,l,o,null))}function tx(i,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,S=null,I=null,F=null,X=null;for(Y in o){var W=o[Y];if(o.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(Y)||Wt(i,r,Y,null,l,W)}}for(var q in l){var Y=l[q];if(W=o[q],l.hasOwnProperty(q)&&(Y!=null||W!=null))switch(q){case"type":p=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":X=Y;break;case"value":T=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==W&&Wt(i,r,q,Y,l,W)}}ma(i,T,S,I,F,X,p,f);return;case"select":Y=T=S=q=null;for(p in o)if(I=o[p],o.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(p)||Wt(i,r,p,null,l,I)}for(f in l)if(p=l[f],I=o[f],l.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":q=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==I&&Wt(i,r,f,p,l,I)}r=S,o=T,l=Y,q!=null?vs(i,!!o,q,!1):!!l!=!!o&&(r!=null?vs(i,!!o,r,!0):vs(i,!!o,o?[]:"",!1));return;case"textarea":Y=q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Wt(i,r,S,null,l,f)}for(T in l)if(f=l[T],p=o[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Wt(i,r,T,f,l,p)}zc(i,q,Y);return;case"option":for(var mt in o)q=o[mt],o.hasOwnProperty(mt)&&q!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:Wt(i,r,mt,null,l,q));for(I in l)q=l[I],Y=o[I],l.hasOwnProperty(I)&&q!==Y&&(q!=null||Y!=null)&&(I==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":Wt(i,r,I,q,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in o)q=o[St],o.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St)&&Wt(i,r,St,null,l,q);for(F in l)if(q=l[F],Y=o[F],l.hasOwnProperty(F)&&q!==Y&&(q!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Wt(i,r,F,q,l,Y)}return;default:if(ga(r)){for(var te in o)q=o[te],o.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&op(i,r,te,void 0,l,q);for(X in l)q=l[X],Y=o[X],!l.hasOwnProperty(X)||q===Y||q===void 0&&Y===void 0||op(i,r,X,q,l,Y);return}}for(var j in o)q=o[j],o.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&Wt(i,r,j,null,l,q);for(W in l)q=l[W],Y=o[W],!l.hasOwnProperty(W)||q===Y||q==null&&Y==null||Wt(i,r,W,q,l,Y)}function c_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ex(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var f=o[l],p=f.transferSize,T=f.initiatorType,S=f.duration;if(p&&S&&c_(T)){for(T=0,S=f.responseEnd,l+=1;l<o.length;l++){var I=o[l],F=I.startTime;if(F>S)break;var X=I.transferSize,W=I.initiatorType;X&&c_(W)&&(I=I.responseEnd,T+=X*(I<S?1:(S-F)/(I-F)))}if(--l,r+=8*(p+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var lp=null,cp=null;function Fu(i){return i.nodeType===9?i:i.ownerDocument}function u_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function up(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hp=null;function nx(){var i=window.event;return i&&i.type==="popstate"?i===hp?!1:(hp=i,!0):(hp=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(i){return d_.resolve(null).then(i).catch(rx)}:f_;function rx(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function p_(i,r){var o=r,l=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(l===0){i.removeChild(f),Za(r);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")wl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,wl(o);for(var p=o.firstChild;p;){var T=p.nextSibling,S=p.nodeName;p[Ti]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&wl(i.ownerDocument.body);o=f}while(o);Za(r)}function m_(i,r){var o=i;i=0;do{var l=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=l}while(o)}function fp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fp(o),da(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ax(i,r,o,l){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ti])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Gn(i.nextSibling),i===null)break}return null}function ox(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Gn(i.nextSibling),i===null))return null;return i}function g_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Gn(i.nextSibling),i===null))return null;return i}function dp(i){return i.data==="$?"||i.data==="$~"}function pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lx(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var l=function(){r(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Gn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var mp=null;function y_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Gn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function v_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function __(i,r,o){switch(r=Fu(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function wl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);da(i)}var $n=new Map,T_=new Set;function Hu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cs=rt.d;rt.d={f:cx,r:ux,D:hx,C:fx,L:dx,m:px,X:gx,S:mx,M:yx};function cx(){var i=cs.f(),r=Ou();return i||r}function ux(i){var r=Pn(i);r!==null&&r.tag===5&&r.type==="form"?L0(r):cs.r(i)}var Ya=typeof document>"u"?null:document;function b_(i,r,o){var l=Ya;if(l&&typeof r=="string"&&r){var f=gn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),T_.has(f)||(T_.add(f),i={rel:i,crossOrigin:o,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ze(r,"link",i),xe(r),l.head.appendChild(r)))}}function hx(i){cs.D(i),b_("dns-prefetch",i,null)}function fx(i,r){cs.C(i,r),b_("preconnect",i,r)}function dx(i,r,o){cs.L(i,r,o);var l=Ya;if(l&&i&&r){var f='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+gn(o.imageSizes)+'"]')):f+='[href="'+gn(i)+'"]';var p=f;switch(r){case"style":p=Qa(i);break;case"script":p=Xa(i)}$n.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),$n.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ml(p))||r==="script"&&l.querySelector(Vl(p))||(r=l.createElement("link"),Ze(r,"link",i),xe(r),l.head.appendChild(r)))}}function px(i,r){cs.m(i,r);var o=Ya;if(o&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Xa(i)}if(!$n.has(p)&&(i=_({rel:"modulepreload",href:i},r),$n.set(p,i),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vl(p)))return}l=o.createElement("link"),Ze(l,"link",i),xe(l),o.head.appendChild(l)}}}function mx(i,r,o){cs.S(i,r,o);var l=Ya;if(l&&i){var f=Ei(l).hoistableStyles,p=Qa(i);r=r||"default";var T=f.get(p);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Ml(p)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=$n.get(p))&&gp(i,o);var I=T=l.createElement("link");xe(I),Ze(I,"link",i),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,qu(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(p,T)}}}function gx(i,r){cs.X(i,r);var o=Ya;if(o&&i){var l=Ei(o).hoistableScripts,f=Xa(i),p=l.get(f);p||(p=o.querySelector(Vl(f)),p||(i=_({src:i,async:!0},r),(r=$n.get(f))&&yp(i,r),p=o.createElement("script"),xe(p),Ze(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function yx(i,r){cs.M(i,r);var o=Ya;if(o&&i){var l=Ei(o).hoistableScripts,f=Xa(i),p=l.get(f);p||(p=o.querySelector(Vl(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=$n.get(f))&&yp(i,r),p=o.createElement("script"),xe(p),Ze(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function E_(i,r,o,l){var f=(f=Ct.current)?Hu(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Qa(o.href),o=Ei(f).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Qa(o.href);var p=Ei(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(Ml(i)))&&!p._p&&(T.instance=p,T.state.loading=5),$n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(i,o),p||vx(f,i,o,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(o),o=Ei(f).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Qa(i){return'href="'+gn(i)+'"'}function Ml(i){return'link[rel="stylesheet"]['+i+"]"}function S_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function vx(i,r,o,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ze(r,"link",o),xe(r),i.head.appendChild(r))}function Xa(i){return'[src="'+gn(i)+'"]'}function Vl(i){return"script[async]"+i}function C_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(l)return r.instance=l,xe(l),l;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),xe(l),Ze(l,"style",f),qu(l,o.precedence,i),r.instance=l;case"stylesheet":f=Qa(o.href);var p=i.querySelector(Ml(f));if(p)return r.state.loading|=4,r.instance=p,xe(p),p;l=S_(o),(f=$n.get(f))&&gp(l,f),p=(i.ownerDocument||i).createElement("link"),xe(p);var T=p;return T._p=new Promise(function(S,I){T.onload=S,T.onerror=I}),Ze(p,"link",l),r.state.loading|=4,qu(p,o.precedence,i),r.instance=p;case"script":return p=Xa(o.src),(f=i.querySelector(Vl(p)))?(r.instance=f,xe(f),f):(l=o,(f=$n.get(p))&&(l=_({},o),yp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),xe(f),Ze(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qu(l,o.precedence,i));return r.instance}function qu(i,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function gp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function yp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Gu=null;function A_(i,r,o){if(Gu===null){var l=new Map,f=Gu=new Map;f.set(o,l)}else f=Gu,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(i))return l;for(l.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ti]||p[Ae]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var S=l.get(T);S?S.push(p):l.set(T,[p])}}return l}function x_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function _x(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function R_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Tx(i,r,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Qa(l.href),p=r.querySelector(Ml(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=$u.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,xe(p);return}p=r.ownerDocument||r,l=S_(l),(f=$n.get(f))&&gp(l,f),p=p.createElement("link"),xe(p);var T=p;T._p=new Promise(function(S,I){T.onload=S,T.onerror=I}),Ze(p,"link",l),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=$u.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var vp=0;function bx(i,r){return i.stylesheets&&i.count===0&&Yu(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var l=setTimeout(function(){if(i.stylesheets&&Yu(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&vp===0&&(vp=62500*ex());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yu(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>vp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ku=null;function Yu(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ku=new Map,r.forEach(Ex,i),Ku=null,$u.call(i))}function Ex(i,r){if(!(r.state.loading&4)){var o=Ku.get(i);if(o)var l=o.get(null);else{o=new Map,Ku.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),l=T)}l&&o.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||l,p===l&&o.set(null,f),o.set(T,f),this.count++,l=$u.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Il={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Sx(i,r,o,l,f,p,T,S,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D_(i,r,o,l,f,p,T,S,I,F,X,W){return i=new Sx(i,r,o,T,I,F,X,W,S),r=1,p===!0&&(r|=24),p=Dn(3,null,null,r),i.current=p,p.stateNode=i,r=Zf(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:r},ed(p),i}function w_(i){return i?(i=Ra,i):Ra}function M_(i,r,o,l,f,p){f=w_(f),l.context===null?l.context=f:l.pendingContext=f,l=Vs(r),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=Is(i,l,r),o!==null&&(En(o,i,r),ul(o,i,r))}function V_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function _p(i,r){V_(i,r),(i=i.alternate)&&V_(i,r)}function I_(i){if(i.tag===13||i.tag===31){var r=Mr(i,67108864);r!==null&&En(r,i,67108864),_p(i,67108864)}}function N_(i){if(i.tag===13||i.tag===31){var r=Nn();r=vr(r);var o=Mr(i,r);o!==null&&En(o,i,r),_p(i,r)}}var Qu=!0;function Cx(i,r,o,l){var f=Q.T;Q.T=null;var p=rt.p;try{rt.p=2,Tp(i,r,o,l)}finally{rt.p=p,Q.T=f}}function Ax(i,r,o,l){var f=Q.T;Q.T=null;var p=rt.p;try{rt.p=8,Tp(i,r,o,l)}finally{rt.p=p,Q.T=f}}function Tp(i,r,o,l){if(Qu){var f=bp(l);if(f===null)ap(i,r,l,Xu,o),P_(i,l);else if(Rx(f,i,r,o,l))l.stopPropagation();else if(P_(i,l),r&4&&-1<xx.indexOf(i)){for(;f!==null;){var p=Pn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=gi(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var I=1<<31-ve(T);S.entanglements[1]|=I,T&=~I}Pi(p),(Gt&6)===0&&(Iu=un()+500,xl(0))}}break;case 31:case 13:S=Mr(p,2),S!==null&&En(S,p,2),Ou(),_p(p,2)}if(p=bp(l),p===null&&ap(i,r,l,Xu,o),p===f)break;f=p}f!==null&&l.stopPropagation()}else ap(i,r,l,null,o)}}function bp(i){return i=kn(i),Ep(i)}var Xu=null;function Ep(i){if(Xu=null,i=bi(i),i!==null){var r=c(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Xu=i,null}function O_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case Po:return 2;case ko:return 8;case gs:case Df:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var Sp=!1,Hs=null,qs=null,Gs=null,Nl=new Map,Ol=new Map,$s=[],xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(i,r){switch(i){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Pl(i,r,o,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&I_(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Rx(i,r,o,l,f){switch(r){case"focusin":return Hs=Pl(Hs,i,r,o,l,f),!0;case"dragenter":return qs=Pl(qs,i,r,o,l,f),!0;case"mouseover":return Gs=Pl(Gs,i,r,o,l,f),!0;case"pointerover":var p=f.pointerId;return Nl.set(p,Pl(Nl.get(p)||null,i,r,o,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ol.set(p,Pl(Ol.get(p)||null,i,r,o,l,f)),!0}return!1}function k_(i){var r=bi(i.target);if(r!==null){var o=c(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Wn(i.priority,function(){N_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,Wn(i.priority,function(){N_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);Yo=l,o.target.dispatchEvent(l),Yo=null}else return r=Pn(o),r!==null&&I_(r),i.blockedOn=o,!1;r.shift()}return!0}function L_(i,r,o){Zu(i)&&o.delete(r)}function Dx(){Sp=!1,Hs!==null&&Zu(Hs)&&(Hs=null),qs!==null&&Zu(qs)&&(qs=null),Gs!==null&&Zu(Gs)&&(Gs=null),Nl.forEach(L_),Ol.forEach(L_)}function Ju(i,r){i.blockedOn===r&&(i.blockedOn=null,Sp||(Sp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Dx)))}var Wu=null;function j_(i){Wu!==i&&(Wu=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wu===i&&(Wu=null);for(var r=0;r<i.length;r+=3){var o=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Ep(l||o)===null)continue;break}var p=Pn(o);p!==null&&(i.splice(r,3),r-=3,bd(p,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Za(i){function r(I){return Ju(I,i)}Hs!==null&&Ju(Hs,i),qs!==null&&Ju(qs,i),Gs!==null&&Ju(Gs,i),Nl.forEach(r),Ol.forEach(r);for(var o=0;o<$s.length;o++){var l=$s[o];l.blockedOn===i&&(l.blockedOn=null)}for(;0<$s.length&&(o=$s[0],o.blockedOn===null);)k_(o),o.blockedOn===null&&$s.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],T=f[Fe]||null;if(typeof p=="function")T||j_(o);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Fe]||null)S=T.formAction;else if(Ep(f)!==null)continue}else S=T.action;typeof S=="function"?o[l+1]=S:(o.splice(l,3),l-=3),j_(o)}}}function z_(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Cp(i){this._internalRoot=i}th.prototype.render=Cp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,l=Nn();M_(o,l,i,r,null,null)},th.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;M_(i.current,2,null,i,null,null),Ou(),r[_i]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var r=Oc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<$s.length&&r!==0&&r<$s[o].priority;o++);$s.splice(o,0,i),o===0&&k_(i)}};var U_=t.version;if(U_!=="19.2.4")throw Error(s(527,U_,"19.2.4"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var wx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Zn=eh.inject(wx),$e=eh}catch{}}return Ll.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,l="",f=K0,p=Y0,T=Q0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=D_(i,1,!1,null,null,o,l,null,f,p,T,z_),i[_i]=r.current,rp(i),new Cp(r)},Ll.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var l=!1,f="",p=K0,T=Y0,S=Q0,I=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),r=D_(i,1,!0,r,o??null,l,f,I,p,T,S,z_),r.context=w_(null),o=r.current,l=Nn(),l=vr(l),f=Vs(l),f.callback=null,Is(o,f,l),o=l,r.current.lanes=o,gr(r,o),Pi(r),i[_i]=r.current,rp(i),new th(r)},Ll.version="19.2.4",Ll}var X_;function Ux(){if(X_)return Rp.exports;X_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rp.exports=zx(),Rp.exports}var Bx=Ux();const rg=et.createContext({});function ag(n){const t=et.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ub=typeof window<"u",Bb=Ub?et.useLayoutEffect:et.useEffect,of=et.createContext(null);function og(n,t){n.indexOf(t)===-1&&n.push(t)}function Nh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Fi=(n,t,e)=>e>t?t:e<n?n:e;let lg=()=>{};const hs={},Fb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Hb(n){return typeof n=="object"&&n!==null}const qb=n=>/^0[^.\s]+$/u.test(n);function cg(n){let t;return()=>(t===void 0&&(t=n()),t)}const Xn=n=>n,Fx=(n,t)=>e=>t(n(e)),vc=(...n)=>n.reduce(Fx),nc=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class ug{constructor(){this.subscriptions=[]}add(t){return og(this.subscriptions,t),()=>Nh(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=n=>n*1e3,Qn=n=>n/1e3;function Gb(n,t){return t?n*(1e3/t):0}const $b=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,Hx=1e-7,qx=12;function Gx(n,t,e,s,a){let c,u,d=0;do u=t+(e-t)/2,c=$b(u,s,a)-n,c>0?e=u:t=u;while(Math.abs(c)>Hx&&++d<qx);return u}function _c(n,t,e,s){if(n===t&&e===s)return Xn;const a=c=>Gx(c,0,1,n,e);return c=>c===0||c===1?c:$b(a(c),t,s)}const Kb=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Yb=n=>t=>1-n(1-t),Qb=_c(.33,1.53,.69,.99),hg=Yb(Qb),Xb=Kb(hg),Zb=n=>(n*=2)<1?.5*hg(n):.5*(2-Math.pow(2,-10*(n-1))),fg=n=>1-Math.sin(Math.acos(n)),Jb=Yb(fg),Wb=Kb(fg),$x=_c(.42,0,1,1),Kx=_c(0,0,.58,1),tE=_c(.42,0,.58,1),Yx=n=>Array.isArray(n)&&typeof n[0]!="number",eE=n=>Array.isArray(n)&&typeof n[0]=="number",Qx={linear:Xn,easeIn:$x,easeInOut:tE,easeOut:Kx,circIn:fg,circInOut:Wb,circOut:Jb,backIn:hg,backInOut:Xb,backOut:Qb,anticipate:Zb},Xx=n=>typeof n=="string",Z_=n=>{if(eE(n)){lg(n.length===4);const[t,e,s,a]=n;return _c(t,e,s,a)}else if(Xx(n))return Qx[n];return n},nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zx(n,t){let e=new Set,s=new Set,a=!1,c=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,_=!1,E=!1)=>{const P=E&&a?e:s;return _&&u.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){c=!0;return}a=!0,[e,s]=[s,e],e.forEach(m),e.clear(),a=!1,c&&(c=!1,g.process(y))}};return g}const Jx=40;function nE(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>e=!0,u=nh.reduce((Z,at)=>(Z[at]=Zx(c),Z),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:E,render:x,postRender:P}=u,z=()=>{const Z=hs.useManualTiming?a.timestamp:performance.now();e=!1,hs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Z-a.timestamp,Jx),1)),a.timestamp=Z,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),E.process(a),x.process(a),P.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(z))},H=()=>{e=!0,s=!0,a.isProcessing||n(z)};return{schedule:nh.reduce((Z,at)=>{const ot=u[at];return Z[at]=(ht,w=!1,A=!1)=>(e||H(),ot.schedule(ht,w,A)),Z},{}),cancel:Z=>{for(let at=0;at<nh.length;at++)u[nh[at]].cancel(Z)},state:a,steps:u}}const{schedule:ie,cancel:ir,state:Je,steps:Vp}=nE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let ph;function Wx(){ph=void 0}const dn={now:()=>(ph===void 0&&dn.set(Je.isProcessing||hs.useManualTiming?Je.timestamp:performance.now()),ph),set:n=>{ph=n,queueMicrotask(Wx)}},iE=n=>t=>typeof t=="string"&&t.startsWith(n),sE=iE("--"),tR=iE("var(--"),dg=n=>tR(n)?eR.test(n.split("/*")[0].trim()):!1,eR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function J_(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Co={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ic={...Co,transform:n=>Fi(0,1,n)},ih={...Co,default:1},Kl=n=>Math.round(n*1e5)/1e5,pg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nR(n){return n==null}const iR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mg=(n,t)=>e=>!!(typeof e=="string"&&iR.test(e)&&e.startsWith(n)||t&&!nR(e)&&Object.prototype.hasOwnProperty.call(e,t)),rE=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,c,u,d]=s.match(pg);return{[n]:parseFloat(a),[t]:parseFloat(c),[e]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},sR=n=>Fi(0,255,n),Ip={...Co,transform:n=>Math.round(sR(n))},$r={test:mg("rgb","red"),parse:rE("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+Ip.transform(n)+", "+Ip.transform(t)+", "+Ip.transform(e)+", "+Kl(ic.transform(s))+")"};function rR(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const om={test:mg("#"),parse:rR,transform:$r.transform},Tc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ys=Tc("deg"),ji=Tc("%"),gt=Tc("px"),aR=Tc("vh"),oR=Tc("vw"),W_={...ji,parse:n=>ji.parse(n)/100,transform:n=>ji.transform(n*100)},io={test:mg("hsl","hue"),parse:rE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+ji.transform(Kl(t))+", "+ji.transform(Kl(e))+", "+Kl(ic.transform(s))+")"},Oe={test:n=>$r.test(n)||om.test(n)||io.test(n),parse:n=>$r.test(n)?$r.parse(n):io.test(n)?io.parse(n):om.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$r.transform(n):io.transform(n),getAnimatableNone:n=>{const t=Oe.parse(n);return t.alpha=0,Oe.transform(t)}},lR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cR(n){return isNaN(n)&&typeof n=="string"&&(n.match(pg)?.length||0)+(n.match(lR)?.length||0)>0}const aE="number",oE="color",uR="var",hR="var(",tT="${}",fR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let c=0;const d=t.replace(fR,m=>(Oe.test(m)?(s.color.push(c),a.push(oE),e.push(Oe.parse(m))):m.startsWith(hR)?(s.var.push(c),a.push(uR),e.push(m)):(s.number.push(c),a.push(aE),e.push(parseFloat(m))),++c,tT)).split(tT);return{values:e,split:d,indexes:s,types:a}}function lE(n){return sc(n).values}function cE(n){const{split:t,types:e}=sc(n),s=t.length;return a=>{let c="";for(let u=0;u<s;u++)if(c+=t[u],a[u]!==void 0){const d=e[u];d===aE?c+=Kl(a[u]):d===oE?c+=Oe.transform(a[u]):c+=a[u]}return c}}const dR=n=>typeof n=="number"?0:Oe.test(n)?Oe.getAnimatableNone(n):n;function pR(n){const t=lE(n);return cE(n)(t.map(dR))}const sr={test:cR,parse:lE,createTransformer:cE,getAnimatableNone:pR};function Np(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function mR({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,c=0,u=0;if(!t)a=c=u=e;else{const d=e<.5?e*(1+t):e+t-e*t,m=2*e-d;a=Np(m,d,n+1/3),c=Np(m,d,n),u=Np(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function Oh(n,t){return e=>e>0?t:n}const de=(n,t,e)=>n+(t-n)*e,Op=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},gR=[om,$r,io],yR=n=>gR.find(t=>t.test(n));function eT(n){const t=yR(n);if(!t)return!1;let e=t.parse(n);return t===io&&(e=mR(e)),e}const nT=(n,t)=>{const e=eT(n),s=eT(t);if(!e||!s)return Oh(n,t);const a={...e};return c=>(a.red=Op(e.red,s.red,c),a.green=Op(e.green,s.green,c),a.blue=Op(e.blue,s.blue,c),a.alpha=de(e.alpha,s.alpha,c),$r.transform(a))},lm=new Set(["none","hidden"]);function vR(n,t){return lm.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function _R(n,t){return e=>de(n,t,e)}function gg(n){return typeof n=="number"?_R:typeof n=="string"?dg(n)?Oh:Oe.test(n)?nT:ER:Array.isArray(n)?uE:typeof n=="object"?Oe.test(n)?nT:TR:Oh}function uE(n,t){const e=[...n],s=e.length,a=n.map((c,u)=>gg(c)(c,t[u]));return c=>{for(let u=0;u<s;u++)e[u]=a[u](c);return e}}function TR(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=gg(n[a])(n[a],t[a]));return a=>{for(const c in s)e[c]=s[c](a);return e}}function bR(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const c=t.types[a],u=n.indexes[c][s[c]],d=n.values[u]??0;e[a]=d,s[c]++}return e}const ER=(n,t)=>{const e=sr.createTransformer(t),s=sc(n),a=sc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?lm.has(n)&&!a.values.length||lm.has(t)&&!s.values.length?vR(n,t):vc(uE(bR(s,a),a.values),e):Oh(n,t)};function hE(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?de(n,t,e):gg(n)(n,t)}const SR=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ie.update(t,e),stop:()=>ir(t),now:()=>Je.isProcessing?Je.timestamp:dn.now()}},fE=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let c=0;c<a;c++)s+=Math.round(n(c/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ph=2e4;function yg(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Ph;)t+=e,s=n.next(t);return t>=Ph?1/0:t}function CR(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(yg(s),Ph);return{type:"keyframes",ease:c=>s.next(a*c).value/t,duration:Qn(a)}}const AR=5;function dE(n,t,e){const s=Math.max(t-AR,0);return Gb(e-n(s),t-s)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pp=.001;function xR({duration:n=ye.duration,bounce:t=ye.bounce,velocity:e=ye.velocity,mass:s=ye.mass}){let a,c,u=1-t;u=Fi(ye.minDamping,ye.maxDamping,u),n=Fi(ye.minDuration,ye.maxDuration,Qn(n)),u<1?(a=g=>{const y=g*u,_=y*n,E=y-e,x=cm(g,u),P=Math.exp(-_);return Pp-E/x*P},c=g=>{const _=g*u*n,E=_*e+e,x=Math.pow(u,2)*Math.pow(g,2)*n,P=Math.exp(-_),z=cm(Math.pow(g,2),u);return(-a(g)+Pp>0?-1:1)*((E-x)*P)/z}):(a=g=>{const y=Math.exp(-g*n),_=(g-e)*n+1;return-Pp+y*_},c=g=>{const y=Math.exp(-g*n),_=(e-g)*(n*n);return y*_});const d=5/n,m=DR(a,c,d);if(n=fi(n),isNaN(m))return{stiffness:ye.stiffness,damping:ye.damping,duration:n};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:n}}}const RR=12;function DR(n,t,e){let s=e;for(let a=1;a<RR;a++)s=s-n(s)/t(s);return s}function cm(n,t){return n*Math.sqrt(1-t*t)}const wR=["duration","bounce"],MR=["stiffness","damping","mass"];function iT(n,t){return t.some(e=>n[e]!==void 0)}function VR(n){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...n};if(!iT(n,MR)&&iT(n,wR))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,c=2*Fi(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:ye.mass,stiffness:a,damping:c}}else{const e=xR(n);t={...t,...e,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function kh(n=ye.visualDuration,t=ye.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const c=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],d={done:!1,value:c},{stiffness:m,damping:g,mass:y,duration:_,velocity:E,isResolvedFromDuration:x}=VR({...e,velocity:-Qn(e.velocity||0)}),P=E||0,z=g/(2*Math.sqrt(m*y)),H=u-c,$=Qn(Math.sqrt(m/y)),tt=Math.abs(H)<5;s||(s=tt?ye.restSpeed.granular:ye.restSpeed.default),a||(a=tt?ye.restDelta.granular:ye.restDelta.default);let Z;if(z<1){const ot=cm($,z);Z=ht=>{const w=Math.exp(-z*$*ht);return u-w*((P+z*$*H)/ot*Math.sin(ot*ht)+H*Math.cos(ot*ht))}}else if(z===1)Z=ot=>u-Math.exp(-$*ot)*(H+(P+$*H)*ot);else{const ot=$*Math.sqrt(z*z-1);Z=ht=>{const w=Math.exp(-z*$*ht),A=Math.min(ot*ht,300);return u-w*((P+z*$*H)*Math.sinh(A)+ot*H*Math.cosh(A))/ot}}const at={calculatedDuration:x&&_||null,next:ot=>{const ht=Z(ot);if(x)d.done=ot>=_;else{let w=ot===0?P:0;z<1&&(w=ot===0?fi(P):dE(Z,ot,ht));const A=Math.abs(w)<=s,R=Math.abs(u-ht)<=a;d.done=A&&R}return d.value=d.done?u:ht,d},toString:()=>{const ot=Math.min(yg(at),Ph),ht=fE(w=>at.next(ot*w).value,ot,30);return ot+"ms "+ht},toTransition:()=>{}};return at}kh.applyToOptions=n=>{const t=CR(n,100,kh);return n.ease=t.ease,n.duration=fi(t.duration),n.type="keyframes",n};function um({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=n[0],E={done:!1,value:_},x=A=>d!==void 0&&A<d||m!==void 0&&A>m,P=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let z=e*t;const H=_+z,$=u===void 0?H:u(H);$!==H&&(z=$-_);const tt=A=>-z*Math.exp(-A/s),Z=A=>$+tt(A),at=A=>{const R=tt(A),O=Z(A);E.done=Math.abs(R)<=g,E.value=E.done?$:O};let ot,ht;const w=A=>{x(E.value)&&(ot=A,ht=kh({keyframes:[E.value,P(E.value)],velocity:dE(Z,A,E.value),damping:a,stiffness:c,restDelta:g,restSpeed:y}))};return w(0),{calculatedDuration:null,next:A=>{let R=!1;return!ht&&ot===void 0&&(R=!0,at(A),w(A)),ot!==void 0&&A>=ot?ht.next(A-ot):(!R&&at(A),E)}}}function IR(n,t,e){const s=[],a=e||hs.mix||hE,c=n.length-1;for(let u=0;u<c;u++){let d=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||Xn:t;d=vc(m,d)}s.push(d)}return s}function NR(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const c=n.length;if(lg(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=IR(t,s,a),m=d.length,g=y=>{if(u&&y<n[0])return t[0];let _=0;if(m>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const E=nc(n[_],n[_+1],y);return d[_](E)};return e?y=>g(Fi(n[0],n[c-1],y)):g}function OR(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=nc(0,t,s);n.push(de(e,1,a))}}function PR(n){const t=[0];return OR(t,n.length-1),t}function kR(n,t){return n.map(e=>e*t)}function LR(n,t){return n.map(()=>t||tE).splice(0,n.length-1)}function Yl({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=Yx(s)?s.map(Z_):Z_(s),c={done:!1,value:t[0]},u=kR(e&&e.length===t.length?e:PR(t),n),d=NR(u,t,{ease:Array.isArray(a)?a:LR(t,a)});return{calculatedDuration:n,next:m=>(c.value=d(m),c.done=m>=n,c)}}const jR=n=>n!==null;function vg(n,{repeat:t,repeatType:e="loop"},s,a=1){const c=n.filter(jR),d=a<0||t&&e!=="loop"&&t%2===1?0:c.length-1;return!d||s===void 0?c[d]:s}const zR={decay:um,inertia:um,tween:Yl,keyframes:Yl,spring:kh};function pE(n){typeof n.type=="string"&&(n.type=zR[n.type])}class _g{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const UR=n=>n/100;class Tg extends _g{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pE(t);const{type:e=Yl,repeat:s=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=t;let{keyframes:d}=t;const m=e||Yl;m!==Yl&&typeof d[0]!="number"&&(this.mixKeyframes=vc(UR,hE(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});c==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=yg(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:x,type:P,onUpdate:z,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Z=this.currentTime,at=s;if(_){const A=Math.min(this.currentTime,a)/d;let R=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&R--,R=Math.min(R,_+1),R%2&&(E==="reverse"?(O=1-O,x&&(O-=x/d)):E==="mirror"&&(at=u)),Z=Fi(0,1,O)*d}const ot=tt?{done:!1,value:y[0]}:at.next(Z);c&&(ot.value=c(ot.value));let{done:ht}=ot;!tt&&m!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return w&&P!==um&&(ot.value=vg(y,this.options,H,this.speed)),z&&z(ot.value),w&&this.finish(),ot}then(t,e){return this.finished.then(t,e)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=SR,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function BR(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Kr=n=>n*180/Math.PI,hm=n=>{const t=Kr(Math.atan2(n[1],n[0]));return fm(t)},FR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:hm,rotateZ:hm,skewX:n=>Kr(Math.atan(n[1])),skewY:n=>Kr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},fm=n=>(n=n%360,n<0&&(n+=360),n),sT=hm,rT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),aT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),HR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rT,scaleY:aT,scale:n=>(rT(n)+aT(n))/2,rotateX:n=>fm(Kr(Math.atan2(n[6],n[5]))),rotateY:n=>fm(Kr(Math.atan2(-n[2],n[0]))),rotateZ:sT,rotate:sT,skewX:n=>Kr(Math.atan(n[4])),skewY:n=>Kr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function dm(n){return n.includes("scale")?1:0}function pm(n,t){if(!n||n==="none")return dm(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=HR,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=FR,a=d}if(!a)return dm(t);const c=s[t],u=a[1].split(",").map(GR);return typeof c=="function"?c(u):u[c]}const qR=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return pm(e,t)};function GR(n){return parseFloat(n.trim())}const Ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(Ao),oT=n=>n===Co||n===gt,$R=new Set(["x","y","z"]),KR=Ao.filter(n=>!$R.has(n));function YR(n){const t=[];return KR.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Qs={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>pm(t,"x"),y:(n,{transform:t})=>pm(t,"y")};Qs.translateX=Qs.x;Qs.translateY=Qs.y;const Qr=new Set;let mm=!1,gm=!1,ym=!1;function mE(){if(gm){const n=Array.from(Qr).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=YR(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([c,u])=>{s.getValue(c)?.set(u)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}gm=!1,mm=!1,Qr.forEach(n=>n.complete(ym)),Qr.clear()}function gE(){Qr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(gm=!0)})}function QR(){ym=!0,gE(),mE(),ym=!1}class bg{constructor(t,e,s,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qr.add(this),mm||(mm=!0,ie.read(gE),ie.resolveKeyframes(mE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const c=a?.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&e){const d=s.readValue(e,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),a&&c===void 0&&a.set(t[0])}BR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qr.delete(this)}cancel(){this.state==="scheduled"&&(Qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XR=n=>n.startsWith("--");function ZR(n,t,e){XR(t)?n.style.setProperty(t,e):n.style[t]=e}const JR=cg(()=>window.ScrollTimeline!==void 0),WR={};function tD(n,t){const e=cg(n);return()=>WR[t]??e()}const yE=tD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bl=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,lT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bl([0,.65,.55,1]),circOut:Bl([.55,0,1,.45]),backIn:Bl([.31,.01,.66,-.59]),backOut:Bl([.33,1.53,.69,.99])};function vE(n,t){if(n)return typeof n=="function"?yE()?fE(n,t):"ease-out":eE(n)?Bl(n):Array.isArray(n)?n.map(e=>vE(e,t)||lT.easeOut):lT[n]}function eD(n,t,e,{delay:s=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:e};m&&(y.offset=m);const _=vE(d,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),n.animate(y,E)}function _E(n){return typeof n=="function"&&"applyToOptions"in n}function nD({type:n,...t}){return _E(n)&&yE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TE extends _g{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,lg(typeof t.type!="string");const g=nD(t);this.animation=eD(e,s,a,g,c),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=vg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):ZR(e,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&JR()?(this.animation.timeline=t,Xn):e(this)}}const bE={anticipate:Zb,backInOut:Xb,circInOut:Wb};function iD(n){return n in bE}function sD(n){typeof n.ease=="string"&&iD(n.ease)&&(n.ease=bE[n.ease])}const kp=10;class rD extends TE{constructor(t){sD(t),pE(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:c,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Tg({...u,autoplay:!1}),m=Math.max(kp,dn.now()-this.startTime),g=Fi(0,kp,m-kp);e.setWithVelocity(d.sample(Math.max(0,m-g)).value,d.sample(m).value,g),d.stop()}}const cT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(sr.test(n)||n==="0")&&!n.startsWith("url("));function aD(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function oD(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const c=n[n.length-1],u=cT(a,t),d=cT(c,t);return!u||!d?!1:aD(n)||(e==="spring"||_E(e))&&s}function vm(n){n.duration=0,n.type="keyframes"}const lD=new Set(["opacity","clipPath","filter","transform"]),cD=cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uD(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:c,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return cD()&&e&&lD.has(e)&&(e!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&c!==0&&u!=="inertia"}const hD=40;class fD extends _g{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=dn.now();const E={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:c,repeatType:u,name:m,motionValue:g,element:y,..._},x=y?.KeyframeResolver||bg;this.keyframeResolver=new x(d,(P,z,H)=>this.onKeyframesResolved(P,z,E,!H),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=dn.now(),oD(t,c,u,d)||((hs.instantAnimations||!m)&&y?.(vg(t,s,e)),t[0]=t[t.length-1],vm(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>hD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},x=!g&&uD(E),P=E.motionValue?.owner?.current,z=x?new rD({...E,element:P}):new Tg(E);z.finished.then(()=>{this.notifyFinished()}).catch(Xn),this.pendingTimeline&&(this.stopTimeline=z.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=z}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),QR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function EE(n,t,e,s=0,a=1){const c=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=n.size,d=(u-1)*s;return typeof e=="function"?e(c,u):a===1?c*s:d-c*s}const dD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pD(n){const t=dD.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function SE(n,t,e=1){const[s,a]=pD(n);if(!s)return;const c=window.getComputedStyle(t).getPropertyValue(s);if(c){const u=c.trim();return Fb(u)?parseFloat(u):u}return dg(a)?SE(a,t,e+1):a}const mD={type:"spring",stiffness:500,damping:25,restSpeed:10},gD=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yD={type:"keyframes",duration:.8},vD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_D=(n,{keyframes:t})=>t.length>2?yD:xo.has(n)?n.startsWith("scale")?gD(t[1]):mD:vD,TD=n=>n!==null;function bD(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(TD),c=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[c]}function CE(n,t){if(n?.inherit&&t){const{inherit:e,...s}=n;return{...t,...s}}return n}function Eg(n,t){const e=n?.[t]??n?.default??n;return e!==n?CE(e,n):e}function ED({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Sg=(n,t,e,s={},a,c)=>u=>{const d=Eg(s,n)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-fi(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:E=>{t.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:c?void 0:a};ED(d)||Object.assign(y,_D(n,y)),y.duration&&(y.duration=fi(y.duration)),y.repeatDelay&&(y.repeatDelay=fi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(vm(y),y.delay===0&&(_=!0)),(hs.instantAnimations||hs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,vm(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!c&&t.get()!==void 0){const E=bD(y.keyframes,d);if(E!==void 0){ie.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new Tg(y):new fD(y)};function uT(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Cg(n,t,e,s){if(typeof t=="function"){const[a,c]=uT(s);t=t(e!==void 0?e:n.custom,a,c)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,c]=uT(s);t=t(e!==void 0?e:n.custom,a,c)}return t}function lo(n,t,e){const s=n.getProps();return Cg(s,t,e!==void 0?e:s.custom,n)}const AE=new Set(["width","height","top","left","right","bottom",...Ao]),hT=30,SD=n=>!isNaN(parseFloat(n));class CD{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ug);const s=this.events[t].add(e);return t==="change"?()=>{s(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,hT);return Gb(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function go(n,t){return new CD(n,t)}const _m=n=>Array.isArray(n);function AD(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,go(e))}function xD(n){return _m(n)?n[n.length-1]||0:n}function RD(n,t){const e=lo(n,t);let{transitionEnd:s={},transition:a={},...c}=e||{};c={...c,...s};for(const u in c){const d=xD(c[u]);AD(n,u,d)}}const ln=n=>!!(n&&n.getVelocity);function DD(n){return!!(ln(n)&&n.add)}function Tm(n,t){const e=n.getValue("willChange");if(DD(e))return e.add(t);if(!e&&hs.WillChange){const s=new hs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function Ag(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const wD="framerAppearId",xE="data-"+Ag(wD);function RE(n){return n.props[xE]}function MD({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function DE(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:c,transitionEnd:u,...d}=t;const m=n.getDefaultTransition();c=c?CE(c,m):m;const g=c?.reduceMotion;s&&(c=s);const y=[],_=a&&n.animationState&&n.animationState.getState()[a];for(const E in d){const x=n.getValue(E,n.latestValues[E]??null),P=d[E];if(P===void 0||_&&MD(_,E))continue;const z={delay:e,...Eg(c||{},E)},H=x.get();if(H!==void 0&&!x.isAnimating&&!Array.isArray(P)&&P===H&&!z.velocity)continue;let $=!1;if(window.MotionHandoffAnimation){const at=RE(n);if(at){const ot=window.MotionHandoffAnimation(at,E,ie);ot!==null&&(z.startTime=ot,$=!0)}}Tm(n,E);const tt=g??n.shouldReduceMotion;x.start(Sg(E,x,P,tt&&AE.has(E)?{type:!1}:z,n,$));const Z=x.animation;Z&&y.push(Z)}if(u){const E=()=>ie.update(()=>{u&&RD(n,u)});y.length?Promise.all(y).then(E):E()}return y}function bm(n,t,e={}){const s=lo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const c=s?()=>Promise.all(DE(n,s,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return VD(n,t,m,g,y,_,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[c,u]:[u,c];return m().then(()=>g())}else return Promise.all([c(),u(e.delay)])}function VD(n,t,e=0,s=0,a=0,c=1,u){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),d.push(bm(m,t,{...u,delay:e+(typeof s=="function"?0:s)+EE(n.variantChildren,m,s,a,c)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function ID(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(c=>bm(n,c,e));s=Promise.all(a)}else if(typeof t=="string")s=bm(n,t,e);else{const a=typeof t=="function"?lo(n,t,e.custom):t;s=Promise.all(DE(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const ND={test:n=>n==="auto",parse:n=>n},wE=n=>t=>t.test(n),ME=[Co,gt,ji,Ys,oR,aR,ND],fT=n=>ME.find(wE(n));function OD(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||qb(n):!0}const PD=new Set(["brightness","contrast","saturate","opacity"]);function kD(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(pg)||[];if(!s)return n;const a=e.replace(s,"");let c=PD.has(t)?1:0;return s!==e&&(c*=100),t+"("+c+a+")"}const LD=/\b([a-z-]*)\(.*?\)/gu,Em={...sr,getAnimatableNone:n=>{const t=n.match(LD);return t?t.map(kD).join(" "):n}},dT={...Co,transform:Math.round},jD={rotate:Ys,rotateX:Ys,rotateY:Ys,rotateZ:Ys,scale:ih,scaleX:ih,scaleY:ih,scaleZ:ih,skew:Ys,skewX:Ys,skewY:Ys,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:ic,originX:W_,originY:W_,originZ:gt},xg={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,inset:gt,insetBlock:gt,insetBlockStart:gt,insetBlockEnd:gt,insetInline:gt,insetInlineStart:gt,insetInlineEnd:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,paddingBlock:gt,paddingBlockStart:gt,paddingBlockEnd:gt,paddingInline:gt,paddingInlineStart:gt,paddingInlineEnd:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,marginBlock:gt,marginBlockStart:gt,marginBlockEnd:gt,marginInline:gt,marginInlineStart:gt,marginInlineEnd:gt,fontSize:gt,backgroundPositionX:gt,backgroundPositionY:gt,...jD,zIndex:dT,fillOpacity:ic,strokeOpacity:ic,numOctaves:dT},zD={...xg,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Em,WebkitFilter:Em},VE=n=>zD[n];function IE(n,t){let e=VE(n);return e!==Em&&(e=sr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const UD=new Set(["auto","none","0"]);function BD(n,t,e){let s=0,a;for(;s<n.length&&!a;){const c=n[s];typeof c=="string"&&!UD.has(c)&&sc(c).values.length&&(a=n[s]),s++}if(a&&e)for(const c of t)n[c]=IE(e,a)}class FD extends bg{constructor(t,e,s,a,c){super(t,e,s,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),dg(_))){const E=SE(_,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!AE.has(s)||t.length!==2)return;const[a,c]=t,u=fT(a),d=fT(c),m=J_(a),g=J_(c);if(m!==g&&Qs[s]){this.needsMeasurement=!0;return}if(u!==d)if(oT(u)&&oT(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Qs[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||OD(t[a]))&&s.push(a);s.length&&BD(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qs[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=Qs[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const HD=new Set(["opacity","clipPath","filter","transform"]);function NE(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const OE=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Sm(n){return Hb(n)&&"offsetHeight"in n}const{schedule:Rg}=nE(queueMicrotask,!1),ui={x:!1,y:!1};function PE(){return ui.x||ui.y}function qD(n){return n==="x"||n==="y"?ui[n]?null:(ui[n]=!0,()=>{ui[n]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function kE(n,t){const e=NE(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function GD(n){return!(n.pointerType==="touch"||PE())}function $D(n,t,e={}){const[s,a,c]=kE(n,e);return s.forEach(u=>{let d=!1,m=!1,g;const y=()=>{u.removeEventListener("pointerleave",P)},_=H=>{g&&(g(H),g=void 0),y()},E=H=>{d=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),m&&(m=!1,_(H))},x=()=>{d=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},P=H=>{if(H.pointerType!=="touch"){if(d){m=!0;return}_(H)}},z=H=>{if(!GD(H))return;m=!1;const $=t(u,H);typeof $=="function"&&(g=$,u.addEventListener("pointerleave",P,a))};u.addEventListener("pointerenter",z,a),u.addEventListener("pointerdown",x,a)}),c}const LE=(n,t)=>t?n===t?!0:LE(n,t.parentElement):!1,Dg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,KD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YD(n){return KD.has(n.tagName)||n.isContentEditable===!0}const QD=new Set(["INPUT","SELECT","TEXTAREA"]);function XD(n){return QD.has(n.tagName)||n.isContentEditable===!0}const mh=new WeakSet;function pT(n){return t=>{t.key==="Enter"&&n(t)}}function Lp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZD=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=pT(()=>{if(mh.has(e))return;Lp(e,"down");const a=pT(()=>{Lp(e,"up")}),c=()=>Lp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",c,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function mT(n){return Dg(n)&&!PE()}const gT=new WeakSet;function JD(n,t,e={}){const[s,a,c]=kE(n,e),u=d=>{const m=d.currentTarget;if(!mT(d)||gT.has(d))return;mh.add(m),e.stopPropagation&&gT.add(d);const g=t(m,d),y=(x,P)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),mh.has(m)&&mh.delete(m),mT(x)&&typeof g=="function"&&g(x,{success:P})},_=x=>{y(x,m===window||m===document||e.useGlobalTarget||LE(m,x.target))},E=x=>{y(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Sm(d)&&(d.addEventListener("focus",g=>ZD(g,a)),!YD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),c}function wg(n){return Hb(n)&&"ownerSVGElement"in n}const gh=new WeakMap;let yh;const jE=(n,t,e)=>(s,a)=>a&&a[0]?a[0][n+"Size"]:wg(s)&&"getBBox"in s?s.getBBox()[t]:s[e],WD=jE("inline","width","offsetWidth"),tw=jE("block","height","offsetHeight");function ew({target:n,borderBoxSize:t}){gh.get(n)?.forEach(e=>{e(n,{get width(){return WD(n,t)},get height(){return tw(n,t)}})})}function nw(n){n.forEach(ew)}function iw(){typeof ResizeObserver>"u"||(yh=new ResizeObserver(nw))}function sw(n,t){yh||iw();const e=NE(n);return e.forEach(s=>{let a=gh.get(s);a||(a=new Set,gh.set(s,a)),a.add(t),yh?.observe(s)}),()=>{e.forEach(s=>{const a=gh.get(s);a?.delete(t),a?.size||yh?.unobserve(s)})}}const vh=new Set;let so;function rw(){so=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};vh.forEach(t=>t(n))},window.addEventListener("resize",so)}function aw(n){return vh.add(n),so||rw(),()=>{vh.delete(n),!vh.size&&typeof so=="function"&&(window.removeEventListener("resize",so),so=void 0)}}function yT(n,t){return typeof n=="function"?aw(n):sw(n,t)}function ow(n){return wg(n)&&n.tagName==="svg"}const lw=[...ME,Oe,sr],cw=n=>lw.find(wE(n)),vT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:vT(),y:vT()}),_T=()=>({min:0,max:0}),je=()=>({x:_T(),y:_T()}),uw=new WeakMap;function lf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function rc(n){return typeof n=="string"||Array.isArray(n)}const Mg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vg=["initial",...Mg];function cf(n){return lf(n.animate)||Vg.some(t=>rc(n[t]))}function zE(n){return!!(cf(n)||n.variants)}function hw(n,t,e){for(const s in t){const a=t[s],c=e[s];if(ln(a))n.addValue(s,a);else if(ln(c))n.addValue(s,go(a,{owner:n}));else if(c!==a)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,go(u!==void 0?u:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const Cm={current:null},UE={current:!1},fw=typeof window<"u";function dw(){if(UE.current=!0,!!fw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cm.current=n.matches;n.addEventListener("change",t),t()}else Cm.current=!1}const TT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Lh={};function BE(n){Lh=n}function pw(){return Lh}class mw{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,skipAnimations:c,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=dn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ie.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=e.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=cf(e),this.isVariantNode=zE(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in E){const P=E[x];g[x]!==void 0&&ln(P)&&P.set(g[x])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,uw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(UE.current||dw(),this.shouldReduceMotion=Cm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ir(this.notifyUpdate),ir(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&HD.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:m,ease:g,duration:y}=e.accelerate,_=new TE({element:this.current,name:t,keyframes:d,times:m,ease:g,duration:fi(y)}),E=u(_);this.valueSubscriptions.set(t,()=>{E(),_.cancel()});return}const s=xo.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ie.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lh){const e=Lh[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<TT.length;s++){const a=TT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=t[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=hw(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=go(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Fb(s)||qb(s))?s=parseFloat(s):!cw(s)&&sr.test(e)&&(s=IE(t,e)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=Cg(this.props,e,this.presenceContext?.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ug),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Rg.render(this.render)}}class FE extends mw{constructor(){super(...arguments),this.KeyframeResolver=FD}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class hr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function HE({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function gw({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function yw(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function jp(n){return n===void 0||n===1}function Am({scale:n,scaleX:t,scaleY:e}){return!jp(n)||!jp(t)||!jp(e)}function qr(n){return Am(n)||qE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function qE(n){return bT(n.x)||bT(n.y)}function bT(n){return n&&n!=="0%"}function jh(n,t,e){const s=n-e,a=t*s;return e+a}function ET(n,t,e,s,a){return a!==void 0&&(n=jh(n,a,s)),jh(n,e,s)+t}function xm(n,t=0,e=1,s,a){n.min=ET(n.min,t,e,s,a),n.max=ET(n.max,t,e,s,a)}function GE(n,{x:t,y:e}){xm(n.x,t.translate,t.scale,t.originPoint),xm(n.y,e.translate,e.scale,e.originPoint)}const ST=.999999999999,CT=1.0000000000001;function vw(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let c,u;for(let d=0;d<a;d++){c=e[d],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&oo(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,GE(n,u)),s&&qr(c.latestValues)&&oo(n,c.latestValues))}t.x<CT&&t.x>ST&&(t.x=1),t.y<CT&&t.y>ST&&(t.y=1)}function ao(n,t){n.min=n.min+t,n.max=n.max+t}function AT(n,t,e,s,a=.5){const c=de(n.min,n.max,a);xm(n,t,e,c,s)}function oo(n,t){AT(n.x,t.x,t.scaleX,t.scale,t.originX),AT(n.y,t.y,t.scaleY,t.scale,t.originY)}function $E(n,t){return HE(yw(n.getBoundingClientRect(),t))}function _w(n,t,e){const s=$E(n,e),{scroll:a}=t;return a&&(ao(s.x,a.offset.x),ao(s.y,a.offset.y)),s}const Tw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bw=Ao.length;function Ew(n,t,e){let s="",a=!0;for(let c=0;c<bw;c++){const u=Ao[c],d=n[u];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(u.startsWith("scale")?1:0);else{const g=parseFloat(d);m=u.startsWith("scale")?g===1:g===0}if(!m||e){const g=OE(d,xg[u]);if(!m){a=!1;const y=Tw[u]||u;s+=`${y}(${g}) `}e&&(t[u]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function Ig(n,t,e){const{style:s,vars:a,transformOrigin:c}=n;let u=!1,d=!1;for(const m in t){const g=t[m];if(xo.has(m)){u=!0;continue}else if(sE(m)){a[m]=g;continue}else{const y=OE(g,xg[m]);m.startsWith("origin")?(d=!0,c[m]=y):s[m]=y}}if(t.transform||(u||e?s.transform=Ew(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=c;s.transformOrigin=`${m} ${g} ${y}`}}function KE(n,{style:t,vars:e},s,a){const c=n.style;let u;for(u in t)c[u]=t[u];a?.applyProjectionStyles(c,s);for(u in e)c.setProperty(u,e[u])}function xT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const jl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(gt.test(n))n=parseFloat(n);else return n;const e=xT(n,t.target.x),s=xT(n,t.target.y);return`${e}% ${s}%`}},Sw={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=sr.parse(n);if(a.length>5)return s;const c=sr.createTransformer(n),u=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=d,a[1+u]/=m;const g=de(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),c(a)}},Rm={borderRadius:{...jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jl,borderTopRightRadius:jl,borderBottomLeftRadius:jl,borderBottomRightRadius:jl,boxShadow:Sw};function YE(n,{layout:t,layoutId:e}){return xo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Rm[n]||n==="opacity")}function Ng(n,t,e){const s=n.style,a=t?.style,c={};if(!s)return c;for(const u in s)(ln(s[u])||a&&ln(a[u])||YE(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(c[u]=s[u]);return c}function Cw(n){return window.getComputedStyle(n)}class Aw extends FE{constructor(){super(...arguments),this.type="html",this.renderInstance=KE}readValueFromInstance(t,e){if(xo.has(e))return this.projection?.isProjecting?dm(e):qR(t,e);{const s=Cw(t),a=(sE(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return $E(t,e)}build(t,e,s){Ig(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Ng(t,e,s)}}const xw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rw={offset:"strokeDashoffset",array:"strokeDasharray"};function Dw(n,t,e=1,s=0,a=!0){n.pathLength=1;const c=a?xw:Rw;n[c.offset]=`${-s}`,n[c.array]=`${t} ${e}`}const ww=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function QE(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...d},m,g,y){if(Ig(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:E}=n;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const x of ww)_[x]!==void 0&&(E[x]=_[x],delete _[x]);t!==void 0&&(_.x=t),e!==void 0&&(_.y=e),s!==void 0&&(_.scale=s),a!==void 0&&Dw(_,a,c,u,!1)}const XE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ZE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Mw(n,t,e,s){KE(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(XE.has(a)?a:Ag(a),t.attrs[a])}function JE(n,t,e){const s=Ng(n,t,e);for(const a in n)if(ln(n[a])||ln(t[a])){const c=Ao.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[c]=n[a]}return s}class Vw extends FE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(xo.has(e)){const s=VE(e);return s&&s.default||0}return e=XE.has(e)?e:Ag(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return JE(t,e,s)}build(t,e,s){QE(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){Mw(t,e,s,a)}mount(t){this.isSVGTag=ZE(t.tagName),super.mount(t)}}const Iw=Vg.length;function WE(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?WE(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Iw;e++){const s=Vg[e],a=n.props[s];(rc(a)||a===!1)&&(t[s]=a)}return t}function tS(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const Nw=[...Mg].reverse(),Ow=Mg.length;function Pw(n){return t=>Promise.all(t.map(({animation:e,options:s})=>ID(n,e,s)))}function kw(n){let t=Pw(n),e=RT(),s=!0;const a=m=>(g,y)=>{const _=lo(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:x,...P}=_;g={...g,...P,...x}}return g};function c(m){t=m(n)}function u(m){const{props:g}=n,y=WE(n.parent)||{},_=[],E=new Set;let x={},P=1/0;for(let H=0;H<Ow;H++){const $=Nw[H],tt=e[$],Z=g[$]!==void 0?g[$]:y[$],at=rc(Z),ot=$===m?tt.isActive:null;ot===!1&&(P=H);let ht=Z===y[$]&&Z!==g[$]&&at;if(ht&&s&&n.manuallyAnimateOnMount&&(ht=!1),tt.protectedKeys={...x},!tt.isActive&&ot===null||!Z&&!tt.prevProp||lf(Z)||typeof Z=="boolean")continue;if($==="exit"&&tt.isActive&&ot!==!0){tt.prevResolvedValues&&(x={...x,...tt.prevResolvedValues});continue}const w=Lw(tt.prevProp,Z);let A=w||$===m&&tt.isActive&&!ht&&at||H>P&&at,R=!1;const O=Array.isArray(Z)?Z:[Z];let N=O.reduce(a($),{});ot===!1&&(N={});const{prevResolvedValues:L={}}=tt,M={...L,...N},Kt=rt=>{A=!0,E.has(rt)&&(R=!0,E.delete(rt)),tt.needsAnimating[rt]=!0;const ft=n.getValue(rt);ft&&(ft.liveStyle=!1)};for(const rt in M){const ft=N[rt],ut=L[rt];if(x.hasOwnProperty(rt))continue;let dt=!1;_m(ft)&&_m(ut)?dt=!tS(ft,ut):dt=ft!==ut,dt?ft!=null?Kt(rt):E.add(rt):ft!==void 0&&E.has(rt)?Kt(rt):tt.protectedKeys[rt]=!0}tt.prevProp=Z,tt.prevResolvedValues=N,tt.isActive&&(x={...x,...N}),s&&n.blockInitialAnimation&&(A=!1);const ce=ht&&w;A&&(!ce||R)&&_.push(...O.map(rt=>{const ft={type:$};if(typeof rt=="string"&&s&&!ce&&n.manuallyAnimateOnMount&&n.parent){const{parent:ut}=n,dt=lo(ut,rt);if(ut.enteringChildren&&dt){const{delayChildren:V}=dt.transition||{};ft.delay=EE(ut.enteringChildren,n,V)}}return{animation:rt,options:ft}}))}if(E.size){const H={};if(typeof g.initial!="boolean"){const $=lo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(H.transition=$.transition)}E.forEach($=>{const tt=n.getBaseTarget($),Z=n.getValue($);Z&&(Z.liveStyle=!0),H[$]=tt??null}),_.push({animation:H})}let z=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(z=!1),s=!1,z?t(_):Promise.resolve()}function d(m,g){if(e[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),e[m].isActive=g;const y=u(m);for(const _ in e)e[_].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:c,getState:()=>e,reset:()=>{e=RT()}}}function Lw(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!tS(t,n):!1}function Hr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RT(){return{animate:Hr(!0),whileInView:Hr(),whileHover:Hr(),whileTap:Hr(),whileDrag:Hr(),whileFocus:Hr(),exit:Hr()}}function DT(n,t){n.min=t.min,n.max=t.max}function ci(n,t){DT(n.x,t.x),DT(n.y,t.y)}function wT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const eS=1e-4,jw=1-eS,zw=1+eS,nS=.01,Uw=0-nS,Bw=0+nS;function pn(n){return n.max-n.min}function Fw(n,t,e){return Math.abs(n-t)<=e}function MT(n,t,e,s=.5){n.origin=s,n.originPoint=de(t.min,t.max,n.origin),n.scale=pn(e)/pn(t),n.translate=de(e.min,e.max,n.origin)-n.originPoint,(n.scale>=jw&&n.scale<=zw||isNaN(n.scale))&&(n.scale=1),(n.translate>=Uw&&n.translate<=Bw||isNaN(n.translate))&&(n.translate=0)}function Ql(n,t,e,s){MT(n.x,t.x,e.x,s?s.originX:void 0),MT(n.y,t.y,e.y,s?s.originY:void 0)}function VT(n,t,e){n.min=e.min+t.min,n.max=n.min+pn(t)}function Hw(n,t,e){VT(n.x,t.x,e.x),VT(n.y,t.y,e.y)}function IT(n,t,e){n.min=t.min-e.min,n.max=n.min+pn(t)}function zh(n,t,e){IT(n.x,t.x,e.x),IT(n.y,t.y,e.y)}function NT(n,t,e,s,a){return n-=t,n=jh(n,1/e,s),a!==void 0&&(n=jh(n,1/a,s)),n}function qw(n,t=0,e=1,s=.5,a,c=n,u=n){if(ji.test(t)&&(t=parseFloat(t),t=de(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=de(c.min,c.max,s);n===c&&(d-=t),n.min=NT(n.min,t,e,d,a),n.max=NT(n.max,t,e,d,a)}function OT(n,t,[e,s,a],c,u){qw(n,t[e],t[s],t[a],t.scale,c,u)}const Gw=["x","scaleX","originX"],$w=["y","scaleY","originY"];function PT(n,t,e,s){OT(n.x,t,Gw,e?e.x:void 0,s?s.x:void 0),OT(n.y,t,$w,e?e.y:void 0,s?s.y:void 0)}function kT(n){return n.translate===0&&n.scale===1}function iS(n){return kT(n.x)&&kT(n.y)}function LT(n,t){return n.min===t.min&&n.max===t.max}function Kw(n,t){return LT(n.x,t.x)&&LT(n.y,t.y)}function jT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function sS(n,t){return jT(n.x,t.x)&&jT(n.y,t.y)}function zT(n){return pn(n.x)/pn(n.y)}function UT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ki(n){return[n("x"),n("y")]}function Yw(n,t,e){let s="";const a=n.x.translate/t.x,c=n.y.translate/t.y,u=e?.z||0;if((a||c||u)&&(s=`translate3d(${a}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:E,skewX:x,skewY:P}=e;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),x&&(s+=`skewX(${x}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const rS=["TopLeft","TopRight","BottomLeft","BottomRight"],Qw=rS.length,BT=n=>typeof n=="string"?parseFloat(n):n,FT=n=>typeof n=="number"||gt.test(n);function Xw(n,t,e,s,a,c){a?(n.opacity=de(0,e.opacity??1,Zw(s)),n.opacityExit=de(t.opacity??1,0,Jw(s))):c&&(n.opacity=de(t.opacity??1,e.opacity??1,s));for(let u=0;u<Qw;u++){const d=`border${rS[u]}Radius`;let m=HT(t,d),g=HT(e,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||FT(m)===FT(g)?(n[d]=Math.max(de(BT(m),BT(g),s),0),(ji.test(g)||ji.test(m))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=de(t.rotate||0,e.rotate||0,s))}function HT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const Zw=aS(0,.5,Jb),Jw=aS(.5,.95,Xn);function aS(n,t,e){return s=>s<n?0:s>t?1:e(nc(n,t,s))}function Ww(n,t,e){const s=ln(n)?n:go(n);return s.start(Sg("",s,t,e)),s.animation}function ac(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const t4=(n,t)=>n.depth-t.depth;class e4{constructor(){this.children=[],this.isDirty=!1}add(t){og(this.children,t),this.isDirty=!0}remove(t){Nh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(t4),this.isDirty=!1,this.children.forEach(t)}}function n4(n,t){const e=dn.now(),s=({timestamp:a})=>{const c=a-e;c>=t&&(ir(s),n(c-t))};return ie.setup(s,!0),()=>ir(s)}function _h(n){return ln(n)?n.get():n}class i4{constructor(){this.members=[]}add(t){og(this.members,t);for(let e=this.members.length-1;e>=0;e--){const s=this.members[e];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Nh(this.members,s)}t.scheduleRender()}remove(t){if(Nh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const c=this.members[a],u=c.instance;if(c.isPresent!==!1&&(!u||u.isConnected!==!1)){s=c;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,c=t.options.layoutDependency;if(!(a!==void 0&&c!==void 0&&a===c)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Th={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zp=["","X","Y","Z"],s4=1e3;let r4=0;function Up(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function oS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=RE(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ie,!(a||c))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&oS(s)}function lS({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=t?.()){this.id=r4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l4),this.nodes.forEach(f4),this.nodes.forEach(d4),this.nodes.forEach(c4)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new e4)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ug),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=wg(u)&&!ow(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;ie.read(()=>{_=window.innerWidth}),n(u,()=>{const x=window.innerWidth;x!==_&&(_=x,this.root.updateBlockedByResize=!0,y&&y(),y=n4(E,250),Th.hasAnimatedSinceResize&&(Th.hasAnimatedSinceResize=!1,this.nodes.forEach($T)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||v4,{onLayoutAnimationStart:z,onLayoutAnimationComplete:H}=g.getProps(),$=!this.targetLayout||!sS(this.targetLayout,x),tt=!_&&E;if(this.options.layoutRoot||this.resumeFrom||tt||_&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...Eg(P,"layout"),onPlay:z,onComplete:H};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(y,tt)}else _||$T(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(GT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(h4),this.nodes.forEach(a4),this.nodes.forEach(o4)):this.nodes.forEach(GT),this.clearAllSnapshots();const d=dn.now();Je.delta=Fi(0,1e3/60,d-Je.timestamp),Je.timestamp=d,Je.isProcessing=!0,Vp.update.process(Je),Vp.preRender.process(Je),Vp.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u4),this.sharedNodes.forEach(m4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!iS(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||qr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),_4(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return je();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(T4))){const{scroll:g}=this.root;g&&(ao(d.x,g.offset.x),ao(d.y,g.offset.y))}return d}removeElementScroll(u){const d=je();if(ci(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ci(d,u),ao(d.x,y.offset.x),ao(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const m=je();ci(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&oo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qr(y.latestValues)&&oo(m,y.latestValues)}return qr(this.latestValues)&&oo(m,this.latestValues),m}removeTransform(u){const d=je();ci(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!qr(g.latestValues))continue;Am(g.latestValues)&&g.updateSnapshot();const y=je(),_=g.measurePageBox();ci(y,_),PT(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return qr(this.latestValues)&&PT(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Je.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),GE(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||qE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),zh(this.relativeTargetOrigin,d,m),ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ci(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;vw(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=je());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wT(this.prevProjectionDelta.x,this.projectionDelta.x),wT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ql(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!UT(this.projectionDelta.x,this.prevProjectionDelta.x)||!UT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=je(),x=m?m.source:void 0,P=this.layout?this.layout.source:void 0,z=x!==P,H=this.getStack(),$=!H||H.members.length<=1,tt=!!(z&&!$&&this.options.crossfade===!0&&!this.path.some(y4));this.animationProgress=0;let Z;this.mixTargetDelta=at=>{const ot=at/1e3;KT(_.x,u.x,ot),KT(_.y,u.y,ot),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g4(this.relativeTarget,this.relativeTargetOrigin,E,ot),Z&&Kw(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=je()),ci(Z,this.relativeTarget)),z&&(this.animationValues=y,Xw(y,g,this.latestValues,ot,tt,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{Th.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=go(0)),this.currentAnimation=Ww(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&cS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||je();const _=pn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const E=pn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}ci(d,m),oo(d,y),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new i4),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Up("z",u,g,this.animationValues);for(let y=0;y<zp.length;y++)Up(`rotate${zp[y]}`,u,g,this.animationValues),Up(`skew${zp[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=_h(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=_h(d?.pointerEvents)||""),this.hasProjected&&!qr(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=Yw(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),u.transform=_;const{x:E,y:x}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in Rm){if(y[P]===void 0)continue;const{correct:z,applyTo:H,isCSSVariable:$}=Rm[P],tt=_==="none"?y[P]:z(y[P],g);if(H){const Z=H.length;for(let at=0;at<Z;at++)u[H[at]]=tt}else $?this.options.visualElement.renderState.vars[P]=tt:u[P]=tt}this.options.layoutId&&(u.pointerEvents=g===this?_h(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(qT),this.root.sharedNodes.clear()}}}function a4(n){n.updateLayout()}function o4(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,c=t.source!==n.layout.source;a==="size"?ki(y=>{const _=c?t.measuredBox[y]:t.layoutBox[y],E=pn(_);_.min=e[y].min,_.max=_.min+E}):cS(a,t.layoutBox,e)&&ki(y=>{const _=c?t.measuredBox[y]:t.layoutBox[y],E=pn(e[y]);_.max=_.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=ro();Ql(u,e,t.layoutBox);const d=ro();c?Ql(d,n.applyTransform(s,!0),t.measuredBox):Ql(d,e,t.layoutBox);const m=!iS(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const x=je();zh(x,t.layoutBox,_.layoutBox);const P=je();zh(P,e,E.layoutBox),sS(x,P)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=x,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function l4(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function c4(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function u4(n){n.clearSnapshot()}function qT(n){n.clearMeasurements()}function GT(n){n.isLayoutDirty=!1}function h4(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function $T(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function f4(n){n.resolveTargetDelta()}function d4(n){n.calcProjection()}function p4(n){n.resetSkewAndRotation()}function m4(n){n.removeLeadSnapshot()}function KT(n,t,e){n.translate=de(t.translate,0,e),n.scale=de(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function YT(n,t,e,s){n.min=de(t.min,e.min,s),n.max=de(t.max,e.max,s)}function g4(n,t,e,s){YT(n.x,t.x,e.x,s),YT(n.y,t.y,e.y,s)}function y4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const v4={duration:.45,ease:[.4,0,.1,1]},QT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),XT=QT("applewebkit/")&&!QT("chrome/")?Math.round:Xn;function ZT(n){n.min=XT(n.min),n.max=XT(n.max)}function _4(n){ZT(n.x),ZT(n.y)}function cS(n,t,e){return n==="position"||n==="preserve-aspect"&&!Fw(zT(t),zT(e),.2)}function T4(n){return n!==n.root&&n.scroll?.wasRoot}const b4=lS({attachResizeListener:(n,t)=>ac(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},uS=lS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bp.current){const n=new b4({});n.mount(window),n.setOptions({layoutScroll:!0}),Bp.current=n}return Bp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Og=et.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function JT(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function E4(...n){return t=>{let e=!1;const s=n.map(a=>{const c=JT(a,t);return!e&&typeof c=="function"&&(e=!0),c});if(e)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():JT(n[a],null)}}}}function S4(...n){return et.useCallback(E4(...n),n)}class C4 extends et.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=e.offsetParent,a=Sm(s)&&s.offsetWidth||0,c=Sm(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function A4({children:n,isPresent:t,anchorX:e,anchorY:s,root:a,pop:c}){const u=et.useId(),d=et.useRef(null),m=et.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=et.useContext(Og),y=n.props?.ref??n?.ref,_=S4(d,y);return et.useInsertionEffect(()=>{const{width:E,height:x,top:P,left:z,right:H,bottom:$}=m.current;if(t||c===!1||!d.current||!E||!x)return;const tt=e==="left"?`left: ${z}`:`right: ${H}`,Z=s==="bottom"?`bottom: ${$}`:`top: ${P}`;d.current.dataset.motionPopId=u;const at=document.createElement("style");g&&(at.nonce=g);const ot=a??document.head;return ot.appendChild(at),at.sheet&&at.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${x}px !important;
            ${tt}px !important;
            ${Z}px !important;
          }
        `),()=>{ot.contains(at)&&ot.removeChild(at)}},[t]),D.jsx(C4,{isPresent:t,childRef:d,sizeRef:m,pop:c,children:c===!1?n:et.cloneElement(n,{ref:_})})}const x4=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:m,root:g})=>{const y=ag(R4),_=et.useId();let E=!0,x=et.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:e,custom:a,onExitComplete:P=>{y.set(P,!0);for(const z of y.values())if(!z)return;s&&s()},register:P=>(y.set(P,!1),()=>y.delete(P))}),[e,y,s]);return c&&E&&(x={...x}),et.useMemo(()=>{y.forEach((P,z)=>y.set(z,!1))},[e]),et.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),n=D.jsx(A4,{pop:u==="popLayout",isPresent:e,anchorX:d,anchorY:m,root:g,children:n}),D.jsx(of.Provider,{value:x,children:n})};function R4(){return new Map}function hS(n=!0){const t=et.useContext(of);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,c=et.useId();et.useEffect(()=>{if(n)return a(c)},[n]);const u=et.useCallback(()=>n&&s&&s(c),[c,s,n]);return!e&&s?[!1,u]:[!0]}const sh=n=>n.key||"";function WT(n){const t=[];return et.Children.forEach(n,e=>{et.isValidElement(e)&&t.push(e)}),t}const Uh=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:g})=>{const[y,_]=hS(u),E=et.useMemo(()=>WT(n),[n]),x=u&&!y?[]:E.map(sh),P=et.useRef(!0),z=et.useRef(E),H=ag(()=>new Map),$=et.useRef(new Set),[tt,Z]=et.useState(E),[at,ot]=et.useState(E);Bb(()=>{P.current=!1,z.current=E;for(let A=0;A<at.length;A++){const R=sh(at[A]);x.includes(R)?(H.delete(R),$.current.delete(R)):H.get(R)!==!0&&H.set(R,!1)}},[at,x.length,x.join("-")]);const ht=[];if(E!==tt){let A=[...E];for(let R=0;R<at.length;R++){const O=at[R],N=sh(O);x.includes(N)||(A.splice(R,0,O),ht.push(O))}return c==="wait"&&ht.length&&(A=ht),ot(WT(A)),Z(E),null}const{forceRender:w}=et.useContext(rg);return D.jsx(D.Fragment,{children:at.map(A=>{const R=sh(A),O=u&&!y?!1:E===at||x.includes(R),N=()=>{if($.current.has(R))return;if($.current.add(R),H.has(R))H.set(R,!0);else return;let L=!0;H.forEach(M=>{M||(L=!1)}),L&&(w?.(),ot(z.current),u&&_?.(),s&&s())};return D.jsx(x4,{isPresent:O,initial:!P.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:c,root:g,onExitComplete:O?void 0:N,anchorX:d,anchorY:m,children:A},R)})})},fS=et.createContext({strict:!1}),t1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let e1=!1;function D4(){if(e1)return;const n={};for(const t in t1)n[t]={isEnabled:e=>t1[t].some(s=>!!e[s])};BE(n),e1=!0}function dS(){return D4(),pw()}function w4(n){const t=dS();for(const e in n)t[e]={...t[e],...n[e]};BE(t)}const M4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Bh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||M4.has(n)}let pS=n=>!Bh(n);function V4(n){typeof n=="function"&&(pS=t=>t.startsWith("on")?!Bh(t):n(t))}try{V4(require("@emotion/is-prop-valid").default)}catch{}function I4(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(pS(a)||e===!0&&Bh(a)||!t&&!Bh(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const uf=et.createContext({});function N4(n,t){if(cf(n)){const{initial:e,animate:s}=n;return{initial:e===!1||rc(e)?e:void 0,animate:rc(s)?s:void 0}}return n.inherit!==!1?t:{}}function O4(n){const{initial:t,animate:e}=N4(n,et.useContext(uf));return et.useMemo(()=>({initial:t,animate:e}),[n1(t),n1(e)])}function n1(n){return Array.isArray(n)?n.join(" "):n}const Pg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mS(n,t,e){for(const s in t)!ln(t[s])&&!YE(s,e)&&(n[s]=t[s])}function P4({transformTemplate:n},t){return et.useMemo(()=>{const e=Pg();return Ig(e,t,n),Object.assign({},e.vars,e.style)},[t])}function k4(n,t){const e=n.style||{},s={};return mS(s,e,n),Object.assign(s,P4(n,t)),s}function L4(n,t){const e={},s=k4(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const gS=()=>({...Pg(),attrs:{}});function j4(n,t,e,s){const a=et.useMemo(()=>{const c=gS();return QE(c,t,ZE(s),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[t]);if(n.style){const c={};mS(c,n.style,n),a.style={...c,...a.style}}return a}const z4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kg(n){return typeof n!="string"||n.includes("-")?!1:!!(z4.indexOf(n)>-1||/[A-Z]/u.test(n))}function U4(n,t,e,{latestValues:s},a,c=!1,u){const m=(u??kg(n)?j4:L4)(t,s,a,n),g=I4(t,typeof n=="string",c),y=n!==et.Fragment?{...g,...m,ref:e}:{},{children:_}=t,E=et.useMemo(()=>ln(_)?_.get():_,[_]);return et.createElement(n,{...y,children:E})}function B4({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:F4(e,s,a,n),renderState:t()}}function F4(n,t,e,s){const a={},c=s(n,{});for(const E in c)a[E]=_h(c[E]);let{initial:u,animate:d}=n;const m=cf(n),g=zE(n);t&&g&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const _=y?d:u;if(_&&typeof _!="boolean"&&!lf(_)){const E=Array.isArray(_)?_:[_];for(let x=0;x<E.length;x++){const P=Cg(n,E[x]);if(P){const{transitionEnd:z,transition:H,...$}=P;for(const tt in $){let Z=$[tt];if(Array.isArray(Z)){const at=y?Z.length-1:0;Z=Z[at]}Z!==null&&(a[tt]=Z)}for(const tt in z)a[tt]=z[tt]}}}return a}const yS=n=>(t,e)=>{const s=et.useContext(uf),a=et.useContext(of),c=()=>B4(n,t,s,a);return e?c():ag(c)},H4=yS({scrapeMotionValuesFromProps:Ng,createRenderState:Pg}),q4=yS({scrapeMotionValuesFromProps:JE,createRenderState:gS}),G4=Symbol.for("motionComponentSymbol");function $4(n,t,e){const s=et.useRef(e);et.useInsertionEffect(()=>{s.current=e});const a=et.useRef(null);return et.useCallback(c=>{c&&n.onMount?.(c),t&&(c?t.mount(c):t.unmount());const u=s.current;if(typeof u=="function")if(c){const d=u(c);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(c);else u&&(u.current=c)},[t])}const vS=et.createContext({});function Ja(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function K4(n,t,e,s,a,c){const{visualElement:u}=et.useContext(uf),d=et.useContext(fS),m=et.useContext(of),g=et.useContext(Og),y=g.reducedMotion,_=g.skipAnimations,E=et.useRef(null),x=et.useRef(!1);s=s||d.renderer,!E.current&&s&&(E.current=s(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:c}),x.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const P=E.current,z=et.useContext(vS);P&&!P.projection&&a&&(P.type==="html"||P.type==="svg")&&Y4(E.current,e,a,z);const H=et.useRef(!1);et.useInsertionEffect(()=>{P&&H.current&&P.update(e,m)});const $=e[xE],tt=et.useRef(!!$&&!window.MotionHandoffIsComplete?.($)&&window.MotionHasOptimisedAnimation?.($));return Bb(()=>{x.current=!0,P&&(H.current=!0,window.MotionIsMounted=!0,P.updateFeatures(),P.scheduleRenderMicrotask(),tt.current&&P.animationState&&P.animationState.animateChanges())}),et.useEffect(()=>{P&&(!tt.current&&P.animationState&&P.animationState.animateChanges(),tt.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.($)}),tt.current=!1),P.enteringChildren=void 0)}),P}function Y4(n,t,e,s){const{layoutId:a,layout:c,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:_S(n.parent)),n.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||d&&Ja(d),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function _S(n){if(n)return n.options.allowProjection!==!1?n.projection:_S(n.parent)}function Fp(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&w4(s);const c=e?e==="svg":kg(n),u=c?q4:H4;function d(g,y){let _;const E={...et.useContext(Og),...g,layoutId:Q4(g)},{isStatic:x}=E,P=O4(g),z=u(g,x);if(!x&&Ub){X4();const H=Z4(E);_=H.MeasureLayout,P.visualElement=K4(n,z,E,a,H.ProjectionNode,c)}return D.jsxs(uf.Provider,{value:P,children:[_&&P.visualElement?D.jsx(_,{visualElement:P.visualElement,...E}):null,U4(n,g,$4(z,P.visualElement,y),z,x,t,c)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=et.forwardRef(d);return m[G4]=n,m}function Q4({layoutId:n}){const t=et.useContext(rg).id;return t&&n!==void 0?t+"-"+n:n}function X4(n,t){et.useContext(fS).strict}function Z4(n){const t=dS(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function J4(n,t){if(typeof Proxy>"u")return Fp;const e=new Map,s=(c,u)=>Fp(c,u,n,t),a=(c,u)=>s(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?s:(e.has(u)||e.set(u,Fp(u,void 0,n,t)),e.get(u))})}const W4=(n,t)=>t.isSVG??kg(n)?new Vw(t):new Aw(t,{allowProjection:n!==et.Fragment});class tM extends hr{constructor(t){super(t),t.animationState||(t.animationState=kw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eM=0;class nM extends hr{constructor(){super(...arguments),this.id=eM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const iM={animation:{Feature:tM},exit:{Feature:nM}};function bc(n){return{point:{x:n.pageX,y:n.pageY}}}const sM=n=>t=>Dg(t)&&n(t,bc(t));function Xl(n,t,e,s){return ac(n,t,sM(e),s)}const TS=({current:n})=>n?n.ownerDocument.defaultView:null,i1=(n,t)=>Math.abs(n-t);function rM(n,t){const e=i1(n.x,t.x),s=i1(n.y,t.y);return Math.sqrt(e**2+s**2)}const s1=new Set(["auto","scroll"]);class bS{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=qp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,z=rM(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!z)return;const{point:H}=x,{timestamp:$}=Je;this.history.push({...H,timestamp:$});const{onStart:tt,onMove:Z}=this.handlers;P||(tt&&tt(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,x)},this.handlePointerMove=(x,P)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Hp(P,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(x,P)=>{this.end();const{onEnd:z,onSessionEnd:H,resumeAnimation:$}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const tt=qp(x.type==="pointercancel"?this.lastMoveEventInfo:Hp(P,this.transformPagePoint),this.history);this.startEvent&&z&&z(x,tt),H&&H(x,tt)},!Dg(t))return;this.dragSnapToOrigin=c,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=bc(t),g=Hp(m,this.transformPagePoint),{point:y}=g,{timestamp:_}=Je;this.history=[{...y,timestamp:_}];const{onSessionStart:E}=e;E&&E(t,qp(g,this.history)),this.removeListeners=vc(Xl(this.contextWindow,"pointermove",this.handlePointerMove),Xl(this.contextWindow,"pointerup",this.handlePointerUp),Xl(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(s1.has(s.overflowX)||s1.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},c={x:a.x-e.x,y:a.y-e.y};c.x===0&&c.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(t,a),ie.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ir(this.updatePoint)}}function Hp(n,t){return t?{point:t(n.point)}:n}function r1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function qp({point:n},t){return{point:n,delta:r1(n,ES(t)),offset:r1(n,aM(t)),velocity:oM(t,.1)}}function aM(n){return n[0]}function ES(n){return n[n.length-1]}function oM(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=ES(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>fi(t)));)e--;if(!s)return{x:0,y:0};s===n[0]&&n.length>2&&a.timestamp-s.timestamp>fi(t)*2&&(s=n[1]);const c=Qn(a.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-s.x)/c,y:(a.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lM(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?de(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?de(e,n,s.max):Math.min(n,e)),n}function a1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function cM(n,{top:t,left:e,bottom:s,right:a}){return{x:a1(n.x,e,a),y:a1(n.y,t,s)}}function o1(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function uM(n,t){return{x:o1(n.x,t.x),y:o1(n.y,t.y)}}function hM(n,t){let e=.5;const s=pn(n),a=pn(t);return a>s?e=nc(t.min,t.max-s,n.min):s>a&&(e=nc(n.min,n.max-a,t.min)),Fi(0,1,e)}function fM(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Dm=.35;function dM(n=Dm){return n===!1?n=0:n===!0&&(n=Dm),{x:l1(n,"left","right"),y:l1(n,"top","bottom")}}function l1(n,t,e){return{min:c1(n,t),max:c1(n,e)}}function c1(n,t){return typeof n=="number"?n:n[t]||0}const pM=new WeakMap;class mM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=_=>{e&&this.snapToCursor(bc(_).point),this.stopAnimation()},u=(_,E)=>{const{drag:x,dragPropagation:P,onDragStart:z}=this.getProps();if(x&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qD(x),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki($=>{let tt=this.getAxisMotionValue($).get()||0;if(ji.test(tt)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const at=Z.layout.layoutBox[$];at&&(tt=pn(at)*(parseFloat(tt)/100))}}this.originPoint[$]=tt}),z&&ie.update(()=>z(_,E),!1,!0),Tm(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:x,dragDirectionLock:P,onDirectionLock:z,onDrag:H}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:$}=E;if(P&&this.currentDirection===null){this.currentDirection=yM($),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",E.point,$),this.updateAxis("y",E.point,$),this.visualElement.render(),H&&ie.update(()=>H(_,E),!1,!0)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new bS(t,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:TS(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ie.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!rh(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(u=lM(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ja(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=cM(s.layoutBox,t):this.constraints=!1,this.elastic=dM(e),a!==this.constraints&&!Ja(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&ki(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=fM(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ja(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=_w(s,a.root,this.visualElement.getTransformPagePoint());let u=uM(a.layout.layoutBox,c);if(e){const d=e(gw(u));this.hasMutatedConstraints=!!d,d&&(u=HE(d))}return u}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ki(y=>{if(!rh(y,e,this.currentDirection))return;let _=m&&m[y]||{};u&&(_={min:0,max:0});const E=a?200:1e6,x=a?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...c,..._};return this.startAxisValueAnimation(y,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Tm(this.visualElement,t),s.start(Sg(t,s,0,e,this.visualElement,!1))}stopAnimation(){ki(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ki(e=>{const{drag:s}=this.getProps();if(!rh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[e],m=c.get()||0;c.set(t[e]-de(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Ja(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ki(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=hM({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),ki(u=>{if(!rh(u,t,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(de(m,g,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;pM.set(this.visualElement,this);const t=this.visualElement.current,e=Xl(t,"pointerdown",g=>{const{drag:y,dragListener:_=!0}=this.getProps(),E=g.target,x=E!==t&&XD(E);y&&_&&!x&&this.start(g)});let s;const a=()=>{const{dragConstraints:g}=this.getProps();Ja(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),s||(s=gM(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",a);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),ie.read(a);const d=ac(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(ki(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=g[_].translate,E.set(E.get()+g[_].translate))}),this.visualElement.render())}));return()=>{d(),e(),u(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=Dm,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:d}}}function u1(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function gM(n,t,e){const s=yT(n,u1(e)),a=yT(t,u1(e));return()=>{s(),a()}}function rh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function yM(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class vM extends hr{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new mM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Gp=n=>(t,e)=>{n&&ie.update(()=>n(t,e),!1,!0)};class _M extends hr{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new bS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Gp(t),onStart:Gp(e),onMove:Gp(s),onEnd:(c,u)=>{delete this.session,a&&ie.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Xl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $p=!1;class TM extends et.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:c}=t;c&&(e.group&&e.group.add(c),s&&s.register&&a&&s.register(c),$p&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Th.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),$p=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||ie.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Rg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;$p=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SS(n){const[t,e]=hS(),s=et.useContext(rg);return D.jsx(TM,{...n,layoutGroup:s,switchLayoutGroup:et.useContext(vS),isPresent:t,safeToRemove:e})}const bM={pan:{Feature:_M},drag:{Feature:vM,ProjectionNode:uS,MeasureLayout:SS}};function h1(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,c=s[a];c&&ie.postRender(()=>c(t,bc(t)))}class EM extends hr{mount(){const{current:t}=this.node;t&&(this.unmount=$D(t,(e,s)=>(h1(this.node,s,"Start"),a=>h1(this.node,a,"End"))))}unmount(){}}class SM extends hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vc(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f1(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),c=s[a];c&&ie.postRender(()=>c(t,bc(t)))}class CM extends hr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:s}=this.node.props;this.unmount=JD(t,(a,c)=>(f1(this.node,c,"Start"),(u,{success:d})=>f1(this.node,u,d?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:s?.tap===!1})}unmount(){}}const wm=new WeakMap,Kp=new WeakMap,AM=n=>{const t=wm.get(n.target);t&&t(n)},xM=n=>{n.forEach(AM)};function RM({root:n,...t}){const e=n||document;Kp.has(e)||Kp.set(e,{});const s=Kp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(xM,{root:n,...t})),s[a]}function DM(n,t,e){const s=RM(t);return wm.set(n,e),s.observe(n),()=>{wm.delete(n),s.unobserve(n)}}const wM={some:0,all:1};class MM extends hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:c}=t,u={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:wM[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=g?y:_;E&&E(m)};return DM(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(VM(t,e))&&this.startObserver()}unmount(){}}function VM({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const IM={inView:{Feature:MM},tap:{Feature:CM},focus:{Feature:SM},hover:{Feature:EM}},NM={layout:{ProjectionNode:uS,MeasureLayout:SS}},OM={...iM,...IM,...bM,...NM},yo=J4(OM,W4);const CS=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim();const PM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase());const d1=n=>{const t=kM(n);return t.charAt(0).toUpperCase()+t.slice(1)};var LM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jM=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const zM=et.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...d},m)=>et.createElement("svg",{ref:m,...LM,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:CS("lucide",a),...!c&&!jM(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,y])=>et.createElement(g,y)),...Array.isArray(c)?c:[c]]));const se=(n,t)=>{const e=et.forwardRef(({className:s,...a},c)=>et.createElement(zM,{ref:c,iconNode:t,className:CS(`lucide-${PM(d1(n))}`,`lucide-${n}`,s),...a}));return e.displayName=d1(n),e};const UM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],p1=se("activity",UM);const BM=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],m1=se("arrow-down-right",BM);const FM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oc=se("arrow-left",FM);const HM=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],g1=se("arrow-up-right",HM);const qM=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],AS=se("camera",qM);const GM=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],$M=se("check-check",GM);const KM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],YM=se("check",KM);const QM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XM=se("clock",QM);const ZM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],JM=se("credit-card",ZM);const WM=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],tV=se("fingerprint-pattern",WM);const eV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nV=se("heart",eV);const iV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sV=se("image",iV);const rV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aV=se("info",rV);const oV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lV=se("lock",oV);const cV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],uV=se("mic-off",cV);const hV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],xS=se("mic",hV);const fV=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],RS=se("phone-off",fV);const dV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pV=se("phone",dV);const mV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gV=se("plus",mV);const yV=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],y1=se("refresh-ccw",yV);const vV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_V=se("send",vV);const TV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v1=se("settings",TV);const bV=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EV=se("video-off",bV);const SV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hf=se("video",SV);const CV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],AV=se("wallet",CV);const xV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RV=se("zap",xV),DV=({onAuthenticated:n})=>{const[t,e]=et.useState(""),[s,a]=et.useState(!1),c="2025",u="0000",d=g=>{if(t.length<4){const y=t+g;e(y),navigator.vibrate&&navigator.vibrate(15),y.length===4&&(y===c?(navigator.vibrate&&navigator.vibrate(30),n("private")):y===u?(navigator.vibrate&&navigator.vibrate(30),n("dummy")):(navigator.vibrate&&navigator.vibrate([50,30,50]),a(!0),setTimeout(()=>{e(""),a(!1)},500)))}},m=()=>{e(t.slice(0,-1))};return D.jsxs(yo.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex flex-col items-center justify-center text-white select-none",children:[D.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[D.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-colors ${s?"bg-red-500":"bg-white/10"}`,children:s?D.jsx(lV,{size:32}):D.jsx("div",{className:"animate-pulse",children:D.jsx(tV,{size:40})})}),D.jsx("h2",{className:"text-xl font-medium tracking-wide",children:"Enter Passcode"}),D.jsx("div",{className:"flex gap-4 mt-6 h-4",children:[0,1,2,3].map(g=>D.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${g<t.length?"bg-white":"bg-white/20"}`},g))})]}),D.jsxs("div",{className:"grid grid-cols-3 gap-6 w-72",children:[[1,2,3,4,5,6,7,8,9].map(g=>D.jsx("button",{onClick:()=>d(g),className:"w-16 h-16 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 flex items-center justify-center text-2xl font-light transition-colors",children:g},g)),D.jsx("div",{className:"w-16 h-16"})," ",D.jsx("button",{onClick:()=>d(0),className:"w-16 h-16 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 flex items-center justify-center text-2xl font-light transition-colors",children:"0"}),D.jsx("button",{className:"w-16 h-16 flex items-center justify-center",onClick:m,children:D.jsx("span",{className:"text-xl",children:""})})]})]})};class wV{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const e of this._parts)t.push(e);return MV(t).buffer}}function MV(n){let t=0;for(const a of n)t+=a.byteLength;const e=new Uint8Array(t);let s=0;for(const a of n){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);e.set(c,s),s+=a.byteLength}return e}function DS(n){return new VV(n).unpack()}function wS(n){const t=new IV,e=t.pack(n);return e instanceof Promise?e.then(()=>t.getBuffer()):t.getBuffer()}class VV{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let e;if((e=t^160)<=15)return this.unpack_raw(e);if((e=t^176)<=15)return this.unpack_string(e);if((e=t^144)<=15)return this.unpack_array(e);if((e=t^128)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),e=(t[0]&255)*256+(t[1]&255);return this.index+=2,e}unpack_uint32(){const t=this.read(4),e=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,e}unpack_uint64(){const t=this.read(8),e=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,e}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e}unpack_string(t){const e=this.read(t);let s=0,a="",c,u;for(;s<t;)c=e[s],c<160?(u=c,s++):(c^192)<32?(u=(c&31)<<6|e[s+1]&63,s+=2):(c^224)<16?(u=(c&15)<<12|(e[s+1]&63)<<6|e[s+2]&63,s+=3):(u=(c&7)<<18|(e[s+1]&63)<<12|(e[s+2]&63)<<6|e[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=t,a}unpack_array(t){const e=new Array(t);for(let s=0;s<t;s++)e[s]=this.unpack();return e}unpack_map(t){const e={};for(let s=0;s<t;s++){const a=this.unpack();e[a]=this.unpack()}return e}unpack_float(){const t=this.unpack_uint32(),e=t>>31,s=(t>>23&255)-127,a=t&8388607|8388608;return(e===0?1:-1)*a*2**(s-23)}unpack_double(){const t=this.unpack_uint32(),e=this.unpack_uint32(),s=t>>31,a=(t>>20&2047)-1023,u=(t&1048575|1048576)*2**(a-20)+e*2**(a-52);return(s===0?1:-1)*u}read(t){const e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")}}class IV{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const e=t.constructor;if(t instanceof Array){const s=this.pack_array(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const s=t;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(e==Object||e.toString().startsWith("class")){const s=this.pack_object(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${e.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const e=t.length;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this._bufferBuilder.append(218),this.pack_uint16(e);else if(e<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(e);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const e=this._textEncoder.encode(t),s=e.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_array(t){const e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this._bufferBuilder.append(220),this.pack_uint16(e);else if(e<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(e);else throw new Error("Invalid length");const s=a=>{if(a<e){const c=this.pack(t[a]);return c instanceof Promise?c.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let e=0;t<0&&(e=1,t=-t);const s=Math.floor(Math.log(t)/Math.LN2),a=t/2**s-1,c=Math.floor(a*2**52),u=2**32,d=e<<31|s+1023<<20|c/u&1048575,m=c%u;this._bufferBuilder.append(203),this.pack_int32(d),this.pack_int32(m)}pack_object(t){const e=Object.keys(t),s=e.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=c=>{if(c<e.length){const u=e[c];if(t.hasOwnProperty(u)){this.pack(u);const d=this.pack(t[u]);if(d instanceof Promise)return d.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const e=t&4294967295;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_uint64(t){const e=t/4294967296,s=t%2**32;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const e=Math.floor(t/4294967296),s=t%2**32;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new wV,this._textEncoder=new TextEncoder}}let MS=!0,VS=!0;function Fl(n,t,e){const s=n.match(t);return s&&s.length>=e&&parseFloat(s[e],10)}function ea(n,t,e){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,d){if(u!==t)return a.apply(this,arguments);const m=g=>{const y=e(g);y&&(d.handleEvent?d.handleEvent(y):d(y))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(d,m),a.apply(this,[u,m])};const c=s.removeEventListener;s.removeEventListener=function(u,d){if(u!==t||!this._eventMap||!this._eventMap[t])return c.apply(this,arguments);if(!this._eventMap[t].has(d))return c.apply(this,arguments);const m=this._eventMap[t].get(d);return this._eventMap[t].delete(d),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,m])},Object.defineProperty(s,"on"+t,{get(){return this["_on"+t]},set(u){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),u&&this.addEventListener(t,this["_on"+t]=u)},enumerable:!0,configurable:!0})}function NV(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(MS=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function OV(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(VS=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function IS(){if(typeof window=="object"){if(MS)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Lg(n,t){VS&&console.warn(n+" is deprecated, please use "+t+" instead.")}function PV(n){const t={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:e}=n;if(e.userAgentData&&e.userAgentData.brands){const s=e.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(e.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Fl(e.userAgent,/Firefox\/(\d+)\./,1));else if(e.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Fl(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&e.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Fl(e.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,t._safariVersion=Fl(e.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function _1(n){return Object.prototype.toString.call(n)==="[object Object]"}function NS(n){return _1(n)?Object.keys(n).reduce(function(t,e){const s=_1(n[e]),a=s?NS(n[e]):n[e],c=s&&!Object.keys(a).length;return a===void 0||c?t:Object.assign(t,{[e]:a})},{}):n}function Mm(n,t,e){!t||e.has(t.id)||(e.set(t.id,t),Object.keys(t).forEach(s=>{s.endsWith("Id")?Mm(n,n.get(t[s]),e):s.endsWith("Ids")&&t[s].forEach(a=>{Mm(n,n.get(a),e)})}))}function T1(n,t,e){const s=e?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;const c=[];return n.forEach(u=>{u.type==="track"&&u.trackIdentifier===t.id&&c.push(u)}),c.forEach(u=>{n.forEach(d=>{d.type===s&&d.trackId===u.id&&Mm(n,d,a)})}),a}const b1=IS;function OS(n,t){const e=n&&n.navigator;if(!e.mediaDevices)return;const s=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const m={};return Object.keys(d).forEach(g=>{if(g==="require"||g==="advanced"||g==="mediaSource")return;const y=typeof d[g]=="object"?d[g]:{ideal:d[g]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const _=function(E,x){return E?E+x.charAt(0).toUpperCase()+x.slice(1):x==="deviceId"?"sourceId":x};if(y.ideal!==void 0){m.optional=m.optional||[];let E={};typeof y.ideal=="number"?(E[_("min",g)]=y.ideal,m.optional.push(E),E={},E[_("max",g)]=y.ideal,m.optional.push(E)):(E[_("",g)]=y.ideal,m.optional.push(E))}y.exact!==void 0&&typeof y.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[_("",g)]=y.exact):["min","max"].forEach(E=>{y[E]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[_(E,g)]=y[E])})}),d.advanced&&(m.optional=(m.optional||[]).concat(d.advanced)),m},a=function(d,m){if(t.version>=61)return m(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const g=function(y,_,E){_ in y&&!(E in y)&&(y[E]=y[_],delete y[_])};d=JSON.parse(JSON.stringify(d)),g(d.audio,"autoGainControl","googAutoGainControl"),g(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=s(d.audio)}if(d&&typeof d.video=="object"){let g=d.video.facingMode;g=g&&(typeof g=="object"?g:{ideal:g});const y=t.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(e.mediaDevices.getSupportedConstraints&&e.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete d.video.facingMode;let _;if(g.exact==="environment"||g.ideal==="environment"?_=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(_=["front"]),_)return e.mediaDevices.enumerateDevices().then(E=>{E=E.filter(P=>P.kind==="videoinput");let x=E.find(P=>_.some(z=>P.label.toLowerCase().includes(z)));return!x&&E.length&&_.includes("back")&&(x=E[E.length-1]),x&&(d.video.deviceId=g.exact?{exact:x.deviceId}:{ideal:x.deviceId}),d.video=s(d.video),b1("chrome: "+JSON.stringify(d)),m(d)})}d.video=s(d.video)}return b1("chrome: "+JSON.stringify(d)),m(d)},c=function(d){return t.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(d,m,g){a(d,y=>{e.webkitGetUserMedia(y,m,_=>{g&&g(c(_))})})};if(e.getUserMedia=u.bind(e),e.mediaDevices.getUserMedia){const d=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(m){return a(m,g=>d(g).then(y=>{if(g.audio&&!y.getAudioTracks().length||g.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function PS(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function kS(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let c;n.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(d=>d.track&&d.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let c;n.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(d=>d.track&&d.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ea(n,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function LS(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const t=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,m){let g=a.apply(this,arguments);return g||(g=t(this,d),this._senders.push(g)),g};const c=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){c.apply(this,arguments);const m=this._senders.indexOf(d);m!==-1&&this._senders.splice(m,1)}}const e=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],e.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(t(this,u))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(u=>{const d=this._senders.find(m=>m.track===u);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const t=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function jS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const c=e.apply(this,[]);return c.forEach(u=>u._pc=this),c});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),n.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>T1(u,c.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a}),ea(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>T1(c,a.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const t=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let a,c,u;return this.getSenders().forEach(d=>{d.track===s&&(a?u=!0:a=d)}),this.getReceivers().forEach(d=>(d.track===s&&(c?u=!0:c=d),d.track===s)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function zS(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const t=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(u,d){if(!d)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const m=t.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(m)===-1&&this._shimmedLocalStreams[d.id].push(m):this._shimmedLocalStreams[d.id]=[d,m],m};const e=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(g=>{if(this.getSenders().find(_=>_.track===g))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();e.apply(this,arguments);const m=this.getSenders().filter(g=>d.indexOf(g)===-1);this._shimmedLocalStreams[u.id]=[u].concat(m)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const m=this._shimmedLocalStreams[d].indexOf(u);m!==-1&&this._shimmedLocalStreams[d].splice(m,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),a.apply(this,arguments)}}function US(n,t){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&t.version>=65)return zS(n);const e=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const y=e.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(_=>{if(this.getSenders().find(x=>x.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const _=new n.MediaStream(y.getTracks());this._streams[y.id]=_,this._reverseStreams[_.id]=y,y=_}s.apply(this,[y])};const a=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},n.RTCPeerConnection.prototype.addTrack=function(y,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const E=[].slice.call(arguments,1);if(E.length!==1||!E[0].getTracks().find(z=>z===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(z=>z.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const P=this._streams[_.id];if(P)P.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const z=new n.MediaStream([y]);this._streams[_.id]=z,this._reverseStreams[z.id]=_,this.addStream(z)}return this.getSenders().find(z=>z.track===y)};function c(g,y){let _=y.sdp;return Object.keys(g._reverseStreams||[]).forEach(E=>{const x=g._reverseStreams[E],P=g._streams[x.id];_=_.replace(new RegExp(P.id,"g"),x.id)}),new RTCSessionDescription({type:y.type,sdp:_})}function u(g,y){let _=y.sdp;return Object.keys(g._reverseStreams||[]).forEach(E=>{const x=g._reverseStreams[E],P=g._streams[x.id];_=_.replace(new RegExp(x.id,"g"),P.id)}),new RTCSessionDescription({type:y.type,sdp:_})}["createOffer","createAnswer"].forEach(function(g){const y=n.RTCPeerConnection.prototype[g],_={[g](){const E=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[P=>{const z=c(this,P);E[0].apply(null,[z])},P=>{E[1]&&E[1].apply(null,P)},arguments[2]]):y.apply(this,arguments).then(P=>c(this,P))}};n.RTCPeerConnection.prototype[g]=_[g]});const d=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=u(this,arguments[0]),d.apply(this,arguments))};const m=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const g=m.get.apply(this);return g.type===""?g:c(this,g)}}),n.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let E;Object.keys(this._streams).forEach(x=>{this._streams[x].getTracks().find(z=>y.track===z)&&(E=this._streams[x])}),E&&(E.getTracks().length===1?this.removeStream(this._reverseStreams[E.id]):E.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Vm(n,t){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){const s=n.RTCPeerConnection.prototype[e],a={[e](){return arguments[0]=new(e==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[e]=a[e]})}function BS(n,t){ea(n,"negotiationneeded",e=>{const s=e.target;if(!((t.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return e})}const E1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:BS,shimAddTrackRemoveTrack:US,shimAddTrackRemoveTrackWithNative:zS,shimGetSendersWithDtmf:LS,shimGetUserMedia:OS,shimMediaStream:PS,shimOnTrack:kS,shimPeerConnection:Vm,shimSenderReceiverGetStats:jS},Symbol.toStringTag,{value:"Module"}));function FS(n,t){const e=n&&n.navigator,s=n&&n.MediaStreamTrack;if(e.getUserMedia=function(a,c,u){Lg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),e.mediaDevices.getUserMedia(a).then(c,u)},!(t.version>55&&"autoGainControl"in e.mediaDevices.getSupportedConstraints())){const a=function(u,d,m){d in u&&!(m in u)&&(u[m]=u[d],delete u[d])},c=e.mediaDevices.getUserMedia.bind(e.mediaDevices);if(e.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const d=u.apply(this,arguments);return a(d,"mozAutoGainControl","autoGainControl"),a(d,"mozNoiseSuppression","noiseSuppression"),d}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),a(d,"autoGainControl","mozAutoGainControl"),a(d,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[d])}}}}function kV(n,t){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:t}:s.video.mediaSource=t,n.navigator.mediaDevices.getUserMedia(s)})}function HS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Im(n,t){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=n.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};n.RTCPeerConnection.prototype[a]=u[a]});const e={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[c,u,d]=arguments;return s.apply(this,[c||null]).then(m=>{if(t.version<53&&!u)try{m.forEach(g=>{g.type=e[g.type]||g.type})}catch(g){if(g.name!=="TypeError")throw g;m.forEach((y,_)=>{m.set(_,Object.assign({},y,{type:e[y.type]||y.type}))})}return m}).then(u,d)}}function qS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const t=n.RTCPeerConnection.prototype.getSenders;t&&(n.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(c=>c._pc=this),a});const e=n.RTCPeerConnection.prototype.addTrack;e&&(n.RTCPeerConnection.prototype.addTrack=function(){const a=e.apply(this,arguments);return a._pc=this,a}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function GS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const t=n.RTCPeerConnection.prototype.getReceivers;t&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ea(n,"track",e=>(e.receiver._pc=e.srcElement,e)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $S(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(e){Lg("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&e.getTracks().includes(s.track)&&this.removeTrack(s)})})}function KS(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function YS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const t=n.RTCPeerConnection.prototype.addTransceiver;t&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=t.apply(this,arguments);if(a){const{sender:u}=c,d=u.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(d).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function QS(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const t=n.RTCRtpSender.prototype.getParameters;t&&(n.RTCRtpSender.prototype.getParameters=function(){const s=t.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function XS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const t=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ZS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const t=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const S1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:YS,shimCreateAnswer:ZS,shimCreateOffer:XS,shimGetDisplayMedia:kV,shimGetParameters:QS,shimGetUserMedia:FS,shimOnTrack:HS,shimPeerConnection:Im,shimRTCDataChannel:KS,shimReceiverGetStats:GS,shimRemoveStream:$S,shimSenderGetStats:qS},Symbol.toStringTag,{value:"Module"}));function JS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const t=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>t.call(this,a,s)),s.getVideoTracks().forEach(a=>t.call(this,a,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),t.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(e);if(s===-1)return;this._localStreams.splice(s,1);const a=e.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function WS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(c)>=0)return;s._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,s.dispatchEvent(u)})}),t.apply(s,arguments)}}}function tC(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const t=n.RTCPeerConnection.prototype,e=t.createOffer,s=t.createAnswer,a=t.setLocalDescription,c=t.setRemoteDescription,u=t.addIceCandidate;t.createOffer=function(g,y){const _=arguments.length>=2?arguments[2]:arguments[0],E=e.apply(this,[_]);return y?(E.then(g,y),Promise.resolve()):E},t.createAnswer=function(g,y){const _=arguments.length>=2?arguments[2]:arguments[0],E=s.apply(this,[_]);return y?(E.then(g,y),Promise.resolve()):E};let d=function(m,g,y){const _=a.apply(this,[m]);return y?(_.then(g,y),Promise.resolve()):_};t.setLocalDescription=d,d=function(m,g,y){const _=c.apply(this,[m]);return y?(_.then(g,y),Promise.resolve()):_},t.setRemoteDescription=d,d=function(m,g,y){const _=u.apply(this,[m]);return y?(_.then(g,y),Promise.resolve()):_},t.addIceCandidate=d}function eC(n){const t=n&&n.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,s=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=a=>s(nC(a))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(s,a,c){t.mediaDevices.getUserMedia(s).then(a,c)}).bind(t))}function nC(n){return n&&n.video!==void 0?Object.assign({},n,{video:NS(n.video)}):n}function iC(n){if(!n.RTCPeerConnection)return;const t=n.RTCPeerConnection;n.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const c=[];for(let u=0;u<s.iceServers.length;u++){let d=s.iceServers[u];d.urls===void 0&&d.url?(Lg("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,c.push(d)):c.push(s.iceServers[u])}s.iceServers=c}return new t(s,a)},n.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function sC(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function rC(n){const t=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):s.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function aC(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const C1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:aC,shimCallbacksAPI:tC,shimConstraints:nC,shimCreateOfferLegacy:rC,shimGetUserMedia:eC,shimLocalStreamsAPI:JS,shimRTCIceServerUrls:iC,shimRemoteStreamsAPI:WS,shimTrackEventTransceiver:sC},Symbol.toStringTag,{value:"Module"}));var Yp={exports:{}},A1;function LV(){return A1||(A1=1,(function(n){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split(`
`).map(s=>s.trim())},t.splitSections=function(e){return e.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},t.getDescription=function(e){const s=t.splitSections(e);return s&&s[0]},t.getMediaSections=function(e){const s=t.splitSections(e);return s.shift(),s},t.matchPrefix=function(e,s){return t.splitLines(e).filter(a=>a.indexOf(s)===0)},t.parseCandidate=function(e){let s;e.indexOf("a=candidate:")===0?s=e.substring(12).split(" "):s=e.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let c=8;c<s.length;c+=2)switch(s[c]){case"raddr":a.relatedAddress=s[c+1];break;case"rport":a.relatedPort=parseInt(s[c+1],10);break;case"tcptype":a.tcpType=s[c+1];break;case"ufrag":a.ufrag=s[c+1],a.usernameFragment=s[c+1];break;default:a[s[c]]===void 0&&(a[s[c]]=s[c+1]);break}return a},t.writeCandidate=function(e){const s=[];s.push(e.foundation);const a=e.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(e.protocol.toUpperCase()),s.push(e.priority),s.push(e.address||e.ip),s.push(e.port);const c=e.type;return s.push("typ"),s.push(c),c!=="host"&&e.relatedAddress&&e.relatedPort&&(s.push("raddr"),s.push(e.relatedAddress),s.push("rport"),s.push(e.relatedPort)),e.tcpType&&e.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(s.push("ufrag"),s.push(e.usernameFragment||e.ufrag)),"candidate:"+s.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let s=e.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},t.writeRtpMap=function(e){let s=e.payloadType;e.preferredPayloadType!==void 0&&(s=e.preferredPayloadType);const a=e.channels||e.numChannels||1;return"a=rtpmap:"+s+" "+e.name+"/"+e.clockRate+(a!==1?"/"+a:"")+`\r
`},t.parseExtmap=function(e){const s=e.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&e.direction!=="sendrecv"?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+`\r
`},t.parseFmtp=function(e){const s={};let a;const c=e.substring(e.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),s[a[0].trim()]=a[1];return s},t.writeFmtp=function(e){let s="",a=e.payloadType;if(e.preferredPayloadType!==void 0&&(a=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const c=[];Object.keys(e.parameters).forEach(u=>{e.parameters[u]!==void 0?c.push(u+"="+e.parameters[u]):c.push(u)}),s+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return s},t.parseRtcpFb=function(e){const s=e.substring(e.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},t.writeRtcpFb=function(e){let s="",a=e.payloadType;return e.preferredPayloadType!==void 0&&(a=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(c=>{s+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),s},t.parseSsrcMedia=function(e){const s=e.indexOf(" "),a={ssrc:parseInt(e.substring(7,s),10)},c=e.indexOf(":",s);return c>-1?(a.attribute=e.substring(s+1,c),a.value=e.substring(c+1)):a.attribute=e.substring(s+1),a},t.parseSsrcGroup=function(e){const s=e.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},t.getMid=function(e){const s=t.matchPrefix(e,"a=mid:")[0];if(s)return s.substring(6)},t.parseFingerprint=function(e){const s=e.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},t.getDtlsParameters=function(e,s){return{role:"auto",fingerprints:t.matchPrefix(e+s,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,s){let a="a=setup:"+s+`\r
`;return e.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},t.parseCryptoLine=function(e){const s=e.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+(typeof e.keyParams=="object"?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(e){if(e.indexOf("inline:")!==0)return null;const s=e.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,s){return t.matchPrefix(e+s,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,s){const a=t.matchPrefix(e+s,"a=ice-ufrag:")[0],c=t.matchPrefix(e+s,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},t.writeIceParameters=function(e){let s="a=ice-ufrag:"+e.usernameFragment+`\r
a=ice-pwd:`+e.password+`\r
`;return e.iceLite&&(s+=`a=ice-lite\r
`),s},t.parseRtpParameters=function(e){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=t.splitLines(e)[0].split(" ");s.profile=c[2];for(let d=3;d<c.length;d++){const m=c[d],g=t.matchPrefix(e,"a=rtpmap:"+m+" ")[0];if(g){const y=t.parseRtpMap(g),_=t.matchPrefix(e,"a=fmtp:"+m+" ");switch(y.parameters=_.length?t.parseFmtp(_[0]):{},y.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+m+" ").map(t.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}t.matchPrefix(e,"a=extmap:").forEach(d=>{s.headerExtensions.push(t.parseExtmap(d))});const u=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return s.codecs.forEach(d=>{u.forEach(m=>{d.rtcpFeedback.find(y=>y.type===m.type&&y.parameter===m.parameter)||d.rtcpFeedback.push(m)})}),s},t.writeRtpDescription=function(e,s){let a="";a+="m="+e+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=t.writeRtpMap(u),a+=t.writeFmtp(u),a+=t.writeRtcpFb(u)});let c=0;return s.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=t.writeExtmap(u)}),a},t.parseRtpEncodingParameters=function(e){const s=[],a=t.parseRtpParameters(e),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,d=t.matchPrefix(e,"a=ssrc:").map(E=>t.parseSsrcMedia(E)).filter(E=>E.attribute==="cname"),m=d.length>0&&d[0].ssrc;let g;const y=t.matchPrefix(e,"a=ssrc-group:FID").map(E=>E.substring(17).split(" ").map(P=>parseInt(P,10)));y.length>0&&y[0].length>1&&y[0][0]===m&&(g=y[0][1]),a.codecs.forEach(E=>{if(E.name.toUpperCase()==="RTX"&&E.parameters.apt){let x={ssrc:m,codecPayloadType:parseInt(E.parameters.apt,10)};m&&g&&(x.rtx={ssrc:g}),s.push(x),c&&(x=JSON.parse(JSON.stringify(x)),x.fec={ssrc:m,mechanism:u?"red+ulpfec":"red"},s.push(x))}}),s.length===0&&m&&s.push({ssrc:m});let _=t.matchPrefix(e,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(E=>{E.maxBitrate=_})),s},t.parseRtcpParameters=function(e){const s={},a=t.matchPrefix(e,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const c=t.matchPrefix(e,"a=rtcp-rsize");s.reducedSize=c.length>0,s.compound=c.length===0;const u=t.matchPrefix(e,"a=rtcp-mux");return s.mux=u.length>0,s},t.writeRtcpParameters=function(e){let s="";return e.reducedSize&&(s+=`a=rtcp-rsize\r
`),e.mux&&(s+=`a=rtcp-mux\r
`),e.ssrc!==void 0&&e.cname&&(s+="a=ssrc:"+e.ssrc+" cname:"+e.cname+`\r
`),s},t.parseMsid=function(e){let s;const a=t.matchPrefix(e,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const c=t.matchPrefix(e,"a=ssrc:").map(u=>t.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return s=c[0].value.split(" "),{stream:s[0],track:s[1]}},t.parseSctpDescription=function(e){const s=t.parseMLine(e),a=t.matchPrefix(e,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=t.matchPrefix(e,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:c};const d=t.matchPrefix(e,"a=sctpmap:");if(d.length>0){const m=d[0].substring(10).split(" ");return{port:parseInt(m[0],10),protocol:m[1],maxMessageSize:c}}},t.writeSctpDescription=function(e,s){let a=[];return e.protocol!=="DTLS/SCTP"?a=["m="+e.kind+" 9 "+e.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+e.kind+" 9 "+e.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,s,a){let c;const u=s!==void 0?s:2;return e?c=e:c=t.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(e,s){const a=t.splitLines(e);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return s?t.getDirection(s):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return e.split(" ",2)[1]==="0"},t.parseMLine=function(e){const a=t.splitLines(e)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},t.parseOLine=function(e){const a=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},t.isValidSDP=function(e){if(typeof e!="string"||e.length===0)return!1;const s=t.splitLines(e);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},n.exports=t})(Yp)),Yp.exports}var oC=LV();const co=jb(oC),jV=Vx({__proto__:null,default:co},[oC]);function bh(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const t=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new t(s),c=co.parseCandidate(s.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(s)},n.RTCIceCandidate.prototype=t.prototype,ea(n,"icecandidate",e=>(e.candidate&&Object.defineProperty(e,"candidate",{value:new n.RTCIceCandidate(e.candidate),writable:"false"}),e))}function Nm(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||ea(n,"icecandidate",t=>{if(t.candidate){const e=co.parseCandidate(t.candidate.candidate);e.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[e.priority>>24])}return t})}function Eh(n,t){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const e=function(d){if(!d||!d.sdp)return!1;const m=co.splitSections(d.sdp);return m.shift(),m.some(g=>{const y=co.parseMLine(g);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(d){const m=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(m===null||m.length<2)return-1;const g=parseInt(m[1],10);return g!==g?-1:g},a=function(d){let m=65536;return t.browser==="firefox"&&(t.version<57?d===-1?m=16384:m=2147483637:t.version<60?m=t.version===57?65535:65536:m=2147483637),m},c=function(d,m){let g=65536;t.browser==="firefox"&&t.version===57&&(g=65535);const y=co.matchPrefix(d.sdp,"a=max-message-size:");return y.length>0?g=parseInt(y[0].substring(19),10):t.browser==="firefox"&&m!==-1&&(g=2147483637),g},u=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:m}=this.getConfiguration();m==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(e(arguments[0])){const m=s(arguments[0]),g=a(m),y=c(arguments[0],m);let _;g===0&&y===0?_=Number.POSITIVE_INFINITY:g===0||y===0?_=Math.max(g,y):_=Math.min(g,y);const E={};Object.defineProperty(E,"maxMessageSize",{get(){return _}}),this._sctp=E}return u.apply(this,arguments)}}function Sh(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function t(s,a){const c=s.send;s.send=function(){const d=arguments[0],m=d.length||d.size||d.byteLength;if(s.readyState==="open"&&a.sctp&&m>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(s,arguments)}}const e=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const a=e.apply(this,arguments);return t(a,this),a},ea(n,"datachannel",s=>(t(s.channel,s.target),s))}function Om(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const t=n.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const s=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Pm(n,t){if(!n.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&a instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return e.apply(this,arguments)}}function Ch(n,t){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const e=n.RTCPeerConnection.prototype.addIceCandidate;!e||e.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ah(n,t){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const e=n.RTCPeerConnection.prototype.setLocalDescription;!e||e.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return e.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?e.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>e.apply(this,[u]))})}const zV=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Pm,shimAddIceCandidateNullOrEmpty:Ch,shimConnectionState:Om,shimMaxMessageSize:Eh,shimParameterlessSetLocalDescription:Ah,shimRTCIceCandidate:bh,shimRTCIceCandidateRelayProtocol:Nm,shimSendThrowTypeError:Sh},Symbol.toStringTag,{value:"Module"}));function UV({window:n}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const e=IS,s=PV(n),a={browserDetails:s,commonShim:zV,extractVersion:Fl,disableLog:NV,disableWarnings:OV,sdp:jV};switch(s.browser){case"chrome":if(!E1||!Vm||!t.shimChrome)return e("Chrome shim is not included in this adapter release."),a;if(s.version===null)return e("Chrome shim can not determine version, not shimming."),a;e("adapter.js shimming chrome."),a.browserShim=E1,Ch(n,s),Ah(n),OS(n,s),PS(n),Vm(n,s),kS(n),US(n,s),LS(n),jS(n),BS(n,s),bh(n),Nm(n),Om(n),Eh(n,s),Sh(n),Pm(n,s);break;case"firefox":if(!S1||!Im||!t.shimFirefox)return e("Firefox shim is not included in this adapter release."),a;e("adapter.js shimming firefox."),a.browserShim=S1,Ch(n,s),Ah(n),FS(n,s),Im(n,s),HS(n),$S(n),qS(n),GS(n),KS(n),YS(n),QS(n),XS(n),ZS(n),bh(n),Om(n),Eh(n,s),Sh(n);break;case"safari":if(!C1||!t.shimSafari)return e("Safari shim is not included in this adapter release."),a;e("adapter.js shimming safari."),a.browserShim=C1,Ch(n,s),Ah(n),iC(n),rC(n),tC(n),JS(n),WS(n),sC(n),eC(n),aC(n),bh(n),Nm(n),Eh(n,s),Sh(n),Pm(n,s);break;default:e("Unsupported browser!");break}return a}const x1=UV({window:typeof window>"u"?void 0:window});function na(n,t,e,s){Object.defineProperty(n,t,{get:e,set:s,enumerable:!0,configurable:!0})}class lC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const e=[],s=t.byteLength,a=Math.ceil(s/this.chunkedMTU);let c=0,u=0;for(;u<s;){const d=Math.min(s,u+this.chunkedMTU),m=t.slice(u,d),g={__peerData:this._dataCount,n:c,data:m,total:a};e.push(g),u=d,c++}return this._dataCount++,e}}}function BV(n){let t=0;for(const a of n)t+=a.byteLength;const e=new Uint8Array(t);let s=0;for(const a of n)e.set(a,s),s+=a.byteLength;return e}const Qp=x1.default||x1,zl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?t>=this.minChromeVersion:n==="firefox"?t>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Qp.browserDetails.browser}getVersion(){return Qp.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),t=Qp.browserDetails.version||0;if(n==="chrome"&&t<this.minChromeVersion)return!1;if(n==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let e,s=!1;try{e=new RTCPeerConnection,e.addTransceiver("audio"),s=!0}catch{}finally{e&&e.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},FV=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),cC=()=>Math.random().toString(36).slice(2),R1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class HV extends lC{noop(){}blobToArrayBuffer(t,e){const s=new FileReader;return s.onload=function(a){a.target&&e(a.target.result)},s.readAsArrayBuffer(t),s}binaryStringToArrayBuffer(t){const e=new Uint8Array(t.length);for(let s=0;s<t.length;s++)e[s]=t.charCodeAt(s)&255;return e.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=R1,this.browser=zl.getBrowser(),this.browserVersion=zl.getVersion(),this.pack=wS,this.unpack=DS,this.supports=(function(){const e={browser:zl.isBrowserSupported(),webRTC:zl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;let s;try{s=new RTCPeerConnection(R1),e.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!a.ordered;try{a.binaryType="blob",e.binaryBlob=!zl.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return e})(),this.validateId=FV,this.randomToken=cC}}const Sn=new HV,qV="PeerJS: ";class GV{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...e){const s=[qV,...e];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);t>=3?console.log(...s):t>=2?console.warn("WARNING",...s):t>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var yt=new GV,jg={},$V=Object.prototype.hasOwnProperty,mn="~";function lc(){}Object.create&&(lc.prototype=Object.create(null),new lc().__proto__||(mn=!1));function KV(n,t,e){this.fn=n,this.context=t,this.once=e||!1}function uC(n,t,e,s,a){if(typeof e!="function")throw new TypeError("The listener must be a function");var c=new KV(e,s||n,a),u=mn?mn+t:t;return n._events[u]?n._events[u].fn?n._events[u]=[n._events[u],c]:n._events[u].push(c):(n._events[u]=c,n._eventsCount++),n}function xh(n,t){--n._eventsCount===0?n._events=new lc:delete n._events[t]}function cn(){this._events=new lc,this._eventsCount=0}cn.prototype.eventNames=function(){var t=[],e,s;if(this._eventsCount===0)return t;for(s in e=this._events)$V.call(e,s)&&t.push(mn?s.slice(1):s);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};cn.prototype.listeners=function(t){var e=mn?mn+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,c=s.length,u=new Array(c);a<c;a++)u[a]=s[a].fn;return u};cn.prototype.listenerCount=function(t){var e=mn?mn+t:t,s=this._events[e];return s?s.fn?1:s.length:0};cn.prototype.emit=function(t,e,s,a,c,u){var d=mn?mn+t:t;if(!this._events[d])return!1;var m=this._events[d],g=arguments.length,y,_;if(m.fn){switch(m.once&&this.removeListener(t,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,e),!0;case 3:return m.fn.call(m.context,e,s),!0;case 4:return m.fn.call(m.context,e,s,a),!0;case 5:return m.fn.call(m.context,e,s,a,c),!0;case 6:return m.fn.call(m.context,e,s,a,c,u),!0}for(_=1,y=new Array(g-1);_<g;_++)y[_-1]=arguments[_];m.fn.apply(m.context,y)}else{var E=m.length,x;for(_=0;_<E;_++)switch(m[_].once&&this.removeListener(t,m[_].fn,void 0,!0),g){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,e);break;case 3:m[_].fn.call(m[_].context,e,s);break;case 4:m[_].fn.call(m[_].context,e,s,a);break;default:if(!y)for(x=1,y=new Array(g-1);x<g;x++)y[x-1]=arguments[x];m[_].fn.apply(m[_].context,y)}}return!0};cn.prototype.on=function(t,e,s){return uC(this,t,e,s,!1)};cn.prototype.once=function(t,e,s){return uC(this,t,e,s,!0)};cn.prototype.removeListener=function(t,e,s,a){var c=mn?mn+t:t;if(!this._events[c])return this;if(!e)return xh(this,c),this;var u=this._events[c];if(u.fn)u.fn===e&&(!a||u.once)&&(!s||u.context===s)&&xh(this,c);else{for(var d=0,m=[],g=u.length;d<g;d++)(u[d].fn!==e||a&&!u[d].once||s&&u[d].context!==s)&&m.push(u[d]);m.length?this._events[c]=m.length===1?m[0]:m:xh(this,c)}return this};cn.prototype.removeAllListeners=function(t){var e;return t?(e=mn?mn+t:t,this._events[e]&&xh(this,e)):(this._events=new lc,this._eventsCount=0),this};cn.prototype.off=cn.prototype.removeListener;cn.prototype.addListener=cn.prototype.on;cn.prefixed=mn;cn.EventEmitter=cn;jg=cn;var ia={};na(ia,"ConnectionType",()=>Js);na(ia,"PeerErrorType",()=>Ne);na(ia,"BaseConnectionErrorType",()=>km);na(ia,"DataConnectionErrorType",()=>zg);na(ia,"SerializationType",()=>ff);na(ia,"SocketEventType",()=>Xs);na(ia,"ServerMessageType",()=>an);var Js=(function(n){return n.Data="data",n.Media="media",n})({}),Ne=(function(n){return n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc",n})({}),km=(function(n){return n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed",n})({}),zg=(function(n){return n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big",n})({}),ff=(function(n){return n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw",n})({}),Xs=(function(n){return n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close",n})({}),an=(function(n){return n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE",n})({});const hC="1.5.5";class YV extends jg.EventEmitter{constructor(t,e,s,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const d=t?"wss://":"ws://";this._baseUrl=d+e+":"+s+a+"peerjs?key="+c}start(t,e){this._id=t;const s=`${this._baseUrl}&id=${t}&token=${e}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+hC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),yt.log("Server message received:",c)}catch{yt.log("Invalid server message",a.data);return}this.emit(Xs.Message,c)},this._socket.onclose=a=>{this._disconnected||(yt.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(Xs.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),yt.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){yt.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:an.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const e of t)this.send(e)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Xs.Error,"Invalid message");return}if(!this._wsOpen())return;const e=JSON.stringify(t);this._socket.send(e)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class fC{constructor(t){this.connection=t}startConnection(t){const e=this._startPeerConnection();if(this.connection.peerConnection=e,this.connection.type===Js.Media&&t._stream&&this._addTracksToConnection(t._stream,e),t.originator){const s=this.connection,a={ordered:!!t.reliable},c=e.createDataChannel(s.label,a);s._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){yt.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const e=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;yt.log("Listening for ICE candidates."),t.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(yt.log(`Received ICE candidates for ${e}:`,u.candidate),c.socket.send({type:an.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:e}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":yt.log("iceConnectionState is failed, closing connections to "+e),this.connection.emitError(km.NegotiationFailed,"Negotiation of connection to "+e+" failed."),this.connection.close();break;case"closed":yt.log("iceConnectionState is closed, closing connections to "+e),this.connection.emitError(km.ConnectionClosed,"Connection to "+e+" closed."),this.connection.close();break;case"disconnected":yt.log("iceConnectionState changed to disconnected on the connection with "+e);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},yt.log("Listening for data channel"),t.ondatachannel=u=>{yt.log("Received data channel");const d=u.channel;c.getConnection(e,s)._initializeDataChannel(d)},yt.log("Listening for remote stream"),t.ontrack=u=>{yt.log("Received remote stream");const d=u.streams[0],m=c.getConnection(e,s);if(m.type===Js.Media){const g=m;this._addStreamToMediaConnection(d,g)}}}cleanup(){yt.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const e=t.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(e||s)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,e=this.connection.provider;try{const s=await t.createOffer(this.connection.options.constraints);yt.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),yt.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Js.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}e.socket.send({type:an.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(e.emitError(Ne.WebRTC,a),yt.log("Failed to setLocalDescription, ",a))}}catch(s){e.emitError(Ne.WebRTC,s),yt.log("Failed to createOffer, ",s)}}async _makeAnswer(){const t=this.connection.peerConnection,e=this.connection.provider;try{const s=await t.createAnswer();yt.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),yt.log("Set localDescription:",s,`for:${this.connection.peer}`),e.socket.send({type:an.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){e.emitError(Ne.WebRTC,a),yt.log("Failed to setLocalDescription, ",a)}}catch(s){e.emitError(Ne.WebRTC,s),yt.log("Failed to create answer, ",s)}}async handleSDP(t,e){e=new RTCSessionDescription(e);const s=this.connection.peerConnection,a=this.connection.provider;yt.log("Setting remote description",e);const c=this;try{await s.setRemoteDescription(e),yt.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(Ne.WebRTC,u),yt.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(t){yt.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),yt.log(`Added ICE candidate for:${this.connection.peer}`)}catch(e){this.connection.provider.emitError(Ne.WebRTC,e),yt.log("Failed to handleCandidate, ",e)}}_addTracksToConnection(t,e){if(yt.log(`add tracks from stream ${t.id} to peer connection`),!e.addTrack)return yt.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(s=>{e.addTrack(s,t)})}_addStreamToMediaConnection(t,e){yt.log(`add stream ${t.id} to media connection ${e.connectionId}`),e.addStream(t)}}class dC extends jg.EventEmitter{emitError(t,e){yt.error("Error:",e),this.emit("error",new QV(`${t}`,e))}}class QV extends Error{constructor(t,e){typeof e=="string"?super(e):(super(),Object.assign(this,e)),this.type=t}}class pC extends dC{get open(){return this._open}constructor(t,e,s){super(),this.peer=t,this.provider=e,this.options=s,this._open=!1,this.metadata=s.metadata}}class Fh extends pC{static#t=this.ID_PREFIX="mc_";get type(){return Js.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,e,s){super(t,e,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Fh.ID_PREFIX+Sn.randomToken(),this._negotiator=new fC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{yt.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{yt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){yt.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const e=t.type,s=t.payload;switch(t.type){case an.Answer:this._negotiator.handleSDP(e,s.sdp),this._open=!0;break;case an.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:yt.warn(`Unrecognized message type:${e} from peer:${this.peer}`);break}}answer(t,e={}){if(this._localStream){yt.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,e&&e.sdpTransform&&(this.options.sdpTransform=e.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class XV{constructor(t){this._options=t}_buildRequest(t){const e=this._options.secure?"https":"http",{host:s,port:a,path:c,key:u}=this._options,d=new URL(`${e}://${s}:${a}${c}${u}/${t}`);return d.searchParams.set("ts",`${Date.now()}${Math.random()}`),d.searchParams.set("version",hC),fetch(d.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){yt.error("Error retrieving ID",t);let e="";throw this._options.path==="/"&&this._options.host!==Sn.CLOUD_HOST&&(e=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+e)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let e="";throw this._options.host===Sn.CLOUD_HOST?e="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":e="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+e)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw yt.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}class Hh extends pC{static#t=this.ID_PREFIX="dc_";static#e=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Js.Data}constructor(t,e,s){super(t,e,s),this.connectionId=this.options.connectionId||Hh.ID_PREFIX+cC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new fC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{yt.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{yt.log(`DC#${this.connectionId} dc onmessage:`,e.data)},this.dataChannel.onclose=()=>{yt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,e=!1){if(!this.open){this.emitError(zg.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,e)}async handleMessage(t){const e=t.payload;switch(t.type){case an.Answer:await this._negotiator.handleSDP(t.type,e.sdp);break;case an.Candidate:await this._negotiator.handleCandidate(e.candidate);break;default:yt.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}}class Ug extends Hh{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",e=>this._handleDataMessage(e))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Hh.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(e){return yt.error(`DC#:${this.connectionId} Error when sending:`,e),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Xp extends Ug{close(t){super.close(t),this._chunkedData={}}constructor(t,e,s){super(t,e,s),this.chunker=new lC,this.serialization=ff.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const e=DS(t),s=e.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(e);return}this.emit("data",e)}_handleChunk(t){const e=t.__peerData,s=this._chunkedData[e]||{data:[],count:0,total:t.total};if(s.data[t.n]=new Uint8Array(t.data),s.count++,this._chunkedData[e]=s,s.total===s.count){delete this._chunkedData[e];const a=BV(s.data);this._handleDataMessage({data:a})}}_send(t,e){const s=wS(t);if(s instanceof Promise)return this._send_blob(s);if(!e&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(t){const e=await t;if(e.byteLength>this.chunker.chunkedMTU){this._sendChunks(e);return}this._bufferedSend(e)}_sendChunks(t){const e=this.chunker.chunk(t);yt.log(`DC#${this.connectionId} Try to send ${e.length} chunks...`);for(const s of e)this.send(s,!0)}}class ZV extends Ug{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,e){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=ff.None}}class JV extends Ug{_handleDataMessage({data:t}){const e=this.parse(this.decoder.decode(t)),s=e.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",e)}_send(t,e){const s=this.encoder.encode(this.stringify(t));if(s.byteLength>=Sn.chunkedMTU){this.emitError(zg.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...t){super(...t),this.serialization=ff.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Bg extends dC{static#t=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[e,s]of this._connections)t[e]=s;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,e){super(),this._serializers={raw:ZV,json:JV,binary:Xp,"binary-utf8":Xp,default:Xp},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(t&&t.constructor==Object?e=t:t&&(s=t.toString()),e={debug:0,host:Sn.CLOUD_HOST,port:Sn.CLOUD_PORT,path:"/",key:Bg.DEFAULT_KEY,token:Sn.randomToken(),config:Sn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...e},this._options=e,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Sn.CLOUD_HOST?this._options.secure=Sn.isSecure():this._options.host==Sn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&yt.setLogFunction(this._options.logFunction),yt.logLevel=this._options.debug||0,this._api=new XV(e),this._socket=this._createServerConnection(),!Sn.supports.audioVideo&&!Sn.supports.data){this._delayedAbort(Ne.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Sn.validateId(s)){this._delayedAbort(Ne.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(Ne.ServerError,a))}_createServerConnection(){const t=new YV(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Xs.Message,e=>{this._handleMessage(e)}),t.on(Xs.Error,e=>{this._abort(Ne.SocketError,e)}),t.on(Xs.Disconnected,()=>{this.disconnected||(this.emitError(Ne.Network,"Lost connection to server."),this.disconnect())}),t.on(Xs.Close,()=>{this.disconnected||this._abort(Ne.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const e=t.type,s=t.payload,a=t.src;switch(e){case an.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case an.Error:this._abort(Ne.ServerError,s.msg);break;case an.IdTaken:this._abort(Ne.UnavailableID,`ID "${this.id}" is taken`);break;case an.InvalidKey:this._abort(Ne.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case an.Leave:yt.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case an.Expire:this.emitError(Ne.PeerUnavailable,`Could not connect to peer ${a}`);break;case an.Offer:{const c=s.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),yt.warn(`Offer received for existing Connection ID:${c}`)),s.type===Js.Media){const m=new Fh(a,this,{connectionId:c,_payload:s,metadata:s.metadata});u=m,this._addConnection(a,u),this.emit("call",m)}else if(s.type===Js.Data){const m=new this._serializers[s.serialization](a,this,{connectionId:c,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=m,this._addConnection(a,u),this.emit("connection",m)}else{yt.warn(`Received malformed connection type:${s.type}`);return}const d=this._getMessages(c);for(const m of d)u.handleMessage(m);break}default:{if(!s){yt.warn(`You received a malformed message from ${a} of type ${e}`);return}const c=s.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(t):c?this._storeMessage(c,t):yt.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,e){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(e)}_getMessages(t){const e=this._lostMessages.get(t);return e?(this._lostMessages.delete(t),e):[]}connect(t,e={}){if(e={serialization:"default",...e},this.disconnected){yt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ne.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[e.serialization](t,this,e);return this._addConnection(t,s),s}call(t,e,s={}){if(this.disconnected){yt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ne.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!e){yt.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new Fh(t,this,{...s,_stream:e});return this._addConnection(t,a),a}_addConnection(t,e){yt.log(`add connection ${e.type}:${e.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(e)}_removeConnection(t){const e=this._connections.get(t.peer);if(e){const s=e.indexOf(t);s!==-1&&e.splice(s,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,e){const s=this._connections.get(t);if(!s)return null;for(const a of s)if(a.connectionId===e)return a;return null}_delayedAbort(t,e){setTimeout(()=>{this._abort(t,e)},0)}_abort(t,e){yt.error("Aborting!"),this.emitError(t,e),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(yt.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const e=this._connections.get(t);if(e)for(const s of e)s.close()}disconnect(){if(this.disconnected)return;const t=this.id;yt.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)yt.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)yt.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=e=>{}){this._api.listAllPeers().then(e=>t(e)).catch(e=>this._abort(Ne.ServerError,e))}}var WV=Bg;const t3=()=>{};var D1={};const mC=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},e3=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=n[e++];t[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=n[e++],u=n[e++],d=n[e++],m=((a&7)<<18|(c&63)<<12|(u&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const c=n[e++],u=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return t.join("")},gC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const c=n[a],u=a+1<n.length,d=u?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,y=c>>2,_=(c&3)<<4|d>>4;let E=(d&15)<<2|g>>6,x=g&63;m||(x=64,u||(E=64)),s.push(e[y],e[_],e[E],e[x])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(mC(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):e3(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const c=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,c==null||d==null||g==null||_==null)throw new n3;const E=c<<2|d>>4;if(s.push(E),g!==64){const x=d<<4&240|g>>2;if(s.push(x),_!==64){const P=g<<6&192|_;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class n3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i3=function(n){const t=mC(n);return gC.encodeByteArray(t,!0)},qh=function(n){return i3(n).replace(/\./g,"")},s3=function(n){try{return gC.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function r3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const a3=()=>r3().__FIREBASE_DEFAULTS__,o3=()=>{if(typeof process>"u"||typeof D1>"u")return;const n=D1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&s3(n[1]);return t&&JSON.parse(t)},Fg=()=>{try{return t3()||a3()||o3()||l3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},c3=n=>Fg()?.emulatorHosts?.[n],u3=n=>{const t=c3(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},yC=()=>Fg()?.config;class h3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Hg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f3(n){return(await fetch(n,{credentials:"include"})).ok}function d3(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[qh(JSON.stringify(e)),qh(JSON.stringify(u)),""].join(".")}const Zl={};function p3(){const n={prod:[],emulator:[]};for(const t of Object.keys(Zl))Zl[t]?n.emulator.push(t):n.prod.push(t);return n}function m3(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let w1=!1;function g3(n,t){if(typeof window>"u"||typeof document>"u"||!Hg(window.location.host)||Zl[n]===t||Zl[n]||w1)return;Zl[n]=t;function e(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=p3().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{w1=!0,u()},E}function y(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=m3(s),x=e("text"),P=document.getElementById(x)||document.createElement("span"),z=e("learnmore"),H=document.getElementById(z)||document.createElement("a"),$=e("preprendIcon"),tt=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Z=E.element;d(Z),y(H,z);const at=g();m(tt,$),Z.append(tt,P,H,at),document.body.appendChild(Z)}c?(P.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function y3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v3(){const n=Fg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _3(){return!v3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T3(){try{return typeof indexedDB=="object"}catch{return!1}}function b3(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const E3="FirebaseError";class Ro extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=E3,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vC.prototype.create)}}class vC{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,c=this.errors[t],u=c?S3(c,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Ro(a,d,s)}}function S3(n,t){return n.replace(C3,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const C3=/\{\$([^}]+)}/g;function Gh(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const c=n[a],u=t[a];if(M1(c)&&M1(u)){if(!Gh(c,u))return!1}else if(c!==u)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function M1(n){return n!==null&&typeof n=="object"}function vo(n){return n&&n._delegate?n._delegate:n}class cc{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gr="[DEFAULT]";class A3{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new h3;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(R3(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[c,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);s===d&&u.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&t(c,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x3(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x3(n){return n===Gr?void 0:n}function R3(n){return n.instantiationMode==="EAGER"}class D3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new A3(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const w3={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},M3=Bt.INFO,V3={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},I3=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=V3[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _C{constructor(t){this.name=t,this._logLevel=M3,this._logHandler=I3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w3[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const N3=(n,t)=>t.some(e=>n instanceof e);let V1,I1;function O3(){return V1||(V1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P3(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TC=new WeakMap,Lm=new WeakMap,bC=new WeakMap,Zp=new WeakMap,qg=new WeakMap;function k3(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",c),n.removeEventListener("error",u)},c=()=>{e(Ws(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",c),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&TC.set(e,n)}).catch(()=>{}),qg.set(t,n),t}function L3(n){if(Lm.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",u),n.removeEventListener("abort",u)},c=()=>{e(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",c),n.addEventListener("error",u),n.addEventListener("abort",u)});Lm.set(n,t)}let jm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Lm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||bC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ws(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function j3(n){jm=n(jm)}function z3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Jp(this),t,...e);return bC.set(s,t.sort?t.sort():[t]),Ws(s)}:P3().includes(n)?function(...t){return n.apply(Jp(this),t),Ws(TC.get(this))}:function(...t){return Ws(n.apply(Jp(this),t))}}function U3(n){return typeof n=="function"?z3(n):(n instanceof IDBTransaction&&L3(n),N3(n,O3())?new Proxy(n,jm):n)}function Ws(n){if(n instanceof IDBRequest)return k3(n);if(Zp.has(n))return Zp.get(n);const t=U3(n);return t!==n&&(Zp.set(n,t),qg.set(t,n)),t}const Jp=n=>qg.get(n);function B3(n,t,{blocked:e,upgrade:s,blocking:a,terminated:c}={}){const u=indexedDB.open(n,t),d=Ws(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ws(u.result),m.oldVersion,m.newVersion,Ws(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const F3=["get","getKey","getAll","getAllKeys","count"],H3=["put","add","delete","clear"],Wp=new Map;function N1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Wp.get(t))return Wp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=H3.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||F3.includes(e)))return;const c=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&m.done]))[0]};return Wp.set(t,c),c}j3(n=>({...n,get:(t,e,s)=>N1(t,e)||n.get(t,e,s),has:(t,e)=>!!N1(t,e)||n.has(t,e)}));class q3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(G3(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function G3(n){return n.getComponent()?.type==="VERSION"}const zm="@firebase/app",O1="0.14.8";const fs=new _C("@firebase/app"),$3="@firebase/app-compat",K3="@firebase/analytics-compat",Y3="@firebase/analytics",Q3="@firebase/app-check-compat",X3="@firebase/app-check",Z3="@firebase/auth",J3="@firebase/auth-compat",W3="@firebase/database",t6="@firebase/data-connect",e6="@firebase/database-compat",n6="@firebase/functions",i6="@firebase/functions-compat",s6="@firebase/installations",r6="@firebase/installations-compat",a6="@firebase/messaging",o6="@firebase/messaging-compat",l6="@firebase/performance",c6="@firebase/performance-compat",u6="@firebase/remote-config",h6="@firebase/remote-config-compat",f6="@firebase/storage",d6="@firebase/storage-compat",p6="@firebase/firestore",m6="@firebase/ai",g6="@firebase/firestore-compat",y6="firebase",v6="12.9.0";const Um="[DEFAULT]",_6={[zm]:"fire-core",[$3]:"fire-core-compat",[Y3]:"fire-analytics",[K3]:"fire-analytics-compat",[X3]:"fire-app-check",[Q3]:"fire-app-check-compat",[Z3]:"fire-auth",[J3]:"fire-auth-compat",[W3]:"fire-rtdb",[t6]:"fire-data-connect",[e6]:"fire-rtdb-compat",[n6]:"fire-fn",[i6]:"fire-fn-compat",[s6]:"fire-iid",[r6]:"fire-iid-compat",[a6]:"fire-fcm",[o6]:"fire-fcm-compat",[l6]:"fire-perf",[c6]:"fire-perf-compat",[u6]:"fire-rc",[h6]:"fire-rc-compat",[f6]:"fire-gcs",[d6]:"fire-gcs-compat",[p6]:"fire-fst",[g6]:"fire-fst-compat",[m6]:"fire-vertex","fire-js":"fire-js",[y6]:"fire-js-all"};const $h=new Map,T6=new Map,Bm=new Map;function P1(n,t){try{n.container.addComponent(t)}catch(e){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Kh(n){const t=n.name;if(Bm.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;Bm.set(t,n);for(const e of $h.values())P1(e,n);for(const e of T6.values())P1(e,n);return!0}function b6(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function E6(n){return n==null?!1:n.settings!==void 0}const S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new vC("app","Firebase",S6);class C6{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const A6=v6;function EC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Um,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw tr.create("bad-app-name",{appName:String(a)});if(e||(e=yC()),!e)throw tr.create("no-options");const c=$h.get(a);if(c){if(Gh(e,c.options)&&Gh(s,c.config))return c;throw tr.create("duplicate-app",{appName:a})}const u=new D3(a);for(const m of Bm.values())u.addComponent(m);const d=new C6(e,s,u);return $h.set(a,d),d}function x6(n=Um){const t=$h.get(n);if(!t&&n===Um&&yC())return EC();if(!t)throw tr.create("no-app",{appName:n});return t}function uo(n,t,e){let s=_6[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),c=t.match(/\s|\//);if(a||c){const u=[`Unable to register library "${s}" with version "${t}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(u.join(" "));return}Kh(new cc(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const R6="firebase-heartbeat-database",D6=1,uc="firebase-heartbeat-store";let tm=null;function SC(){return tm||(tm=B3(R6,D6,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw tr.create("idb-open",{originalErrorMessage:n.message})})),tm}async function w6(n){try{const e=(await SC()).transaction(uc),s=await e.objectStore(uc).get(CC(n));return await e.done,s}catch(t){if(t instanceof Ro)fs.warn(t.message);else{const e=tr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(e.message)}}}async function k1(n,t){try{const s=(await SC()).transaction(uc,"readwrite");await s.objectStore(uc).put(t,CC(n)),await s.done}catch(e){if(e instanceof Ro)fs.warn(e.message);else{const s=tr.create("idb-set",{originalErrorMessage:e?.message});fs.warn(s.message)}}}function CC(n){return`${n.name}!${n.options.appId}`}const M6=1024,V6=30;class I6{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new O6(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>V6){const a=P6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L1(),{heartbeatsToSend:e,unsentEntries:s}=N6(this._heartbeatsCache.heartbeats),a=qh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fs.warn(t),""}}}function L1(){return new Date().toISOString().substring(0,10)}function N6(n,t=M6){const e=[];let s=n.slice();for(const a of n){const c=e.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),j1(e)>t){c.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),j1(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class O6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T3()?b3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await w6(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return k1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return k1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function j1(n){return qh(JSON.stringify({version:2,heartbeats:n})).length}function P6(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function k6(n){Kh(new cc("platform-logger",t=>new q3(t),"PRIVATE")),Kh(new cc("heartbeat",t=>new I6(t),"PRIVATE")),uo(zm,O1,n),uo(zm,O1,"esm2020"),uo("fire-js","")}k6("");var L6="firebase",j6="12.9.0";uo(L6,j6,"app");var z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,AC;(function(){var n;function t(w,A){function R(){}R.prototype=A.prototype,w.F=A.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(O,N,L){for(var M=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)M[Kt-2]=arguments[Kt];return A.prototype[N].apply(O,M)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(w,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)O[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)O[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=w.g[0],R=w.g[1],N=w.g[2];let L=w.g[3],M;M=A+(L^R&(N^L))+O[0]+3614090360&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(N^A&(R^N))+O[1]+3905402710&4294967295,L=A+(M<<12&4294967295|M>>>20),M=N+(R^L&(A^R))+O[2]+606105819&4294967295,N=L+(M<<17&4294967295|M>>>15),M=R+(A^N&(L^A))+O[3]+3250441966&4294967295,R=N+(M<<22&4294967295|M>>>10),M=A+(L^R&(N^L))+O[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(N^A&(R^N))+O[5]+1200080426&4294967295,L=A+(M<<12&4294967295|M>>>20),M=N+(R^L&(A^R))+O[6]+2821735955&4294967295,N=L+(M<<17&4294967295|M>>>15),M=R+(A^N&(L^A))+O[7]+4249261313&4294967295,R=N+(M<<22&4294967295|M>>>10),M=A+(L^R&(N^L))+O[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(N^A&(R^N))+O[9]+2336552879&4294967295,L=A+(M<<12&4294967295|M>>>20),M=N+(R^L&(A^R))+O[10]+4294925233&4294967295,N=L+(M<<17&4294967295|M>>>15),M=R+(A^N&(L^A))+O[11]+2304563134&4294967295,R=N+(M<<22&4294967295|M>>>10),M=A+(L^R&(N^L))+O[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(N^A&(R^N))+O[13]+4254626195&4294967295,L=A+(M<<12&4294967295|M>>>20),M=N+(R^L&(A^R))+O[14]+2792965006&4294967295,N=L+(M<<17&4294967295|M>>>15),M=R+(A^N&(L^A))+O[15]+1236535329&4294967295,R=N+(M<<22&4294967295|M>>>10),M=A+(N^L&(R^N))+O[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^N&(A^R))+O[6]+3225465664&4294967295,L=A+(M<<9&4294967295|M>>>23),M=N+(A^R&(L^A))+O[11]+643717713&4294967295,N=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(N^L))+O[0]+3921069994&4294967295,R=N+(M<<20&4294967295|M>>>12),M=A+(N^L&(R^N))+O[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^N&(A^R))+O[10]+38016083&4294967295,L=A+(M<<9&4294967295|M>>>23),M=N+(A^R&(L^A))+O[15]+3634488961&4294967295,N=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(N^L))+O[4]+3889429448&4294967295,R=N+(M<<20&4294967295|M>>>12),M=A+(N^L&(R^N))+O[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^N&(A^R))+O[14]+3275163606&4294967295,L=A+(M<<9&4294967295|M>>>23),M=N+(A^R&(L^A))+O[3]+4107603335&4294967295,N=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(N^L))+O[8]+1163531501&4294967295,R=N+(M<<20&4294967295|M>>>12),M=A+(N^L&(R^N))+O[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^N&(A^R))+O[2]+4243563512&4294967295,L=A+(M<<9&4294967295|M>>>23),M=N+(A^R&(L^A))+O[7]+1735328473&4294967295,N=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(N^L))+O[12]+2368359562&4294967295,R=N+(M<<20&4294967295|M>>>12),M=A+(R^N^L)+O[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^N)+O[8]+2272392833&4294967295,L=A+(M<<11&4294967295|M>>>21),M=N+(L^A^R)+O[11]+1839030562&4294967295,N=L+(M<<16&4294967295|M>>>16),M=R+(N^L^A)+O[14]+4259657740&4294967295,R=N+(M<<23&4294967295|M>>>9),M=A+(R^N^L)+O[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^N)+O[4]+1272893353&4294967295,L=A+(M<<11&4294967295|M>>>21),M=N+(L^A^R)+O[7]+4139469664&4294967295,N=L+(M<<16&4294967295|M>>>16),M=R+(N^L^A)+O[10]+3200236656&4294967295,R=N+(M<<23&4294967295|M>>>9),M=A+(R^N^L)+O[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^N)+O[0]+3936430074&4294967295,L=A+(M<<11&4294967295|M>>>21),M=N+(L^A^R)+O[3]+3572445317&4294967295,N=L+(M<<16&4294967295|M>>>16),M=R+(N^L^A)+O[6]+76029189&4294967295,R=N+(M<<23&4294967295|M>>>9),M=A+(R^N^L)+O[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^N)+O[12]+3873151461&4294967295,L=A+(M<<11&4294967295|M>>>21),M=N+(L^A^R)+O[15]+530742520&4294967295,N=L+(M<<16&4294967295|M>>>16),M=R+(N^L^A)+O[2]+3299628645&4294967295,R=N+(M<<23&4294967295|M>>>9),M=A+(N^(R|~L))+O[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~N))+O[7]+1126891415&4294967295,L=A+(M<<10&4294967295|M>>>22),M=N+(A^(L|~R))+O[14]+2878612391&4294967295,N=L+(M<<15&4294967295|M>>>17),M=R+(L^(N|~A))+O[5]+4237533241&4294967295,R=N+(M<<21&4294967295|M>>>11),M=A+(N^(R|~L))+O[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~N))+O[3]+2399980690&4294967295,L=A+(M<<10&4294967295|M>>>22),M=N+(A^(L|~R))+O[10]+4293915773&4294967295,N=L+(M<<15&4294967295|M>>>17),M=R+(L^(N|~A))+O[1]+2240044497&4294967295,R=N+(M<<21&4294967295|M>>>11),M=A+(N^(R|~L))+O[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~N))+O[15]+4264355552&4294967295,L=A+(M<<10&4294967295|M>>>22),M=N+(A^(L|~R))+O[6]+2734768916&4294967295,N=L+(M<<15&4294967295|M>>>17),M=R+(L^(N|~A))+O[13]+1309151649&4294967295,R=N+(M<<21&4294967295|M>>>11),M=A+(N^(R|~L))+O[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~N))+O[11]+3174756917&4294967295,L=A+(M<<10&4294967295|M>>>22),M=N+(A^(L|~R))+O[2]+718787259&4294967295,N=L+(M<<15&4294967295|M>>>17),M=R+(L^(N|~A))+O[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+L&4294967295}s.prototype.v=function(w,A){A===void 0&&(A=w.length);const R=A-this.blockSize,O=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=R;)a(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<A;)if(O[N++]=w.charCodeAt(L++),N==this.blockSize){a(this,O),N=0;break}}else for(;L<A;)if(O[N++]=w[L++],N==this.blockSize){a(this,O),N=0;break}}this.h=N,this.o+=A},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)w[A++]=this.g[R]>>>O&255;return w};function c(w,A){var R=d;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=A(w)}function u(w,A){this.h=A;const R=[];let O=!0;for(let N=w.length-1;N>=0;N--){const L=w[N]|0;O&&L==A||(R[N]=L,O=!1)}this.g=R}var d={};function m(w){return-128<=w&&w<128?c(w,function(A){return new u([A|0],A<0?-1:0)}):new u([w|0],w<0?-1:0)}function g(w){if(isNaN(w)||!isFinite(w))return _;if(w<0)return H(g(-w));const A=[];let R=1;for(let O=0;w>=R;O++)A[O]=w/R|0,R*=4294967296;return new u(A,0)}function y(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return H(y(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let O=_;for(let L=0;L<w.length;L+=8){var N=Math.min(8,w.length-L);const M=parseInt(w.substring(L,L+N),A);N<8?(N=g(Math.pow(A,N)),O=O.j(N).add(g(M))):(O=O.j(R),O=O.add(g(M)))}return O}var _=m(0),E=m(1),x=m(16777216);n=u.prototype,n.m=function(){if(z(this))return-H(this).m();let w=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);w+=(O>=0?O:4294967296+O)*A,A*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(P(this))return"0";if(z(this))return"-"+H(this).toString(w);const A=g(Math.pow(w,6));var R=this;let O="";for(;;){const N=at(R,A).g;R=$(R,N.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=N,P(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function P(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function z(w){return w.h==-1}n.l=function(w){return w=$(this,w),z(w)?-1:P(w)?0:1};function H(w){const A=w.g.length,R=[];for(let O=0;O<A;O++)R[O]=~w.g[O];return new u(R,~w.h).add(E)}n.abs=function(){return z(this)?H(this):this},n.add=function(w){const A=Math.max(this.g.length,w.g.length),R=[];let O=0;for(let N=0;N<=A;N++){let L=O+(this.i(N)&65535)+(w.i(N)&65535),M=(L>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);O=M>>>16,L&=65535,M&=65535,R[N]=M<<16|L}return new u(R,R[R.length-1]&-2147483648?-1:0)};function $(w,A){return w.add(H(A))}n.j=function(w){if(P(this)||P(w))return _;if(z(this))return z(w)?H(this).j(H(w)):H(H(this).j(w));if(z(w))return H(this.j(H(w)));if(this.l(x)<0&&w.l(x)<0)return g(this.m()*w.m());const A=this.g.length+w.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<w.g.length;N++){const L=this.i(O)>>>16,M=this.i(O)&65535,Kt=w.i(N)>>>16,ce=w.i(N)&65535;R[2*O+2*N]+=M*ce,tt(R,2*O+2*N),R[2*O+2*N+1]+=L*ce,tt(R,2*O+2*N+1),R[2*O+2*N+1]+=M*Kt,tt(R,2*O+2*N+1),R[2*O+2*N+2]+=L*Kt,tt(R,2*O+2*N+2)}for(w=0;w<A;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=A;w<2*A;w++)R[w]=0;return new u(R,0)};function tt(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function Z(w,A){this.g=w,this.h=A}function at(w,A){if(P(A))throw Error("division by zero");if(P(w))return new Z(_,_);if(z(w))return A=at(H(w),A),new Z(H(A.g),H(A.h));if(z(A))return A=at(w,H(A)),new Z(H(A.g),A.h);if(w.g.length>30){if(z(w)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=A;O.l(w)<=0;)R=ot(R),O=ot(O);var N=ht(R,1),L=ht(O,1);for(O=ht(O,2),R=ht(R,2);!P(O);){var M=L.add(O);M.l(w)<=0&&(N=N.add(R),L=M),O=ht(O,1),R=ht(R,1)}return A=$(w,N.j(A)),new Z(N,A)}for(N=_;w.l(A)>=0;){for(R=Math.max(1,Math.floor(w.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(R),M=L.j(A);z(M)||M.l(w)>0;)R-=O,L=g(R),M=L.j(A);P(L)&&(L=E),N=N.add(L),w=$(w,M)}return new Z(N,w)}n.B=function(w){return at(this,w).h},n.and=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&w.i(O);return new u(R,this.h&w.h)},n.or=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|w.i(O);return new u(R,this.h|w.h)},n.xor=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^w.i(O);return new u(R,this.h^w.h)};function ot(w){const A=w.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=w.i(O)<<1|w.i(O-1)>>>31;return new u(R,w.h)}function ht(w,A){const R=A>>5;A%=32;const O=w.g.length-R,N=[];for(let L=0;L<O;L++)N[L]=A>0?w.i(L+R)>>>A|w.i(L+R+1)<<32-A:w.i(L+R);return new u(N,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,AC=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,er=u}).apply(typeof z1<"u"?z1:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xC,Hl,RC,Rh,Fm,DC,wC,MC;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=e(this);function a(h,v){if(v)t:{var b=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var U=h[C];if(!(U in b))break t;b=b[U]}h=h[h.length-1],C=b[h],v=v(C),v!=C&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&b.push([C,v[C]]);return b}});var c=c||{},u=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,b){return h.call.apply(h.bind,arguments)}function g(h,v,b){return g=m,g.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function _(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(C,U,K){for(var ct=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)ct[wt-2]=arguments[wt];return v.prototype[U].apply(C,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const v=h.length;if(v>0){const b=Array(v);for(let C=0;C<v;C++)b[C]=h[C];return b}return[]}function P(h,v){for(let C=1;C<arguments.length;C++){const U=arguments[C];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=h.length||0;const K=U.length||0;h.length=b+K;for(let ct=0;ct<K;ct++)h[b+ct]=U[ct]}else h.push(U)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(h){u.setTimeout(()=>{throw h},0)}function $(){var h=w;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class tt{constructor(){this.h=this.g=null}add(v,b){const C=Z.get();C.set(v,b),this.h?this.h.next=C:this.g=C,this.h=C}}var Z=new z(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ht=!1,w=new tt,A=()=>{const h=Promise.resolve(void 0);ot=()=>{h.then(R)}};function R(){for(var h;h=$();){try{h.h.call(h.g)}catch(b){H(b)}var v=Z;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ht=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,v),u.removeEventListener("test",b,v)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Kt(h,v){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Kt,N),Kt.prototype.init=function(h,v){const b=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(h,v,b,C,U){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!C,this.ha=U,this.key=++Q,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ut(h,v,b){for(const C in h)v.call(b,h[C],C,h)}function dt(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function V(h){const v={};for(const b in h)v[b]=h[b];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(h,v){let b,C;for(let U=1;U<arguments.length;U++){C=arguments[U];for(b in C)h[b]=C[b];for(let K=0;K<G.length;K++)b=G[K],Object.prototype.hasOwnProperty.call(C,b)&&(h[b]=C[b])}}function lt(h){this.src=h,this.g={},this.h=0}lt.prototype.add=function(h,v,b,C,U){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ct=Ct(h,v,C,U);return ct>-1?(v=h[ct],b||(v.fa=!1)):(v=new rt(v,this.src,K,!!C,U),v.fa=b,h.push(v)),v};function bt(h,v){const b=v.type;if(b in h.g){var C=h.g[b],U=Array.prototype.indexOf.call(C,v,void 0),K;(K=U>=0)&&Array.prototype.splice.call(C,U,1),K&&(ft(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ct(h,v,b,C){for(let U=0;U<h.length;++U){const K=h[U];if(!K.da&&K.listener==v&&K.capture==!!b&&K.ha==C)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),fe={};function ne(h,v,b,C,U){if(Array.isArray(v)){for(let K=0;K<v.length;K++)ne(h,v[K],b,C,U);return null}return b=Oo(b),h&&h[ce]?h.J(v,b,d(C)?!!C.capture:!1,U):fr(h,v,b,!1,C,U)}function fr(h,v,b,C,U,K){if(!v)throw Error("Invalid event type");const ct=d(U)?!!U.capture:!!U;let wt=dr(h);if(wt||(h[Vt]=wt=new lt(h)),b=wt.add(v,b,C,ct,K),b.proxy)return b;if(C=la(),b.proxy=C,C.src=h,C.listener=b,h.addEventListener)L||(U=ct),U===void 0&&(U=!1),h.addEventListener(v.toString(),C,U);else if(h.attachEvent)h.attachEvent(pi(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function la(){function h(b){return v.call(h.src,h.listener,b)}const v=Io;return h}function ca(h,v,b,C,U){if(Array.isArray(v))for(var K=0;K<v.length;K++)ca(h,v[K],b,C,U);else C=d(C)?!!C.capture:!!C,b=Oo(b),h&&h[ce]?(h=h.i,K=String(v).toString(),K in h.g&&(v=h.g[K],b=Ct(v,b,C,U),b>-1&&(ft(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[K],h.h--)))):h&&(h=dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ct(v,b,C,U)),(b=h>-1?v[h]:null)&&ua(b))}function ua(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ce])bt(v.i,h);else{var b=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(b,C,h.capture):v.detachEvent?v.detachEvent(pi(b),C):v.addListener&&v.removeListener&&v.removeListener(C),(b=dr(v))?(bt(b,h),b.h==0&&(b.src=null,v[Vt]=null)):ft(h)}}}function pi(h){return h in fe?fe[h]:fe[h]="on"+h}function Io(h,v){if(h.da)h=!0;else{v=new Kt(v,this);const b=h.listener,C=h.ha||h.src;h.fa&&ua(h),h=b.call(C,v)}return h}function dr(h){return h=h[Vt],h instanceof lt?h:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(h){return typeof h=="function"?h:(h[No]||(h[No]=function(v){return h.handleEvent(v)}),h[No])}function Se(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}_(Se,O),Se.prototype[ce]=!0,Se.prototype.removeEventListener=function(h,v,b,C){ca(this,h,v,b,C)};function ke(h,v){var b,C=h.G;if(C)for(b=[];C;C=C.G)b.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var U=v;v=new N(C,h),it(v,U)}U=!0;let K,ct;if(b)for(ct=b.length-1;ct>=0;ct--)K=v.g=b[ct],U=ms(K,C,!0,v)&&U;if(K=v.g=h,U=ms(K,C,!0,v)&&U,U=ms(K,C,!1,v)&&U,b)for(ct=0;ct<b.length;ct++)K=v.g=b[ct],U=ms(K,C,!1,v)&&U}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let C=0;C<b.length;C++)ft(b[C]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,b,C){return this.i.add(String(h),v,!1,b,C)},Se.prototype.K=function(h,v,b,C){return this.i.add(String(h),v,!0,b,C)};function ms(h,v,b,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let K=0;K<v.length;++K){const ct=v[K];if(ct&&!ct.da&&ct.capture==b){const wt=ct.listener,_e=ct.ha||ct.src;ct.fa&&bt(h.i,ct),U=wt.call(_e,C)!==!1&&U}}return U&&!C.defaultPrevented}function Rf(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Rc(h){h.g=Rf(()=>{h.g=null,h.i&&(h.i=!1,Rc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class un extends O{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(h){O.call(this),this.h=h,this.g={}}_(pr,O);var Po=[];function ko(h){ut(h.g,function(v,b){this.g.hasOwnProperty(b)&&ua(v)},h),h.g={}}pr.prototype.N=function(){pr.Z.N.call(this),ko(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=u.JSON.stringify,Df=u.JSON.parse,Dc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function wc(){}function Mc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){N.call(this,"d")}_($e,N);function On(){N.call(this,"c")}_(On,N);var ve={},Vc=null;function ha(){return Vc=Vc||new Se}ve.Ia="serverreachability";function Ic(h){N.call(this,ve.Ia,h)}_(Ic,N);function mi(h){const v=ha();ke(v,new Ic(v))}ve.STAT_EVENT="statevent";function mr(h,v){N.call(this,ve.STAT_EVENT,h),this.stat=v}_(mr,N);function Ce(h){const v=ha();ke(v,new mr(v,h))}ve.Ja="timingevent";function gi(h,v){N.call(this,ve.Ja,h),this.size=v}_(gi,N);function yi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function wf(h,v,b,C,U,K){h.info(function(){if(h.g)if(K){var ct="",wt=K.split("&");for(let qt=0;qt<wt.length;qt++){var _e=wt[qt].split("=");if(_e.length>1){const ue=_e[0];_e=_e[1];const jn=ue.split("_");ct=jn.length>=2&&jn[1]=="type"?ct+(ue+"="+_e+"&"):ct+(ue+"=redacted&")}}}else ct=null;else ct=K;return"XMLHTTP REQ ("+C+") [attempt "+U+"]: "+v+`
`+b+`
`+ct})}function Nc(h,v,b,C,U,K,ct){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+U+"]: "+v+`
`+b+`
`+K+" "+ct})}function vi(h,v,b,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Mf(h,b)+(C?" "+C:"")})}function gr(h,v){h.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function Mf(h,v){if(!h.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var b=K[h];if(!(b.length<2)){var C=b[1];if(Array.isArray(C)&&!(C.length<1)){var U=C[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ct=1;ct<C.length;ct++)C[ct]=""}}}}return gs(K)}catch{return v}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function vr(){}_(vr,wc),vr.prototype.g=function(){return new XMLHttpRequest},jo=new vr;function Gi(h){return encodeURIComponent(String(h))}function Oc(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function Wn(h,v,b,C){this.j=h,this.i=v,this.l=b,this.S=C||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Ae={},Fe={};function _i(h,v,b){h.M=1,h.A=_r(Re(v)),h.u=b,h.R=!0,fa(h,null)}function fa(h,v){h.F=Date.now(),Ti(h),h.B=Re(h.A);var b=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),ga(b.i,"t",C),h.C=0,b=h.j.L,h.h=new ti,h.g=Qc(h.j,b?v:null,!h.u),h.P>0&&(h.O=new un(g(h.Y,h,h.g),h.P)),v=h.V,b=h.g,C=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(Po[0]=U.toString()),U=Po);for(let K=0;K<U.length;K++){const ct=ne(b,U[K],C||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),mi(),wf(h.i,h.v,h.B,h.l,h.S,h.u)}Wn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ii(h)==3?v.j():this.Y(h)},Wn.prototype.Y=function(h){try{if(h==this.g)t:{const wt=ii(this.g),_e=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||_e==7||(_e==8||qt<=0?mi(3):mi(2)),bi(this);var v=this.g.ca();this.X=v;var b=Vf(this);if(this.o=v==200,Nc(this.i,this.v,this.B,this.l,this.S,wt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var C,U=this.g;if((C=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(C)){var K=C;break e}}K=null}if(h=K)vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,Ce(12),An(this),Pn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<b.length;)if(ue=kc(this,b),ue==Fe){wt==4&&(this.m=4,Ce(14),h=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ae){this.m=4,Ce(15),vi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else vi(this.i,this.l,ue,null),Ei(this,ue);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||b.length!=0||this.h.h||(this.m=1,Ce(16),h=!1),this.o=this.o&&h,!h)vi(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),Pn(this);else if(b.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Wo(ct),ct.P=!0,Ce(11))}}else vi(this.i,this.l,b,null),Ei(this,b);wt==4&&An(this),this.o&&!this.K&&(wt==4?Gc(this.j,this):(this.o=!1,Ti(this)))}else Ki(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),An(this),Pn(this)}}}catch{}};function Vf(h){if(!Pc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let b="";const C=v.length,U=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),Pn(h),"";h.h.i=new u.TextDecoder}for(let K=0;K<C;K++)h.h.h=!0,b+=h.h.i.decode(v[K],{stream:!(U&&K==C-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Pc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function kc(h,v){var b=h.C,C=v.indexOf(`
`,b);return C==-1?Fe:(b=Number(v.substring(b,C)),isNaN(b)?Ae:(C+=1,C+b>v.length?Fe:(v=v.slice(C,C+b),h.C=C+b,v)))}Wn.prototype.cancel=function(){this.K=!0,An(this)};function Ti(h){h.T=Date.now()+h.H,da(h,h.H)}function da(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=yi(g(h.aa,h),v)}function bi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(gr(this.i,this.B),this.M!=2&&(mi(),Ce(17)),An(this),this.m=2,Pn(this)):da(this,this.T-h)};function Pn(h){h.j.I==0||h.K||Gc(h.j,h)}function An(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,ko(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ei(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Ci(b.h,h))){if(!h.L&&Ci(b.h,h)&&b.I==3){try{var C=b.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var U=C;if(U[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)ba(b),Cs(b);else break t;xr(b),Ce(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=yi(g(b.Va,b),6e3));Si(b.h)<=1&&b.ta&&(b.ta=void 0)}else Mi(b,11)}else if((h.L||b.g==h)&&ba(b),!M(v))for(U=b.Ba.g.parse(v),v=0;v<U.length;v++){let qt=U[v];const ue=qt[0];if(!(ue<=b.K))if(b.K=ue,qt=qt[1],b.I==2)if(qt[0]=="c"){b.M=qt[1],b.ba=qt[2];const jn=qt[3];jn!=null&&(b.ka=jn,b.j.info("VER="+b.ka));const Vi=qt[4];Vi!=null&&(b.za=Vi,b.j.info("SVER="+b.za));const si=qt[5];si!=null&&typeof si=="number"&&si>0&&(C=1.5*si,b.O=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const ri=h.g;if(ri){const Rr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var K=C.h;K.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Bo(K,K.h),K.h=null))}if(C.G){const Ea=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(C.wa=Ea,Yt(C.J,C.G,Ea))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),C=b;var ct=h;if(C.na=Yc(C,C.L?C.ba:null,C.W),ct.L){Fo(C.h,ct);var wt=ct,_e=C.O;_e&&(wt.H=_e),wt.D&&(bi(wt),Ti(wt)),C.g=ct}else Hc(C);b.i.length>0&&wi(b)}else qt[0]!="stop"&&qt[0]!="close"||Mi(b,7);else b.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Mi(b,7):Zo(b):qt[0]!="noop"&&b.l&&b.l.qa(qt),b.A=0)}}mi(4)}catch{}}var xe=class{constructor(h,v){this.g=h,this.map=v}};function zo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Si(h){return h.h?1:h.g?h.g.size:0}function Ci(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Bo(h,v){h.g?h.g.add(v):h.h=v}function Fo(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}zo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ho(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return x(h.i)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const C=h[b].indexOf("=");let U,K=null;C>=0?(U=h[b].substring(0,C),K=h[b].substring(C+1)):U=h[b],v(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function xn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof xn?(this.l=h.l,He(this,h.j),this.o=h.o,this.g=h.g,ys(this,h.u),this.h=h.h,qo(this,Bc(h.i)),this.m=h.m):h&&(v=String(h).match(Lc))?(this.l=!1,He(this,v[1]||"",!0),this.o=Ai(v[2]||""),this.g=Ai(v[3]||"",!0),ys(this,v[4]),this.h=Ai(v[5]||"",!0),qo(this,v[6]||"",!0),this.m=Ai(v[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}xn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Tr(v,ma,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Tr(v,ma,!0),"@"),h.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Tr(b,b.charAt(0)=="/"?Go:jc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Tr(b,zc)),h.join("")},xn.prototype.resolve=function(h){const v=Re(this);let b=!!h.j;b?He(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var C=h.h;if(b)ys(v,h.u);else if(b=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var U=v.h.lastIndexOf("/");U!=-1&&(C=v.h.slice(0,U+1)+C)}if(U=C,U==".."||U==".")C="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){C=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let ct=0;ct<U.length;){const wt=U[ct++];wt=="."?C&&ct==U.length&&K.push(""):wt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&ct==U.length&&K.push("")):(K.push(wt),C=!0)}C=K.join("/")}else C=U}return b?v.h=C:b=h.i.toString()!=="",b?qo(v,Bc(h.i)):b=!!h.m,b&&(v.m=h.m),v};function Re(h){return new xn(h)}function He(h,v,b){h.j=b?Ai(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ys(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function qo(h,v,b){v instanceof _s?(h.i=v,ya(h.i,h.l)):(b||(v=Tr(v,vs)),h.i=new _s(v,h.l))}function Yt(h,v,b){h.i.set(v,b)}function _r(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ai(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Tr(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ma=/[#\/\?@]/g,jc=/[#\?:]/g,Go=/[#\?]/g,vs=/[#\?@]/g,zc=/#/g;function _s(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&pa(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=_s.prototype,n.add=function(h,v){yn(this),this.i=null,h=Ts(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Uc(h,v){yn(h),v=Ts(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function $o(h,v){return yn(h),v=Ts(h,v),h.g.has(v)}n.forEach=function(h,v){yn(this),this.g.forEach(function(b,C){b.forEach(function(U){h.call(v,U,C,this)},this)},this)};function Ko(h,v){yn(h);let b=[];if(typeof v=="string")$o(h,v)&&(b=b.concat(h.g.get(Ts(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}n.set=function(h,v){return yn(this),this.i=null,h=Ts(this,h),$o(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Ko(this,h),h.length>0?String(h[0]):v):v};function ga(h,v,b){Uc(h,v),b.length>0&&(h.i=null,h.g.set(Ts(h,v),x(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var b=v[C];const U=Gi(b);b=Ko(this,b);for(let K=0;K<b.length;K++){let ct=U;b[K]!==""&&(ct+="="+Gi(b[K])),h.push(ct)}}return this.i=h.join("&")};function Bc(h){const v=new _s;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ts(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ya(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(b,C){const U=C.toLowerCase();C!=U&&(Uc(this,C),ga(this,U,b))},h)),h.j=v}function ei(h,v){const b=new Jn;if(u.Image){const C=new Image;C.onload=y(kn,b,"TestLoadImage: loaded",!0,v,C),C.onerror=y(kn,b,"TestLoadImage: error",!1,v,C),C.onabort=y(kn,b,"TestLoadImage: abort",!1,v,C),C.ontimeout=y(kn,b,"TestLoadImage: timeout",!1,v,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Yo(h,v){const b=new Jn,C=new AbortController,U=setTimeout(()=>{C.abort(),kn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(K=>{clearTimeout(U),K.ok?kn(b,"TestPingServer: ok",!0,v):kn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),kn(b,"TestPingServer: error",!1,v)})}function kn(h,v,b,C,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),C(b)}catch{}}function bs(){this.g=new Dc}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(xi,wc),xi.prototype.g=function(){return new br(this.i,this.h)};function br(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(br,Se),n=br.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Es(this):ni(this),this.readyState==3&&va(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Es(this))},n.Na=function(h){this.g&&(this.response=h,Es(this))},n.ga=function(){this.g&&Es(this)};function Es(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let v="";return ut(h,function(b,C){v+=C,v+=":",v+=b,v+=`\r
`}),v}function Er(h,v,b){t:{for(C in b){var C=!1;break t}C=!0}C||(b=Ln(b),typeof h=="string"?b!=null&&Gi(b):Yt(h,v,b))}function Zt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Zt,Se);var Ri=/^https?$/i,Qo=["POST","PUT"];n=Zt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){Sr(this,K);return}if(h=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var U in C)b.set(U,C[U]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())b.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),U=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Qo,v,void 0)>=0)||C||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ct]of b)this.g.setRequestHeader(K,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Sr(this,K)}};function Sr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Xo(h),$i(h)}function Xo(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Zt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},n.Xa=function(){Cr(this)};function Cr(h){if(h.h&&typeof c<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),ii(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var C;if(C=K===0){let ct=String(h.D).match(Lc)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),C=!Ri.test(ct?ct.toLowerCase():"")}b=C}if(b)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var U=ii(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Xo(h)}}finally{$i(h)}}}}function $i(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||ke(h,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Df(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const v={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(M(h[C]))continue;var b=Oc(h[C]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=v[U]||[];v[U]=K,K.push(b)}dt(v,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Ss(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(h&&h.concurrentRequestLimit),this.Ba=new bs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ss.prototype,n.ka=8,n.I=1,n.connect=function(h,v,b,C){Ce(0),this.W=h,this.H=v||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.J=Yc(this,null,this.W),wi(this)};function Zo(h){if(_a(h),h.I==3){var v=h.V++,b=Re(h.J);if(Yt(b,"SID",h.M),Yt(b,"RID",v),Yt(b,"TYPE","terminate"),Ar(h,b),v=new Wn(h,h.j,v),v.M=2,v.A=_r(Re(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=v.A,b=!0),b||(v.g=Qc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ti(v)}Kc(h)}function Cs(h){h.g&&(Wo(h),h.g.cancel(),h.g=null)}function _a(h){Cs(h),h.v&&(u.clearTimeout(h.v),h.v=null),ba(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function wi(h){if(!Uo(h.h)&&!h.m){h.m=!0;var v=h.Ea;ot||A(),ht||(ot(),ht=!0),w.add(v,h),h.D=0}}function Ta(h,v){return Si(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=yi(g(h.Ea,h,v),$c(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Wn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=V(K),it(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=Fc(this,U,v),b=Re(this.J),Yt(b,"RID",h),Yt(b,"CVER",22),this.G&&Yt(b,"X-HTTP-Session-Id",this.G),Ar(this,b),K&&(this.R?v="headers="+Gi(Ln(K))+"&"+v:this.u&&Er(b,this.u,K)),Bo(this.h,U),this.Ra&&Yt(b,"TYPE","init"),this.S?(Yt(b,"$req",v),Yt(b,"SID","null"),U.U=!0,_i(U,b,null)):_i(U,b,v),this.I=2}}else this.I==3&&(h?Jo(this,h):this.i.length==0||Uo(this.h)||Jo(this))};function Jo(h,v){var b;v?b=v.l:b=h.V++;const C=Re(h.J);Yt(C,"SID",h.M),Yt(C,"RID",b),Yt(C,"AID",h.K),Ar(h,C),h.u&&h.o&&Er(C,h.u,h.o),b=new Wn(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Fc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bo(h.h,b),_i(b,C,v)}function Ar(h,v){h.H&&ut(h.H,function(b,C){Yt(v,C,b)}),h.l&&ut({},function(b,C){Yt(v,C,b)})}function Fc(h,v,b){b=Math.min(h.i.length,b);const C=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let wt=-1;for(;;){const _e=["count="+b];wt==-1?b>0?(wt=U[0].g,_e.push("ofs="+wt)):wt=0:_e.push("ofs="+wt);let qt=!0;for(let ue=0;ue<b;ue++){var K=U[ue].g;const jn=U[ue].map;if(K-=wt,K<0)wt=Math.max(0,U[ue].g-100),qt=!1;else try{K="req"+K+"_"||"";try{var ct=jn instanceof Map?jn:Object.entries(jn);for(const[Vi,si]of ct){let ri=si;d(si)&&(ri=gs(si)),_e.push(K+Vi+"="+encodeURIComponent(ri))}}catch(Vi){throw _e.push(K+"type="+encodeURIComponent("_badmap")),Vi}}catch{C&&C(jn)}}if(qt){ct=_e.join("&");break t}}ct=void 0}return h=h.i.splice(0,b),v.G=h,ct}function Hc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ot||A(),ht||(ot(),ht=!0),w.add(v,h),h.A=0}}function xr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=yi(g(h.Da,h),$c(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=yi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Cs(this),qc(this))};function Wo(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function qc(h){h.g=new Wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Yt(v,"RID","rpc"),Yt(v,"SID",h.M),Yt(v,"AID",h.K),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(v,"TO",h.ia),Yt(v,"TYPE","xmlhttp"),Ar(h,v),h.u&&h.o&&Er(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=_r(Re(v)),b.u=null,b.R=!0,fa(b,h)}n.Va=function(){this.C!=null&&(this.C=null,Cs(this),xr(this),Ce(19))};function ba(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Gc(h,v){var b=null;if(h.g==v){ba(h),Wo(h),h.g=null;var C=2}else if(Ci(h.h,v))b=v.G,Fo(h.h,v),C=1;else return;if(h.I!=0){if(v.o)if(C==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var U=h.D;C=ha(),ke(C,new gi(C,b)),wi(h)}else Hc(h);else if(U=v.m,U==3||U==0&&v.X>0||!(C==1&&Ta(h,v)||C==2&&xr(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),U){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function $c(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function Mi(h,v){if(h.j.info("Error code "+v),v==2){var b=g(h.bb,h),C=h.Ua;const U=!C;C=new xn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||He(C,"https"),_r(C),U?ei(C.toString(),b):Yo(C.toString(),b)}else Ce(2);h.I=0,h.l&&h.l.pa(v),Kc(h),_a(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Kc(h){if(h.I=0,h.ja=[],h.l){const v=Ho(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ja,v),P(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function Yc(h,v,b){var C=b instanceof xn?Re(b):new xn(b);if(C.g!="")v&&(C.g=v+"."+C.g),ys(C,C.u);else{var U=u.location;C=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const K=new xn(null);C&&He(K,C),v&&(K.g=v),U&&ys(K,U),b&&(K.h=b),C=K}return b=h.G,v=h.wa,b&&v&&Yt(C,b,v),Yt(C,"VER",h.ka),Ar(h,C),C}function Qc(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Zt(new xi({ab:b})):new Zt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function As(){}As.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){Se.call(this),this.g=new Ss(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!M(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Yi(this)}_(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Zo(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=gs(h),h=b);v.i.push(new xe(v.Ya++,h)),v.I==3&&wi(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,hn.Z.N.call(this)};function Zc(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Zc,$e);function Jc(){On.call(this),this.status=1}_(Jc,On);function Yi(h){this.g=h}_(Yi,Xc),Yi.prototype.ra=function(){ke(this.g,"a")},Yi.prototype.qa=function(h){ke(this.g,new Zc(h))},Yi.prototype.pa=function(h){ke(this.g,new Jc)},Yi.prototype.oa=function(){ke(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,MC=function(){return new As},wC=function(){return ha()},DC=ve,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Rh=yr,Lo.COMPLETE="complete",RC=Lo,Mc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Hl=Mc,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,xC=Zt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Do="12.9.0";function z6(n){Do=n}const Jr=new _C("@firebase/firestore");function Wa(){return Jr.logLevel}function pt(n,...t){if(Jr.logLevel<=Bt.DEBUG){const e=t.map(Gg);Jr.debug(`Firestore (${Do}): ${n}`,...e)}}function ds(n,...t){if(Jr.logLevel<=Bt.ERROR){const e=t.map(Gg);Jr.error(`Firestore (${Do}): ${n}`,...e)}}function Wr(n,...t){if(Jr.logLevel<=Bt.WARN){const e=t.map(Gg);Jr.warn(`Firestore (${Do}): ${n}`,...e)}}function Gg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function At(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,VC(n,s,e)}function VC(n,t,e){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ds(s),new Error(s)}function $t(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||VC(t,a,s)}function Dt(n,t){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ro{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class IC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class U6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(rn.UNAUTHENTICATED)))}shutdown(){}}class B6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class F6{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=c;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new IC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class H6{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class q6{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new H6(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G6{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,E6(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0,3512);const s=c=>{c.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,pt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const a=c=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?($t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new U1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $6(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class $g{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=$6(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<e&&(s+=t.charAt(a[c]%62))}return s}}function Lt(n,t){return n<t?-1:n>t?1:0}function Hm(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),c=t.charAt(s);if(a!==c)return em(a)===em(c)?Lt(a,c):em(a)?1:-1}return Lt(n.length,t.length)}const K6=55296,Y6=57343;function em(n){const t=n.charCodeAt(0);return t>=K6&&t<=Y6}function _o(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}const B1="__name__";class Li{constructor(t,e,s){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&At(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const c=Li.compareSegments(t.get(a),e.get(a));if(c!==0)return c}return Lt(t.length,e.length)}static compareSegments(t,e){const s=Li.isNumericId(t),a=Li.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Li.extractNumericId(t).compare(Li.extractNumericId(e)):Hm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class oe extends Li{construct(t,e,s){return new oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new oe(e)}static emptyPath(){return new oe([])}}const Q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Li{construct(t,e,s){return new tn(t,e,s)}static isValidIdentifier(t){return Q6.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B1}static keyField(){return new tn([B1])}static fromServerFormat(t){const e=[];let s="",a=0;const c=()=>{if(s.length===0)throw new _t(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new _t(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _t(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(c(),a++)}if(c(),u)throw new _t(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(e)}static emptyPath(){return new tn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(oe.fromString(t))}static fromName(t){return new Et(oe.fromString(t).popFirst(5))}static empty(){return new Et(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new oe(t.slice()))}}function NC(n,t,e){if(!e)throw new _t(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function X6(n,t,e,s){if(t===!0&&s===!0)throw new _t(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function F1(n){if(!Et.isDocumentKey(n))throw new _t(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H1(n){if(Et.isDocumentKey(n))throw new _t(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function ho(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Kg(n);throw new _t(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Pe(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ec(n,t){if(!OC(n))throw new _t(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){e=`Expected '${s}' field to equal '${c.value}'`;break}}if(e)throw new _t(st.INVALID_ARGUMENT,e);return!0}const q1=-62135596800,G1=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*G1);return new le(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<q1)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G1}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ec(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Pe("string",le._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new le(0,0))}static max(){return new xt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hc=-1;function Z6(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(s===1e9?new le(e+1,0):new le(e,s));return new rr(a,Et.empty(),t)}function J6(n){return new rr(n.readTime,n.key,hc)}class rr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new rr(xt.min(),Et.empty(),hc)}static max(){return new rr(xt.max(),Et.empty(),hc)}}function W6(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function wo(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==tI)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(e,c).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.reject(e)}static resolve(t){return new nt(((e,s)=>{e(t)}))}static reject(t){return new nt(((e,s)=>{s(t)}))}static waitFor(t){return new nt(((e,s)=>{let a=0,c=0,u=!1;t.forEach((d=>{++a,d.next((()=>{++c,u&&c===a&&e()}),(m=>s(m)))})),u=!0,c===a&&e()}))}static or(t){let e=nt.resolve(!1);for(const s of t)e=e.next((a=>a?nt.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,c)=>{s.push(e.call(this,a,c))})),this.waitFor(s)}static mapArray(t,e){return new nt(((s,a)=>{const c=t.length,u=new Array(c);let d=0;for(let m=0;m<c;m++){const g=m;e(t[g]).next((y=>{u[g]=y,++d,d===c&&s(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new nt(((s,a)=>{const c=()=>{t()===!0?e().next((()=>{c()}),a):s()};c()}))}}function nI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Mo(n){return n.name==="IndexedDbTransactionError"}class df{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}df.ce=-1;const Yg=-1;function pf(n){return n==null}function Yh(n){return n===0&&1/n==-1/0}function iI(n){return typeof n=="number"&&Number.isInteger(n)&&!Yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const PC="";function sI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=$1(t)),t=rI(n.get(e),t);return $1(t)}function rI(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const c=n.charAt(a);switch(c){case"\0":e+="";break;case PC:e+="";break;default:e+=c}}return e}function $1(n){return n+PC+""}function K1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function kC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class pe{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oh(this.root,t,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oh(this.root,t,this.comparator,!0)}}class oh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?s(t.key,e):1,e&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,s,a,c){this.key=t,this.value=e,this.color=s??We.RED,this.left=a??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,c){return new We(t??this.key,e??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const c=s(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,e,s),null):c===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return We.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,s,a,c){return this}insert(t,e,s){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Y1(this.data.getIterator())}getIteratorFrom(t){return new Y1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Be(this.comparator);return e.data=t,e}}class Y1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new hi([])}unionWith(t){let e=new Be(tn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new hi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class LC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new LC("Invalid base64 string: "+c):c}})(t);return new en(e)}static fromUint8Array(t){const e=(function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c})(t);return new en(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const aI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(n){if($t(!!n,39018),typeof n=="string"){let t=0;const e=aI.exec(n);if($t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function or(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}const jC="server_timestamp",zC="__type__",UC="__previous_value__",BC="__local_write_time__";function Qg(n){return(n?.mapValue?.fields||{})[zC]?.stringValue===jC}function mf(n){const t=n.mapValue.fields[UC];return Qg(t)?mf(t):t}function fc(n){const t=ar(n.mapValue.fields[BC].timestampValue);return new le(t.seconds,t.nanos)}class oI{constructor(t,e,s,a,c,u,d,m,g,y,_){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=_}}const Qh="(default)";class dc{constructor(t,e){this.projectId=t,this.database=e||Qh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(t){return t instanceof dc&&t.projectId===this.projectId&&t.database===this.database}}function lI(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new _t(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(n.options.projectId,t)}const FC="__type__",cI="__max__",lh={mapValue:{}},HC="__vector__",Xh="value";function lr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qg(n)?4:hI(n)?9007199254740991:uI(n)?10:11:At(28295,{value:n})}function Hi(n,t){if(n===t)return!0;const e=lr(n);if(e!==lr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return fc(n).isEqual(fc(t));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=ar(a.timestampValue),d=ar(c.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,c){return or(a.bytesValue).isEqual(or(c.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,c){return Ee(a.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(n,t);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return Ee(a.integerValue)===Ee(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=Ee(a.doubleValue),d=Ee(c.doubleValue);return u===d?Yh(u)===Yh(d):isNaN(u)&&isNaN(d)}return!1})(n,t);case 9:return _o(n.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(a,c){const u=a.mapValue.fields||{},d=c.mapValue.fields||{};if(K1(u)!==K1(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Hi(u[m],d[m])))return!1;return!0})(n,t);default:return At(52216,{left:n})}}function pc(n,t){return(n.values||[]).find((e=>Hi(e,t)))!==void 0}function To(n,t){if(n===t)return 0;const e=lr(n),s=lr(t);if(e!==s)return Lt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return(function(c,u){const d=Ee(c.integerValue||c.doubleValue),m=Ee(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,t);case 3:return Q1(n.timestampValue,t.timestampValue);case 4:return Q1(fc(n),fc(t));case 5:return Hm(n.stringValue,t.stringValue);case 6:return(function(c,u){const d=or(c),m=or(u);return d.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(c,u){const d=c.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Lt(d[g],m[g]);if(y!==0)return y}return Lt(d.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(c,u){const d=Lt(Ee(c.latitude),Ee(u.latitude));return d!==0?d:Lt(Ee(c.longitude),Ee(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return X1(n.arrayValue,t.arrayValue);case 10:return(function(c,u){const d=c.fields||{},m=u.fields||{},g=d[Xh]?.arrayValue,y=m[Xh]?.arrayValue,_=Lt(g?.values?.length||0,y?.values?.length||0);return _!==0?_:X1(g,y)})(n.mapValue,t.mapValue);case 11:return(function(c,u){if(c===lh.mapValue&&u===lh.mapValue)return 0;if(c===lh.mapValue)return 1;if(u===lh.mapValue)return-1;const d=c.fields||{},m=Object.keys(d),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Hm(m[_],y[_]);if(E!==0)return E;const x=To(d[m[_]],g[y[_]]);if(x!==0)return x}return Lt(m.length,y.length)})(n.mapValue,t.mapValue);default:throw At(23264,{he:e})}}function Q1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=ar(n),s=ar(t),a=Lt(e.seconds,s.seconds);return a!==0?a:Lt(e.nanos,s.nanos)}function X1(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const c=To(e[a],s[a]);if(c)return c}return Lt(e.length,s.length)}function bo(n){return qm(n)}function qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=ar(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return or(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Et.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const c of e.values||[])a?a=!1:s+=",",s+=qm(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",c=!0;for(const u of s)c?c=!1:a+=",",a+=`${u}:${qm(e.fields[u])}`;return a+"}"})(n.mapValue):At(61005,{value:n})}function Dh(n){switch(lr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mf(n);return t?16+Dh(t):16;case 5:return 2*n.stringValue.length;case 6:return or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+Dh(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return sa(s.fields,((c,u)=>{a+=c.length+Dh(u)})),a})(n.mapValue);default:throw At(13486,{value:n})}}function Gm(n){return!!n&&"integerValue"in n}function Xg(n){return!!n&&"arrayValue"in n}function Z1(n){return!!n&&"nullValue"in n}function J1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wh(n){return!!n&&"mapValue"in n}function uI(n){return(n?.mapValue?.fields||{})[FC]?.stringValue===HC}function Jl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return sa(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Jl(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jl(n.arrayValue.values[e]);return t}return{...n}}function hI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!wh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(e)}setAll(t){let e=tn.emptyPath(),s={},a=[];t.forEach(((u,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=d.popLast()}u?s[d.lastSegment()]=Jl(u):a.push(d.lastSegment())}));const c=this.getFieldsMap(e);this.applyChanges(c,s,a)}delete(t){const e=this.field(t.popLast());wh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){sa(e,((a,c)=>t[a]=c));for(const a of s)delete t[a]}clone(){return new Kn(Jl(this.value))}}function qC(n){const t=[];return sa(n.fields,((e,s)=>{const a=new tn([e]);if(wh(s)){const c=qC(s.mapValue).fields;if(c.length===0)t.push(a);else for(const u of c)t.push(a.child(u))}else t.push(a)})),new hi(t)}class on{constructor(t,e,s,a,c,u,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=c,this.data=u,this.documentState=d}static newInvalidDocument(t){return new on(t,0,xt.min(),xt.min(),xt.min(),Kn.empty(),0)}static newFoundDocument(t,e,s,a){return new on(t,1,e,xt.min(),s,a,0)}static newNoDocument(t,e){return new on(t,2,e,xt.min(),xt.min(),Kn.empty(),0)}static newUnknownDocument(t,e){return new on(t,3,e,xt.min(),xt.min(),Kn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zh{constructor(t,e){this.position=t,this.inclusive=e}}function W1(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const c=t[a],u=n.position[a];if(c.field.isKeyField()?s=Et.comparator(Et.fromName(u.referenceValue),e.key):s=To(u,e.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function tb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Hi(n.position[e],t.position[e]))return!1;return!0}class Jh{constructor(t,e="asc"){this.field=t,this.dir=e}}function fI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class GC{}class ze extends GC{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new pI(t,e,s):e==="array-contains"?new yI(t,s):e==="in"?new vI(t,s):e==="not-in"?new _I(t,s):e==="array-contains-any"?new TI(t,s):new ze(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new mI(t,s):new gI(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(To(e,this.value)):e!==null&&lr(this.value)===lr(e)&&this.matchesComparison(To(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends GC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new qi(t,e)}matches(t){return $C(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $C(n){return n.op==="and"}function KC(n){return dI(n)&&$C(n)}function dI(n){for(const t of n.filters)if(t instanceof qi)return!1;return!0}function $m(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+bo(n.value);if(KC(n))return n.filters.map((t=>$m(t))).join(",");{const t=n.filters.map((e=>$m(e))).join(",");return`${n.op}(${t})`}}function YC(n,t){return n instanceof ze?(function(s,a){return a instanceof ze&&s.op===a.op&&s.field.isEqual(a.field)&&Hi(s.value,a.value)})(n,t):n instanceof qi?(function(s,a){return a instanceof qi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,u,d)=>c&&YC(u,a.filters[d])),!0):!1})(n,t):void At(19439)}function QC(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${bo(e.value)}`})(n):n instanceof qi?(function(e){return e.op.toString()+" {"+e.getFilters().map(QC).join(" ,")+"}"})(n):"Filter"}class pI extends ze{constructor(t,e,s){super(t,e,s),this.key=Et.fromName(s.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class mI extends ze{constructor(t,e){super(t,"in",e),this.keys=XC("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class gI extends ze{constructor(t,e){super(t,"not-in",e),this.keys=XC("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function XC(n,t){return(t.arrayValue?.values||[]).map((e=>Et.fromName(e.referenceValue)))}class yI extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xg(e)&&pc(e.arrayValue,this.value)}}class vI extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&pc(this.value.arrayValue,e)}}class _I extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!pc(this.value.arrayValue,e)}}class TI extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>pc(this.value.arrayValue,s)))}}class bI{constructor(t,e=null,s=[],a=[],c=null,u=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=u,this.endAt=d,this.Te=null}}function eb(n,t=null,e=[],s=[],a=null,c=null,u=null){return new bI(n,t,e,s,a,c,u)}function Zg(n){const t=Dt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>$m(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),pf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>bo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>bo(s))).join(",")),t.Te=e}return t.Te}function Jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!fI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!YC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tb(n.startAt,t.startAt)&&tb(n.endAt,t.endAt)}function Km(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class gf{constructor(t,e=null,s=[],a=[],c=null,u="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function EI(n,t,e,s,a,c,u,d){return new gf(n,t,e,s,a,c,u,d)}function Wg(n){return new gf(n)}function nb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SI(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function CI(n){return n.collectionGroup!==null}function Wl(n){const t=Dt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),e.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Be(tn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((c=>{e.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jh(c,s))})),e.has(tn.keyField().canonicalString())||t.Ie.push(new Jh(tn.keyField(),s))}return t.Ie}function zi(n){const t=Dt(n);return t.Ee||(t.Ee=AI(t,Wl(n))),t.Ee}function AI(n,t){if(n.limitType==="F")return eb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new Jh(a.field,c)}));const e=n.endAt?new Zh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Zh(n.startAt.position,n.startAt.inclusive):null;return eb(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Ym(n,t,e){return new gf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yf(n,t){return Jg(zi(n),zi(t))&&n.limitType===t.limitType}function ZC(n){return`${Zg(zi(n))}|lt:${n.limitType}`}function to(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>QC(a))).join(", ")}]`),pf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>bo(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>bo(a))).join(",")),`Target(${s})`})(zi(n))}; limitType=${n.limitType})`}function vf(n,t){return t.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Et.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,t)&&(function(s,a){for(const c of Wl(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const g=W1(u,d,m);return u.inclusive?g<=0:g<0})(s.startAt,Wl(s),a)||s.endAt&&!(function(u,d,m){const g=W1(u,d,m);return u.inclusive?g>=0:g>0})(s.endAt,Wl(s),a))})(n,t)}function xI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JC(n){return(t,e)=>{let s=!1;for(const a of Wl(n)){const c=RI(a,t,e);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function RI(n,t,e){const s=n.field.isKeyField()?Et.comparator(t.key,e.key):(function(c,u,d){const m=u.data.field(c),g=d.data.field(c);return m!==null&&g!==null?To(m,g):At(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:n.dir})}}class ra{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,((e,s)=>{for(const[a,c]of s)t(a,c)}))}isEmpty(){return kC(this.inner)}size(){return this.innerSize}}const DI=new pe(Et.comparator);function ps(){return DI}const WC=new pe(Et.comparator);function ql(...n){let t=WC;for(const e of n)t=t.insert(e.key,e);return t}function t2(n){let t=WC;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Yr(){return tc()}function e2(){return tc()}function tc(){return new ra((n=>n.toString()),((n,t)=>n.isEqual(t)))}const wI=new pe(Et.comparator),MI=new Be(Et.comparator);function jt(...n){let t=MI;for(const e of n)t=t.add(e);return t}const VI=new Be(Lt);function II(){return VI}function ty(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(t)?"-0":t}}function n2(n){return{integerValue:""+n}}function NI(n,t){return iI(t)?n2(t):ty(n,t)}class _f{constructor(){this._=void 0}}function OI(n,t,e){return n instanceof mc?(function(a,c){const u={fields:{[zC]:{stringValue:jC},[BC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Qg(c)&&(c=mf(c)),c&&(u.fields[UC]=c),{mapValue:u}})(e,t):n instanceof gc?s2(n,t):n instanceof yc?r2(n,t):(function(a,c){const u=i2(a,c),d=ib(u)+ib(a.Ae);return Gm(u)&&Gm(a.Ae)?n2(d):ty(a.serializer,d)})(n,t)}function PI(n,t,e){return n instanceof gc?s2(n,t):n instanceof yc?r2(n,t):e}function i2(n,t){return n instanceof Wh?(function(s){return Gm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class mc extends _f{}class gc extends _f{constructor(t){super(),this.elements=t}}function s2(n,t){const e=a2(t);for(const s of n.elements)e.some((a=>Hi(a,s)))||e.push(s);return{arrayValue:{values:e}}}class yc extends _f{constructor(t){super(),this.elements=t}}function r2(n,t){let e=a2(t);for(const s of n.elements)e=e.filter((a=>!Hi(a,s)));return{arrayValue:{values:e}}}class Wh extends _f{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ib(n){return Ee(n.integerValue||n.doubleValue)}function a2(n){return Xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kI{constructor(t,e){this.field=t,this.transform=e}}function LI(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof gc&&a instanceof gc||s instanceof yc&&a instanceof yc?_o(s.elements,a.elements,Hi):s instanceof Wh&&a instanceof Wh?Hi(s.Ae,a.Ae):s instanceof mc&&a instanceof mc})(n.transform,t.transform)}class jI{constructor(t,e){this.version=t,this.transformResults=e}}class us{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Tf{}function o2(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new c2(n.key,us.none()):new Sc(n.key,n.data,us.none());{const e=n.data,s=Kn.empty();let a=new Be(tn.comparator);for(let c of t.fields)if(!a.has(c)){let u=e.field(c);u===null&&c.length>1&&(c=c.popLast(),u=e.field(c)),u===null?s.delete(c):s.set(c,u),a=a.add(c)}return new aa(n.key,s,new hi(a.toArray()),us.none())}}function zI(n,t,e){n instanceof Sc?(function(a,c,u){const d=a.value.clone(),m=rb(a.fieldTransforms,c,u.transformResults);d.setAll(m),c.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):n instanceof aa?(function(a,c,u){if(!Mh(a.precondition,c))return void c.convertToUnknownDocument(u.version);const d=rb(a.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(l2(a)),m.setAll(d),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function ec(n,t,e,s){return n instanceof Sc?(function(c,u,d,m){if(!Mh(c.precondition,u))return d;const g=c.value.clone(),y=ab(c.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof aa?(function(c,u,d,m){if(!Mh(c.precondition,u))return d;const g=ab(c.fieldTransforms,m,u),y=u.data;return y.setAll(l2(c)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((_=>_.field)))})(n,t,e,s):(function(c,u,d){return Mh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,t,e)}function UI(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),c=i2(s.transform,a||null);c!=null&&(e===null&&(e=Kn.empty()),e.set(s.field,c))}return e||null}function sb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&_o(s,a,((c,u)=>LI(c,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Sc extends Tf{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class aa extends Tf{constructor(t,e,s,a,c=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function l2(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function rb(n,t,e){const s=new Map;$t(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const c=n[a],u=c.transform,d=t.data.field(c.field);s.set(c.field,PI(u,d,e[a]))}return s}function ab(n,t,e){const s=new Map;for(const a of n){const c=a.transform,u=e.data.field(a.field);s.set(a.field,OI(c,u,t))}return s}class c2 extends Tf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends Tf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FI{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&zI(c,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=ec(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=ec(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=e2();return this.mutations.forEach((a=>{const c=t.get(a.key),u=c.overlayedDocument;let d=this.applyToLocalView(u,c.mutatedFields);d=e.has(a.key)?null:d;const m=o2(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(xt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),jt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,((e,s)=>sb(e,s)))&&_o(this.baseMutations,t.baseMutations,((e,s)=>sb(e,s)))}}class ey{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return wI})();const c=t.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,s[u].version);return new ey(t,e,s,a)}}class HI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ie,Ut;function GI(n){switch(n){case st.OK:return At(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function u2(n){if(n===void 0)return ds("GRPC error has no .code"),st.UNKNOWN;switch(n){case Ie.OK:return st.OK;case Ie.CANCELLED:return st.CANCELLED;case Ie.UNKNOWN:return st.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return st.INTERNAL;case Ie.UNAVAILABLE:return st.UNAVAILABLE;case Ie.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ie.NOT_FOUND:return st.NOT_FOUND;case Ie.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ie.ABORTED:return st.ABORTED;case Ie.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ie.DATA_LOSS:return st.DATA_LOSS;default:return At(39323,{code:n})}}(Ut=Ie||(Ie={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const KI=new er([4294967295,4294967295],0);function ob(n){const t=$I().encode(n),e=new AC;return e.update(t),new Uint8Array(e.digest())}function lb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([e,s],0),new er([a,c],0)]}class ny{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Gl(`Invalid padding: ${e}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=er.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(er.fromNumber(s)));return a.compare(KI)===1&&(a=new er([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ob(t),[s,a]=lb(e);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,a,c);if(!this.we(u))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),u=new ny(c,a,e);return s.forEach((d=>u.insert(d))),u}insert(t){if(this.ge===0)return;const e=ob(t),[s,a]=lb(e);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,a,c);this.be(u)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bf{constructor(t,e,s,a,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,Cc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new bf(xt.min(),a,new pe(Lt),ps(),jt())}}class Cc{constructor(t,e,s,a,c){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Cc(s,e,jt(),jt(),jt())}}class Vh{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=a}}class h2{constructor(t,e){this.targetId=t,this.Ce=e}}class f2{constructor(t,e,s=en.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class cb{constructor(){this.ve=0,this.Fe=ub(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),e=jt(),s=jt();return this.Fe.forEach(((a,c)=>{switch(c){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:At(38017,{changeType:c})}})),new Cc(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=ub()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.He=ch(),this.Je=ch(),this.Ze=new pe(Lt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const c=a.target;if(Km(c))if(s===0){const u=new Et(c.path);this.et(e,u,on.newNoDocument(u,xt.min()))}else $t(s===1,20013,{expectedCount:s});else{const u=this._t(e);if(u!==s){const d=this.ut(t),m=d?this.ct(d,t,u):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=e;let u,d;try{u=or(s).toUint8Array()}catch(m){if(m instanceof LC)return Wr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ny(u,a,c)}catch(m){return Wr(m instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((c=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;t.mightContain(d)||(this.et(e,c,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((c,u)=>{const d=this.ot(u);if(d){if(c.current&&Km(d.target)){const m=new Et(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,on.newNoDocument(m,t))}c.Be&&(e.set(u,c.ke()),c.Ke())}}));let s=jt();this.Je.forEach(((c,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(t)));const a=new bf(t,e,this.Ze,this.je,s);return this.je=ps(),this.He=ch(),this.Je=ch(),this.Ze=new pe(Lt),a}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new cb,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Be(Lt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Be(Lt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ch(){return new pe(Et.comparator)}function ub(){return new pe(Et.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},XI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZI={and:"AND",or:"OR"};class JI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Qm(n,t){return n.useProto3Json||pf(t)?t:{value:t}}function tf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function d2(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function WI(n,t){return tf(n,t.toTimestamp())}function Ui(n){return $t(!!n,49232),xt.fromTimestamp((function(e){const s=ar(e);return new le(s.seconds,s.nanos)})(n))}function iy(n,t){return Xm(n,t).canonicalString()}function Xm(n,t){const e=(function(a){return new oe(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function p2(n){const t=oe.fromString(n);return $t(_2(t),10190,{key:t.toString()}),t}function Zm(n,t){return iy(n.databaseId,t.path)}function nm(n,t){const e=p2(t);if(e.get(1)!==n.databaseId.projectId)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(g2(e))}function m2(n,t){return iy(n.databaseId,t)}function tN(n){const t=p2(n);return t.length===4?oe.emptyPath():g2(t)}function Jm(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g2(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hb(n,t,e){return{name:Zm(n,t),fields:e.value.mapValue.fields}}function eN(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],c=(function(g,y){return g.useProto3Json?($t(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):($t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,d=u&&(function(g){const y=g.code===void 0?st.UNKNOWN:u2(g.code);return new _t(y,g.message||"")})(u);e=new f2(s,a,c,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=nm(n,s.document.name),c=Ui(s.document.updateTime),u=s.document.createTime?Ui(s.document.createTime):xt.min(),d=new Kn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(a,c,u,d),g=s.targetIds||[],y=s.removedTargetIds||[];e=new Vh(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=nm(n,s.document),c=s.readTime?Ui(s.readTime):xt.min(),u=on.newNoDocument(a,c),d=s.removedTargetIds||[];e=new Vh([],d,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=nm(n,s.document),c=s.removedTargetIds||[];e=new Vh([],c,a,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,u=new qI(a,c),d=s.targetId;e=new h2(d,u)}}return e}function nN(n,t){let e;if(t instanceof Sc)e={update:hb(n,t.key,t.value)};else if(t instanceof c2)e={delete:Zm(n,t.key)};else if(t instanceof aa)e={update:hb(n,t.key,t.data),updateMask:hN(t.fieldMask)};else{if(!(t instanceof BI))return At(16599,{dt:t.type});e={verify:Zm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(c,u){const d=u.transform;if(d instanceof mc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw At(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:WI(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At(27497)})(n,t.precondition)),e}function iN(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((e=>(function(a,c){let u=a.updateTime?Ui(a.updateTime):Ui(c);return u.isEqual(xt.min())&&(u=Ui(c)),new jI(u,a.transformResults||[])})(e,t)))):[]}function sN(n,t){return{documents:[m2(n,t.path)]}}function rN(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=m2(n,a);const c=(function(g){if(g.length!==0)return v2(qi.create(g,"and"))})(t.filters);c&&(e.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:eo(E.field),direction:lN(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const d=Qm(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function aN(n){let t=tN(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){$t(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let c=[];e.where&&(c=(function(_){const E=y2(_);return E instanceof qi&&KC(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(_){return _.map((E=>(function(P){return new Jh(no(P.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(e.orderBy));let d=null;e.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,pf(E)?null:E})(e.limit));let m=null;e.startAt&&(m=(function(_){const E=!!_.before,x=_.values||[];return new Zh(x,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(_){const E=!_.before,x=_.values||[];return new Zh(x,E)})(e.endAt)),EI(t,a,u,c,d,"F",m,g)}function oN(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function y2(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=no(e.unaryFilter.field);return ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=no(e.unaryFilter.field);return ze.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=no(e.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=no(e.unaryFilter.field);return ze.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(no(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return qi.create(e.compositeFilter.filters.map((s=>y2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(e.compositeFilter.op))})(n):At(30097,{filter:n})}function lN(n){return QI[n]}function cN(n){return XI[n]}function uN(n){return ZI[n]}function eo(n){return{fieldPath:n.canonicalString()}}function no(n){return tn.fromServerFormat(n.fieldPath)}function v2(n){return n instanceof ze?(function(e){if(e.op==="=="){if(J1(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NAN"}};if(Z1(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(J1(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NAN"}};if(Z1(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(e.field),op:cN(e.op),value:e.value}}})(n):n instanceof qi?(function(e){const s=e.getFilters().map((a=>v2(a)));return s.length===1?s[0]:{compositeFilter:{op:uN(e.op),filters:s}}})(n):At(54877,{filter:n})}function hN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function T2(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Zs{constructor(t,e,s,a,c=xt.min(),u=xt.min(),d=en.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fN{constructor(t){this.yt=t}}function dN(n){const t=aN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ym(t,t.limit,"L"):t}class pN{constructor(){this.Sn=new mN}addToCollectionParentIndex(t,e){return this.Sn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(rr.min())}updateCollectionGroup(t,e,s){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class mN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Be(oe.comparator),c=!a.has(s);return this.index[e]=a.add(s),c}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Be(oe.comparator)).toArray()}}const fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b2=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(b2,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Eo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const db="LruGarbageCollector",gN=1048576;function pb([n,t],[e,s]){const a=Lt(n,e);return a===0?Lt(t,s):a}class yN{constructor(t){this.Pr=t,this.buffer=new Be(pb),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();pb(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){pt(db,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Mo(e)?pt(db,"Ignoring IndexedDB error during garbage collection: ",e):await wo(e)}await this.Ar(3e5)}))}}class _N{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(df.ce);const s=new yN(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(fb)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fb):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,a,c,u,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,e)))).next((_=>(c=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),Wa()<=Bt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${c} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:_}))))}}function TN(n,t){return new _N(n,t)}class bN{constructor(){this.changes=new ra((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?nt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class EN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class SN{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&ec(s.mutation,a,hi.empty(),le.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=jt()){const a=Yr();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((c=>{let u=ql();return c.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const s=Yr();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,jt())))}populateOverlays(t,e,s){const a=[];return s.forEach((c=>{e.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(t,a).next((c=>{c.forEach(((u,d)=>{e.set(u,d)}))}))}computeViews(t,e,s,a){let c=ps();const u=tc(),d=(function(){return tc()})();return e.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof aa)?c=c.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),ec(y.mutation,g,y.mutation.getFieldMask(),le.now())):u.set(g.key,hi.empty())})),this.recalculateAndSaveOverlays(t,c).next((m=>(m.forEach(((g,y)=>u.set(g,y))),e.forEach(((g,y)=>d.set(g,new EN(y,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=tc();let a=new pe(((u,d)=>u-d)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=e.get(m);if(g===null)return;let y=s.get(m)||hi.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(a.get(d.batchId)||jt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=e2();y.forEach((E=>{if(!c.has(E)){const x=o2(e.get(E),s.get(E));x!==null&&_.set(E,x),c=c.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,g,_))}return nt.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return SI(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):CI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-c.size):nt.resolve(Yr());let d=hc,m=c;return u.next((g=>nt.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),c.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,m,g,jt()))).next((y=>({batchId:d,changes:t2(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next((s=>{let a=ql();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const c=e.collectionGroup;let u=ql();return this.indexManager.getCollectionParents(t,c).next((d=>nt.forEach(d,(m=>{const g=(function(_,E){return new gf(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,m.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,c,a)))).next((u=>{c.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,on.newInvalidDocument(y)))}));let d=ql();return u.forEach(((m,g)=>{const y=c.get(m);y!==void 0&&ec(y.mutation,g,hi.empty(),le.now()),vf(e,g)&&(d=d.insert(m,g))})),d}))}}class CN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return nt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Ui(a.createTime)}})(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:dN(a.bundledQuery),readTime:Ui(a.readTime)}})(e)),nt.resolve()}}class AN{constructor(){this.overlays=new pe(Et.comparator),this.Lr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Yr();return nt.forEach(e,(a=>this.getOverlay(t,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,c)=>{this.bt(t,e,c)})),nt.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),nt.resolve()}getOverlaysForCollection(t,e,s){const a=Yr(),c=e.length+1,u=new Et(e.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>s&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let c=new pe(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=c.get(g.largestBatchId);y===null&&(y=Yr(),c=c.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Yr(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return nt.resolve(d)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new HI(e,s));let c=this.Lr.get(e);c===void 0&&(c=jt(),this.Lr.set(e,c)),this.Lr.set(e,c.add(s.key))}}class xN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}class sy{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Ge(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Ge(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new Et(new oe([])),s=new Ge(e,t),a=new Ge(e,t+1),c=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Et(new oe([])),s=new Ge(e,t),a=new Ge(e,t+1);let c=jt();return this.qr.forEachInRange([s,a],(u=>{c=c.add(u.key)})),c}containsKey(t){const e=new Ge(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Et.comparator(t.key,e.key)||Lt(t.Hr,e.Hr)}static Ur(t,e){return Lt(t.Hr,e.Hr)||Et.comparator(t.key,e.key)}}class RN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FI(c,e,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Ge(d.key,c)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(u)}lookupMutationBatch(t,e){return nt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),c=a<0?0:a;return nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Yg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ge(e,0),a=new Ge(e,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);c.push(d)})),nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Be(Lt);return e.forEach((a=>{const c=new Ge(a,0),u=new Ge(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(d=>{s=s.add(d.Hr)}))})),nt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let c=s;Et.isDocumentKey(c)||(c=c.child(""));const u=new Ge(new Et(c),0);let d=new Be(Lt);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)}),u),nt.resolve(this.Yr(d))}Yr(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){$t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return nt.forEach(e.mutations,(a=>{const c=new Ge(a.key,e.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Ge(e,0),a=this.Jr.firstAfterOrEqual(s);return nt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class DN{constructor(t){this.ti=t,this.docs=(function(){return new pe(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),c=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return nt.resolve(s?s.document.mutableCopy():on.newInvalidDocument(e))}getEntries(t,e){let s=ps();return e.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():on.newInvalidDocument(a))})),nt.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let c=ps();const u=e.path,d=new Et(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||W6(J6(y),s)<=0||(a.has(y.key)||vf(e,y))&&(c=c.insert(y.key,y.mutableCopy()))}return nt.resolve(c)}getAllFromCollectionGroup(t,e,s,a){At(9500)}ni(t,e){return nt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new wN(this)}getSize(t){return nt.resolve(this.size)}}class wN extends bN{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),nt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class MN{constructor(t){this.persistence=t,this.ri=new ra((e=>Zg(e)),Jg),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new sy,this.targetCount=0,this.oi=Eo._r()}forEachTarget(t,e){return this.ri.forEach(((s,a)=>e(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),nt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Eo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.lr(e),nt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,s){let a=0;const c=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),nt.waitFor(c).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return nt.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),nt.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const a=this.persistence.referenceDelegate,c=[];return a&&e.forEach((u=>{c.push(a.markPotentiallyOrphaned(t,u))})),nt.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return nt.resolve(s)}containsKey(t,e){return nt.resolve(this.si.containsKey(e))}}class E2{constructor(t,e){this._i={},this.overlays={},this.ai=new df(0),this.ui=!1,this.ui=!0,this.ci=new xN,this.referenceDelegate=t(this),this.li=new MN(this),this.indexManager=new pN,this.remoteDocumentCache=(function(a){return new DN(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new fN(e),this.Pi=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new AN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new RN(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){pt("MemoryPersistence","Starting transaction:",t);const a=new VN(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((c=>this.referenceDelegate.Ii(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(t,e){return nt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class VN extends eI{constructor(t){super(),this.currentSequenceNumber=t}}class ry{constructor(t){this.persistence=t,this.Ri=new sy,this.Ai=null}static Vi(t){return new ry(t)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),nt.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(s=>{const a=Et.fromPath(s);return this.mi(t,a).next((c=>{c||e.removeEntry(a,xt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return nt.or([()=>nt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class ef{constructor(t,e){this.persistence=t,this.fi=new ra((s=>sI(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=TN(this,e)}static Vi(t,e){return new ef(t,e)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return nt.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((c=>c?nt.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((d=>{d||(s++,c.removeEntry(u,xt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Dh(t.data.value)),e}wr(t,e,s){return nt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ay{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=a}static Es(t,e){let s=jt(),a=jt();for(const c of e.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new ay(t,e.fromCache,s,a)}}class IN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class NN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _3()?8:nI(y3())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const c={result:null};return this.gs(t,e).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(t,e,a,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new IN;return this.ys(t,e,u).next((d=>{if(c.result=d,this.As)return this.ws(t,e,u,d.size)}))})).next((()=>c.result))}ws(t,e,s,a){return s.documentReadCount<this.Vs?(Wa()<=Bt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",to(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Wa()<=Bt.DEBUG&&pt("QueryEngine","Query:",to(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Wa()<=Bt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",to(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(e))):nt.resolve())}gs(t,e){if(nb(e))return nt.resolve(null);let s=zi(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Ym(e,null,"F"),s=zi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const u=jt(...c);return this.fs.getDocuments(t,u).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.bs(e,d);return this.Ss(e,g,u,m.readTime)?this.gs(t,Ym(e,null,"F")):this.Ds(t,g,e,m)}))))})))))}ps(t,e,s,a){return nb(e)||a.isEqual(xt.min())?nt.resolve(null):this.fs.getDocuments(t,s).next((c=>{const u=this.bs(e,c);return this.Ss(e,u,s,a)?nt.resolve(null):(Wa()<=Bt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),to(e)),this.Ds(t,u,e,Z6(a,hc)).next((d=>d)))}))}bs(t,e){let s=new Be(JC(t));return e.forEach(((a,c)=>{vf(t,c)&&(s=s.add(c))})),s}Ss(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const c=t.limitType==="F"?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ys(t,e,s){return Wa()<=Bt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",to(e)),this.fs.getDocumentsMatchingQuery(t,e,rr.min(),s)}Ds(t,e,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((c=>(e.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const oy="LocalStore",ON=3e8;class PN{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new pe(Lt),this.Fs=new ra((c=>Zg(c)),Jg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function kN(n,t,e,s){return new PN(n,t,e,s)}async function S2(n,t){const e=Dt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],d=[];let m=jt();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of c){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function LN(n,t){const e=Dt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),c=e.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,E=_.keys();let x=nt.resolve();return E.forEach((P=>{x=x.next((()=>y.getEntry(m,P))).next((z=>{const H=g.docVersions.get(P);$t(H!==null,48541),z.version.compareTo(H)<0&&(_.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),y.addEntry(z)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(e,s,t,c).next((()=>c.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=jt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function C2(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function jN(n,t){const e=Dt(n),s=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;d.push(e.li.removeMatchingKeys(c,y.removedDocuments,_).next((()=>e.li.addMatchingKeys(c,y.addedDocuments,_))));let x=E.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(en.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,s)),a=a.insert(_,x),(function(z,H,$){return z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=ON?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(E,x,y)&&d.push(e.li.updateTargetData(c,x))}));let m=ps(),g=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(c,y))})),d.push(zN(c,u,t.documentUpdates).next((y=>{m=y.Bs,g=y.Ls}))),!s.isEqual(xt.min())){const y=e.li.getLastRemoteSnapshotVersion(c).next((_=>e.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));d.push(y)}return nt.waitFor(d).next((()=>u.apply(c))).next((()=>e.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(e.vs=a,c)))}function zN(n,t,e){let s=jt(),a=jt();return e.forEach((c=>s=s.add(c))),t.getEntries(n,s).next((c=>{let u=ps();return e.forEach(((d,m)=>{const g=c.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(xt.min())?(t.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),u=u.insert(d,m)):pt(oy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function UN(n,t){const e=Dt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Yg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function BN(n,t){const e=Dt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.li.getTargetData(s,t).next((c=>c?(a=c,nt.resolve(a)):e.li.allocateTargetId(s).next((u=>(a=new Zs(t,u,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function Wm(n,t,e){const s=Dt(n),a=s.vs.get(t),c=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Mo(u))throw u;pt(oy,`Failed to update sequence numbers for target ${t}: ${u}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function mb(n,t,e){const s=Dt(n);let a=xt.min(),c=jt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const _=Dt(m),E=_.Fs.get(y);return E!==void 0?nt.resolve(_.vs.get(E)):_.li.getTargetData(g,y)})(s,u,zi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,t,e?a:xt.min(),e?c:jt()))).next((d=>(FN(s,xI(t),d),{documents:d,ks:c})))))}function FN(n,t,e){let s=n.Ms.get(t)||xt.min();e.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(t,s)}class gb{constructor(){this.activeTargetIds=II()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HN{constructor(){this.vo=new gb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new gb,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qN{Mo(t){}shutdown(){}}const yb="ConnectivityMonitor";class vb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pt(yb,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){pt(yb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function tg(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const im="RestConnection",GN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $N{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Qh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,c){const u=tg(),d=this.Qo(t,e.toUriEncodedString());pt(im,`Sending RPC '${t}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,c);const{host:g}=new URL(d),y=Hg(g);return this.zo(t,d,m,s,y).then((_=>(pt(im,`Received RPC '${t}' ${u}: `,_),_)),(_=>{throw Wr(im,`RPC '${t}' ${u} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,e,s,a,c,u){return this.Wo(t,e,s,a,c)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,c)=>t[c]=a)),s&&s.headers.forEach(((a,c)=>t[c]=a))}Qo(t,e){const s=GN[t];let a=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class KN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",Ul=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class fo extends $N{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!fo.c_){const t=wC();Ul(t,DC.STAT_EVENT,(e=>{e.stat===Fm.PROXY?pt(sn,"STAT_EVENT: detected buffering proxy"):e.stat===Fm.NOPROXY&&pt(sn,"STAT_EVENT: detected no buffering proxy")})),fo.c_=!0}}zo(t,e,s,a,c){const u=tg();return new Promise(((d,m)=>{const g=new xC;g.setWithCredentials(!0),g.listenOnce(RC.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Rh.NO_ERROR:const _=g.getResponseJson();pt(sn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),d(_);break;case Rh.TIMEOUT:pt(sn,`RPC '${t}' ${u} timed out`),m(new _t(st.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const E=g.getStatus();if(pt(sn,`RPC '${t}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x?.error;if(P&&P.status&&P.message){const z=(function($){const tt=$.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(tt)>=0?tt:st.UNKNOWN})(P.status);m(new _t(z,P.message))}else m(new _t(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _t(st.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(sn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);pt(sn,`RPC '${t}' ${u} sending request:`,a),g.send(e,"POST",y,s,15)}))}T_(t,e,s){const a=tg(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,e,s),d.encodeInitMessageHeaders=!0;const g=c.join("");pt(sn,`Creating RPC '${t}' stream ${a}: ${g}`,d);const y=u.createWebChannel(g,d);this.I_(y);let _=!1,E=!1;const x=new KN({Ho:P=>{E?pt(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(_||(pt(sn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),pt(sn,`RPC '${t}' stream ${a} sending:`,P),y.send(P))},Jo:()=>y.close()});return Ul(y,Hl.EventType.OPEN,(()=>{E||(pt(sn,`RPC '${t}' stream ${a} transport opened.`),x.i_())})),Ul(y,Hl.EventType.CLOSE,(()=>{E||(E=!0,pt(sn,`RPC '${t}' stream ${a} transport closed`),x.o_(),this.E_(y))})),Ul(y,Hl.EventType.ERROR,(P=>{E||(E=!0,Wr(sn,`RPC '${t}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),x.o_(new _t(st.UNAVAILABLE,"The operation could not be completed")))})),Ul(y,Hl.EventType.MESSAGE,(P=>{if(!E){const z=P.data[0];$t(!!z,16349);const H=z,$=H?.error||H[0]?.error;if($){pt(sn,`RPC '${t}' stream ${a} received error:`,$);const tt=$.status;let Z=(function(ht){const w=Ie[ht];if(w!==void 0)return u2(w)})(tt),at=$.message;tt==="NOT_FOUND"&&at.includes("database")&&at.includes("does not exist")&&at.includes(this.databaseId.database)&&Wr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=st.INTERNAL,at="Unknown error status: "+tt+" with message "+$.message),E=!0,x.o_(new _t(Z,at)),y.close()}else pt(sn,`RPC '${t}' stream ${a} received:`,z),x.__(z)}})),fo.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return MC()}}function YN(n){return new fo(n)}function sm(){return typeof document<"u"?document:null}function Ef(n){return new JI(n,!0)}fo.c_=!1;class A2{constructor(t,e,s=1e3,a=1.5,c=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=a,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _b="PersistentStream";class x2{constructor(t,e,s,a,c,u,d,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A2(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(ds(e.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new _t(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(_b,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(pt(_b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QN extends x2{constructor(t,e,s,a,c,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,u),this.serializer=c}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=eN(this.serializer,t),s=(function(c){if(!("targetChange"in c))return xt.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?xt.min():u.readTime?Ui(u.readTime):xt.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=Jm(this.serializer),e.addTarget=(function(c,u){let d;const m=u.target;if(d=Km(m)?{documents:sN(c,m)}:{query:rN(c,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=d2(c,u.resumeToken);const g=Qm(c,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(xt.min())>0){d.readTime=tf(c,u.snapshotVersion.toTimestamp());const g=Qm(c,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=oN(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=Jm(this.serializer),e.removeTarget=t,this.K_(e)}}class XN extends x2{constructor(t,e,s,a,c,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=iN(t.writeResults,t.commitTime),s=Ui(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Jm(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>nN(this.serializer,s)))};this.K_(e)}}class ZN{}class JN extends ZN{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(t,Xm(e,s),a,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(st.UNKNOWN,c.toString())}))}jo(t,e,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(t,Xm(e,s),a,u,d,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(st.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WN(n,t,e,s){return new JN(n,t,e,s)}class tO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class eO{constructor(t,e,s,a,c){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{oa(this)&&(pt(ta,"Restarting streams for network reachability change."),await(async function(m){const g=Dt(m);g.Ea.add(4),await Ac(g),g.Va.set("Unknown"),g.Ea.delete(4),await Sf(g)})(this))}))})),this.Va=new tO(s,a)}}async function Sf(n){if(oa(n))for(const t of n.Ra)await t(!0)}async function Ac(n){for(const t of n.Ra)await t(!1)}function R2(n,t){const e=Dt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),hy(e)?uy(e):Vo(e).O_()&&cy(e,t))}function ly(n,t){const e=Dt(n),s=Vo(e);e.Ia.delete(t),s.O_()&&D2(e,t),e.Ia.size===0&&(s.O_()?s.L_():oa(e)&&e.Va.set("Unknown"))}function cy(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vo(n).Z_(t)}function D2(n,t){n.da.$e(t),Vo(n).X_(t)}function uy(n){n.da=new YI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vo(n).start(),n.Va.ua()}function hy(n){return oa(n)&&!Vo(n).x_()&&n.Ia.size>0}function oa(n){return Dt(n).Ea.size===0}function w2(n){n.da=void 0}async function nO(n){n.Va.set("Online")}async function iO(n){n.Ia.forEach(((t,e)=>{cy(n,t)}))}async function sO(n,t){w2(n),hy(n)?(n.Va.ha(t),uy(n)):n.Va.set("Unknown")}async function rO(n,t,e){if(n.Va.set("Online"),t instanceof f2&&t.state===2&&t.cause)try{await(async function(a,c){const u=c.cause;for(const d of c.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(n,t)}catch(s){pt(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nf(n,s)}else if(t instanceof Vh?n.da.Xe(t):t instanceof h2?n.da.st(t):n.da.tt(t),!e.isEqual(xt.min()))try{const s=await C2(n.localStore);e.compareTo(s)>=0&&await(function(c,u){const d=c.da.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=c.Ia.get(g);y&&c.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const y=c.Ia.get(m);if(!y)return;c.Ia.set(m,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),D2(c,m);const _=new Zs(y.target,m,g,y.sequenceNumber);cy(c,_)})),c.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){pt(ta,"Failed to raise snapshot:",s),await nf(n,s)}}async function nf(n,t,e){if(!Mo(t))throw t;n.Ea.add(1),await Ac(n),n.Va.set("Offline"),e||(e=()=>C2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(ta,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Sf(n)}))}function M2(n,t){return t().catch((e=>nf(n,e,t)))}async function Cf(n){const t=Dt(n),e=cr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yg;for(;aO(t);)try{const a=await UN(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,oO(t,a)}catch(a){await nf(t,a)}V2(t)&&I2(t)}function aO(n){return oa(n)&&n.Ta.length<10}function oO(n,t){n.Ta.push(t);const e=cr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function V2(n){return oa(n)&&!cr(n).x_()&&n.Ta.length>0}function I2(n){cr(n).start()}async function lO(n){cr(n).ra()}async function cO(n){const t=cr(n);for(const e of n.Ta)t.ea(e.mutations)}async function uO(n,t,e){const s=n.Ta.shift(),a=ey.from(s,t,e);await M2(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Cf(n)}async function hO(n,t){t&&cr(n).Y_&&await(async function(s,a){if((function(u){return GI(u)&&u!==st.ABORTED})(a.code)){const c=s.Ta.shift();cr(s).B_(),await M2(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Cf(s)}})(n,t),V2(n)&&I2(n)}async function Tb(n,t){const e=Dt(n);e.asyncQueue.verifyOperationInProgress(),pt(ta,"RemoteStore received new credentials");const s=oa(e);e.Ea.add(3),await Ac(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Sf(e)}async function fO(n,t){const e=Dt(n);t?(e.Ea.delete(2),await Sf(e)):t||(e.Ea.add(2),await Ac(e),e.Va.set("Unknown"))}function Vo(n){return n.ma||(n.ma=(function(e,s,a){const c=Dt(e);return c.sa(),new QN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(n.datastore,n.asyncQueue,{Zo:nO.bind(null,n),Yo:iO.bind(null,n),t_:sO.bind(null,n),J_:rO.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),hy(n)?uy(n):n.Va.set("Unknown")):(await n.ma.stop(),w2(n))}))),n.ma}function cr(n){return n.fa||(n.fa=(function(e,s,a){const c=Dt(e);return c.sa(),new XN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lO.bind(null,n),t_:hO.bind(null,n),ta:cO.bind(null,n),na:uO.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Cf(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(ta,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class fy{constructor(t,e,s,a,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,c){const u=Date.now()+s,d=new fy(t,e,u,a,c);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(n,t){if(ds("AsyncQueue",`${t}: ${n}`),Mo(n))return new _t(st.UNAVAILABLE,`${t}: ${n}`);throw n}class po{static emptySet(t){return new po(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Et.comparator(e.key,s.key):(e,s)=>Et.comparator(e.key,s.key),this.keyedMap=ql(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof po)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new po;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class bb{constructor(){this.ga=new pe(Et.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):At(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class So{constructor(t,e,s,a,c,u,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,c){const u=[];return e.forEach((d=>{u.push({type:0,doc:d})})),new So(t,e,po.emptySet(e),u,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class dO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class pO{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Dt(e),c=a.queries;a.queries=Eb(),c.forEach(((u,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new _t(st.ABORTED,"Firestore shutting down"))}}function Eb(){return new ra((n=>ZC(n)),yf)}async function mO(n,t){const e=Dt(n);let s=3;const a=t.query;let c=e.queries.get(a);c?!c.Sa()&&t.Da()&&(s=2):(c=new dO,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await e.onListen(a,!0);break;case 1:c.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const d=dy(u,`Initialization of query '${to(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,c),c.ba.push(t),t.va(e.onlineState),c.wa&&t.Fa(c.wa)&&py(e)}async function gO(n,t){const e=Dt(n),s=t.query;let a=3;const c=e.queries.get(s);if(c){const u=c.ba.indexOf(t);u>=0&&(c.ba.splice(u,1),c.ba.length===0?a=t.Da()?0:1:!c.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function yO(n,t){const e=Dt(n);let s=!1;for(const a of t){const c=a.query,u=e.queries.get(c);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&py(e)}function vO(n,t,e){const s=Dt(n),a=s.queries.get(t);if(a)for(const c of a.ba)c.onError(e);s.queries.delete(t)}function py(n){n.Ca.forEach((t=>{t.next()}))}var eg,Sb;(Sb=eg||(eg={})).Ma="default",Sb.Cache="cache";class _O{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new So(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=So.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==eg.Cache}}class N2{constructor(t){this.key=t}}class O2{constructor(t){this.key=t}}class TO{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=JC(t),this.tu=new po(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new bb,a=e?e.tu:this.tu;let c=e?e.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),x=vf(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;E&&x?E.data.isEqual(x.data)?P!==z&&(s.track({type:3,doc:x}),H=!0):this.su(E,x)||(s.track({type:2,doc:x}),H=!0,(m&&this.eu(x,m)>0||g&&this.eu(x,g)<0)&&(d=!0)):!E&&x?(s.track({type:0,doc:x}),H=!0):E&&!x&&(s.track({type:1,doc:E}),H=!0,(m||g)&&(d=!0)),H&&(x?(u=u.add(x),c=z?c.add(y):c.delete(y)):(u=u.delete(y),c=c.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),c=c.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:c}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,_)=>(function(x,P){const z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:H})}};return z(x)-z(P)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=e&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new So(this.query,t.tu,c,u,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new O2(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new N2(s))})),e}cu(t){this.Za=t.ks,this.Ya=jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const my="SyncEngine";class bO{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class EO{constructor(t){this.key=t,this.hu=!1}}class SO{constructor(t,e,s,a,c,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ra((d=>ZC(d)),yf),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(Et.comparator),this.Au=new Map,this.Vu=new sy,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CO(n,t,e=!0){const s=U2(n);let a;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await P2(s,t,e,!0),a}async function AO(n,t){const e=U2(n);await P2(e,t,!0,!1)}async function P2(n,t,e,s){const a=await BN(n.localStore,zi(t)),c=a.targetId,u=n.sharedClientState.addLocalQueryTarget(c,e);let d;return s&&(d=await xO(n,t,c,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&R2(n.remoteStore,a),d}async function xO(n,t,e,s,a){n.pu=(_,E,x)=>(async function(z,H,$,tt){let Z=H.view.ru($);Z.Ss&&(Z=await mb(z.localStore,H.query,!1).then((({documents:w})=>H.view.ru(w,Z))));const at=tt&&tt.targetChanges.get(H.targetId),ot=tt&&tt.targetMismatches.get(H.targetId)!=null,ht=H.view.applyChanges(Z,z.isPrimaryClient,at,ot);return Ab(z,H.targetId,ht.au),ht.snapshot})(n,_,E,x);const c=await mb(n.localStore,t,!0),u=new TO(t,c.ks),d=u.ru(c.documents),m=Cc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=u.applyChanges(d,n.isPrimaryClient,m);Ab(n,e,g.au);const y=new bO(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function RO(n,t,e){const s=Dt(n),a=s.Tu.get(t),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((u=>!yf(u,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Wm(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&ly(s.remoteStore,a.targetId),ng(s,a.targetId)})).catch(wo)):(ng(s,a.targetId),await Wm(s.localStore,a.targetId,!0))}async function DO(n,t){const e=Dt(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),ly(e.remoteStore,s.targetId))}async function wO(n,t,e){const s=kO(n);try{const a=await(function(u,d){const m=Dt(u),g=le.now(),y=d.reduce(((x,P)=>x.add(P.key)),jt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let P=ps(),z=jt();return m.xs.getEntries(x,y).next((H=>{P=H,P.forEach((($,tt)=>{tt.isValidDocument()||(z=z.add($))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,P))).next((H=>{_=H;const $=[];for(const tt of d){const Z=UI(tt,_.get(tt.key).overlayedDocument);Z!=null&&$.push(new aa(tt.key,Z,qC(Z.value.mapValue),us.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,$,d)})).next((H=>{E=H;const $=H.applyToLocalDocumentSet(_,z);return m.documentOverlayCache.saveOverlays(x,H.batchId,$)}))})).then((()=>({batchId:E.batchId,changes:t2(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let g=u.du[u.currentUser.toKey()];g||(g=new pe(Lt)),g=g.insert(d,m),u.du[u.currentUser.toKey()]=g})(s,a.batchId,e),await xc(s,a.changes),await Cf(s.remoteStore)}catch(a){const c=dy(a,"Failed to persist write");e.reject(c)}}async function k2(n,t){const e=Dt(n);try{const s=await jN(e.localStore,t);t.targetChanges.forEach(((a,c)=>{const u=e.Au.get(c);u&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?$t(u.hu,14607):a.removedDocuments.size>0&&($t(u.hu,42227),u.hu=!1))})),await xc(e,s,t)}catch(s){await wo(s)}}function Cb(n,t,e){const s=Dt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((c,u)=>{const d=u.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Dt(u);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(d)&&(g=!0)})),g&&py(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MO(n,t,e){const s=Dt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),c=a&&a.key;if(c){let u=new pe(Et.comparator);u=u.insert(c,on.newNoDocument(c,xt.min()));const d=jt().add(c),m=new bf(xt.min(),new Map,new pe(Lt),u,d);await k2(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(t),gy(s)}else await Wm(s.localStore,t,!1).then((()=>ng(s,t,e))).catch(wo)}async function VO(n,t){const e=Dt(n),s=t.batch.batchId;try{const a=await LN(e.localStore,t);j2(e,s,null),L2(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await xc(e,a)}catch(a){await wo(a)}}async function IO(n,t,e){const s=Dt(n);try{const a=await(function(u,d){const m=Dt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>($t(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);j2(s,t,e),L2(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await xc(s,a)}catch(a){await wo(a)}}function L2(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function j2(n,t,e){const s=Dt(n);let a=s.du[s.currentUser.toKey()];if(a){const c=a.get(t);c&&(e?c.reject(e):c.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function ng(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||z2(n,s)}))}function z2(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(ly(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),gy(n))}function Ab(n,t,e){for(const s of e)s instanceof N2?(n.Vu.addReference(s.key,t),NO(n,s)):s instanceof O2?(pt(my,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||z2(n,s.key)):At(19791,{wu:s})}function NO(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(pt(my,"New document in limbo: "+e),n.Eu.add(s),gy(n))}function gy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Et(oe.fromString(t)),s=n.fu.next();n.Au.set(s,new EO(e)),n.Ru=n.Ru.insert(e,s),R2(n.remoteStore,new Zs(zi(Wg(e.path)),s,"TargetPurposeLimboResolution",df.ce))}}async function xc(n,t,e){const s=Dt(n),a=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=ay.Es(m.targetId,g);c.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,g){const y=Dt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>nt.forEach(g,(E=>nt.forEach(E.Ts,(x=>y.persistence.referenceDelegate.addReference(_,E.targetId,x))).next((()=>nt.forEach(E.Is,(x=>y.persistence.referenceDelegate.removeReference(_,E.targetId,x)))))))))}catch(_){if(!Mo(_))throw _;pt(oy,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const x=y.vs.get(E),P=x.snapshotVersion,z=x.withLastLimboFreeSnapshotVersion(P);y.vs=y.vs.insert(E,z)}}})(s.localStore,c))}async function OO(n,t){const e=Dt(n);if(!e.currentUser.isEqual(t)){pt(my,"User change. New user:",t.toKey());const s=await S2(e.localStore,t);e.currentUser=t,(function(c,u){c.mu.forEach((d=>{d.forEach((m=>{m.reject(new _t(st.CANCELLED,u))}))})),c.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xc(e,s.Ns)}}function PO(n,t){const e=Dt(n),s=e.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let a=jt();const c=e.Iu.get(t);if(!c)return a;for(const u of c){const d=e.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function U2(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=k2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MO.bind(null,t),t.Pu.J_=yO.bind(null,t.eventManager),t.Pu.yu=vO.bind(null,t.eventManager),t}function kO(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,t),t}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return kN(this.persistence,new NN,t.initialUser,this.serializer)}Cu(t){return new E2(ry.Vi,this.serializer)}Du(t){return new HN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class LO extends sf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$t(this.persistence.referenceDelegate instanceof ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vN(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new E2((s=>ef.Vi(s,e)),this.serializer)}}class ig{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await fO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pO})()}createDatastore(t){const e=Ef(t.databaseInfo.databaseId),s=YN(t.databaseInfo);return WN(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,c,u,d){return new eO(s,a,c,u,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>Cb(this.syncEngine,e,0)),(function(){return vb.v()?new vb:new qN})())}createSyncEngine(t,e){return(function(a,c,u,d,m,g,y){const _=new SO(a,c,u,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Dt(e);pt(ta,"RemoteStore shutting down."),s.Ea.add(5),await Ac(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ig.provider={build:()=>new ig};class jO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ur="FirestoreClient";class zO{constructor(t,e,s,a,c){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{pt(ur,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pt(ur,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=dy(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function rm(n,t){n.asyncQueue.verifyOperationInProgress(),pt(ur,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await S2(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function xb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await UO(n);pt(ur,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>Tb(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>Tb(t.remoteStore,a))),n._onlineComponents=t}async function UO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(ur,"Using user provided OfflineComponentProvider");try{await rm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Wr("Error using user provided cache. Falling back to memory cache: "+e),await rm(n,new sf)}}else pt(ur,"Using default OfflineComponentProvider"),await rm(n,new LO(void 0));return n._offlineComponents}async function B2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(ur,"Using user provided OnlineComponentProvider"),await xb(n,n._uninitializedComponentsProvider._online)):(pt(ur,"Using default OnlineComponentProvider"),await xb(n,new ig))),n._onlineComponents}function BO(n){return B2(n).then((t=>t.syncEngine))}async function Rb(n){const t=await B2(n),e=t.eventManager;return e.onListen=CO.bind(null,t.syncEngine),e.onUnlisten=RO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=AO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=DO.bind(null,t.syncEngine),e}function FO(n,t,e,s){const a=new jO(s),c=new _O(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>mO(await Rb(n),c))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>gO(await Rb(n),c)))}}function HO(n,t){const e=new Xr;return n.asyncQueue.enqueueAndForget((async()=>wO(await BO(n),t,e))),e.promise}function F2(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const qO="ComponentProvider",Db=new Map;function GO(n,t,e,s,a){return new oI(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,F2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const H2="firestore.googleapis.com",wb=!0;class Mb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H2,this.ssl=wb}else this.host=t.host,this.ssl=t.ssl??wb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=b2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gN)throw new _t(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}X6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F2(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Af{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new U6;switch(s.type){case"firstParty":return new q6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=Db.get(e);s&&(pt(qO,"Removing Datastore"),Db.delete(e),s.terminate())})(this),Promise.resolve()}}function $O(n,t,e,s={}){n=ho(n,Af);const a=Hg(t),c=n._getSettings(),u={...c,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;a&&(f3(`https://${d}`),g3("Firestore",!0)),c.host!==H2&&c.host!==d&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:d,ssl:a,emulatorOptions:s};if(!Gh(m,u)&&(n._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=rn.MOCK_USER;else{g=d3(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new _t(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(_)}n._authCredentials=new B6(new IC(g,y))}}class xf{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xf(this.firestore,t,this._query)}}class Ue{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Ec(e,Ue._jsonSchema))return new Ue(t,s||null,new Et(oe.fromString(e.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Pe("string",Ue._jsonSchemaVersion),referencePath:Pe("string")};class nr extends xf{constructor(t,e,s){super(t,e,Wg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new Et(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function KO(n,t,...e){if(n=vo(n),NC("collection","path",t),n instanceof Af){const s=oe.fromString(t,...e);return H1(s),new nr(n,null,s)}{if(!(n instanceof Ue||n instanceof nr))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(oe.fromString(t,...e));return H1(s),new nr(n.firestore,null,s)}}function YO(n,t,...e){if(n=vo(n),arguments.length===1&&(t=$g.newId()),NC("doc","path",t),n instanceof Af){const s=oe.fromString(t,...e);return F1(s),new Ue(n,null,new Et(s))}{if(!(n instanceof Ue||n instanceof nr))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(oe.fromString(t,...e));return F1(s),new Ue(n.firestore,n instanceof nr?n.converter:null,new Et(s))}}const Vb="AsyncQueue";class Ib{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A2(this,"async_queue_retry"),this._c=()=>{const s=sm();s&&pt(Vb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=sm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=sm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;pt(Vb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",Nb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=fy.createAndSchedule(this,t,e,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&At(47125,{Pc:Nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Nb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class rf extends Af{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new Ib,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ib(t),this._firestoreClient=void 0,await t}}}function QO(n,t){const e=typeof n=="object"?n:x6(),s=typeof n=="string"?n:Qh,a=b6(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=u3("firestore");c&&$O(a,...c)}return a}function q2(n){if(n._terminated)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XO(n),n._firestoreClient}function XO(n){const t=n._freezeSettings(),e=GO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new zO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(en.fromBase64String(t))}catch(e){throw new _t(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ec(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pe("string",Yn._jsonSchemaVersion),bytes:Pe("string")};class G2{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new _t(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yy{constructor(t){this._methodName=t}}class Bi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _t(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _t(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Ec(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Pe("string",Bi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class di{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ec(t,di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new di(t.vectorValues);throw new _t(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Pe("string",di._jsonSchemaVersion),vectorValues:Pe("object")};const ZO=/^__.*__$/;class JO{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new aa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sc(t,this.data,e,this.fieldTransforms)}}function $2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:n})}}class vy{constructor(t,e,s,a,c,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new vy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return af(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($2(this.dataSource)&&ZO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WO{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Ef(t)}createContext(t,e,s,a=!1){return new vy({dataSource:t,methodName:e,targetDoc:s,path:tn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tP(n){const t=n._freezeSettings(),e=Ef(n._databaseId);return new WO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eP(n,t,e,s,a,c={}){const u=n.createContext(c.merge||c.mergeFields?2:0,t,e,a);X2("Data must be an object, but it was:",u,s);const d=Y2(s,u);let m,g;if(c.merge)m=new hi(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const y=[];for(const _ of c.mergeFields){const E=Ty(t,_,e);if(!u.contains(E))throw new _t(st.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);sP(y,E)||y.push(E)}m=new hi(y),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new JO(new Kn(d),m,g)}class _y extends yy{_toFieldTransform(t){return new kI(t.path,new mc)}isEqual(t){return t instanceof _y}}function K2(n,t){if(Q2(n=vo(n)))return X2("Unsupported field value:",t,n),Y2(n,t);if(n instanceof yy)return(function(s,a){if(!$2(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const c=[];let u=0;for(const d of s){let m=K2(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}})(n,t)}return(function(s,a){if((s=vo(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NI(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=le.fromDate(s);return{timestampValue:tf(a.serializer,c)}}if(s instanceof le){const c=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(a.serializer,c)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:d2(a.serializer,s._byteString)};if(s instanceof Ue){const c=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:iy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof di)return(function(u,d){const m=u instanceof di?u.toArray():u;return{mapValue:{fields:{[FC]:{stringValue:HC},[Xh]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return ty(d.serializer,y)}))}}}}}})(s,a);if(T2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Kg(s)}`)})(n,t)}function Y2(n,t){const e={};return kC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(n,((s,a)=>{const c=K2(a,t.childContextForField(s));c!=null&&(e[s]=c)})),{mapValue:{fields:e}}}function Q2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof Bi||n instanceof Yn||n instanceof Ue||n instanceof yy||n instanceof di||T2(n))}function X2(n,t,e){if(!Q2(e)||!OC(e)){const s=Kg(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function Ty(n,t,e){if((t=vo(t))instanceof G2)return t._internalPath;if(typeof t=="string")return iP(n,t);throw af("Field path arguments must be of type string or ",n,!1,void 0,e)}const nP=new RegExp("[~\\*/\\[\\]]");function iP(n,t,e){if(t.search(nP)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new G2(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function af(n,t,e,s,a){const c=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(c||u)&&(m+=" (found",c&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new _t(st.INVALID_ARGUMENT,d+n+m)}function sP(n,t){return n.some((e=>e.isEqual(t)))}class rP{convertValue(t,e="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return sa(t,((a,c)=>{s[a]=this.convertValue(c,e)})),s}convertVectorValue(t){const e=t.fields?.[Xh].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new di(e)}convertGeoPoint(t){return new Bi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=mf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(fc(t));default:return null}}convertTimestamp(t){const e=ar(t);return new le(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=oe.fromString(t);$t(_2(s),9688,{name:t});const a=new dc(s.get(1),s.get(3)),c=new Et(s.popFirst(5));return a.isEqual(e)||ds(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}class Z2 extends rP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,e)}}function aP(){return new _y("serverTimestamp")}const Ob="@firebase/firestore",Pb="4.11.0";function kb(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1})(n,["next","error","complete"])}class J2{constructor(t,e,s,a,c){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Ty("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class oP extends J2{data(){return super.data()}}function lP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _t(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cP(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class $l{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends J2{constructor(t,e,s,a,c,u){super(t,e,s,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Ty("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Zr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Pe("string",Zr._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Ih extends Zr{data(t={}){return super.data(t)}}class mo{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new $l(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Ih(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _t(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Ih(a._firestore,a._userDataWriter,d.doc.key,d.doc,new $l(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>c||d.type!==3)).map((d=>{const m=new Ih(a._firestore,a._userDataWriter,d.doc.key,d.doc,new $l(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:uP(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(e.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Pe("string",mo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function hP(n,t,e){n=ho(n,Ue);const s=ho(n.firestore,rf),a=cP(n.converter,t),c=tP(s);return dP(s,[eP(c,"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,us.none())])}function fP(n,...t){n=vo(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||kb(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(kb(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let c,u,d;if(n instanceof Ue)u=ho(n.firestore,rf),d=Wg(n._key.path),c={next:g=>{t[s]&&t[s](pP(u,n,g))},error:t[s+1],complete:t[s+2]};else{const g=ho(n,xf);u=ho(g.firestore,rf),d=g._query;const y=new Z2(u);c={next:_=>{t[s]&&t[s](new mo(u,y,g,_))},error:t[s+1],complete:t[s+2]},lP(n._query)}const m=q2(u);return FO(m,d,a,c)}function dP(n,t){const e=q2(n);return HO(e,t)}function pP(n,t,e){const s=e.docs.get(t._key),a=new Z2(n);return new Zr(n,a,t._key,s,new $l(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){z6(A6),Kh(new cc("firestore",((s,{instanceIdentifier:a,options:c})=>{const u=s.getProvider("app").getImmediate(),d=new rf(new F6(s.getProvider("auth-internal")),new G6(u,s.getProvider("app-check-internal")),lI(u,a),u);return c={useFetchStreams:e,...c},d._setSettings(c),d}),"PUBLIC").setMultipleInstances(!0)),uo(Ob,Pb,t),uo(Ob,Pb,"esm2020")})();const mP={apiKey:"AIzaSyBQDdzlJemo4Cbw3SKcTDX_YjQ27eCp5ug",authDomain:"ghost-chatamd.firebaseapp.com",projectId:"ghost-chatamd",storageBucket:"ghost-chatamd.appspot.com",messagingSenderId:"100973455099363666904",appId:"1:100973455099363666904:web:abcdef123456"},gP=EC(mP),W2=QO(gP),yP=async(n,t,e)=>{const s=YO(W2,"parallel_rooms",n,"peers",t);await hP(s,{...e,lastSeen:aP()})},vP=(n,t)=>{const e=KO(W2,"parallel_rooms",n,"peers");return fP(e,s=>{const a=[];s.forEach(c=>{a.push({id:c.id,...c.data()})}),t(a)})},tA={name:"ECDH",namedCurve:"P-256"},_P={name:"AES-GCM",length:256};async function TP(){return window.crypto.subtle.generateKey(tA,!0,["deriveKey","deriveBits"])}async function bP(n){return window.crypto.subtle.exportKey("jwk",n)}async function hh(n){return window.crypto.subtle.importKey("jwk",n,tA,!0,[])}async function am(n,t){return window.crypto.subtle.deriveKey({name:"ECDH",public:t},n,_P,!1,["encrypt","decrypt"])}async function Lb(n,t){const e=new TextEncoder,s=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},t,e.encode(n));return JSON.stringify({iv:Array.from(s),data:Array.from(new Uint8Array(a))})}async function EP(n,t){try{const e=JSON.parse(n),s=new Uint8Array(e.iv),a=new Uint8Array(e.data),c=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,a);return new TextDecoder().decode(c)}catch{return null}}const SP=(n,t)=>{const[e,s]=et.useState("disconnected"),[a,c]=et.useState([]),[u,d]=et.useState([]),[m,g]=et.useState(null),[y,_]=et.useState(!1),[E,x]=et.useState({}),P=ut=>{_(ut)};et.useEffect(()=>{if(!y)return;const ut=setInterval(()=>{const dt=Date.now(),V=1440*60*1e3;d(G=>{const it=G.filter(lt=>dt-lt.timestamp<V);return it.length!==G.length?it:G})},60*1e3);return()=>clearInterval(ut)},[y]);const[z,H]=et.useState(null),[$,tt]=et.useState(null),[Z,at]=et.useState(null),ot=(ut,dt)=>{if(!O.current)return;const V=O.current.call(ut,dt);V.on("stream",G=>{at(G)}),V.on("close",()=>w()),V.on("error",()=>{}),tt({call:V,stream:dt})},ht=ut=>{if(!z)return;const{call:dt}=z;dt.answer(ut),dt.on("stream",V=>{at(V)}),dt.on("close",()=>w()),tt({call:dt,stream:ut}),H(null)},w=()=>{$&&($.call.close(),$.stream?.getTracks().forEach(ut=>ut.stop())),z&&z.call.close(),tt(null),H(null),at(null)},A=et.useRef({}),R=et.useRef(null),O=et.useRef(null),N=et.useRef([]),L=ut=>{d(dt=>[...dt,ut].sort((V,G)=>V.timestamp-G.timestamp))},M=async(ut,dt,V)=>{A.current[V]={conn:ut},dt&&(A.current[V].sharedSecret=await am(R.current.privateKey,dt)),ut.on("data",async G=>{if(G.type==="typing"){x(it=>({...it,[V]:Date.now()}));return}if(G.type==="delivered"){d(it=>it.map(lt=>lt.id===G.msgId?{...lt,status:"delivered"}:lt));return}if(G.payload){const it=A.current[V];if(!it.sharedSecret){const bt=N.current.find(Ct=>Ct.id===V);if(bt)try{const Ct=await hh(JSON.parse(bt.key));it.sharedSecret=await am(R.current.privateKey,Ct)}catch{}}if(!it.sharedSecret)return;const lt=await EP(G.payload,it.sharedSecret);if(lt){const bt=JSON.parse(lt);L({...bt,peerId:V,isMe:!1,status:"delivered"}),it.conn.open&&it.conn.send({type:"delivered",msgId:bt.id})}}}),ut.on("close",()=>{delete A.current[V]})},Kt=async ut=>{const dt=ut.peer,V=N.current.find(it=>it.id===dt);let G=null;if(V)try{G=await hh(JSON.parse(V.key))}catch{}M(ut,G,dt)},ce=async ut=>{const dt=O.current;if(!dt)return;const V=dt.connect(ut.id,{metadata:{user:t}}),G=await hh(JSON.parse(ut.key));M(V,G,ut.id)};et.useEffect(()=>{if(!n||!t)return;let ut=()=>{};return typeof window<"u"&&(async()=>{s("connecting"),R.current=await TP();const V=await bP(R.current.publicKey),G=`parallel_${n}_${t}_${Math.floor(Math.random()*1e5)}`;g(G);const it=new WV(G,{debug:1,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}});O.current=it,N.current=[],it.on("open",async lt=>{s("connected"),await yP(n,lt,{user:t,key:JSON.stringify(V)}),ut=vP(n,bt=>{const Ct=bt.filter(Vt=>Vt.id!==lt);c(Ct),N.current=Ct,Ct.forEach(async Vt=>{if(!A.current[Vt.id])ce(Vt);else{const fe=A.current[Vt.id];if(fe&&!fe.sharedSecret){const ne=await hh(JSON.parse(Vt.key));fe.sharedSecret=await am(R.current.privateKey,ne)}}})})}),it.on("connection",lt=>Kt(lt)),it.on("call",lt=>{H({call:lt})}),it.on("error",()=>{s("error")})})(),()=>{O.current&&O.current.destroy(),ut(),A.current={}}},[n,t]);const Q=async(ut,dt)=>{const V={id:Date.now()+Math.random(),user:t,text:ut,timestamp:Date.now()};if(dt){const G=A.current[dt];if(G&&G.conn.open&&G.sharedSecret){const it=await Lb(JSON.stringify(V),G.sharedSecret);G.conn.send({payload:it}),L({...V,isMe:!0,peerId:dt,status:"sent"})}}else Object.values(A.current).forEach(async G=>{if(G.conn.open&&G.sharedSecret){const it=await Lb(JSON.stringify(V),G.sharedSecret);G.conn.send({payload:it})}}),L({...V,isMe:!0,peerId:"broadcast",status:"sent"})},rt=ut=>{const dt=A.current[ut];dt&&dt.conn.open&&dt.conn.send({type:"typing"})},ft=()=>{d([]),navigator.vibrate&&navigator.vibrate([100,50,100,50,200])};return et.useEffect(()=>{const ut=setInterval(()=>{const dt=Date.now();x(V=>{const G={};for(const[it,lt]of Object.entries(V))dt-lt<3e3&&(G[it]=lt);return Object.keys(G).length!==Object.keys(V).length?G:V})},1e3);return()=>clearInterval(ut)},[]),{status:e,peers:a,messages:u,sendMessage:Q,myPeerId:m,callPeer:ot,incomingCall:z,answerCall:ht,endCall:w,activeCall:$,remoteStream:Z,retentionEnabled:y,toggleRetention:P,typingPeers:E,sendTyping:rt,panicWipe:ft}},CP=({onLock:n})=>{const[t,e]=et.useState(null),[s,a]=et.useState(!0),[c,u]=et.useState(""),[d,m]=et.useState(""),g=SP(s?null:c,s?null:d);et.useEffect(()=>{const _=E=>{E.key==="PrintScreen"&&alert(" Security Warning: Screenshots are discouraged in Parallel.")};return window.addEventListener("keyup",_),()=>window.removeEventListener("keyup",_)},[]);const y=_=>{_.preventDefault(),c&&d&&a(!1)};return s?D.jsxs("div",{className:"bg-white text-black h-[100dvh] flex flex-col items-center justify-center p-8 font-sans overflow-hidden",children:[D.jsxs("div",{className:"mb-12 relative flex flex-col items-center",children:[D.jsx("button",{onClick:n,className:"absolute -top-8 left-0 text-gray-400 hover:text-black transition-colors",children:D.jsx(oc,{size:24})}),D.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("defs",{children:D.jsx("clipPath",{id:"roundedBox",children:D.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25"})})}),D.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25",stroke:"black",strokeWidth:"3",fill:"none"}),D.jsxs("g",{clipPath:"url(#roundedBox)",children:[D.jsx("line",{x1:"38",y1:"0",x2:"38",y2:"100",stroke:"black",strokeWidth:"4"}),D.jsx("line",{x1:"62",y1:"0",x2:"62",y2:"100",stroke:"black",strokeWidth:"4"})]})]}),D.jsx("h1",{className:"text-2xl font-light tracking-[0.3em] mt-6",style:{fontFamily:"Inter, sans-serif"},children:"PARALLEL"})]}),D.jsxs("form",{onSubmit:y,className:"w-full max-w-sm space-y-4",children:[D.jsxs("div",{className:"space-y-3",children:[D.jsx("input",{value:d,onChange:_=>m(_.target.value),placeholder:"Username",className:"w-full bg-gray-50 text-black p-4 rounded-lg outline-none border border-gray-300 focus:border-black text-base placeholder-gray-500 transition-colors",autoFocus:!0}),D.jsx("input",{value:c,onChange:_=>u(_.target.value),placeholder:"Room Key",className:"w-full bg-gray-50 text-black p-4 rounded-lg outline-none border border-gray-300 focus:border-black text-base placeholder-gray-500 transition-colors"})]}),D.jsxs("button",{type:"submit",className:"w-full bg-black text-white p-4 rounded-lg font-semibold text-base hover:opacity-80 transition-opacity flex items-center justify-center gap-2",children:[D.jsx("span",{children:"Enter Parallel"}),D.jsx(oc,{className:"rotate-180",size:18})]})]}),D.jsx("div",{className:"mt-auto mb-4 text-xs text-gray-400 font-medium tracking-widest text-center",children:"ENCRYPTED P2P MESSENGER"})]}):D.jsxs("div",{className:"bg-black text-white h-[100dvh] w-full flex flex-col font-sans overflow-hidden relative",children:[D.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 opacity-[0.03] overflow-hidden flex flex-wrap content-center justify-center select-none",children:Array.from({length:12}).map((_,E)=>D.jsx("div",{className:"w-64 h-64 flex items-center justify-center transform -rotate-45",children:D.jsx("span",{className:"text-2xl font-black text-white whitespace-nowrap",children:"PARALLEL SECURE"})},E))}),D.jsx(Uh,{initial:!1,mode:"wait",children:t?D.jsx(xP,{chat:t,messages:g.messages.filter(_=>_.peerId===t.id),onSendMessage:_=>g.sendMessage(_,t.id),onVideoCall:_=>g.callPeer(t.id,_),onBack:()=>e(null),isTyping:!!g.typingPeers[t.id],onTyping:()=>g.sendTyping(t.id)},"conversation"):D.jsx(AP,{peers:g.peers,onLock:n,onSelectChat:_=>e(_),status:g.status,currentUser:d,retentionEnabled:g.retentionEnabled,onToggleRetention:g.toggleRetention,onPanicWipe:()=>{g.panicWipe(),n()}},"list")}),g.incomingCall&&D.jsx(RP,{call:g.incomingCall,onAnswer:()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(_=>{g.answerCall(_)}).catch(()=>{})},onReject:()=>g.endCall()}),g.activeCall&&D.jsx(DP,{call:g.activeCall,remoteStream:g.remoteStream,onEnd:()=>g.endCall()})]})},AP=({onLock:n,onSelectChat:t,peers:e,status:s,currentUser:a,retentionEnabled:c,onToggleRetention:u,onPanicWipe:d})=>D.jsxs(yo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full bg-black",children:[D.jsxs("header",{className:"px-4 py-3 flex justify-between items-center sticky top-0 z-10 bg-black",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("button",{onClick:n,className:"text-white",children:D.jsx(oc,{size:24,strokeWidth:2})}),D.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",children:[D.jsx("h1",{className:"text-xl font-bold",children:a}),D.jsx("span",{className:"text-[10px] mt-1 text-gray-400",children:""})]})]}),D.jsxs("div",{className:"flex gap-5 text-white items-center",children:[D.jsx("button",{onClick:d,className:"relative text-red-500 hover:text-red-400 active:scale-90 transition-all",title:"Panic Wipe",children:D.jsx(RV,{size:22,strokeWidth:2})}),D.jsxs("button",{onClick:()=>u(!c),className:`relative transition-colors ${c?"text-blue-500":"text-gray-500"}`,children:[D.jsx(XM,{size:24,strokeWidth:1.5}),c&&D.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full"})]}),D.jsxs("div",{className:"relative",children:[D.jsx(hf,{size:28,strokeWidth:1.5}),s==="connected"&&D.jsx("div",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-black animate-pulse"}),s==="connecting"&&D.jsx("div",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-yellow-500 rounded-full border-2 border-black animate-ping"})]}),D.jsxs("div",{className:"relative",children:[D.jsx(_V,{size:26,strokeWidth:1.5,className:"-rotate-12 translate-y-0.5"}),e.length>0&&D.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-[10px] font-bold px-1 rounded-full min-w-[16px] text-center",children:e.length})]})]})]}),D.jsx("div",{className:"px-4 mt-2 mb-4",children:D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:D.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),D.jsx("input",{type:"text",placeholder:"Search",className:"w-full bg-[#262626] text-white py-2 pl-10 pr-4 rounded-xl text-sm outline-none placeholder-gray-500"})]})}),D.jsxs("div",{className:"pl-4 pb-4 overflow-x-auto whitespace-nowrap scrollbar-hide",children:[D.jsxs("div",{className:"inline-flex flex-col items-center mr-4 relative",children:[D.jsxs("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center relative",children:[D.jsx("span",{className:"text-2xl font-bold text-gray-500",children:"+"}),D.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full p-0.5",children:D.jsx(gV,{size:14,className:"text-black"})})]}),D.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Your note"})]}),e.map(m=>D.jsxs("div",{className:"inline-flex flex-col items-center mr-4",onClick:()=>t(m),children:[D.jsx("div",{className:"w-16 h-16 rounded-full p-[2px] bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-600",children:D.jsx("div",{className:"w-full h-full rounded-full bg-black p-[2px]",children:D.jsx("div",{className:"w-full h-full rounded-full bg-gray-700 flex items-center justify-center text-lg font-semibold cursor-pointer",children:m.user[0].toUpperCase()})})}),D.jsx("span",{className:"text-xs text-white mt-1",children:m.user})]},m.id))]}),D.jsxs("div",{className:"flex-1 overflow-y-auto",children:[D.jsxs("div",{className:"px-4 py-2 flex justify-between items-center text-white",children:[D.jsx("h3",{className:"font-bold text-base",children:"Messages"}),D.jsx("span",{className:"text-[#0095F6] text-sm font-semibold",children:"Requests"})]}),e.length===0&&D.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[D.jsx("div",{className:`w-4 h-4 rounded-full mb-3 ${s==="connecting"?"bg-yellow-500 animate-ping":s==="connected"?"bg-green-500 animate-pulse":"bg-gray-600"}`}),D.jsx("p",{children:s==="connecting"?"Connecting to room...":s==="connected"?"Waiting for peers...":"Disconnected"})]}),e.map(m=>D.jsxs("button",{onClick:()=>t({id:m.id,name:m.user}),className:"w-full px-4 py-3 flex items-center gap-3 active:bg-[#121212] transition-colors",children:[D.jsxs("div",{className:"w-14 h-14 rounded-full bg-gray-700 flex items-center justify-center font-bold text-lg text-white relative",children:[m.user[0].toUpperCase(),D.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-black"})]}),D.jsxs("div",{className:"flex-1 text-left",children:[D.jsx("h3",{className:"text-sm font-normal text-white",children:m.user}),D.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[D.jsx("span",{children:"Active now"}),D.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"})]})]}),D.jsx("div",{className:"text-gray-500",children:D.jsx(AS,{size:22,strokeWidth:1.5})})]},m.id))]})]}),xP=({chat:n,onBack:t,messages:e,onSendMessage:s,onVideoCall:a,isTyping:c,onTyping:u})=>{const[d,m]=et.useState(""),[g,y]=et.useState(null),_=et.useRef(null),E=et.useRef(null),x=["","","","","",""],P=()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then($=>{a($)}).catch(()=>alert("Camera access required for video calls."))},z=$=>{$.preventDefault(),d.trim()&&(s(d),m(""),navigator.vibrate&&navigator.vibrate(10))},H=$=>{m($.target.value),E.current||(u(),E.current=setTimeout(()=>{E.current=null},2e3))};return et.useEffect(()=>{_.current?.scrollIntoView({behavior:"smooth"})},[e,c]),D.jsxs(yo.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 bg-black flex flex-col z-20",children:[D.jsxs("header",{className:"px-3 py-2 flex items-center justify-between bg-black border-b border-[#262626]",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("button",{onClick:t,className:"text-white",children:D.jsx(oc,{size:28,strokeWidth:1.5})}),D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-600 p-[1.5px]",children:D.jsx("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center",children:D.jsx("div",{className:"w-full h-full rounded-full bg-gray-700 flex items-center justify-center text-[10px] text-white",children:n.name[0]})})}),D.jsxs("div",{className:"flex flex-col",children:[D.jsx("h3",{className:"text-sm font-bold leading-tight text-white",children:n.name}),D.jsx("span",{className:"text-[11px] text-gray-400",children:c?D.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:["typing",D.jsxs("span",{className:"flex gap-0.5",children:[D.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),D.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),D.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"E2E Encrypted  Active now"})]})]})]}),D.jsxs("div",{className:"flex gap-6 text-white pr-2",children:[D.jsx(pV,{size:24,strokeWidth:1.5}),D.jsx("button",{onClick:P,children:D.jsx(hf,{size:28,strokeWidth:1.5})}),D.jsx(aV,{size:24,strokeWidth:1.5})]})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",onClick:()=>y(null),children:[e.map(($,tt)=>{const Z=$.isMe,at=tt===e.length-1,ot=!Z&&(at||e[tt+1]?.isMe);return D.jsxs("div",{className:`flex ${Z?"justify-end":"justify-start"} mb-1 relative group`,children:[!Z&&D.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-700 mr-2 flex-shrink-0 self-end overflow-hidden",children:ot&&D.jsx("div",{className:"w-full h-full flex items-center justify-center text-[10px]",children:$.user[0]})}),D.jsxs("div",{className:"relative",children:[D.jsx(Uh,{children:g===$.id&&D.jsx(yo.div,{initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:"absolute -top-10 left-0 right-0 flex justify-center z-30",children:D.jsx("div",{className:"bg-[#333] rounded-full px-2 py-1 flex gap-1 shadow-xl",children:x.map(ht=>D.jsx("button",{className:"text-lg hover:scale-125 transition-transform px-0.5",onClick:w=>{w.stopPropagation(),y(null)},children:ht},ht))})})}),D.jsx("div",{onDoubleClick:()=>y($.id),className:`
                                        max-w-[70%] px-4 py-3 text-[15px] leading-snug break-words cursor-pointer select-none
                                        ${Z?"bg-[#3797F0] text-white rounded-[22px] rounded-br-md":"bg-[#262626] text-white rounded-[22px] rounded-bl-md"}
                                    `,children:$.text}),Z&&D.jsx("div",{className:"flex justify-end mt-0.5 pr-1",children:$.status==="delivered"?D.jsx($M,{size:14,className:"text-blue-400"}):D.jsx(YM,{size:14,className:"text-gray-500"})})]})]},$.id)}),c&&D.jsxs("div",{className:"flex justify-start mb-1",children:[D.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-700 mr-2 flex-shrink-0 self-end"}),D.jsx("div",{className:"bg-[#262626] rounded-[22px] rounded-bl-md px-4 py-3",children:D.jsxs("div",{className:"flex gap-1",children:[D.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),D.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),D.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),D.jsx("div",{ref:_})]}),D.jsxs("form",{onSubmit:z,className:"p-3 bg-black flex items-center gap-3 mb-1",children:[D.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-[#262626] text-white cursor-pointer",children:D.jsx(AS,{size:22,className:"text-[#3797F0]"})}),D.jsxs("div",{className:"flex-1 bg-[#262626] rounded-full h-11 flex items-center px-4 gap-2 border border-transparent focus-within:border-gray-700 transition-colors",children:[D.jsx("input",{value:d,onChange:H,type:"text",placeholder:"Message...",className:"bg-transparent border-none outline-none text-white text-[15px] w-full placeholder-gray-400"}),!d&&D.jsx(xS,{size:20,className:"text-white"}),!d&&D.jsx(sV,{size:20,className:"text-white"}),d&&D.jsx("button",{type:"submit",className:"text-[#0095F6] font-semibold text-sm",children:"Send"})]}),!d&&D.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full text-white cursor-pointer hover:bg-[#121212]",children:D.jsx(nV,{size:24,strokeWidth:1.5})})]})]})},RP=({onAnswer:n,onReject:t})=>D.jsxs(yo.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-4 left-4 right-4 bg-gray-900 rounded-2xl p-4 shadow-2xl border border-gray-800 z-50 flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 animate-pulse"}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-white font-bold",children:"Incoming Video Call..."}),D.jsx("span",{className:"text-xs text-gray-400",children:"Encrypted P2P Connection"})]})]}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:t,className:"p-3 bg-red-500 rounded-full text-white",children:D.jsx(RS,{size:20})}),D.jsx("button",{onClick:n,className:"p-3 bg-green-500 rounded-full text-white",children:D.jsx(hf,{size:20})})]})]}),DP=({call:n,remoteStream:t,onEnd:e})=>{const s=et.useRef(null),a=et.useRef(null),[c,u]=et.useState(!1),[d,m]=et.useState(!1);et.useEffect(()=>{s.current&&t&&(s.current.srcObject=t),a.current&&n.stream&&(a.current.srcObject=n.stream)},[t,n.stream]);const g=()=>{n.stream&&(n.stream.getAudioTracks().forEach(_=>_.enabled=c),u(!c))},y=()=>{n.stream&&(n.stream.getVideoTracks().forEach(_=>_.enabled=d),m(!d))};return D.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[D.jsxs("div",{className:"flex-1 relative bg-gray-900",children:[t?D.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):D.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:"Connecting..."}),D.jsx("div",{className:"absolute top-4 right-4 w-32 h-48 bg-gray-800 rounded-xl overflow-hidden border-2 border-white/20 shadow-lg",children:D.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})})]}),D.jsxs("div",{className:"h-24 bg-black/80 backdrop-blur-md flex items-center justify-center gap-8 pb-4",children:[D.jsx("button",{onClick:g,className:`p-4 rounded-full ${c?"bg-white text-black":"bg-gray-800 text-white"}`,children:c?D.jsx(uV,{}):D.jsx(xS,{})}),D.jsx("button",{onClick:e,className:"p-4 rounded-full bg-red-600 text-white shadow-lg scale-110",children:D.jsx(RS,{size:32})}),D.jsx("button",{onClick:y,className:`p-4 rounded-full ${d?"bg-white text-black":"bg-gray-800 text-white"}`,children:d?D.jsx(EV,{}):D.jsx(hf,{})})]})]})},wP=({onLock:n})=>{const[t,e]=et.useState([{id:"bitcoin",symbol:"BTC",name:"Bitcoin",balance:.245,price:96400,change:2.4,history:[94e3,95200,94800,96e3,96400]},{id:"ethereum",symbol:"ETH",name:"Ethereum",balance:4.12,price:2750,change:-1.2,history:[2800,2780,2760,2740,2750]},{id:"solana",symbol:"SOL",name:"Solana",balance:145.5,price:112.4,change:5.8,history:[105,108,110,111,112.4]}]),[s,a]=et.useState(!1),c=async()=>{a(!0);try{const _=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana&vs_currencies=usd&include_24hr_change=true")).json();_&&e(E=>E.map(x=>{const P=_[x.id];return P?{...x,price:P.usd,change:P.usd_24h_change}:x}))}catch(y){console.error("Failed to fetch prices",y)}finally{setTimeout(()=>a(!1),800)}};et.useEffect(()=>{c();const y=setInterval(c,6e4);return()=>clearInterval(y)},[]);const u=t.reduce((y,_)=>y+_.price*_.balance,0),d=t.reduce((y,_)=>{const E=_.price*_.balance;return y+E*(_.change/100)},0),m=u>0?d/(u-d)*100:0,g=(y,_,E)=>{const x=Math.min(...y),z=Math.max(...y)-x||1,H=_/(y.length-1);return`M ${y.map((tt,Z)=>{const at=Z*H,ot=E-(tt-x)/z*E;return`${at},${ot}`}).join(" L ")}`};return D.jsxs("div",{className:"bg-black text-white h-[100dvh] flex flex-col font-sans overflow-hidden",children:[D.jsxs("div",{className:"p-6 pt-8 bg-gradient-to-b from-[#1a1a1a] to-black rounded-b-3xl shadow-lg relative z-10",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("button",{onClick:n,className:"p-2 bg-[#262626] rounded-full hover:bg-gray-700 transition-colors",children:D.jsx(oc,{size:20})}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("div",{className:"p-2 bg-[#262626] rounded-full",children:D.jsx(v1,{size:20})}),D.jsx("div",{className:"p-2 bg-[#262626] rounded-full",children:D.jsx(p1,{size:20})})]})]}),D.jsxs("div",{className:"flex flex-col items-center mb-4",children:[D.jsx("span",{className:"text-gray-400 text-sm font-medium tracking-wider mb-1",children:"TOTAL BALANCE"}),D.jsxs("h1",{className:"text-4xl font-bold tracking-tight",children:["$",u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),D.jsxs("div",{className:`flex items-center gap-1 mt-2 px-3 py-1 rounded-full text-xs font-bold ${d>=0?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:[d>=0?D.jsx(g1,{size:14}):D.jsx(m1,{size:14}),D.jsxs("span",{children:[d>=0?"+":"","$",Math.abs(d).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," (",m>=0?"+":"",m.toFixed(1),"%)"]})]})]}),D.jsxs("div",{className:"flex justify-center gap-6 mt-6",children:[D.jsx(fh,{icon:D.jsx(g1,{}),label:"Send"}),D.jsx(fh,{icon:D.jsx(m1,{}),label:"Receive"}),D.jsx(fh,{icon:D.jsx(y1,{className:s?"animate-spin":""}),label:"Swap",onClick:c}),D.jsx(fh,{icon:D.jsx(JM,{}),label:"Buy"})]})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[D.jsxs("div",{className:"flex justify-between items-center px-2 mb-2",children:[D.jsx("h3",{className:"text-lg font-bold",children:"Assets"}),D.jsx("span",{className:"text-sm text-[#0095F6] font-semibold cursor-pointer",children:"See All"})]}),t.map(y=>D.jsxs("div",{className:"bg-[#121212] p-4 rounded-2xl flex items-center justify-between active:bg-[#1a1a1a] transition-colors",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center font-bold text-white border border-gray-700",children:y.symbol[0]}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-bold text-base",children:y.name}),D.jsxs("span",{className:"text-xs text-gray-500",children:[y.balance," ",y.symbol]})]})]}),D.jsx("div",{className:"w-16 h-8",children:D.jsx("svg",{width:"64",height:"32",viewBox:"0 0 100 50",preserveAspectRatio:"none",children:D.jsx("path",{d:g(y.history,100,50),fill:"none",stroke:y.change>=0?"#4ade80":"#ef4444",strokeWidth:"3",vectorEffect:"non-scaling-stroke"})})}),D.jsxs("div",{className:"text-right",children:[D.jsxs("h4",{className:"font-bold text-base",children:["$",y.price.toLocaleString()]}),D.jsxs("div",{className:`text-xs font-semibold flex items-center justify-end gap-0.5 ${y.change>=0?"text-green-400":"text-red-400"}`,children:[y.change>=0?"+":"",y.change.toFixed(2),"%"]})]})]},y.id))]}),D.jsxs("div",{className:"h-20 bg-black border-t border-[#262626] flex items-center justify-around text-gray-500 pb-4",children:[D.jsx(dh,{icon:D.jsx(AV,{}),label:"Wallet",active:!0}),D.jsx(dh,{icon:D.jsx(p1,{}),label:"Market"}),D.jsx(dh,{icon:D.jsx(y1,{}),label:"Trade"}),D.jsx(dh,{icon:D.jsx(v1,{}),label:"Settings"})]})]})},fh=({icon:n,label:t,onClick:e})=>D.jsxs("div",{className:"flex flex-col items-center gap-2 cursor-pointer group",onClick:e,children:[D.jsx("div",{className:"w-12 h-12 rounded-full bg-[#262626] flex items-center justify-center text-white group-active:scale-95 transition-transform border border-transparent group-hover:border-gray-600",children:zb.cloneElement(n,{size:20})}),D.jsx("span",{className:"text-xs text-gray-400 font-medium",children:t})]}),dh=({icon:n,label:t,active:e})=>D.jsxs("div",{className:`flex flex-col items-center gap-1 cursor-pointer ${e?"text-white":"text-gray-600"}`,children:[zb.cloneElement(n,{size:24}),D.jsx("span",{className:"text-[10px] font-medium",children:t})]});function MP(){const[n,t]=et.useState(!0),[e,s]=et.useState("private"),[a,c]=et.useState(!1);et.useEffect(()=>{const m=()=>c(!0),g=()=>c(!1);return window.addEventListener("blur",m),window.addEventListener("focus",g),()=>{window.removeEventListener("blur",m),window.removeEventListener("focus",g)}},[]);const u=m=>{s(m),t(!1)},d=()=>{t(!0)};return D.jsxs("div",{className:"h-screen w-full overflow-hidden bg-gray-50 relative",children:[D.jsx(Uh,{children:a&&D.jsx(yo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-3xl flex items-center justify-center pointer-events-none",children:D.jsxs("div",{className:"text-white text-center",children:[D.jsx("div",{className:"text-6xl mb-6",children:""}),D.jsx("h2",{className:"text-2xl font-bold tracking-widest uppercase",children:"Parallel Protected"}),D.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Content Hidden for Privacy"})]})})}),D.jsxs(Uh,{mode:"wait",children:[n?D.jsx(DV,{onAuthenticated:u},"auth"):e==="dummy"?D.jsx(wP,{onLock:d},"dummy"):null,D.jsx("div",{className:"absolute inset-0 z-20",style:{display:!n&&e==="private"?"block":"none"},children:D.jsx(CP,{onLock:d},"private")})]})]})}Bx.createRoot(document.getElementById("root")).render(D.jsx(et.StrictMode,{children:D.jsx(MP,{})}));
