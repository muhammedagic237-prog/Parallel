function W5(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function nx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jp={exports:{}},Bl={};var a_;function J5(){if(a_)return Bl;a_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var o_;function eA(){return o_||(o_=1,jp.exports=J5()),jp.exports}var _=eA(),Op={exports:{}},De={};var l_;function tA(){if(l_)return De;l_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function Q(P,q,J){this.props=P,this.context=q,this.refs=O,this.updater=J||M}Q.prototype.isReactComponent={},Q.prototype.setState=function(P,q){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,q,"setState")},Q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ee(){}ee.prototype=Q.prototype;function B(P,q,J){this.props=P,this.context=q,this.refs=O,this.updater=J||M}var re=B.prototype=new ee;re.constructor=B,L(re,Q.prototype),re.isPureReactComponent=!0;var le=Array.isArray;function he(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(P,q,J){var ne=J.ref;return{$$typeof:n,type:P,key:q,ref:ne!==void 0?ne:null,props:J}}function I(P,q){return w(P.type,q,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function z(P){var q={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(J){return q[J]})}var N=/\/+/g;function me(P,q){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):q.toString(36)}function Ie(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(he,he):(P.status="pending",P.then(function(q){P.status==="pending"&&(P.status="fulfilled",P.value=q)},function(q){P.status==="pending"&&(P.status="rejected",P.reason=q)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Y(P,q,J,ne,ue){var de=typeof P;(de==="undefined"||de==="boolean")&&(P=null);var ve=!1;if(P===null)ve=!0;else switch(de){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(P.$$typeof){case n:case e:ve=!0;break;case y:return ve=P._init,Y(ve(P._payload),q,J,ne,ue)}}if(ve)return ue=ue(P),ve=ne===""?"."+me(P,0):ne,le(ue)?(J="",ve!=null&&(J=ve.replace(N,"$&/")+"/"),Y(ue,q,J,"",function(Ze){return Ze})):ue!=null&&(V(ue)&&(ue=I(ue,J+(ue.key==null||P&&P.key===ue.key?"":(""+ue.key).replace(N,"$&/")+"/")+ve)),q.push(ue)),1;ve=0;var Oe=ne===""?".":ne+":";if(le(P))for(var Te=0;Te<P.length;Te++)ne=P[Te],de=Oe+me(ne,Te),ve+=Y(ne,q,J,de,ue);else if(Te=C(P),typeof Te=="function")for(P=Te.call(P),Te=0;!(ne=P.next()).done;)ne=ne.value,de=Oe+me(ne,Te++),ve+=Y(ne,q,J,de,ue);else if(de==="object"){if(typeof P.then=="function")return Y(Ie(P),q,J,ne,ue);throw q=String(P),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ve}function oe(P,q,J){if(P==null)return P;var ne=[],ue=0;return Y(P,ne,"","",function(de){return q.call(J,de,ue++)}),ne}function fe(P){if(P._status===-1){var q=P._result;q=q(),q.then(function(J){(P._status===0||P._status===-1)&&(P._status=1,P._result=J)},function(J){(P._status===0||P._status===-1)&&(P._status=2,P._result=J)}),P._status===-1&&(P._status=0,P._result=q)}if(P._status===1)return P._result.default;throw P._result}var Re=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},je={map:oe,forEach:function(P,q,J){oe(P,function(){q.apply(this,arguments)},J)},count:function(P){var q=0;return oe(P,function(){q++}),q},toArray:function(P){return oe(P,function(q){return q})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return De.Activity=b,De.Children=je,De.Component=Q,De.Fragment=t,De.Profiler=a,De.PureComponent=B,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,De.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},De.cache=function(P){return function(){return P.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(P,q,J){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ne=L({},P.props),ue=P.key;if(q!=null)for(de in q.key!==void 0&&(ue=""+q.key),q)!A.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(ne[de]=q[de]);var de=arguments.length-2;if(de===1)ne.children=J;else if(1<de){for(var ve=Array(de),Oe=0;Oe<de;Oe++)ve[Oe]=arguments[Oe+2];ne.children=ve}return w(P.type,ue,ne)},De.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},De.createElement=function(P,q,J){var ne,ue={},de=null;if(q!=null)for(ne in q.key!==void 0&&(de=""+q.key),q)A.call(q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ue[ne]=q[ne]);var ve=arguments.length-2;if(ve===1)ue.children=J;else if(1<ve){for(var Oe=Array(ve),Te=0;Te<ve;Te++)Oe[Te]=arguments[Te+2];ue.children=Oe}if(P&&P.defaultProps)for(ne in ve=P.defaultProps,ve)ue[ne]===void 0&&(ue[ne]=ve[ne]);return w(P,de,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(P){return{$$typeof:d,render:P}},De.isValidElement=V,De.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:fe}},De.memo=function(P,q){return{$$typeof:g,type:P,compare:q===void 0?null:q}},De.startTransition=function(P){var q=D.T,J={};D.T=J;try{var ne=P(),ue=D.S;ue!==null&&ue(J,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(he,Re)}catch(de){Re(de)}finally{q!==null&&J.types!==null&&(q.types=J.types),D.T=q}},De.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},De.use=function(P){return D.H.use(P)},De.useActionState=function(P,q,J){return D.H.useActionState(P,q,J)},De.useCallback=function(P,q){return D.H.useCallback(P,q)},De.useContext=function(P){return D.H.useContext(P)},De.useDebugValue=function(){},De.useDeferredValue=function(P,q){return D.H.useDeferredValue(P,q)},De.useEffect=function(P,q){return D.H.useEffect(P,q)},De.useEffectEvent=function(P){return D.H.useEffectEvent(P)},De.useId=function(){return D.H.useId()},De.useImperativeHandle=function(P,q,J){return D.H.useImperativeHandle(P,q,J)},De.useInsertionEffect=function(P,q){return D.H.useInsertionEffect(P,q)},De.useLayoutEffect=function(P,q){return D.H.useLayoutEffect(P,q)},De.useMemo=function(P,q){return D.H.useMemo(P,q)},De.useOptimistic=function(P,q){return D.H.useOptimistic(P,q)},De.useReducer=function(P,q,J){return D.H.useReducer(P,q,J)},De.useRef=function(P){return D.H.useRef(P)},De.useState=function(P){return D.H.useState(P)},De.useSyncExternalStore=function(P,q,J){return D.H.useSyncExternalStore(P,q,J)},De.useTransition=function(){return D.H.useTransition()},De.version="19.2.4",De}var c_;function vg(){return c_||(c_=1,Op.exports=tA()),Op.exports}var H=vg();const df=nx(H);var Lp={exports:{}},Ul={},zp={exports:{}},Bp={};var u_;function nA(){return u_||(u_=1,(function(n){function e(Y,oe){var fe=Y.length;Y.push(oe);e:for(;0<fe;){var Re=fe-1>>>1,je=Y[Re];if(0<a(je,oe))Y[Re]=oe,Y[fe]=je,fe=Re;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],fe=Y.pop();if(fe!==oe){Y[0]=fe;e:for(var Re=0,je=Y.length,P=je>>>1;Re<P;){var q=2*(Re+1)-1,J=Y[q],ne=q+1,ue=Y[ne];if(0>a(J,fe))ne<je&&0>a(ue,J)?(Y[Re]=ue,Y[ne]=fe,Re=ne):(Y[Re]=J,Y[q]=fe,Re=q);else if(ne<je&&0>a(ue,fe))Y[Re]=ue,Y[ne]=fe,Re=ne;else break e}}return oe}function a(Y,oe){var fe=Y.sortIndex-oe.sortIndex;return fe!==0?fe:Y.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],g=[],y=1,b=null,S=3,C=!1,M=!1,L=!1,O=!1,Q=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(g)}}function le(Y){if(L=!1,re(Y),!M)if(t(m)!==null)M=!0,he||(he=!0,z());else{var oe=t(g);oe!==null&&Ie(le,oe.startTime-Y)}}var he=!1,D=-1,A=5,w=-1;function I(){return O?!0:!(n.unstable_now()-w<A)}function V(){if(O=!1,he){var Y=n.unstable_now();w=Y;var oe=!0;try{e:{M=!1,L&&(L=!1,ee(D),D=-1),C=!0;var fe=S;try{t:{for(re(Y),b=t(m);b!==null&&!(b.expirationTime>Y&&I());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,S=b.priorityLevel;var je=Re(b.expirationTime<=Y);if(Y=n.unstable_now(),typeof je=="function"){b.callback=je,re(Y),oe=!0;break t}b===t(m)&&s(m),re(Y)}else s(m);b=t(m)}if(b!==null)oe=!0;else{var P=t(g);P!==null&&Ie(le,P.startTime-Y),oe=!1}}break e}finally{b=null,S=fe,C=!1}oe=void 0}}finally{oe?z():he=!1}}}var z;if(typeof B=="function")z=function(){B(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,me=N.port2;N.port1.onmessage=V,z=function(){me.postMessage(null)}}else z=function(){Q(V,0)};function Ie(Y,oe){D=Q(function(){Y(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var fe=S;S=oe;try{return Y()}finally{S=fe}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=S;S=Y;try{return oe()}finally{S=fe}},n.unstable_scheduleCallback=function(Y,oe,fe){var Re=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,Y){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=fe+je,Y={id:y++,callback:oe,priorityLevel:Y,startTime:fe,expirationTime:je,sortIndex:-1},fe>Re?(Y.sortIndex=fe,e(g,Y),t(m)===null&&Y===t(g)&&(L?(ee(D),D=-1):L=!0,Ie(le,fe-Re))):(Y.sortIndex=je,e(m,Y),M||C||(M=!0,he||(he=!0,z()))),Y},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(Y){var oe=S;return function(){var fe=S;S=oe;try{return Y.apply(this,arguments)}finally{S=fe}}}})(Bp)),Bp}var h_;function iA(){return h_||(h_=1,zp.exports=nA()),zp.exports}var Up={exports:{}},an={};var f_;function sA(){if(f_)return an;f_=1;var n=vg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},an.flushSync=function(m){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=y,s.d.f()}},an.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},an.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,g){return m(g)},an.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.4",an}var d_;function rA(){if(d_)return Up.exports;d_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=sA(),Up.exports}var p_;function aA(){if(p_)return Ul;p_=1;var n=iA(),e=vg(),t=rA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var x=!1,E=f.child;E;){if(E===o){x=!0,o=f,c=p;break}if(E===c){x=!0,c=f,o=p;break}E=E.sibling}if(!x){for(E=p.child;E;){if(E===o){x=!0,o=p,c=f;break}if(E===c){x=!0,c=p,o=f;break}E=E.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),B=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case Q:return"Profiler";case O:return"StrictMode";case le:return"Suspense";case he:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case B:return i.displayName||"Context";case ee:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:me(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return me(i(r))}catch{}}return null}var Ie=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Re=[],je=-1;function P(i){return{current:i}}function q(i){0>je||(i.current=Re[je],Re[je]=null,je--)}function J(i,r){je++,Re[je]=i.current,i.current=r}var ne=P(null),ue=P(null),de=P(null),ve=P(null);function Oe(i,r){switch(J(de,r),J(ue,i),J(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?D1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=D1(r),i=M1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(ne),J(ne,i)}function Te(){q(ne),q(ue),q(de)}function Ze(i){i.memoizedState!==null&&J(ve,i);var r=ne.current,o=M1(r,i.type);r!==o&&(J(ue,i),J(ne,o))}function at(i){ue.current===i&&(q(ne),q(ue)),ve.current===i&&(q(ve),jl._currentValue=fe)}var Ct,Dn;function Un(i){if(Ct===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ct=r&&r[1]||"",Dn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+i+Dn}var jo=!1;function Tr(i,r){if(!i||jo)return"";jo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var K=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){K=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){K=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),x=p[0],E=p[1];if(x&&E){var k=x.split(`
`),$=E.split(`
`);for(f=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===k.length||f===$.length)for(c=k.length-1,f=$.length-1;1<=c&&0<=f&&k[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(k[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||k[c]!==$[f]){var W=`
`+k[c].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=c&&0<=f);break}}}finally{jo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Un(o):""}function Oo(i,r){switch(i.tag){case 26:case 27:case 5:return Un(i.type);case 16:return Un("Lazy");case 13:return i.child!==r&&r!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Tr(i.type,!1);case 11:return Tr(i.type.render,!1);case 1:return Tr(i.type,!0);case 31:return Un("Activity");default:return""}}function Lo(i){try{var r="",o=null;do r+=Oo(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Ss=n.unstable_cancelCallback,Lf=n.unstable_shouldYield,Vc=n.unstable_requestPaint,dn=n.unstable_now,Sr=n.unstable_getCurrentPriorityLevel,zo=n.unstable_ImmediatePriority,Bo=n.unstable_UserBlockingPriority,Es=n.unstable_NormalPriority,zf=n.unstable_LowPriority,Ic=n.unstable_IdlePriority,Pc=n.log,jc=n.unstable_setDisableYieldValue,si=null,Qt=null;function Fn(i){if(typeof Pc=="function"&&jc(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(si,i)}catch{}}var bt=Math.clz32?Math.clz32:Lc,Oc=Math.log,ma=Math.LN2;function Lc(i){return i>>>=0,i===0?32:31-(Oc(i)/ma|0)|0}var xi=256,Er=262144,Rt=4194304;function Ti(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Si(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~p,c!==0?f=Ti(c):(x&=E,x!==0?f=Ti(x):o||(o=E&~i,o!==0&&(f=Ti(o))))):(E=c&~p,E!==0?f=Ti(E):x!==0?f=Ti(x):o||(o=c&~i,o!==0&&(f=Ti(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ri(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Bf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Ei(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Cr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Uf(i,r,o,c,f,p){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,k=i.expirationTimes,$=i.hiddenUpdates;for(o=x&~o;0<o;){var W=31-bt(o),ie=1<<W;E[W]=0,k[W]=-1;var K=$[W];if(K!==null)for($[W]=null,W=0;W<K.length;W++){var Z=K[W];Z!==null&&(Z.lane&=-536870913)}o&=~ie}c!==0&&Ar(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(x&~r))}function Ar(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-bt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Uo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-bt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Fo(i,r){var o=r&-r;return o=(o&42)!==0?1:Rr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bc(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:J1(i.type))}function ai(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var oi=Math.random().toString(36).slice(2),wt="__reactFiber$"+oi,Gt="__reactProps$"+oi,Ci="__reactContainer$"+oi,ga="__reactEvents$"+oi,Ff="__reactListeners$"+oi,Uc="__reactHandles$"+oi,Fc="__reactResources$"+oi,Ai="__reactMarker$"+oi;function ya(i){delete i[wt],delete i[Gt],delete i[ga],delete i[Ff],delete i[Uc]}function Ri(i){var r=i[wt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ci]||o[wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=O1(i);i!==null;){if(o=i[wt])return o;i=O1(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[wt]||i[Ci]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Mn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function wi(i){var r=i[Fc];return r||(r=i[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(i){i[Ai]=!0}var Ho=new Set,qo={};function Di(i,r){Mi(i,r),Mi(i+"Capture",r)}function Mi(i,r){for(qo[i]=r,i=0;i<r.length;i++)Ho.add(r[i])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Ko={};function Hc(i){return At.call(Ko,i)?!0:At.call($o,i)?!1:Go.test(i)?Ko[i]=!0:($o[i]=!0,!1)}function va(i,r,o){if(Hc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Nn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Mt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yo(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,p.call(this,x)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Je(i){if(!i._valueTracker){var r=Cs(i)?"checked":"value";i._valueTracker=Yo(i,r,""+i[r])}}function wr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Cs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dr=/[\n"\\]/g;function _n(i){return i.replace(Dr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _a(i,r,o,c,f,p,x,E){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$t(r)):i.value!==""+$t(r)&&(i.value=""+$t(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?Qo(i,x,$t(r)):o!=null?Qo(i,x,$t(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+$t(E):i.removeAttribute("name")}function qc(i,r,o,c,f,p,x,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Je(i);return}o=o!=null?""+$t(o):"",r=r!=null?""+$t(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Je(i)}function Qo(i,r,o){r==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function As(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+$t(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Gc(i,r,o){if(r!=null&&(r=""+$t(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$t(o):""}function Rs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ie(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=$t(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Je(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||$c.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Zo(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Xo(i,f,c)}else for(var p in r)r.hasOwnProperty(p)&&Xo(i,p,r[p])}function ba(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(i){return ws.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function li(){}var Wo=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ds=null,ki=null;function Mr(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[Gt]||null;e:switch(i=r.stateNode,r.type){case"input":if(_a(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Gt]||null;if(!f)throw Error(s(90));_a(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&wr(c)}break e;case"textarea":Gc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&As(i,!!o.multiple,r,!1)}}}var Ta=!1;function Ms(i,r,o){if(Ta)return i(r,o);Ta=!0;try{var c=i(r);return c}finally{if(Ta=!1,(Ds!==null||ki!==null)&&(Bu(),Ds&&(r=Ds,i=ki,ki=Ds=null,Mr(r),i)))for(r=0;r<i.length;r++)Mr(i[r])}}function ci(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Gn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Nr=!1}var Vi=null,Jo=null,kr=null;function el(){if(kr)return kr;var i,r=Jo,o=r.length,c,f="value"in Vi?Vi.value:Vi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var x=o-i;for(c=1;c<=x&&r[o-c]===f[p-c];c++);return kr=f.slice(i,1<c?1-c:void 0)}function Vr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ji(){return!0}function ui(){return!1}function Xt(i){function r(o,c,f,p,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ji:ui,this.isPropagationStopped=ui,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),r}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Xt(es),Ns=b({},es,{view:0,detail:0}),tl=Xt(Ns),ks,Sa,Pi,Ea=b({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(ks=i.screenX-Pi.screenX,Sa=i.screenY-Pi.screenY):Sa=ks=0,Pi=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Sa}}),nl=Xt(Ea),Ir=b({},Ea,{dataTransfer:0}),Yc=Xt(Ir),Qc=b({},Ns,{relatedTarget:0}),Pr=Xt(Qc),il=b({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=Xt(il),Ca=b({},es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zc=Xt(Ca),Wc=b({},es,{data:0}),ji=Xt(Wc),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=tu[i])?!!r[i]:!1}function Vs(){return nu}var pn=b({},Ns,{key:function(i){if(i.key){var r=Jc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iu=Xt(pn),su=b({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Xt(su),h=b({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Xt(h),T=b({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xt(T),F=b({},Ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Xt(F),ce=b({},es,{newState:0,oldState:0}),Ne=Xt(ce),xt=[9,13,27,32],Qe=Gn&&"CompositionEvent"in window,dt=null;Gn&&"documentMode"in document&&(dt=document.documentMode);var $n=Gn&&"TextEvent"in window&&!dt,Oi=Gn&&(!Qe||dt&&8<dt&&11>=dt),hi=" ",fi=!1;function jr(i,r){switch(i){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ra=!1;function TC(i,r){switch(i){case"compositionend":return Aa(r);case"keypress":return r.which!==32?null:(fi=!0,hi);case"textInput":return i=r.data,i===hi&&fi?null:i;default:return null}}function SC(i,r){if(Ra)return i==="compositionend"||!Qe&&jr(i,r)?(i=el(),kr=Jo=Vi=null,Ra=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Oi&&r.locale!=="ko"?null:r.data;default:return null}}var EC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!EC[i.type]:r==="textarea"}function U0(i,r,o,c){Ds?ki?ki.push(c):ki=[c]:Ds=c,r=Ku(r,"onChange"),0<r.length&&(o=new Ii("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var sl=null,rl=null;function CC(i){S1(i,0)}function ru(i){var r=Mn(i);if(wr(r))return i}function F0(i,r){if(i==="change")return r}var H0=!1;if(Gn){var Hf;if(Gn){var qf="oninput"in document;if(!qf){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),qf=typeof q0.oninput=="function"}Hf=qf}else Hf=!1;H0=Hf&&(!document.documentMode||9<document.documentMode)}function G0(){sl&&(sl.detachEvent("onpropertychange",$0),rl=sl=null)}function $0(i){if(i.propertyName==="value"&&ru(rl)){var r=[];U0(r,rl,i,qn(i)),Ms(CC,r)}}function AC(i,r,o){i==="focusin"?(G0(),sl=r,rl=o,sl.attachEvent("onpropertychange",$0)):i==="focusout"&&G0()}function RC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ru(rl)}function wC(i,r){if(i==="click")return ru(r)}function DC(i,r){if(i==="input"||i==="change")return ru(r)}function MC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:MC;function al(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!At.call(r,f)||!kn(i[f],r[f]))return!1}return!0}function K0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Y0(i,r){var o=K0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=K0(o)}}function Q0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Q0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function X0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ni(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ni(i.document)}return r}function Gf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var NC=Gn&&"documentMode"in document&&11>=document.documentMode,wa=null,$f=null,ol=null,Kf=!1;function Z0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kf||wa==null||wa!==Ni(c)||(c=wa,"selectionStart"in c&&Gf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ol&&al(ol,c)||(ol=c,c=Ku($f,"onSelect"),0<c.length&&(r=new Ii("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=wa)))}function Or(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Da={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Yf={},W0={};Gn&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Lr(i){if(Yf[i])return Yf[i];if(!Da[i])return i;var r=Da[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in W0)return Yf[i]=r[o];return i}var J0=Lr("animationend"),ey=Lr("animationiteration"),ty=Lr("animationstart"),kC=Lr("transitionrun"),VC=Lr("transitionstart"),IC=Lr("transitioncancel"),ny=Lr("transitionend"),iy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function di(i,r){iy.set(i,r),Di(r,[i])}var au=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],Ma=0,Xf=0;function ou(){for(var i=Ma,r=Xf=Ma=0;r<i;){var o=Kn[r];Kn[r++]=null;var c=Kn[r];Kn[r++]=null;var f=Kn[r];Kn[r++]=null;var p=Kn[r];if(Kn[r++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}p!==0&&sy(o,f,p)}}function lu(i,r,o,c){Kn[Ma++]=i,Kn[Ma++]=r,Kn[Ma++]=o,Kn[Ma++]=c,Xf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Zf(i,r,o,c){return lu(i,r,o,c),cu(i)}function zr(i,r){return lu(i,null,null,r),cu(i)}function sy(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-bt(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function cu(i){if(50<Dl)throw Dl=0,ap=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Na={};function PC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,c){return new PC(i,r,o,c)}function Wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ry(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function uu(i,r,o,c,f,p){var x=0;if(c=i,typeof i=="function")Wf(i)&&(x=1);else if(typeof i=="string")x=B5(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case w:return i=Vn(31,o,r,f),i.elementType=w,i.lanes=p,i;case L:return Br(o.children,f,p,r);case O:x=8,f|=24;break;case Q:return i=Vn(12,o,r,f|2),i.elementType=Q,i.lanes=p,i;case le:return i=Vn(13,o,r,f),i.elementType=le,i.lanes=p,i;case he:return i=Vn(19,o,r,f),i.elementType=he,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:x=10;break e;case ee:x=9;break e;case re:x=11;break e;case D:x=14;break e;case A:x=16,c=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Vn(x,o,r,f),r.elementType=i,r.type=c,r.lanes=p,r}function Br(i,r,o,c){return i=Vn(7,i,c,r),i.lanes=o,i}function Jf(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function ay(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function ed(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var oy=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=oy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Lo(r)},oy.set(i,r),r)}return{value:i,source:r,stack:Lo(r)}}var ka=[],Va=0,hu=null,ll=0,Qn=[],Xn=0,Is=null,Li=1,zi="";function is(i,r){ka[Va++]=ll,ka[Va++]=hu,hu=i,ll=r}function ly(i,r,o){Qn[Xn++]=Li,Qn[Xn++]=zi,Qn[Xn++]=Is,Is=i;var c=Li;i=zi;var f=32-bt(c)-1;c&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var x=f-f%5;p=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Li=1<<32-bt(r)+f|o<<f|c,zi=p+i}else Li=1<<p|o<<f|c,zi=i}function td(i){i.return!==null&&(is(i,1),ly(i,1,0))}function nd(i){for(;i===hu;)hu=ka[--Va],ka[Va]=null,ll=ka[--Va],ka[Va]=null;for(;i===Is;)Is=Qn[--Xn],Qn[Xn]=null,zi=Qn[--Xn],Qn[Xn]=null,Li=Qn[--Xn],Qn[Xn]=null}function cy(i,r){Qn[Xn++]=Li,Qn[Xn++]=zi,Qn[Xn++]=Is,Li=r.id,zi=r.overflow,Is=i}var Zt=null,ct=null,qe=!1,Ps=null,Zn=!1,id=Error(s(519));function js(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Yn(r,i)),id}function uy(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[wt]=i,r[Gt]=c,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Nl.length;o++)ze(Nl[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),qc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Rs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||R1(r.textContent,o)?(c.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),c.onScroll!=null&&ze("scroll",r),c.onScrollEnd!=null&&ze("scrollend",r),c.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||js(i,!0)}function hy(i){for(Zt=i.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Zt=Zt.return}}function Ia(i){if(i!==Zt)return!1;if(!qe)return hy(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||xp(i.type,i.memoizedProps)),o=!o),o&&ct&&js(i),hy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=j1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=j1(i)}else r===27?(r=ct,Xs(i.type)?(i=Ap,Ap=null,ct=i):ct=r):ct=Zt?Jn(i.stateNode.nextSibling):null;return!0}function Ur(){ct=Zt=null,qe=!1}function sd(){var i=Ps;return i!==null&&(En===null?En=i:En.push.apply(En,i),Ps=null),i}function cl(i){Ps===null?Ps=[i]:Ps.push(i)}var rd=P(null),Fr=null,ss=null;function Os(i,r,o){J(rd,r._currentValue),r._currentValue=o}function rs(i){i._currentValue=rd.current,q(rd)}function ad(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function od(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var x=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var k=0;k<r.length;k++)if(E.context===r[k]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),ad(p.return,o,i),c||(x=null);break e}p=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=o,p=x.alternate,p!==null&&(p.lanes|=o),ad(x,o,i),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===i){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Pa(i,r,o,c){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=f.type;kn(f.pendingProps.value,x.value)||(i!==null?i.push(E):i=[E])}}else if(f===ve.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(jl):i=[jl])}f=f.return}i!==null&&od(r,i,o,c),r.flags|=262144}function fu(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hr(i){Fr=i,ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return fy(Fr,i)}function du(i,r){return Fr===null&&Hr(i),fy(i,r)}function fy(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ss===null){if(i===null)throw Error(s(308));ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ss=ss.next=r;return o}var jC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},OC=n.unstable_scheduleCallback,LC=n.unstable_NormalPriority,Nt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new jC,data:new Map,refCount:0}}function ul(i){i.refCount--,i.refCount===0&&OC(LC,function(){i.controller.abort()})}var hl=null,cd=0,ja=0,Oa=null;function zC(i,r){if(hl===null){var o=hl=[];cd=0,ja=fp(),Oa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return cd++,r.then(dy,dy),r}function dy(){if(--cd===0&&hl!==null){Oa!==null&&(Oa.status="fulfilled");var i=hl;hl=null,ja=0,Oa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function BC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var py=Y.S;Y.S=function(i,r){Zv=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zC(i,r),py!==null&&py(i,r)};var qr=P(null);function ud(){var i=qr.current;return i!==null?i:ot.pooledCache}function pu(i,r){r===null?J(qr,qr.current):J(qr,r.pool)}function my(){var i=ud();return i===null?null:{parent:Nt._currentValue,pool:i}}var La=Error(s(460)),hd=Error(s(474)),mu=Error(s(542)),gu={then:function(){}};function gy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yy(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(li,li),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,_y(i),i;default:if(typeof r.status=="string")r.then(li,li);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,_y(i),i}throw $r=r,La}}function Gr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($r=o,La):o}}var $r=null;function vy(){if($r===null)throw Error(s(459));var i=$r;return $r=null,i}function _y(i){if(i===La||i===mu)throw Error(s(483))}var za=null,fl=0;function yu(i){var r=fl;return fl+=1,za===null&&(za=[]),yy(za,i,r)}function dl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function vu(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function by(i){function r(U,j){if(i){var G=U.deletions;G===null?(U.deletions=[j],U.flags|=16):G.push(j)}}function o(U,j){if(!i)return null;for(;j!==null;)r(U,j),j=j.sibling;return null}function c(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function f(U,j){return U=ns(U,j),U.index=0,U.sibling=null,U}function p(U,j,G){return U.index=G,i?(G=U.alternate,G!==null?(G=G.index,G<j?(U.flags|=67108866,j):G):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function x(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function E(U,j,G,te){return j===null||j.tag!==6?(j=Jf(G,U.mode,te),j.return=U,j):(j=f(j,G),j.return=U,j)}function k(U,j,G,te){var Se=G.type;return Se===L?W(U,j,G.props.children,te,G.key):j!==null&&(j.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Gr(Se)===j.type)?(j=f(j,G.props),dl(j,G),j.return=U,j):(j=uu(G.type,G.key,G.props,null,U.mode,te),dl(j,G),j.return=U,j)}function $(U,j,G,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=ed(G,U.mode,te),j.return=U,j):(j=f(j,G.children||[]),j.return=U,j)}function W(U,j,G,te,Se){return j===null||j.tag!==7?(j=Br(G,U.mode,te,Se),j.return=U,j):(j=f(j,G),j.return=U,j)}function ie(U,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Jf(""+j,U.mode,G),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return G=uu(j.type,j.key,j.props,null,U.mode,G),dl(G,j),G.return=U,G;case M:return j=ed(j,U.mode,G),j.return=U,j;case A:return j=Gr(j),ie(U,j,G)}if(Ie(j)||z(j))return j=Br(j,U.mode,G,null),j.return=U,j;if(typeof j.then=="function")return ie(U,yu(j),G);if(j.$$typeof===B)return ie(U,du(U,j),G);vu(U,j)}return null}function K(U,j,G,te){var Se=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:E(U,j,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===Se?k(U,j,G,te):null;case M:return G.key===Se?$(U,j,G,te):null;case A:return G=Gr(G),K(U,j,G,te)}if(Ie(G)||z(G))return Se!==null?null:W(U,j,G,te,null);if(typeof G.then=="function")return K(U,j,yu(G),te);if(G.$$typeof===B)return K(U,j,du(U,G),te);vu(U,G)}return null}function Z(U,j,G,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(G)||null,E(j,U,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return U=U.get(te.key===null?G:te.key)||null,k(j,U,te,Se);case M:return U=U.get(te.key===null?G:te.key)||null,$(j,U,te,Se);case A:return te=Gr(te),Z(U,j,G,te,Se)}if(Ie(te)||z(te))return U=U.get(G)||null,W(j,U,te,Se,null);if(typeof te.then=="function")return Z(U,j,G,yu(te),Se);if(te.$$typeof===B)return Z(U,j,G,du(j,te),Se);vu(j,te)}return null}function ge(U,j,G,te){for(var Se=null,Ke=null,be=j,Pe=j=0,Ue=null;be!==null&&Pe<G.length;Pe++){be.index>Pe?(Ue=be,be=null):Ue=be.sibling;var Ye=K(U,be,G[Pe],te);if(Ye===null){be===null&&(be=Ue);break}i&&be&&Ye.alternate===null&&r(U,be),j=p(Ye,j,Pe),Ke===null?Se=Ye:Ke.sibling=Ye,Ke=Ye,be=Ue}if(Pe===G.length)return o(U,be),qe&&is(U,Pe),Se;if(be===null){for(;Pe<G.length;Pe++)be=ie(U,G[Pe],te),be!==null&&(j=p(be,j,Pe),Ke===null?Se=be:Ke.sibling=be,Ke=be);return qe&&is(U,Pe),Se}for(be=c(be);Pe<G.length;Pe++)Ue=Z(be,U,Pe,G[Pe],te),Ue!==null&&(i&&Ue.alternate!==null&&be.delete(Ue.key===null?Pe:Ue.key),j=p(Ue,j,Pe),Ke===null?Se=Ue:Ke.sibling=Ue,Ke=Ue);return i&&be.forEach(function(tr){return r(U,tr)}),qe&&is(U,Pe),Se}function Ce(U,j,G,te){if(G==null)throw Error(s(151));for(var Se=null,Ke=null,be=j,Pe=j=0,Ue=null,Ye=G.next();be!==null&&!Ye.done;Pe++,Ye=G.next()){be.index>Pe?(Ue=be,be=null):Ue=be.sibling;var tr=K(U,be,Ye.value,te);if(tr===null){be===null&&(be=Ue);break}i&&be&&tr.alternate===null&&r(U,be),j=p(tr,j,Pe),Ke===null?Se=tr:Ke.sibling=tr,Ke=tr,be=Ue}if(Ye.done)return o(U,be),qe&&is(U,Pe),Se;if(be===null){for(;!Ye.done;Pe++,Ye=G.next())Ye=ie(U,Ye.value,te),Ye!==null&&(j=p(Ye,j,Pe),Ke===null?Se=Ye:Ke.sibling=Ye,Ke=Ye);return qe&&is(U,Pe),Se}for(be=c(be);!Ye.done;Pe++,Ye=G.next())Ye=Z(be,U,Pe,Ye.value,te),Ye!==null&&(i&&Ye.alternate!==null&&be.delete(Ye.key===null?Pe:Ye.key),j=p(Ye,j,Pe),Ke===null?Se=Ye:Ke.sibling=Ye,Ke=Ye);return i&&be.forEach(function(Z5){return r(U,Z5)}),qe&&is(U,Pe),Se}function rt(U,j,G,te){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var Se=G.key;j!==null;){if(j.key===Se){if(Se=G.type,Se===L){if(j.tag===7){o(U,j.sibling),te=f(j,G.props.children),te.return=U,U=te;break e}}else if(j.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Gr(Se)===j.type){o(U,j.sibling),te=f(j,G.props),dl(te,G),te.return=U,U=te;break e}o(U,j);break}else r(U,j);j=j.sibling}G.type===L?(te=Br(G.props.children,U.mode,te,G.key),te.return=U,U=te):(te=uu(G.type,G.key,G.props,null,U.mode,te),dl(te,G),te.return=U,U=te)}return x(U);case M:e:{for(Se=G.key;j!==null;){if(j.key===Se)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(U,j.sibling),te=f(j,G.children||[]),te.return=U,U=te;break e}else{o(U,j);break}else r(U,j);j=j.sibling}te=ed(G,U.mode,te),te.return=U,U=te}return x(U);case A:return G=Gr(G),rt(U,j,G,te)}if(Ie(G))return ge(U,j,G,te);if(z(G)){if(Se=z(G),typeof Se!="function")throw Error(s(150));return G=Se.call(G),Ce(U,j,G,te)}if(typeof G.then=="function")return rt(U,j,yu(G),te);if(G.$$typeof===B)return rt(U,j,du(U,G),te);vu(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(U,j.sibling),te=f(j,G),te.return=U,U=te):(o(U,j),te=Jf(G,U.mode,te),te.return=U,U=te),x(U)):o(U,j)}return function(U,j,G,te){try{fl=0;var Se=rt(U,j,G,te);return za=null,Se}catch(be){if(be===La||be===mu)throw be;var Ke=Vn(29,be,null,U.mode);return Ke.lanes=te,Ke.return=U,Ke}}}var Kr=by(!0),xy=by(!1),Ls=!1;function fd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Bs(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=cu(i),sy(i,null,o),r}return lu(i,c,r,o),cu(i)}function pl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Uo(i,o)}}function pd(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=x:p=p.next=x,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var md=!1;function ml(){if(md){var i=Oa;if(i!==null)throw i}}function gl(i,r,o,c){md=!1;var f=i.updateQueue;Ls=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var k=E,$=k.next;k.next=null,x===null?p=$:x.next=$,x=k;var W=i.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==x&&(E===null?W.firstBaseUpdate=$:E.next=$,W.lastBaseUpdate=k))}if(p!==null){var ie=f.baseState;x=0,W=$=k=null,E=p;do{var K=E.lane&-536870913,Z=K!==E.lane;if(Z?(Be&K)===K:(c&K)===K){K!==0&&K===ja&&(md=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=i,Ce=E;K=r;var rt=o;switch(Ce.tag){case 1:if(ge=Ce.payload,typeof ge=="function"){ie=ge.call(rt,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ce.payload,K=typeof ge=="function"?ge.call(rt,ie,K):ge,K==null)break e;ie=b({},ie,K);break e;case 2:Ls=!0}}K=E.callback,K!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?($=W=Z,k=ie):W=W.next=Z,x|=K;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Z=E,E=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);W===null&&(k=ie),f.baseState=k,f.firstBaseUpdate=$,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),Gs|=x,i.lanes=x,i.memoizedState=ie}}function Ty(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Sy(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Ty(o[i],r)}var Ba=P(null),_u=P(0);function Ey(i,r){i=ps,J(_u,i),J(Ba,r),ps=i|r.baseLanes}function gd(){J(_u,ps),J(Ba,Ba.current)}function yd(){ps=_u.current,q(Ba),q(_u)}var In=P(null),Wn=null;function Us(i){var r=i.alternate;J(Tt,Tt.current&1),J(In,i),Wn===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(Wn=i)}function vd(i){J(Tt,Tt.current),J(In,i),Wn===null&&(Wn=i)}function Cy(i){i.tag===22?(J(Tt,Tt.current),J(In,i),Wn===null&&(Wn=i)):Fs()}function Fs(){J(Tt,Tt.current),J(In,In.current)}function Pn(i){q(In),Wn===i&&(Wn=null),q(Tt)}var Tt=P(0);function bu(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ep(o)||Cp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var as=0,ke=null,it=null,kt=null,xu=!1,Ua=!1,Yr=!1,Tu=0,yl=0,Fa=null,UC=0;function yt(){throw Error(s(321))}function _d(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function bd(i,r,o,c,f,p){return as=p,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?lv:Pd,Yr=!1,p=o(c,f),Yr=!1,Ua&&(p=Ry(r,o,c,f)),Ay(i),p}function Ay(i){Y.H=bl;var r=it!==null&&it.next!==null;if(as=0,kt=it=ke=null,xu=!1,yl=0,Fa=null,r)throw Error(s(300));i===null||Vt||(i=i.dependencies,i!==null&&fu(i)&&(Vt=!0))}function Ry(i,r,o,c){ke=i;var f=0;do{if(Ua&&(Fa=null),yl=0,Ua=!1,25<=f)throw Error(s(301));if(f+=1,kt=it=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=cv,p=r(o,c)}while(Ua);return p}function FC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?vl(r):r,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(ke.flags|=1024),r}function xd(){var i=Tu!==0;return Tu=0,i}function Td(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Sd(i){if(xu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xu=!1}as=0,kt=it=ke=null,Ua=!1,yl=Tu=0,Fa=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ke.memoizedState=kt=i:kt=kt.next=i,kt}function St(){if(it===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var r=kt===null?ke.memoizedState:kt.next;if(r!==null)kt=r,it=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?ke.memoizedState=kt=i:kt=kt.next=i}return kt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(i){var r=yl;return yl+=1,Fa===null&&(Fa=[]),i=yy(Fa,i,r),r=ke,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?lv:Pd),i}function Eu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vl(i);if(i.$$typeof===B)return Wt(i)}throw Error(s(438,String(i)))}function Ed(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Su(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=I;return r.index++,o}function os(i,r){return typeof r=="function"?r(i):r}function Cu(i){var r=St();return Cd(r,it,i)}function Cd(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}r.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var E=x=null,k=null,$=r,W=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Be&ie)===ie:(as&ie)===ie){var K=$.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===ja&&(W=!0);else if((as&K)===K){$=$.next,K===ja&&(W=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(E=k=ie,x=p):k=k.next=ie,ke.lanes|=K,Gs|=K;ie=$.action,Yr&&o(p,ie),p=$.hasEagerState?$.eagerState:o(p,ie)}else K={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(E=k=K,x=p):k=k.next=K,ke.lanes|=ie,Gs|=ie;$=$.next}while($!==null&&$!==r);if(k===null?x=p:k.next=E,!kn(p,i.memoizedState)&&(Vt=!0,W&&(o=Oa,o!==null)))throw o;i.memoizedState=p,i.baseState=x,i.baseQueue=k,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ad(i){var r=St(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do p=i(p,x.action),x=x.next;while(x!==f);kn(p,r.memoizedState)||(Vt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function wy(i,r,o){var c=ke,f=St(),p=qe;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!kn((it||f).memoizedState,o);if(x&&(f.memoizedState=o,Vt=!0),f=f.queue,Dd(Ny.bind(null,c,f,i),[i]),f.getSnapshot!==r||x||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Ha(9,{destroy:void 0},My.bind(null,c,f,o,r),null),ot===null)throw Error(s(349));p||(as&127)!==0||Dy(c,r,o)}return o}function Dy(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=Su(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function My(i,r,o,c){r.value=o,r.getSnapshot=c,ky(r)&&Vy(i)}function Ny(i,r,o){return o(function(){ky(r)&&Vy(i)})}function ky(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function Vy(i){var r=zr(i,2);r!==null&&Cn(r,i,2)}function Rd(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),Yr){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:i},r}function Iy(i,r,o,c){return i.baseState=o,Cd(i,it,typeof c=="function"?c:os)}function HC(i,r,o,c,f){if(wu(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};Y.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,Py(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Py(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var p=Y.T,x={};Y.T=x;try{var E=o(f,c),k=Y.S;k!==null&&k(x,E),jy(i,r,E)}catch($){wd(i,r,$)}finally{p!==null&&x.types!==null&&(p.types=x.types),Y.T=p}}else try{p=o(f,c),jy(i,r,p)}catch($){wd(i,r,$)}}function jy(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Oy(i,r,c)},function(c){return wd(i,r,c)}):Oy(i,r,o)}function Oy(i,r,o){r.status="fulfilled",r.value=o,Ly(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Py(i,o)))}function wd(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Ly(r),r=r.next;while(r!==c)}i.action=null}function Ly(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function zy(i,r){return r}function By(i,r){if(qe){var o=ot.formState;if(o!==null){e:{var c=ke;if(qe){if(ct){t:{for(var f=ct,p=Zn;f.nodeType!==8;){if(!p){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ct=Jn(f.nextSibling),c=f.data==="F!";break e}}js(c)}c=!1}c&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:r},o.queue=c,o=rv.bind(null,ke,c),c.dispatch=o,c=Rd(!1),p=Id.bind(null,ke,!1,c.queue),c=mn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=HC.bind(null,ke,f,p,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function Uy(i){var r=St();return Fy(r,it,i)}function Fy(i,r,o){if(r=Cd(i,r,zy)[0],i=Cu(os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=vl(r)}catch(x){throw x===La?mu:x}else c=r;r=St();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,Ha(9,{destroy:void 0},qC.bind(null,f,o),null)),[c,p,i]}function qC(i,r){i.action=r}function Hy(i){var r=St(),o=it;if(o!==null)return Fy(r,o,i);St(),r=r.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ha(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Su(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function qy(){return St().memoizedState}function Au(i,r,o,c){var f=mn();ke.flags|=i,f.memoizedState=Ha(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ru(i,r,o,c){var f=St();c=c===void 0?null:c;var p=f.memoizedState.inst;it!==null&&c!==null&&_d(c,it.memoizedState.deps)?f.memoizedState=Ha(r,p,o,c):(ke.flags|=i,f.memoizedState=Ha(1|r,p,o,c))}function Gy(i,r){Au(8390656,8,i,r)}function Dd(i,r){Ru(2048,8,i,r)}function GC(i){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=Su(),ke.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function $y(i){var r=St().memoizedState;return GC({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ky(i,r){return Ru(4,2,i,r)}function Yy(i,r){return Ru(4,4,i,r)}function Qy(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Xy(i,r,o){o=o!=null?o.concat([i]):null,Ru(4,4,Qy.bind(null,r,i),o)}function Md(){}function Zy(i,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&_d(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Wy(i,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&_d(r,c[1]))return c[0];if(c=i(),Yr){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c}function Nd(i,r,o){return o===void 0||(as&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Jv(),ke.lanes|=i,Gs|=i,o)}function Jy(i,r,o,c){return kn(o,r)?o:Ba.current!==null?(i=Nd(i,o,c),kn(i,r)||(Vt=!0),i):(as&42)===0||(as&1073741824)!==0&&(Be&261930)===0?(Vt=!0,i.memoizedState=o):(i=Jv(),ke.lanes|=i,Gs|=i,r)}function ev(i,r,o,c,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var x=Y.T,E={};Y.T=E,Id(i,!1,r,o);try{var k=f(),$=Y.S;if($!==null&&$(E,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=BC(k,c);_l(i,r,W,Ln(i))}else _l(i,r,c,Ln(i))}catch(ie){_l(i,r,{then:function(){},status:"rejected",reason:ie},Ln())}finally{oe.p=p,x!==null&&E.types!==null&&(x.types=E.types),Y.T=x}}function $C(){}function kd(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=tv(i).queue;ev(i,f,r,fe,o===null?$C:function(){return nv(i),o(c)})}function tv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function nv(i){var r=tv(i);r.next===null&&(r=i.alternate.memoizedState),_l(i,r.next.queue,{},Ln())}function Vd(){return Wt(jl)}function iv(){return St().memoizedState}function sv(){return St().memoizedState}function KC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=zs(o);var c=Bs(r,i,o);c!==null&&(Cn(c,r,o),pl(c,r,o)),r={cache:ld()},i.payload=r;return}r=r.return}}function YC(i,r,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wu(i)?av(r,o):(o=Zf(i,r,o,c),o!==null&&(Cn(o,i,c),ov(o,r,c)))}function rv(i,r,o){var c=Ln();_l(i,r,o,c)}function _l(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wu(i))av(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,E=p(x,o);if(f.hasEagerState=!0,f.eagerState=E,kn(E,x))return lu(i,r,f,0),ot===null&&ou(),!1}catch{}if(o=Zf(i,r,f,c),o!==null)return Cn(o,i,c),ov(o,r,c),!0}return!1}function Id(i,r,o,c){if(c={lane:2,revertLane:fp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},wu(i)){if(r)throw Error(s(479))}else r=Zf(i,o,c,2),r!==null&&Cn(r,i,2)}function wu(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function av(i,r){Ua=xu=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function ov(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Uo(i,o)}}var bl={readContext:Wt,use:Eu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};bl.useEffectEvent=yt;var lv={readContext:Wt,use:Eu,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Wt,useEffect:Gy,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Au(4194308,4,Qy.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Au(4194308,4,i,r)},useInsertionEffect:function(i,r){Au(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var c=i();if(Yr){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=mn();if(o!==void 0){var f=o(r);if(Yr){Fn(!0);try{o(r)}finally{Fn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=YC.bind(null,ke,i),[c.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=Rd(i);var r=i.queue,o=rv.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Md,useDeferredValue:function(i,r){var o=mn();return Nd(o,i,r)},useTransition:function(){var i=Rd(!1);return i=ev.bind(null,ke,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ke,f=mn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(Be&127)!==0||Dy(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,Gy(Ny.bind(null,c,p,i),[i]),c.flags|=2048,Ha(9,{destroy:void 0},My.bind(null,c,p,o,r),null),o},useId:function(){var i=mn(),r=ot.identifierPrefix;if(qe){var o=zi,c=Li;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Tu++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=UC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Vd,useFormState:By,useActionState:By,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Id.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:Ed,useCacheRefresh:function(){return mn().memoizedState=KC.bind(null,ke)},useEffectEvent:function(i){var r=mn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Pd={readContext:Wt,use:Eu,useCallback:Zy,useContext:Wt,useEffect:Dd,useImperativeHandle:Xy,useInsertionEffect:Ky,useLayoutEffect:Yy,useMemo:Wy,useReducer:Cu,useRef:qy,useState:function(){return Cu(os)},useDebugValue:Md,useDeferredValue:function(i,r){var o=St();return Jy(o,it.memoizedState,i,r)},useTransition:function(){var i=Cu(os)[0],r=St().memoizedState;return[typeof i=="boolean"?i:vl(i),r]},useSyncExternalStore:wy,useId:iv,useHostTransitionStatus:Vd,useFormState:Uy,useActionState:Uy,useOptimistic:function(i,r){var o=St();return Iy(o,it,i,r)},useMemoCache:Ed,useCacheRefresh:sv};Pd.useEffectEvent=$y;var cv={readContext:Wt,use:Eu,useCallback:Zy,useContext:Wt,useEffect:Dd,useImperativeHandle:Xy,useInsertionEffect:Ky,useLayoutEffect:Yy,useMemo:Wy,useReducer:Ad,useRef:qy,useState:function(){return Ad(os)},useDebugValue:Md,useDeferredValue:function(i,r){var o=St();return it===null?Nd(o,i,r):Jy(o,it.memoizedState,i,r)},useTransition:function(){var i=Ad(os)[0],r=St().memoizedState;return[typeof i=="boolean"?i:vl(i),r]},useSyncExternalStore:wy,useId:iv,useHostTransitionStatus:Vd,useFormState:Hy,useActionState:Hy,useOptimistic:function(i,r){var o=St();return it!==null?Iy(o,it,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:sv};cv.useEffectEvent=$y;function jd(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Od={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Ln(),f=zs(c);f.payload=r,o!=null&&(f.callback=o),r=Bs(i,f,c),r!==null&&(Cn(r,i,c),pl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Ln(),f=zs(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Bs(i,f,c),r!==null&&(Cn(r,i,c),pl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),c=zs(o);c.tag=2,r!=null&&(c.callback=r),r=Bs(i,c,o),r!==null&&(Cn(r,i,o),pl(r,i,o))}};function uv(i,r,o,c,f,p,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,x):r.prototype&&r.prototype.isPureReactComponent?!al(o,c)||!al(f,p):!0}function hv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Od.enqueueReplaceState(r,r.state,null)}function Qr(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function fv(i){au(i)}function dv(i){console.error(i)}function pv(i){au(i)}function Du(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function mv(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(i,r,o){return o=zs(o),o.tag=3,o.payload={element:null},o.callback=function(){Du(i,r)},o}function gv(i){return i=zs(i),i.tag=3,i}function yv(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){mv(r,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){mv(r,o,c),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function QC(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Pa(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?Uu():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===gu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),cp(i,c,f)),!1;case 22:return o.flags|=65536,c===gu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),cp(i,c,f)),!1}throw Error(s(435,o.tag))}return cp(i,c,f),Uu(),!1}if(qe)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==id&&(i=Error(s(422),{cause:c}),cl(Yn(i,o)))):(c!==id&&(r=Error(s(423),{cause:c}),cl(Yn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Yn(c,o),f=Ld(i.stateNode,c,f),pd(i,f),vt!==4&&(vt=2)),!1;var p=Error(s(520),{cause:c});if(p=Yn(p,o),wl===null?wl=[p]:wl.push(p),vt!==4&&(vt=2),r===null)return!0;c=Yn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Ld(o.stateNode,c,i),pd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=gv(f),yv(f,i,o,c),pd(o,f),!1}o=o.return}while(o!==null);return!1}var zd=Error(s(461)),Vt=!1;function Jt(i,r,o,c){r.child=i===null?xy(r,null,o,c):Kr(r,i.child,o,c)}function vv(i,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var x={};for(var E in c)E!=="ref"&&(x[E]=c[E])}else x=c;return Hr(r),c=bd(i,r,o,x,p,f),E=xd(),i!==null&&!Vt?(Td(i,r,f),ls(i,r,f)):(qe&&E&&td(r),r.flags|=1,Jt(i,r,c,f),r.child)}function _v(i,r,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!Wf(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,bv(i,r,p,c,f)):(i=uu(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Kd(i,f)){var x=p.memoizedProps;if(o=o.compare,o=o!==null?o:al,o(x,c)&&i.ref===r.ref)return ls(i,r,f)}return r.flags|=1,i=ns(p,c),i.ref=r.ref,i.return=r,r.child=i}function bv(i,r,o,c,f){if(i!==null){var p=i.memoizedProps;if(al(p,c)&&i.ref===r.ref)if(Vt=!1,r.pendingProps=c=p,Kd(i,f))(i.flags&131072)!==0&&(Vt=!0);else return r.lanes=i.lanes,ls(i,r,f)}return Bd(i,r,o,c,f)}function xv(i,r,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return Tv(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&pu(r,p!==null?p.cachePool:null),p!==null?Ey(r,p):gd(),Cy(r);else return c=r.lanes=536870912,Tv(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(pu(r,p.cachePool),Ey(r,p),Fs(),r.memoizedState=null):(i!==null&&pu(r,null),gd(),Fs());return Jt(i,r,f,o),r.child}function xl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Tv(i,r,o,c,f){var p=ud();return p=p===null?null:{parent:Nt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&pu(r,null),gd(),Cy(r),i!==null&&Pa(i,r,c,!0),r.childLanes=f,null}function Mu(i,r){return r=ku({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Sv(i,r,o){return Kr(r,i.child,null,o),i=Mu(r,r.pendingProps),i.flags|=2,Pn(r),r.memoizedState=null,i}function XC(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qe){if(c.mode==="hidden")return i=Mu(r,c),r.lanes=536870912,xl(null,i);if(vd(r),(i=ct)?(i=P1(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=ay(i),o.return=r,r.child=o,Zt=r,ct=null)):i=null,i===null)throw js(r);return r.lanes=536870912,null}return Mu(r,c)}var p=i.memoizedState;if(p!==null){var x=p.dehydrated;if(vd(r),f)if(r.flags&256)r.flags&=-257,r=Sv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Vt||Pa(i,r,o,!1),f=(o&i.childLanes)!==0,Vt||f){if(c=ot,c!==null&&(x=Fo(c,o),x!==0&&x!==p.retryLane))throw p.retryLane=x,zr(i,x),Cn(c,i,x),zd;Uu(),r=Sv(i,r,o)}else i=p.treeContext,ct=Jn(x.nextSibling),Zt=r,qe=!0,Ps=null,Zn=!1,i!==null&&cy(r,i),r=Mu(r,c),r.flags|=4096;return r}return i=ns(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Nu(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Bd(i,r,o,c,f){return Hr(r),o=bd(i,r,o,c,void 0,f),c=xd(),i!==null&&!Vt?(Td(i,r,f),ls(i,r,f)):(qe&&c&&td(r),r.flags|=1,Jt(i,r,o,f),r.child)}function Ev(i,r,o,c,f,p){return Hr(r),r.updateQueue=null,o=Ry(r,c,o,f),Ay(i),c=xd(),i!==null&&!Vt?(Td(i,r,p),ls(i,r,p)):(qe&&c&&td(r),r.flags|=1,Jt(i,r,o,p),r.child)}function Cv(i,r,o,c,f){if(Hr(r),r.stateNode===null){var p=Na,x=o.contextType;typeof x=="object"&&x!==null&&(p=Wt(x)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Od,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},fd(r),x=o.contextType,p.context=typeof x=="object"&&x!==null?Wt(x):Na,p.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(jd(r,o,x,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Od.enqueueReplaceState(p,p.state,null),gl(r,c,p,f),ml(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,k=Qr(o,E);p.props=k;var $=p.context,W=o.contextType;x=Na,typeof W=="object"&&W!==null&&(x=Wt(W));var ie=o.getDerivedStateFromProps;W=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||$!==x)&&hv(r,p,c,x),Ls=!1;var K=r.memoizedState;p.state=K,gl(r,c,p,f),ml(),$=r.memoizedState,E||K!==$||Ls?(typeof ie=="function"&&(jd(r,o,ie,c),$=r.memoizedState),(k=Ls||uv(r,o,k,c,K,$,x))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),p.props=c,p.state=$,p.context=x,c=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,dd(i,r),x=r.memoizedProps,W=Qr(o,x),p.props=W,ie=r.pendingProps,K=p.context,$=o.contextType,k=Na,typeof $=="object"&&$!==null&&(k=Wt($)),E=o.getDerivedStateFromProps,($=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==ie||K!==k)&&hv(r,p,c,k),Ls=!1,K=r.memoizedState,p.state=K,gl(r,c,p,f),ml();var Z=r.memoizedState;x!==ie||K!==Z||Ls||i!==null&&i.dependencies!==null&&fu(i.dependencies)?(typeof E=="function"&&(jd(r,o,E,c),Z=r.memoizedState),(W=Ls||uv(r,o,W,c,K,Z,k)||i!==null&&i.dependencies!==null&&fu(i.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Z,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Z,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),p.props=c,p.state=Z,p.context=k,c=W):(typeof p.componentDidUpdate!="function"||x===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Nu(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Kr(r,i.child,null,f),r.child=Kr(r,null,o,f)):Jt(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ls(i,r,f),i}function Av(i,r,o,c){return Ur(),r.flags|=256,Jt(i,r,o,c),r.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(i){return{baseLanes:i,cachePool:my()}}function Hd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=On),i}function Rv(i,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,x;if((x=p)||(x=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),x&&(f=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(f?Us(r):Fs(),(i=ct)?(i=P1(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=ay(i),o.return=r,r.child=o,Zt=r,ct=null)):i=null,i===null)throw js(r);return Cp(i)?r.lanes=32:r.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(Fs(),f=r.mode,E=ku({mode:"hidden",children:E},f),c=Br(c,f,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,c=r.child,c.memoizedState=Fd(o),c.childLanes=Hd(i,x,o),r.memoizedState=Ud,xl(null,c)):(Us(r),qd(r,E))}var k=i.memoizedState;if(k!==null&&(E=k.dehydrated,E!==null)){if(p)r.flags&256?(Us(r),r.flags&=-257,r=Gd(i,r,o)):r.memoizedState!==null?(Fs(),r.child=i.child,r.flags|=128,r=null):(Fs(),E=c.fallback,f=r.mode,c=ku({mode:"visible",children:c.children},f),E=Br(E,f,o,null),E.flags|=2,c.return=r,E.return=r,c.sibling=E,r.child=c,Kr(r,i.child,null,o),c=r.child,c.memoizedState=Fd(o),c.childLanes=Hd(i,x,o),r.memoizedState=Ud,r=xl(null,c));else if(Us(r),Cp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var $=x.dgst;x=$,c=Error(s(419)),c.stack="",c.digest=x,cl({value:c,source:null,stack:null}),r=Gd(i,r,o)}else if(Vt||Pa(i,r,o,!1),x=(o&i.childLanes)!==0,Vt||x){if(x=ot,x!==null&&(c=Fo(x,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,zr(i,c),Cn(x,i,c),zd;Ep(E)||Uu(),r=Gd(i,r,o)}else Ep(E)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,ct=Jn(E.nextSibling),Zt=r,qe=!0,Ps=null,Zn=!1,i!==null&&cy(r,i),r=qd(r,c.children),r.flags|=4096);return r}return f?(Fs(),E=c.fallback,f=r.mode,k=i.child,$=k.sibling,c=ns(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,$!==null?E=ns($,E):(E=Br(E,f,o,null),E.flags|=2),E.return=r,c.return=r,c.sibling=E,r.child=c,xl(null,c),c=r.child,E=i.child.memoizedState,E===null?E=Fd(o):(f=E.cachePool,f!==null?(k=Nt._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=my(),E={baseLanes:E.baseLanes|o,cachePool:f}),c.memoizedState=E,c.childLanes=Hd(i,x,o),r.memoizedState=Ud,xl(i.child,c)):(Us(r),o=i.child,i=o.sibling,o=ns(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function qd(i,r){return r=ku({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ku(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function Gd(i,r,o){return Kr(r,i.child,null,o),i=qd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function wv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),ad(i.return,r,o)}function $d(i,r,o,c,f,p){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=f,x.treeForkCount=p)}function Dv(i,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var x=Tt.current,E=(x&2)!==0;if(E?(x=x&1|2,r.flags|=128):x&=1,J(Tt,x),Jt(i,r,c,o),c=qe?ll:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wv(i,o,r);else if(i.tag===19)wv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&bu(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),$d(r,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&bu(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}$d(r,!0,o,null,p,c);break;case"together":$d(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ls(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Gs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Pa(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ns(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ns(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Kd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&fu(i)))}function ZC(i,r,o){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),Os(r,Nt,i.memoizedState.cache),Ur();break;case 27:case 5:Ze(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:Os(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,vd(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Us(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Rv(i,r,o):(Us(r),i=ls(i,r,o),i!==null?i.sibling:null);Us(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Pa(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return Dv(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Tt,Tt.current),c)break;return null;case 22:return r.lanes=0,xv(i,r,o,r.pendingProps);case 24:Os(r,Nt,i.memoizedState.cache)}return ls(i,r,o)}function Mv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Kd(i,o)&&(r.flags&128)===0)return Vt=!1,ZC(i,r,o);Vt=(i.flags&131072)!==0}else Vt=!1,qe&&(r.flags&1048576)!==0&&ly(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Gr(r.elementType),r.type=i,typeof i=="function")Wf(i)?(c=Qr(i,c),r.tag=1,r=Cv(null,r,i,c,o)):(r.tag=0,r=Bd(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===re){r.tag=11,r=vv(null,r,i,c,o);break e}else if(f===D){r.tag=14,r=_v(null,r,i,c,o);break e}}throw r=me(i)||i,Error(s(306,r,""))}}return r;case 0:return Bd(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Qr(c,r.pendingProps),Cv(i,r,c,f,o);case 3:e:{if(Oe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,dd(i,r),gl(r,c,null,o);var x=r.memoizedState;if(c=x.cache,Os(r,Nt,c),c!==p.cache&&od(r,[Nt],o,!0),ml(),c=x.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Av(i,r,c,o);break e}else if(c!==f){f=Yn(Error(s(424)),r),cl(f),r=Av(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ct=Jn(i.firstChild),Zt=r,qe=!0,Ps=null,Zn=!0,o=xy(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ur(),c===f){r=ls(i,r,o);break e}Jt(i,r,c,o)}r=r.child}return r;case 26:return Nu(i,r),i===null?(o=U1(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,c=Yu(de.current).createElement(o),c[wt]=r,c[Gt]=i,en(c,o,i),Dt(c),r.stateNode=c):r.memoizedState=U1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ze(r),i===null&&qe&&(c=r.stateNode=L1(r.type,r.pendingProps,de.current),Zt=r,Zn=!0,f=ct,Xs(r.type)?(Ap=f,ct=Jn(c.firstChild)):ct=f),Jt(i,r,r.pendingProps.children,o),Nu(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((f=c=ct)&&(c=R5(c,r.type,r.pendingProps,Zn),c!==null?(r.stateNode=c,Zt=r,ct=Jn(c.firstChild),Zn=!1,f=!0):f=!1),f||js(r)),Ze(r),f=r.type,p=r.pendingProps,x=i!==null?i.memoizedProps:null,c=p.children,xp(f,p)?c=null:x!==null&&xp(f,x)&&(r.flags|=32),r.memoizedState!==null&&(f=bd(i,r,FC,null,null,o),jl._currentValue=f),Nu(i,r),Jt(i,r,c,o),r.child;case 6:return i===null&&qe&&((i=o=ct)&&(o=w5(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,Zt=r,ct=null,i=!0):i=!1),i||js(r)),null;case 13:return Rv(i,r,o);case 4:return Oe(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Kr(r,null,c,o):Jt(i,r,c,o),r.child;case 11:return vv(i,r,r.type,r.pendingProps,o);case 7:return Jt(i,r,r.pendingProps,o),r.child;case 8:return Jt(i,r,r.pendingProps.children,o),r.child;case 12:return Jt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Os(r,r.type,c.value),Jt(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Hr(r),f=Wt(f),c=c(f),r.flags|=1,Jt(i,r,c,o),r.child;case 14:return _v(i,r,r.type,r.pendingProps,o);case 15:return bv(i,r,r.type,r.pendingProps,o);case 19:return Dv(i,r,o);case 31:return XC(i,r,o);case 22:return xv(i,r,o,r.pendingProps);case 24:return Hr(r),c=Wt(Nt),i===null?(f=ud(),f===null&&(f=ot,p=ld(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},fd(r),Os(r,Nt,f)):((i.lanes&o)!==0&&(dd(i,r),gl(r,null,null,o),ml()),f=i.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Os(r,Nt,c)):(c=p.cache,Os(r,Nt,c),c!==f.cache&&od(r,[Nt],o,!0))),Jt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cs(i){i.flags|=4}function Yd(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(i1())i.flags|=8192;else throw $r=gu,hd}else i.flags&=-16777217}function Nv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$1(r))if(i1())i.flags|=8192;else throw $r=gu,hd}function Vu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?zc():536870912,i.lanes|=r,Ka|=r)}function Tl(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ut(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function WC(i,r,o){var c=r.pendingProps;switch(nd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),rs(Nt),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ia(r)?cs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sd())),ut(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(cs(r),p!==null?(ut(r),Nv(r,p)):(ut(r),Yd(r,f,null,c,o))):p?p!==i.memoizedState?(cs(r),ut(r),Nv(r,p)):(ut(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&cs(r),ut(r),Yd(r,f,i,c,o)),null;case 27:if(at(r),o=de.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}i=ne.current,Ia(r)?uy(r):(i=L1(f,c,o),r.stateNode=i,cs(r))}return ut(r),null;case 5:if(at(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(p=ne.current,Ia(r))uy(r);else{var x=Yu(de.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?x.createElement(f,{is:c.is}):x.createElement(f)}}p[wt]=r,p[Gt]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=p;e:switch(en(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&cs(r)}}return ut(r),Yd(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=de.current,Ia(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[wt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||R1(i.nodeValue,o)),i||js(r,!0)}else i=Yu(i).createTextNode(c),i[wt]=r,r.stateNode=i}return ut(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Ia(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[wt]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),i=!1}else o=sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Pn(r),r):(Pn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ia(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pn(r),r):(Pn(r),null)}return Pn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Vu(r,r.updateQueue),ut(r),null);case 4:return Te(),i===null&&gp(r.stateNode.containerInfo),ut(r),null;case 10:return rs(r.type),ut(r),null;case 19:if(q(Tt),c=r.memoizedState,c===null)return ut(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)Tl(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=bu(i),p!==null){for(r.flags|=128,Tl(c,!1),i=p.updateQueue,r.updateQueue=i,Vu(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)ry(o,i),o=o.sibling;return J(Tt,Tt.current&1|2),qe&&is(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&dn()>Lu&&(r.flags|=128,f=!0,Tl(c,!1),r.lanes=4194304)}else{if(!f)if(i=bu(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Vu(r,i),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!qe)return ut(r),null}else 2*dn()-c.renderingStartTime>Lu&&o!==536870912&&(r.flags|=128,f=!0,Tl(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=dn(),i.sibling=null,o=Tt.current,J(Tt,f?o&1|2:o&1),qe&&is(r,c.treeForkCount),i):(ut(r),null);case 22:case 23:return Pn(r),yd(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&Vu(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&q(qr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),rs(Nt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function JC(i,r){switch(nd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rs(Nt),Te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return at(r),null;case 31:if(r.memoizedState!==null){if(Pn(r),r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Pn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return q(Tt),null;case 4:return Te(),null;case 10:return rs(r.type),null;case 22:case 23:return Pn(r),yd(),i!==null&&q(qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rs(Nt),null;case 25:return null;default:return null}}function kv(i,r){switch(nd(r),r.tag){case 3:rs(Nt),Te();break;case 26:case 27:case 5:at(r);break;case 4:Te();break;case 31:r.memoizedState!==null&&Pn(r);break;case 13:Pn(r);break;case 19:q(Tt);break;case 10:rs(r.type);break;case 22:case 23:Pn(r),yd(),i!==null&&q(qr);break;case 24:rs(Nt)}}function Sl(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,x=o.inst;c=p(),x.destroy=c}o=o.next}while(o!==f)}}catch(E){tt(r,r.return,E)}}function Hs(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var x=c.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=r;var k=o,$=E;try{$()}catch(W){tt(f,k,W)}}}c=c.next}while(c!==p)}}catch(W){tt(r,r.return,W)}}function Vv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Sy(r,o)}catch(c){tt(i,i.return,c)}}}function Iv(i,r,o){o.props=Qr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){tt(i,r,c)}}function El(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){tt(i,r,f)}}function Bi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(i,r,f)}else o.current=null}function Pv(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(i,i.return,f)}}function Qd(i,r,o){try{var c=i.stateNode;x5(c,i.type,o,r),c[Gt]=r}catch(f){tt(i,i.return,f)}}function jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xs(i.type)||i.tag===4}function Xd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zd(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=li));else if(c!==4&&(c===27&&Xs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Zd(i,r,o),i=i.sibling;i!==null;)Zd(i,r,o),i=i.sibling}function Iu(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Xs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Iu(i,r,o),i=i.sibling;i!==null;)Iu(i,r,o),i=i.sibling}function Ov(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);en(r,c,o),r[wt]=i,r[Gt]=o}catch(p){tt(i,i.return,p)}}var us=!1,It=!1,Wd=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function e5(i,r){if(i=i.containerInfo,_p=th,i=X0(i),Gf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var x=0,E=-1,k=-1,$=0,W=0,ie=i,K=null;t:for(;;){for(var Z;ie!==o||f!==0&&ie.nodeType!==3||(E=x+f),ie!==p||c!==0&&ie.nodeType!==3||(k=x+c),ie.nodeType===3&&(x+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)K=ie,ie=Z;for(;;){if(ie===i)break t;if(K===o&&++$===f&&(E=x),K===p&&++W===c&&(k=x),(Z=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Z}o=E===-1||k===-1?null:{start:E,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:i,selectionRange:o},th=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var ge=Qr(o.type,f);i=c.getSnapshotBeforeUpdate(ge,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){tt(o,o.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Sp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}}function zv(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:fs(i,o),c&4&&Sl(5,o);break;case 1:if(fs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){tt(o,o.return,x)}else{var f=Qr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){tt(o,o.return,x)}}c&64&&Vv(o),c&512&&El(o,o.return);break;case 3:if(fs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Sy(i,r)}catch(x){tt(o,o.return,x)}}break;case 27:r===null&&c&4&&Ov(o);case 26:case 5:fs(i,o),r===null&&c&4&&Pv(o),c&512&&El(o,o.return);break;case 12:fs(i,o);break;case 31:fs(i,o),c&4&&Fv(i,o);break;case 13:fs(i,o),c&4&&Hv(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=c5.bind(null,o),D5(i,o))));break;case 22:if(c=o.memoizedState!==null||us,!c){r=r!==null&&r.memoizedState!==null||It,f=us;var p=It;us=c,(It=r)&&!p?ds(i,o,(o.subtreeFlags&8772)!==0):fs(i,o),us=f,It=p}break;case 30:break;default:fs(i,o)}}function Bv(i){var r=i.alternate;r!==null&&(i.alternate=null,Bv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ya(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,xn=!1;function hs(i,r,o){for(o=o.child;o!==null;)Uv(i,r,o),o=o.sibling}function Uv(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 26:It||Bi(o,r),hs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||Bi(o,r);var c=pt,f=xn;Xs(o.type)&&(pt=o.stateNode,xn=!1),hs(i,r,o),Vl(o.stateNode),pt=c,xn=f;break;case 5:It||Bi(o,r);case 6:if(c=pt,f=xn,pt=null,hs(i,r,o),pt=c,xn=f,pt!==null)if(xn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(p){tt(o,r,p)}else try{pt.removeChild(o.stateNode)}catch(p){tt(o,r,p)}break;case 18:pt!==null&&(xn?(i=pt,V1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),to(i)):V1(pt,o.stateNode));break;case 4:c=pt,f=xn,pt=o.stateNode.containerInfo,xn=!0,hs(i,r,o),pt=c,xn=f;break;case 0:case 11:case 14:case 15:Hs(2,o,r),It||Hs(4,o,r),hs(i,r,o);break;case 1:It||(Bi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Iv(o,r,c)),hs(i,r,o);break;case 21:hs(i,r,o);break;case 22:It=(c=It)||o.memoizedState!==null,hs(i,r,o),It=c;break;default:hs(i,r,o)}}function Fv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{to(i)}catch(o){tt(r,r.return,o)}}}function Hv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{to(i)}catch(o){tt(r,r.return,o)}}function t5(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Lv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Lv),r;default:throw Error(s(435,i.tag))}}function Pu(i,r){var o=t5(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=u5.bind(null,i,c);c.then(f,f)}})}function Tn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,x=r,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){pt=E.stateNode,xn=!1;break e}break;case 5:pt=E.stateNode,xn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,xn=!0;break e}E=E.return}if(pt===null)throw Error(s(160));Uv(p,x,f),pt=null,xn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)qv(r,i),r=r.sibling}var pi=null;function qv(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),Sn(i),c&4&&(Hs(3,i,i.return),Sl(3,i),Hs(5,i,i.return));break;case 1:Tn(r,i),Sn(i),c&512&&(It||o===null||Bi(o,o.return)),c&64&&us&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=pi;if(Tn(r,i),Sn(i),c&512&&(It||o===null||Bi(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ai]||p[wt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),en(p,c,o),p[wt]=i,Dt(p),c=p;break e;case"link":var x=q1("link","href",f).get(c+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(p=x[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break t}}p=f.createElement(c),en(p,c,o),f.head.appendChild(p);break;case"meta":if(x=q1("meta","content",f).get(c+(o.content||""))){for(E=0;E<x.length;E++)if(p=x[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break t}}p=f.createElement(c),en(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[wt]=i,Dt(p),c=p}i.stateNode=c}else G1(f,i.type,i.stateNode);else i.stateNode=H1(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?G1(f,i.type,i.stateNode):H1(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Qd(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,i),Sn(i),c&512&&(It||o===null||Bi(o,o.return)),o!==null&&c&4&&Qd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,i),Sn(i),c&512&&(It||o===null||Bi(o,o.return)),i.flags&32){f=i.stateNode;try{bn(f,"")}catch(ge){tt(i,i.return,ge)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Qd(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Wd=!0);break;case 6:if(Tn(r,i),Sn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){tt(i,i.return,ge)}}break;case 3:if(Zu=null,f=pi,pi=Qu(r.containerInfo),Tn(r,i),pi=f,Sn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(ge){tt(i,i.return,ge)}Wd&&(Wd=!1,Gv(i));break;case 4:c=pi,pi=Qu(i.stateNode.containerInfo),Tn(r,i),Sn(i),pi=c;break;case 12:Tn(r,i),Sn(i);break;case 31:Tn(r,i),Sn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pu(i,c)));break;case 13:Tn(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ou=dn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pu(i,c)));break;case 22:f=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,$=us,W=It;if(us=$||f,It=W||k,Tn(r,i),It=W,us=$,Sn(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||k||us||It||Xr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(p=k.stateNode,f)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=k.stateNode;var ie=k.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;E.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){tt(k,k.return,ge)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(ge){tt(k,k.return,ge)}}}else if(r.tag===18){if(o===null){k=r;try{var Z=k.stateNode;f?I1(Z,!0):I1(k.stateNode,!1)}catch(ge){tt(k,k.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Pu(i,o))));break;case 19:Tn(r,i),Sn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pu(i,c)));break;case 30:break;case 21:break;default:Tn(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(jv(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Xd(i);Iu(i,p,f);break;case 5:var x=o.stateNode;o.flags&32&&(bn(x,""),o.flags&=-33);var E=Xd(i);Iu(i,E,x);break;case 3:case 4:var k=o.stateNode.containerInfo,$=Xd(i);Zd(i,$,k);break;default:throw Error(s(161))}}catch(W){tt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Gv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Gv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function fs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zv(i,r.alternate,r),r=r.sibling}function Xr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hs(4,r,r.return),Xr(r);break;case 1:Bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Iv(r,r.return,o),Xr(r);break;case 27:Vl(r.stateNode);case 26:case 5:Bi(r,r.return),Xr(r);break;case 22:r.memoizedState===null&&Xr(r);break;case 30:Xr(r);break;default:Xr(r)}i=i.sibling}}function ds(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,p=r,x=p.flags;switch(p.tag){case 0:case 11:case 15:ds(f,p,o),Sl(4,p);break;case 1:if(ds(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){tt(c,c.return,$)}if(c=p,f=c.updateQueue,f!==null){var E=c.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Ty(k[f],E)}catch($){tt(c,c.return,$)}}o&&x&64&&Vv(p),El(p,p.return);break;case 27:Ov(p);case 26:case 5:ds(f,p,o),o&&c===null&&x&4&&Pv(p),El(p,p.return);break;case 12:ds(f,p,o);break;case 31:ds(f,p,o),o&&x&4&&Fv(f,p);break;case 13:ds(f,p,o),o&&x&4&&Hv(f,p);break;case 22:p.memoizedState===null&&ds(f,p,o),El(p,p.return);break;case 30:break;default:ds(f,p,o)}r=r.sibling}}function Jd(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ul(o))}function ep(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ul(i))}function mi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$v(i,r,o,c),r=r.sibling}function $v(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(i,r,o,c),f&2048&&Sl(9,r);break;case 1:mi(i,r,o,c);break;case 3:mi(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ul(i)));break;case 12:if(f&2048){mi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,x=p.id,E=p.onPostCommit;typeof E=="function"&&E(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){tt(r,r.return,k)}}else mi(i,r,o,c);break;case 31:mi(i,r,o,c);break;case 13:mi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,x=r.alternate,r.memoizedState!==null?p._visibility&2?mi(i,r,o,c):Cl(i,r):p._visibility&2?mi(i,r,o,c):(p._visibility|=2,qa(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(x,r);break;case 24:mi(i,r,o,c),f&2048&&ep(r.alternate,r);break;default:mi(i,r,o,c)}}function qa(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,x=r,E=o,k=c,$=x.flags;switch(x.tag){case 0:case 11:case 15:qa(p,x,E,k,f),Sl(8,x);break;case 23:break;case 22:var W=x.stateNode;x.memoizedState!==null?W._visibility&2?qa(p,x,E,k,f):Cl(p,x):(W._visibility|=2,qa(p,x,E,k,f)),f&&$&2048&&Jd(x.alternate,x);break;case 24:qa(p,x,E,k,f),f&&$&2048&&ep(x.alternate,x);break;default:qa(p,x,E,k,f)}r=r.sibling}}function Cl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:Cl(o,c),f&2048&&Jd(c.alternate,c);break;case 24:Cl(o,c),f&2048&&ep(c.alternate,c);break;default:Cl(o,c)}r=r.sibling}}var Al=8192;function Ga(i,r,o){if(i.subtreeFlags&Al)for(i=i.child;i!==null;)Kv(i,r,o),i=i.sibling}function Kv(i,r,o){switch(i.tag){case 26:Ga(i,r,o),i.flags&Al&&i.memoizedState!==null&&U5(o,pi,i.memoizedState,i.memoizedProps);break;case 5:Ga(i,r,o);break;case 3:case 4:var c=pi;pi=Qu(i.stateNode.containerInfo),Ga(i,r,o),pi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Al,Al=16777216,Ga(i,r,o),Al=c):Ga(i,r,o));break;default:Ga(i,r,o)}}function Yv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Rl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Kt=c,Xv(c,i)}Yv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qv(i),i=i.sibling}function Qv(i){switch(i.tag){case 0:case 11:case 15:Rl(i),i.flags&2048&&Hs(9,i,i.return);break;case 3:Rl(i);break;case 12:Rl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ju(i)):Rl(i);break;default:Rl(i)}}function ju(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Kt=c,Xv(c,i)}Yv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hs(8,r,r.return),ju(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ju(r));break;default:ju(r)}i=i.sibling}}function Xv(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Hs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ul(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kt=c;else e:for(o=i;Kt!==null;){c=Kt;var f=c.sibling,p=c.return;if(Bv(c),c===o){Kt=null;break e}if(f!==null){f.return=p,Kt=f;break e}Kt=p}}}var n5={getCacheForType:function(i){var r=Wt(Nt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Wt(Nt).controller.signal}},i5=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,Le=null,Be=0,et=0,jn=null,qs=!1,$a=!1,tp=!1,ps=0,vt=0,Gs=0,Zr=0,np=0,On=0,Ka=0,wl=null,En=null,ip=!1,Ou=0,Zv=0,Lu=1/0,zu=null,$s=null,Ut=0,Ks=null,Ya=null,ms=0,sp=0,rp=null,Wv=null,Dl=0,ap=null;function Ln(){return(Xe&2)!==0&&Be!==0?Be&-Be:Y.T!==null?fp():Bc()}function Jv(){if(On===0)if((Be&536870912)===0||qe){var i=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),On=i}else On=536870912;return i=In.current,i!==null&&(i.flags|=32),On}function Cn(i,r,o){(i===ot&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(Qa(i,0),Ys(i,Be,On,!1)),Cr(i,o),((Xe&2)===0||i!==ot)&&(i===ot&&((Xe&2)===0&&(Zr|=o),vt===4&&Ys(i,Be,On,!1)),Ui(i))}function e1(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ri(i,r),f=c?a5(i,r):lp(i,r,!0),p=c;do{if(f===0){$a&&!c&&Ys(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!s5(o)){f=lp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var E=i;f=wl;var k=E.current.memoizedState.isDehydrated;if(k&&(Qa(E,x).flags|=256),x=lp(E,x,!1),x!==2){if(tp&&!k){E.errorRecoveryDisabledLanes|=p,Zr|=p,f=4;break e}p=En,En=f,p!==null&&(En===null?En=p:En.push.apply(En,p))}f=x}if(p=!1,f!==2)continue}}if(f===1){Qa(i,0),Ys(i,r,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ys(c,r,On,!qs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ou+300-dn(),10<f)){if(Ys(c,r,On,!qs),Si(c,0,!0)!==0)break e;ms=r,c.timeoutHandle=N1(t1.bind(null,c,o,En,zu,ip,r,On,Zr,Ka,qs,p,"Throttled",-0,0),f);break e}t1(c,o,En,zu,ip,r,On,Zr,Ka,qs,p,null,-0,0)}}break}while(!0);Ui(i)}function t1(i,r,o,c,f,p,x,E,k,$,W,ie,K,Z){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Kv(r,p,ie);var ge=(p&62914560)===p?Ou-dn():(p&4194048)===p?Zv-dn():0;if(ge=F5(ie,ge),ge!==null){ms=p,i.cancelPendingCommit=ge(c1.bind(null,i,r,p,o,c,f,x,E,k,W,ie,null,K,Z)),Ys(i,p,x,!$);return}}c1(i,r,p,o,c,f,x,E,k)}function s5(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!kn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ys(i,r,o,c){r&=~np,r&=~Zr,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var p=31-bt(f),x=1<<p;c[p]=-1,f&=~x}o!==0&&Ar(i,o,r)}function Bu(){return(Xe&6)===0?(Ml(0),!1):!0}function op(){if(Le!==null){if(et===0)var i=Le.return;else i=Le,ss=Fr=null,Sd(i),za=null,fl=0,i=Le;for(;i!==null;)kv(i.alternate,i),i=i.return;Le=null}}function Qa(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,E5(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ms=0,op(),ot=i,Le=o=ns(i.current,null),Be=r,et=0,jn=null,qs=!1,$a=ri(i,r),tp=!1,Ka=On=np=Zr=Gs=vt=0,En=wl=null,ip=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-bt(c),p=1<<f;r|=i[f],c&=~p}return ps=r,ou(),o}function n1(i,r){ke=null,Y.H=bl,r===La||r===mu?(r=vy(),et=3):r===hd?(r=vy(),et=4):et=r===zd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Le===null&&(vt=1,Du(i,Yn(r,i.current)))}function i1(){var i=In.current;return i===null?!0:(Be&4194048)===Be?Wn===null:(Be&62914560)===Be||(Be&536870912)!==0?i===Wn:!1}function s1(){var i=Y.H;return Y.H=bl,i===null?bl:i}function r1(){var i=Y.A;return Y.A=n5,i}function Uu(){vt=4,qs||(Be&4194048)!==Be&&In.current!==null||($a=!0),(Gs&134217727)===0&&(Zr&134217727)===0||ot===null||Ys(ot,Be,On,!1)}function lp(i,r,o){var c=Xe;Xe|=2;var f=s1(),p=r1();(ot!==i||Be!==r)&&(zu=null,Qa(i,r)),r=!1;var x=vt;e:do try{if(et!==0&&Le!==null){var E=Le,k=jn;switch(et){case 8:op(),x=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var $=et;if(et=0,jn=null,Xa(i,E,k,$),o&&$a){x=0;break e}break;default:$=et,et=0,jn=null,Xa(i,E,k,$)}}r5(),x=vt;break}catch(W){n1(i,W)}while(!0);return r&&i.shellSuspendCounter++,ss=Fr=null,Xe=c,Y.H=f,Y.A=p,Le===null&&(ot=null,Be=0,ou()),x}function r5(){for(;Le!==null;)a1(Le)}function a5(i,r){var o=Xe;Xe|=2;var c=s1(),f=r1();ot!==i||Be!==r?(zu=null,Lu=dn()+500,Qa(i,r)):$a=ri(i,r);e:do try{if(et!==0&&Le!==null){r=Le;var p=jn;t:switch(et){case 1:et=0,jn=null,Xa(i,r,p,1);break;case 2:case 9:if(gy(p)){et=0,jn=null,o1(r);break}r=function(){et!==2&&et!==9||ot!==i||(et=7),Ui(i)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:gy(p)?(et=0,jn=null,o1(r)):(et=0,jn=null,Xa(i,r,p,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var E=Le;if(x?$1(x):E.stateNode.complete){et=0,jn=null;var k=E.sibling;if(k!==null)Le=k;else{var $=E.return;$!==null?(Le=$,Fu($)):Le=null}break t}}et=0,jn=null,Xa(i,r,p,5);break;case 6:et=0,jn=null,Xa(i,r,p,6);break;case 8:op(),vt=6;break e;default:throw Error(s(462))}}o5();break}catch(W){n1(i,W)}while(!0);return ss=Fr=null,Y.H=c,Y.A=f,Xe=o,Le!==null?0:(ot=null,Be=0,ou(),vt)}function o5(){for(;Le!==null&&!Lf();)a1(Le)}function a1(i){var r=Mv(i.alternate,i,ps);i.memoizedProps=i.pendingProps,r===null?Fu(i):Le=r}function o1(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Ev(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Ev(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Sd(r);default:kv(o,r),r=Le=ry(r,ps),r=Mv(o,r,ps)}i.memoizedProps=i.pendingProps,r===null?Fu(i):Le=r}function Xa(i,r,o,c){ss=Fr=null,Sd(r),za=null,fl=0;var f=r.return;try{if(QC(i,f,r,o,Be)){vt=1,Du(i,Yn(o,i.current)),Le=null;return}}catch(p){if(f!==null)throw Le=f,p;vt=1,Du(i,Yn(o,i.current)),Le=null;return}r.flags&32768?(qe||c===1?i=!0:$a||(Be&536870912)!==0?i=!1:(qs=i=!0,(c===2||c===9||c===3||c===6)&&(c=In.current,c!==null&&c.tag===13&&(c.flags|=16384))),l1(r,i)):Fu(r)}function Fu(i){var r=i;do{if((r.flags&32768)!==0){l1(r,qs);return}i=r.return;var o=WC(r.alternate,r,ps);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);vt===0&&(vt=5)}function l1(i,r){do{var o=JC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);vt=6,Le=null}function c1(i,r,o,c,f,p,x,E,k){i.cancelPendingCommit=null;do Hu();while(Ut!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Xf,Uf(i,o,p,x,E,k),i===ot&&(Le=ot=null,Be=0),Ya=r,Ks=i,ms=o,sp=p,rp=f,Wv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,h5(Es,function(){return p1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,f=oe.p,oe.p=2,x=Xe,Xe|=4;try{e5(i,r,o)}finally{Xe=x,oe.p=f,Y.T=c}}Ut=1,u1(),h1(),f1()}}function u1(){if(Ut===1){Ut=0;var i=Ks,r=Ya,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=oe.p;oe.p=2;var f=Xe;Xe|=4;try{qv(r,i);var p=bp,x=X0(i.containerInfo),E=p.focusedElem,k=p.selectionRange;if(x!==E&&E&&E.ownerDocument&&Q0(E.ownerDocument.documentElement,E)){if(k!==null&&Gf(E)){var $=k.start,W=k.end;if(W===void 0&&(W=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(W,E.value.length);else{var ie=E.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var Z=K.getSelection(),ge=E.textContent.length,Ce=Math.min(k.start,ge),rt=k.end===void 0?Ce:Math.min(k.end,ge);!Z.extend&&Ce>rt&&(x=rt,rt=Ce,Ce=x);var U=Y0(E,Ce),j=Y0(E,rt);if(U&&j&&(Z.rangeCount!==1||Z.anchorNode!==U.node||Z.anchorOffset!==U.offset||Z.focusNode!==j.node||Z.focusOffset!==j.offset)){var G=ie.createRange();G.setStart(U.node,U.offset),Z.removeAllRanges(),Ce>rt?(Z.addRange(G),Z.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),Z.addRange(G))}}}}for(ie=[],Z=E;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ie.length;E++){var te=ie[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}th=!!_p,bp=_p=null}finally{Xe=f,oe.p=c,Y.T=o}}i.current=r,Ut=2}}function h1(){if(Ut===2){Ut=0;var i=Ks,r=Ya,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=oe.p;oe.p=2;var f=Xe;Xe|=4;try{zv(i,r.alternate,r)}finally{Xe=f,oe.p=c,Y.T=o}}Ut=3}}function f1(){if(Ut===4||Ut===3){Ut=0,Vc();var i=Ks,r=Ya,o=ms,c=Wv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Ya=Ks=null,d1(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&($s=null),Wi(o),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Y.T,f=oe.p,oe.p=2,Y.T=null;try{for(var p=i.onRecoverableError,x=0;x<c.length;x++){var E=c[x];p(E.value,{componentStack:E.stack})}}finally{Y.T=r,oe.p=f}}(ms&3)!==0&&Hu(),Ui(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===ap?Dl++:(Dl=0,ap=i):Dl=0,Ml(0)}}function d1(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ul(r)))}function Hu(){return u1(),h1(),f1(),p1()}function p1(){if(Ut!==5)return!1;var i=Ks,r=sp;sp=0;var o=Wi(ms),c=Y.T,f=oe.p;try{oe.p=32>o?32:o,Y.T=null,o=rp,rp=null;var p=Ks,x=ms;if(Ut=0,Ya=Ks=null,ms=0,(Xe&6)!==0)throw Error(s(331));var E=Xe;if(Xe|=4,Qv(p.current),$v(p,p.current,x,o),Xe=E,Ml(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(si,p)}catch{}return!0}finally{oe.p=f,Y.T=c,d1(i,r)}}function m1(i,r,o){r=Yn(o,r),r=Ld(i.stateNode,r,2),i=Bs(i,r,2),i!==null&&(Cr(i,2),Ui(i))}function tt(i,r,o){if(i.tag===3)m1(i,i,o);else for(;r!==null;){if(r.tag===3){m1(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($s===null||!$s.has(c))){i=Yn(o,i),o=gv(2),c=Bs(r,o,2),c!==null&&(yv(o,c,r,i),Cr(c,2),Ui(c));break}}r=r.return}}function cp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new i5;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(tp=!0,f.add(o),i=l5.bind(null,i,r,o),r.then(i,i))}function l5(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ot===i&&(Be&o)===o&&(vt===4||vt===3&&(Be&62914560)===Be&&300>dn()-Ou?(Xe&2)===0&&Qa(i,0):np|=o,Ka===Be&&(Ka=0)),Ui(i)}function g1(i,r){r===0&&(r=zc()),i=zr(i,r),i!==null&&(Cr(i,r),Ui(i))}function c5(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),g1(i,o)}function u5(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),g1(i,o)}function h5(i,r){return Bt(i,r)}var qu=null,Za=null,up=!1,Gu=!1,hp=!1,Qs=0;function Ui(i){i!==Za&&i.next===null&&(Za===null?qu=Za=i:Za=Za.next=i),Gu=!0,up||(up=!0,d5())}function Ml(i,r){if(!hp&&Gu){hp=!0;do for(var o=!1,c=qu;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var x=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-bt(42|i)+1)-1,p&=f&~(x&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,b1(c,p))}else p=Be,p=Si(c,c===ot?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ri(c,p)||(o=!0,b1(c,p));c=c.next}while(o);hp=!1}}function f5(){y1()}function y1(){Gu=up=!1;var i=0;Qs!==0&&S5()&&(i=Qs);for(var r=dn(),o=null,c=qu;c!==null;){var f=c.next,p=v1(c,r);p===0?(c.next=null,o===null?qu=f:o.next=f,f===null&&(Za=o)):(o=c,(i!==0||(p&3)!==0)&&(Gu=!0)),c=f}Ut!==0&&Ut!==5||Ml(i),Qs!==0&&(Qs=0)}function v1(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var x=31-bt(p),E=1<<x,k=f[x];k===-1?((E&o)===0||(E&c)!==0)&&(f[x]=Bf(E,r)):k<=r&&(i.expiredLanes|=E),p&=~E}if(r=ot,o=Be,o=Si(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(et===2||et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ss(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ri(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ss(c),Wi(o)){case 2:case 8:o=Bo;break;case 32:o=Es;break;case 268435456:o=Ic;break;default:o=Es}return c=_1.bind(null,i),o=Bt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ss(c),i.callbackPriority=2,i.callbackNode=null,2}function _1(i,r){if(Ut!==0&&Ut!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Hu()&&i.callbackNode!==o)return null;var c=Be;return c=Si(i,i===ot?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(e1(i,c,r),v1(i,dn()),i.callbackNode!=null&&i.callbackNode===o?_1.bind(null,i):null)}function b1(i,r){if(Hu())return null;e1(i,r,!0)}function d5(){C5(function(){(Xe&6)!==0?Bt(zo,f5):y1()})}function fp(){if(Qs===0){var i=ja;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),Qs=i}return Qs}function x1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xa(""+i)}function T1(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function p5(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=x1((f[Gt]||null).action),x=c.submitter;x&&(r=(r=x[Gt]||null)?x1(r.formAction):x.getAttribute("formAction"),r!==null&&(p=r,x=null));var E=new Ii("action","action",null,c,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qs!==0){var k=x?T1(f,x):new FormData(f);kd(o,{pending:!0,data:k,method:f.method,action:p},null,k)}}else typeof p=="function"&&(E.preventDefault(),k=x?T1(f,x):new FormData(f),kd(o,{pending:!0,data:k,method:f.method,action:p},p,k))},currentTarget:f}]})}}for(var dp=0;dp<Qf.length;dp++){var pp=Qf[dp],m5=pp.toLowerCase(),g5=pp[0].toUpperCase()+pp.slice(1);di(m5,"on"+g5)}di(J0,"onAnimationEnd"),di(ey,"onAnimationIteration"),di(ty,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(kC,"onTransitionRun"),di(VC,"onTransitionStart"),di(IC,"onTransitionCancel"),di(ny,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function S1(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var x=c.length-1;0<=x;x--){var E=c[x],k=E.instance,$=E.currentTarget;if(E=E.listener,k!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=$;try{p(f)}catch(W){au(W)}f.currentTarget=null,p=k}else for(x=0;x<c.length;x++){if(E=c[x],k=E.instance,$=E.currentTarget,E=E.listener,k!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=$;try{p(f)}catch(W){au(W)}f.currentTarget=null,p=k}}}}function ze(i,r){var o=r[ga];o===void 0&&(o=r[ga]=new Set);var c=i+"__bubble";o.has(c)||(E1(r,i,2,!1),o.add(c))}function mp(i,r,o){var c=0;r&&(c|=4),E1(o,i,c,r)}var $u="_reactListening"+Math.random().toString(36).slice(2);function gp(i){if(!i[$u]){i[$u]=!0,Ho.forEach(function(o){o!=="selectionchange"&&(y5.has(o)||mp(o,!1,i),mp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[$u]||(r[$u]=!0,mp("selectionchange",!1,r))}}function E1(i,r,o,c){switch(J1(r)){case 2:var f=G5;break;case 8:f=$5;break;default:f=Np}o=f.bind(null,r,o,i),f=void 0,!Nr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function yp(i,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=c.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=Ri(E),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){c=p=x;continue e}E=E.parentNode}}c=c.return}Ms(function(){var $=p,W=qn(o),ie=[];e:{var K=iy.get(i);if(K!==void 0){var Z=Ii,ge=i;switch(i){case"keypress":if(Vr(o)===0)break e;case"keydown":case"keyup":Z=iu;break;case"focusin":ge="focus",Z=Pr;break;case"focusout":ge="blur",Z=Pr;break;case"beforeblur":case"afterblur":Z=Pr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case J0:case ey:case ty:Z=Xc;break;case ny:Z=R;break;case"scroll":case"scrollend":Z=tl;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ts;break;case"toggle":case"beforetoggle":Z=Ne}var Ce=(r&4)!==0,rt=!Ce&&(i==="scroll"||i==="scrollend"),U=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var j=$,G;j!==null;){var te=j;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||U===null||(te=ci(j,U),te!=null&&Ce.push(kl(j,te,G))),rt)break;j=j.return}0<Ce.length&&(K=new Z(K,ge,null,o,W),ie.push({event:K,listeners:Ce}))}}if((r&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",K&&o!==Wo&&(ge=o.relatedTarget||o.fromElement)&&(Ri(ge)||ge[Ci]))break e;if((Z||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(ge=o.relatedTarget||o.toElement,Z=$,ge=ge?Ri(ge):null,ge!==null&&(rt=l(ge),Ce=ge.tag,ge!==rt||Ce!==5&&Ce!==27&&Ce!==6)&&(ge=null)):(Z=null,ge=$),Z!==ge)){if(Ce=nl,te="onMouseLeave",U="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=ts,te="onPointerLeave",U="onPointerEnter",j="pointer"),rt=Z==null?K:Mn(Z),G=ge==null?K:Mn(ge),K=new Ce(te,j+"leave",Z,o,W),K.target=rt,K.relatedTarget=G,te=null,Ri(W)===$&&(Ce=new Ce(U,j+"enter",ge,o,W),Ce.target=G,Ce.relatedTarget=rt,te=Ce),rt=te,Z&&ge)t:{for(Ce=v5,U=Z,j=ge,G=0,te=U;te;te=Ce(te))G++;te=0;for(var Se=j;Se;Se=Ce(Se))te++;for(;0<G-te;)U=Ce(U),G--;for(;0<te-G;)j=Ce(j),te--;for(;G--;){if(U===j||j!==null&&U===j.alternate){Ce=U;break t}U=Ce(U),j=Ce(j)}Ce=null}else Ce=null;Z!==null&&C1(ie,K,Z,Ce,!1),ge!==null&&rt!==null&&C1(ie,rt,ge,Ce,!0)}}e:{if(K=$?Mn($):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var Ke=F0;else if(B0(K))if(H0)Ke=DC;else{Ke=RC;var be=AC}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&ba($.elementType)&&(Ke=F0):Ke=wC;if(Ke&&(Ke=Ke(i,$))){U0(ie,Ke,o,W);break e}be&&be(i,K,$),i==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Qo(K,"number",K.value)}switch(be=$?Mn($):window,i){case"focusin":(B0(be)||be.contentEditable==="true")&&(wa=be,$f=$,ol=null);break;case"focusout":ol=$f=wa=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Z0(ie,o,W);break;case"selectionchange":if(NC)break;case"keydown":case"keyup":Z0(ie,o,W)}var Pe;if(Qe)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ra?jr(i,o)&&(Ue="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ue="onCompositionStart");Ue&&(Oi&&o.locale!=="ko"&&(Ra||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ra&&(Pe=el()):(Vi=W,Jo="value"in Vi?Vi.value:Vi.textContent,Ra=!0)),be=Ku($,Ue),0<be.length&&(Ue=new ji(Ue,i,null,o,W),ie.push({event:Ue,listeners:be}),Pe?Ue.data=Pe:(Pe=Aa(o),Pe!==null&&(Ue.data=Pe)))),(Pe=$n?TC(i,o):SC(i,o))&&(Ue=Ku($,"onBeforeInput"),0<Ue.length&&(be=new ji("onBeforeInput","beforeinput",null,o,W),ie.push({event:be,listeners:Ue}),be.data=Pe)),p5(ie,i,$,o,W)}S1(ie,r)})}function kl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ku(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ci(i,o),f!=null&&c.unshift(kl(i,f,p)),f=ci(i,r),f!=null&&c.push(kl(i,f,p))),i.tag===3)return c;i=i.return}return[]}function v5(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function C1(i,r,o,c,f){for(var p=r._reactName,x=[];o!==null&&o!==c;){var E=o,k=E.alternate,$=E.stateNode;if(E=E.tag,k!==null&&k===c)break;E!==5&&E!==26&&E!==27||$===null||(k=$,f?($=ci(o,p),$!=null&&x.unshift(kl(o,$,k))):f||($=ci(o,p),$!=null&&x.push(kl(o,$,k)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var _5=/\r\n?/g,b5=/\u0000|\uFFFD/g;function A1(i){return(typeof i=="string"?i:""+i).replace(_5,`
`).replace(b5,"")}function R1(i,r){return r=A1(r),A1(i)===r}function st(i,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||bn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&bn(i,""+c);break;case"className":Nn(i,"class",c);break;case"tabIndex":Nn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(i,o,c);break;case"style":Zo(i,c,p);break;case"data":if(r!=="object"){Nn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=xa(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&st(i,r,"name",f.name,f,null),st(i,r,"formEncType",f.formEncType,f,null),st(i,r,"formMethod",f.formMethod,f,null),st(i,r,"formTarget",f.formTarget,f,null)):(st(i,r,"encType",f.encType,f,null),st(i,r,"method",f.method,f,null),st(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=xa(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=li);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=xa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),va(i,"popover",c);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":va(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kc.get(o)||o,va(i,o,c))}}function vp(i,r,o,c,f,p){switch(o){case"style":Zo(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?bn(i,c):(typeof c=="number"||typeof c=="bigint")&&bn(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Gt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):va(i,o,c)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var x=o[p];if(x!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,p,x,o,null)}}f&&st(i,r,"srcSet",o.srcSet,o,null),c&&st(i,r,"src",o.src,o,null);return;case"input":ze("invalid",i);var E=p=x=f=null,k=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":f=W;break;case"type":x=W;break;case"checked":k=W;break;case"defaultChecked":$=W;break;case"value":p=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:st(i,r,c,W,o,null)}}qc(i,p,E,k,$,x,f,!1);return;case"select":ze("invalid",i),c=x=p=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":x=E;break;case"multiple":c=E;default:st(i,r,f,E,o,null)}r=p,o=x,i.multiple=!!c,r!=null?As(i,!!c,r,!1):o!=null&&As(i,!!c,o,!0);return;case"textarea":ze("invalid",i),p=f=c=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":c=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:st(i,r,x,E,o,null)}Rs(i,c,f,p);return;case"option":for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null)&&(k==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":st(i,r,k,c,o,null));return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<Nl.length;c++)ze(Nl[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,$,c,o,null)}return;default:if(ba(r)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&vp(i,r,W,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&st(i,r,E,c,o,null))}function x5(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,x=null,E=null,k=null,$=null,W=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=ie;default:c.hasOwnProperty(Z)||st(i,r,Z,null,c,ie)}}for(var K in c){var Z=c[K];if(ie=o[K],c.hasOwnProperty(K)&&(Z!=null||ie!=null))switch(K){case"type":p=Z;break;case"name":f=Z;break;case"checked":$=Z;break;case"defaultChecked":W=Z;break;case"value":x=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==ie&&st(i,r,K,Z,c,ie)}}_a(i,x,E,k,$,W,p,f);return;case"select":Z=x=E=K=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":Z=k;default:c.hasOwnProperty(p)||st(i,r,p,null,c,k)}for(f in c)if(p=c[f],k=o[f],c.hasOwnProperty(f)&&(p!=null||k!=null))switch(f){case"value":K=p;break;case"defaultValue":E=p;break;case"multiple":x=p;default:p!==k&&st(i,r,f,p,c,k)}r=E,o=x,c=Z,K!=null?As(i,!!o,K,!1):!!c!=!!o&&(r!=null?As(i,!!o,r,!0):As(i,!!o,o?[]:"",!1));return;case"textarea":Z=K=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(i,r,E,null,c,f)}for(x in c)if(f=c[x],p=o[x],c.hasOwnProperty(x)&&(f!=null||p!=null))switch(x){case"value":K=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&st(i,r,x,f,c,p)}Gc(i,K,Z);return;case"option":for(var ge in o)K=o[ge],o.hasOwnProperty(ge)&&K!=null&&!c.hasOwnProperty(ge)&&(ge==="selected"?i.selected=!1:st(i,r,ge,null,c,K));for(k in c)K=c[k],Z=o[k],c.hasOwnProperty(k)&&K!==Z&&(K!=null||Z!=null)&&(k==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":st(i,r,k,K,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)K=o[Ce],o.hasOwnProperty(Ce)&&K!=null&&!c.hasOwnProperty(Ce)&&st(i,r,Ce,null,c,K);for($ in c)if(K=c[$],Z=o[$],c.hasOwnProperty($)&&K!==Z&&(K!=null||Z!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:st(i,r,$,K,c,Z)}return;default:if(ba(r)){for(var rt in o)K=o[rt],o.hasOwnProperty(rt)&&K!==void 0&&!c.hasOwnProperty(rt)&&vp(i,r,rt,void 0,c,K);for(W in c)K=c[W],Z=o[W],!c.hasOwnProperty(W)||K===Z||K===void 0&&Z===void 0||vp(i,r,W,K,c,Z);return}}for(var U in o)K=o[U],o.hasOwnProperty(U)&&K!=null&&!c.hasOwnProperty(U)&&st(i,r,U,null,c,K);for(ie in c)K=c[ie],Z=o[ie],!c.hasOwnProperty(ie)||K===Z||K==null&&Z==null||st(i,r,ie,K,c,Z)}function w1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T5(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,x=f.initiatorType,E=f.duration;if(p&&E&&w1(x)){for(x=0,E=f.responseEnd,c+=1;c<o.length;c++){var k=o[c],$=k.startTime;if($>E)break;var W=k.transferSize,ie=k.initiatorType;W&&w1(ie)&&(k=k.responseEnd,x+=W*(k<E?1:(E-$)/(k-$)))}if(--c,r+=8*(p+x)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _p=null,bp=null;function Yu(i){return i.nodeType===9?i:i.ownerDocument}function D1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function xp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tp=null;function S5(){var i=window.event;return i&&i.type==="popstate"?i===Tp?!1:(Tp=i,!0):(Tp=null,!1)}var N1=typeof setTimeout=="function"?setTimeout:void 0,E5=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,C5=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(i){return k1.resolve(null).then(i).catch(A5)}:N1;function A5(i){setTimeout(function(){throw i})}function Xs(i){return i==="head"}function V1(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),to(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Vl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Vl(o);for(var p=o.firstChild;p;){var x=p.nextSibling,E=p.nodeName;p[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=x}}else o==="body"&&Vl(i.ownerDocument.body);o=f}while(o);to(r)}function I1(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Sp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sp(o),ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function R5(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ai])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function w5(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function P1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Jn(i.nextSibling),i===null))return null;return i}function Ep(i){return i.data==="$?"||i.data==="$~"}function Cp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function D5(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Ap=null;function j1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function O1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function L1(i,r,o){switch(r=Yu(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Vl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ya(i)}var ei=new Map,z1=new Set;function Qu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=oe.d;oe.d={f:M5,r:N5,D:k5,C:V5,L:I5,m:P5,X:O5,S:j5,M:L5};function M5(){var i=gs.f(),r=Bu();return i||r}function N5(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?nv(r):gs.r(i)}var Wa=typeof document>"u"?null:document;function B1(i,r,o){var c=Wa;if(c&&typeof r=="string"&&r){var f=_n(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),z1.has(f)||(z1.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),en(r,"link",i),Dt(r),c.head.appendChild(r)))}}function k5(i){gs.D(i),B1("dns-prefetch",i,null)}function V5(i,r){gs.C(i,r),B1("preconnect",i,r)}function I5(i,r,o){gs.L(i,r,o);var c=Wa;if(c&&i&&r){var f='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(i)+'"]';var p=f;switch(r){case"style":p=Ja(i);break;case"script":p=eo(i)}ei.has(p)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(p,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Il(p))||r==="script"&&c.querySelector(Pl(p))||(r=c.createElement("link"),en(r,"link",i),Dt(r),c.head.appendChild(r)))}}function P5(i,r){gs.m(i,r);var o=Wa;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=eo(i)}if(!ei.has(p)&&(i=b({rel:"modulepreload",href:i},r),ei.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pl(p)))return}c=o.createElement("link"),en(c,"link",i),Dt(c),o.head.appendChild(c)}}}function j5(i,r,o){gs.S(i,r,o);var c=Wa;if(c&&i){var f=wi(c).hoistableStyles,p=Ja(i);r=r||"default";var x=f.get(p);if(!x){var E={loading:0,preload:null};if(x=c.querySelector(Il(p)))E.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(p))&&Rp(i,o);var k=x=c.createElement("link");Dt(k),en(k,"link",i),k._p=new Promise(function($,W){k.onload=$,k.onerror=W}),k.addEventListener("load",function(){E.loading|=1}),k.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Xu(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(p,x)}}}function O5(i,r){gs.X(i,r);var o=Wa;if(o&&i){var c=wi(o).hoistableScripts,f=eo(i),p=c.get(f);p||(p=o.querySelector(Pl(f)),p||(i=b({src:i,async:!0},r),(r=ei.get(f))&&wp(i,r),p=o.createElement("script"),Dt(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function L5(i,r){gs.M(i,r);var o=Wa;if(o&&i){var c=wi(o).hoistableScripts,f=eo(i),p=c.get(f);p||(p=o.querySelector(Pl(f)),p||(i=b({src:i,async:!0,type:"module"},r),(r=ei.get(f))&&wp(i,r),p=o.createElement("script"),Dt(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function U1(i,r,o,c){var f=(f=de.current)?Qu(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ja(o.href),o=wi(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ja(o.href);var p=wi(f).hoistableStyles,x=p.get(i);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,x),(p=f.querySelector(Il(i)))&&!p._p&&(x.instance=p,x.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),p||z5(f,i,o,x.state))),r&&c===null)throw Error(s(528,""));return x}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(o),o=wi(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ja(i){return'href="'+_n(i)+'"'}function Il(i){return'link[rel="stylesheet"]['+i+"]"}function F1(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function z5(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),en(r,"link",o),Dt(r),i.head.appendChild(r))}function eo(i){return'[src="'+_n(i)+'"]'}function Pl(i){return"script[async]"+i}function H1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return r.instance=c,Dt(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dt(c),en(c,"style",f),Xu(c,o.precedence,i),r.instance=c;case"stylesheet":f=Ja(o.href);var p=i.querySelector(Il(f));if(p)return r.state.loading|=4,r.instance=p,Dt(p),p;c=F1(o),(f=ei.get(f))&&Rp(c,f),p=(i.ownerDocument||i).createElement("link"),Dt(p);var x=p;return x._p=new Promise(function(E,k){x.onload=E,x.onerror=k}),en(p,"link",c),r.state.loading|=4,Xu(p,o.precedence,i),r.instance=p;case"script":return p=eo(o.src),(f=i.querySelector(Pl(p)))?(r.instance=f,Dt(f),f):(c=o,(f=ei.get(p))&&(c=b({},o),wp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Dt(f),en(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Xu(c,o.precedence,i));return r.instance}function Xu(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,x=0;x<c.length;x++){var E=c[x];if(E.dataset.precedence===r)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function wp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Zu=null;function q1(i,r,o){if(Zu===null){var c=new Map,f=Zu=new Map;f.set(o,c)}else f=Zu,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ai]||p[wt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(r)||"";x=i+x;var E=c.get(x);E?E.push(p):c.set(x,[p])}}return c}function G1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function B5(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function U5(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ja(c.href),p=r.querySelector(Il(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Wu.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Dt(p);return}p=r.ownerDocument||r,c=F1(c),(f=ei.get(f))&&Rp(c,f),p=p.createElement("link"),Dt(p);var x=p;x._p=new Promise(function(E,k){x.onload=E,x.onerror=k}),en(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Wu.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Dp=0;function F5(i,r){return i.stylesheets&&i.count===0&&eh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&eh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Dp===0&&(Dp=62500*T5());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&eh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Dp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ju=null;function eh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ju=new Map,r.forEach(H5,i),Ju=null,Wu.call(i))}function H5(i,r){if(!(r.state.loading&4)){var o=Ju.get(i);if(o)var c=o.get(null);else{o=new Map,Ju.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var x=f[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}f=r.instance,x=f.getAttribute("data-precedence"),p=o.get(x)||c,p===c&&o.set(null,f),o.set(x,f),this.count++,c=Wu.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var jl={$$typeof:B,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function q5(i,r,o,c,f,p,x,E,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function K1(i,r,o,c,f,p,x,E,k,$,W,ie){return i=new q5(i,r,o,x,k,$,W,ie,E),r=1,p===!0&&(r|=24),p=Vn(3,null,null,r),i.current=p,p.stateNode=i,r=ld(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},fd(p),i}function Y1(i){return i?(i=Na,i):Na}function Q1(i,r,o,c,f,p){f=Y1(f),c.context===null?c.context=f:c.pendingContext=f,c=zs(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Bs(i,c,r),o!==null&&(Cn(o,i,r),pl(o,i,r))}function X1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Mp(i,r){X1(i,r),(i=i.alternate)&&X1(i,r)}function Z1(i){if(i.tag===13||i.tag===31){var r=zr(i,67108864);r!==null&&Cn(r,i,67108864),Mp(i,67108864)}}function W1(i){if(i.tag===13||i.tag===31){var r=Ln();r=Rr(r);var o=zr(i,r);o!==null&&Cn(o,i,r),Mp(i,r)}}var th=!0;function G5(i,r,o,c){var f=Y.T;Y.T=null;var p=oe.p;try{oe.p=2,Np(i,r,o,c)}finally{oe.p=p,Y.T=f}}function $5(i,r,o,c){var f=Y.T;Y.T=null;var p=oe.p;try{oe.p=8,Np(i,r,o,c)}finally{oe.p=p,Y.T=f}}function Np(i,r,o,c){if(th){var f=kp(c);if(f===null)yp(i,r,c,nh,o),e_(i,c);else if(Y5(f,i,r,o,c))c.stopPropagation();else if(e_(i,c),r&4&&-1<K5.indexOf(i)){for(;f!==null;){var p=Hn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Ti(p.pendingLanes);if(x!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var k=1<<31-bt(x);E.entanglements[1]|=k,x&=~k}Ui(p),(Xe&6)===0&&(Lu=dn()+500,Ml(0))}}break;case 31:case 13:E=zr(p,2),E!==null&&Cn(E,p,2),Bu(),Mp(p,2)}if(p=kp(c),p===null&&yp(i,r,c,nh,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else yp(i,r,c,null,o)}}function kp(i){return i=qn(i),Vp(i)}var nh=null;function Vp(i){if(nh=null,i=Ri(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return nh=i,null}function J1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case zo:return 2;case Bo:return 8;case Es:case zf:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Ip=!1,Zs=null,Ws=null,Js=null,Ol=new Map,Ll=new Map,er=[],K5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(i,r){switch(i){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function zl(i,r,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Hn(r),r!==null&&Z1(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Y5(i,r,o,c,f){switch(r){case"focusin":return Zs=zl(Zs,i,r,o,c,f),!0;case"dragenter":return Ws=zl(Ws,i,r,o,c,f),!0;case"mouseover":return Js=zl(Js,i,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Ol.set(p,zl(Ol.get(p)||null,i,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Ll.set(p,zl(Ll.get(p)||null,i,r,o,c,f)),!0}return!1}function t_(i){var r=Ri(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ai(i.priority,function(){W1(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ai(i.priority,function(){W1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ih(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=kp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Wo=c,o.target.dispatchEvent(c),Wo=null}else return r=Hn(o),r!==null&&Z1(r),i.blockedOn=o,!1;r.shift()}return!0}function n_(i,r,o){ih(i)&&o.delete(r)}function Q5(){Ip=!1,Zs!==null&&ih(Zs)&&(Zs=null),Ws!==null&&ih(Ws)&&(Ws=null),Js!==null&&ih(Js)&&(Js=null),Ol.forEach(n_),Ll.forEach(n_)}function sh(i,r){i.blockedOn===r&&(i.blockedOn=null,Ip||(Ip=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Q5)))}var rh=null;function i_(i){rh!==i&&(rh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rh===i&&(rh=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Vp(c||o)===null)continue;break}var p=Hn(o);p!==null&&(i.splice(r,3),r-=3,kd(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function to(i){function r(k){return sh(k,i)}Zs!==null&&sh(Zs,i),Ws!==null&&sh(Ws,i),Js!==null&&sh(Js,i),Ol.forEach(r),Ll.forEach(r);for(var o=0;o<er.length;o++){var c=er[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<er.length&&(o=er[0],o.blockedOn===null);)t_(o),o.blockedOn===null&&er.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],x=f[Gt]||null;if(typeof p=="function")x||i_(o);else if(x){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,x=p[Gt]||null)E=x.formAction;else if(Vp(f)!==null)continue}else E=x.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),i_(o)}}}function s_(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Pp(i){this._internalRoot=i}ah.prototype.render=Pp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Ln();Q1(o,c,i,r,null,null)},ah.prototype.unmount=Pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Q1(i.current,2,null,i,null,null),Bu(),r[Ci]=null}};function ah(i){this._internalRoot=i}ah.prototype.unstable_scheduleHydration=function(i){if(i){var r=Bc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<er.length&&r!==0&&r<er[o].priority;o++);er.splice(o,0,i),o===0&&t_(i)}};var r_=e.version;if(r_!=="19.2.4")throw Error(s(527,r_,"19.2.4"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var X5={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{si=oh.inject(X5),Qt=oh}catch{}}return Ul.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=fv,p=dv,x=pv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=K1(i,1,!1,null,null,o,c,null,f,p,x,s_),i[Ci]=r.current,gp(i),new Pp(r)},Ul.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",p=fv,x=dv,E=pv,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=K1(i,1,!0,r,o??null,c,f,k,p,x,E,s_),r.context=Y1(null),o=r.current,c=Ln(),c=Rr(c),f=zs(c),f.callback=null,Bs(o,f,c),o=c,r.current.lanes=o,Cr(r,o),Ui(r),i[Ci]=r.current,gp(i),new ah(r)},Ul.version="19.2.4",Ul}var m_;function oA(){if(m_)return Lp.exports;m_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lp.exports=aA(),Lp.exports}var lA=oA();const ix=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const cA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const uA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const g_=n=>{const e=uA(n);return e.charAt(0).toUpperCase()+e.slice(1)};var hA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const dA=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>H.createElement("svg",{ref:m,...hA,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:ix("lucide",a),...!l&&!fA(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,y])=>H.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Ve=(n,e)=>{const t=H.forwardRef(({className:s,...a},l)=>H.createElement(dA,{ref:l,iconNode:e,className:ix(`lucide-${cA(g_(n))}`,`lucide-${n}`,s),...a}));return t.displayName=g_(n),t};const pA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sx=Ve("activity",pA);const mA=[["path",{d:"M9 13a1 1 0 0 0-1-1H5.061a1 1 0 0 1-.75-1.811l6.836-6.835a1.207 1.207 0 0 1 1.707 0l6.835 6.835a1 1 0 0 1-.75 1.811H16a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z",key:"lh0v7k"}]],gA=Ve("arrow-big-up",mA);const yA=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],lh=Ve("arrow-down-right",yA);const vA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bo=Ve("arrow-left",vA);const _A=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ch=Ve("arrow-up-right",_A);const bA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xA=Ve("bell",bA);const TA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],SA=Ve("camera",TA);const EA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],CA=Ve("check-check",EA);const AA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rx=Ve("check",AA);const RA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wA=Ve("circle-check",RA);const DA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],MA=Ve("circle-check-big",DA);const NA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bm=Ve("clock",NA);const kA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],VA=Ve("copy",kA);const IA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],PA=Ve("cpu",IA);const jA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zh=Ve("credit-card",jA);const OA=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],LA=Ve("delete",OA);const zA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BA=Ve("eye-off",zA);const UA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FA=Ve("eye",UA);const HA=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],qA=Ve("hard-drive",HA);const GA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ax=Ve("image",GA);const $A=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KA=Ve("loader-circle",$A);const YA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y_=Ve("lock",YA);const QA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],XA=Ve("mic-off",QA);const ZA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],WA=Ve("mic",ZA);const JA=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],ox=Ve("phone-off",JA);const eR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lx=Ve("phone",eR);const tR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nR=Ve("plus",tR);const iR=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],sR=Ve("qr-code",iR);const rR=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Fp=Ve("refresh-ccw",rR);const aR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oR=Ve("send",aR);const lR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v_=Ve("settings",lR);const cR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],uR=Ve("smartphone",cR);const hR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],fR=Ve("smile",hR);const dR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pR=Ve("star",dR);const mR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gR=Ve("trash-2",mR);const yR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],__=Ve("trending-up",yR);const vR=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_R=Ve("video-off",vR);const bR=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],pf=Ve("video",bR);const xR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],TR=Ve("wallet",xR);const SR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ER=Ve("wifi",SR);const CR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_g=Ve("x",CR);const AR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fo=Ve("zap",AR),bg=H.createContext({});function xg(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}const cx=typeof window<"u",ux=cx?H.useLayoutEffect:H.useEffect,mf=H.createContext(null);function Tg(n,e){n.indexOf(e)===-1&&n.push(e)}function Bh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qi=(n,e,t)=>t>e?e:t<n?n:t;let Sg=()=>{};const vs={},hx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function fx(n){return typeof n=="object"&&n!==null}const dx=n=>/^0[^.\s]+$/u.test(n);function Eg(n){let e;return()=>(e===void 0&&(e=n()),e)}const ii=n=>n,RR=(n,e)=>t=>e(n(t)),Ec=(...n)=>n.reduce(RR),lc=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class Cg{constructor(){this.subscriptions=[]}add(e){return Tg(this.subscriptions,e),()=>Bh(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vi=n=>n*1e3,ni=n=>n/1e3;function px(n,e){return e?n*(1e3/e):0}const mx=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wR=1e-7,DR=12;function MR(n,e,t,s,a){let l,u,d=0;do u=e+(t-e)/2,l=mx(u,s,a)-n,l>0?t=u:e=u;while(Math.abs(l)>wR&&++d<DR);return u}function Cc(n,e,t,s){if(n===e&&t===s)return ii;const a=l=>MR(l,0,1,n,t);return l=>l===0||l===1?l:mx(a(l),e,s)}const gx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,yx=n=>e=>1-n(1-e),vx=Cc(.33,1.53,.69,.99),Ag=yx(vx),_x=gx(Ag),bx=n=>(n*=2)<1?.5*Ag(n):.5*(2-Math.pow(2,-10*(n-1))),Rg=n=>1-Math.sin(Math.acos(n)),xx=yx(Rg),Tx=gx(Rg),NR=Cc(.42,0,1,1),kR=Cc(0,0,.58,1),Sx=Cc(.42,0,.58,1),VR=n=>Array.isArray(n)&&typeof n[0]!="number",Ex=n=>Array.isArray(n)&&typeof n[0]=="number",IR={linear:ii,easeIn:NR,easeInOut:Sx,easeOut:kR,circIn:Rg,circInOut:Tx,circOut:xx,backIn:Ag,backInOut:_x,backOut:vx,anticipate:bx},PR=n=>typeof n=="string",b_=n=>{if(Ex(n)){Sg(n.length===4);const[e,t,s,a]=n;return Cc(e,t,s,a)}else if(PR(n))return IR[n];return n},uh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jR(n,e){let t=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,b=!1,S=!1)=>{const M=S&&a?t:s;return b&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[t,s]=[s,t],t.forEach(m),t.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const OR=40;function Cx(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=uh.reduce((B,re)=>(B[re]=jR(l),B),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:b,preRender:S,render:C,postRender:M}=u,L=()=>{const B=vs.useManualTiming?a.timestamp:performance.now();t=!1,vs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,OR),1)),a.timestamp=B,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),b.process(a),S.process(a),C.process(a),M.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(L))},O=()=>{t=!0,s=!0,a.isProcessing||n(L)};return{schedule:uh.reduce((B,re)=>{const le=u[re];return B[re]=(he,D=!1,A=!1)=>(t||O(),le.schedule(he,D,A)),B},{}),cancel:B=>{for(let re=0;re<uh.length;re++)u[uh[re]].cancel(B)},state:a,steps:u}}const{schedule:lt,cancel:hr,state:tn,steps:Hp}=Cx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let bh;function LR(){bh=void 0}const gn={now:()=>(bh===void 0&&gn.set(tn.isProcessing||vs.useManualTiming?tn.timestamp:performance.now()),bh),set:n=>{bh=n,queueMicrotask(LR)}},Ax=n=>e=>typeof e=="string"&&e.startsWith(n),Rx=Ax("--"),zR=Ax("var(--"),wg=n=>zR(n)?BR.test(n.split("/*")[0].trim()):!1,BR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function x_(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const wo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},cc={...wo,transform:n=>Qi(0,1,n)},hh={...wo,default:1},Jl=n=>Math.round(n*1e5)/1e5,Dg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UR(n){return n==null}const FR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mg=(n,e)=>t=>!!(typeof t=="string"&&FR.test(t)&&t.startsWith(n)||e&&!UR(t)&&Object.prototype.hasOwnProperty.call(t,e)),wx=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(Dg);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},HR=n=>Qi(0,255,n),qp={...wo,transform:n=>Math.round(HR(n))},ta={test:Mg("rgb","red"),parse:wx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+qp.transform(n)+", "+qp.transform(e)+", "+qp.transform(t)+", "+Jl(cc.transform(s))+")"};function qR(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const xm={test:Mg("#"),parse:qR,transform:ta.transform},Ac=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),nr=Ac("deg"),qi=Ac("%"),ye=Ac("px"),GR=Ac("vh"),$R=Ac("vw"),T_={...qi,parse:n=>qi.parse(n)/100,transform:n=>qi.transform(n*100)},oo={test:Mg("hsl","hue"),parse:wx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+qi.transform(Jl(e))+", "+qi.transform(Jl(t))+", "+Jl(cc.transform(s))+")"},Ot={test:n=>ta.test(n)||xm.test(n)||oo.test(n),parse:n=>ta.test(n)?ta.parse(n):oo.test(n)?oo.parse(n):xm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ta.transform(n):oo.transform(n),getAnimatableNone:n=>{const e=Ot.parse(n);return e.alpha=0,Ot.transform(e)}},KR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YR(n){return isNaN(n)&&typeof n=="string"&&(n.match(Dg)?.length||0)+(n.match(KR)?.length||0)>0}const Dx="number",Mx="color",QR="var",XR="var(",S_="${}",ZR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uc(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(ZR,m=>(Ot.test(m)?(s.color.push(l),a.push(Mx),t.push(Ot.parse(m))):m.startsWith(XR)?(s.var.push(l),a.push(QR),t.push(m)):(s.number.push(l),a.push(Dx),t.push(parseFloat(m))),++l,S_)).split(S_);return{values:t,split:d,indexes:s,types:a}}function Nx(n){return uc(n).values}function kx(n){const{split:e,types:t}=uc(n),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=t[u];d===Dx?l+=Jl(a[u]):d===Mx?l+=Ot.transform(a[u]):l+=a[u]}return l}}const WR=n=>typeof n=="number"?0:Ot.test(n)?Ot.getAnimatableNone(n):n;function JR(n){const e=Nx(n);return kx(n)(e.map(WR))}const fr={test:YR,parse:Nx,createTransformer:kx,getAnimatableNone:JR};function Gp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ew({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,l=0,u=0;if(!e)a=l=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,m=2*t-d;a=Gp(m,d,n+1/3),l=Gp(m,d,n),u=Gp(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Uh(n,e){return t=>t>0?e:n}const mt=(n,e,t)=>n+(e-n)*t,$p=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},tw=[xm,ta,oo],nw=n=>tw.find(e=>e.test(n));function E_(n){const e=nw(n);if(!e)return!1;let t=e.parse(n);return e===oo&&(t=ew(t)),t}const C_=(n,e)=>{const t=E_(n),s=E_(e);if(!t||!s)return Uh(n,e);const a={...t};return l=>(a.red=$p(t.red,s.red,l),a.green=$p(t.green,s.green,l),a.blue=$p(t.blue,s.blue,l),a.alpha=mt(t.alpha,s.alpha,l),ta.transform(a))},Tm=new Set(["none","hidden"]);function iw(n,e){return Tm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function sw(n,e){return t=>mt(n,e,t)}function Ng(n){return typeof n=="number"?sw:typeof n=="string"?wg(n)?Uh:Ot.test(n)?C_:ow:Array.isArray(n)?Vx:typeof n=="object"?Ot.test(n)?C_:rw:Uh}function Vx(n,e){const t=[...n],s=t.length,a=n.map((l,u)=>Ng(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)t[u]=a[u](l);return t}}function rw(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=Ng(n[a])(n[a],e[a]));return a=>{for(const l in s)t[l]=s[l](a);return t}}function aw(n,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][s[l]],d=n.values[u]??0;t[a]=d,s[l]++}return t}const ow=(n,e)=>{const t=fr.createTransformer(e),s=uc(n),a=uc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Tm.has(n)&&!a.values.length||Tm.has(e)&&!s.values.length?iw(n,e):Ec(Vx(aw(s,a),a.values),t):Uh(n,e)};function Ix(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?mt(n,e,t):Ng(n)(n,e)}const lw=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>lt.update(e,t),stop:()=>hr(e),now:()=>tn.isProcessing?tn.timestamp:gn.now()}},Px=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Fh=2e4;function kg(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Fh;)e+=t,s=n.next(e);return e>=Fh?1/0:e}function cw(n,e=100,t){const s=t({...n,keyframes:[0,e]}),a=Math.min(kg(s),Fh);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ni(a)}}const uw=5;function jx(n,e,t){const s=Math.max(e-uw,0);return px(t-n(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kp=.001;function hw({duration:n=_t.duration,bounce:e=_t.bounce,velocity:t=_t.velocity,mass:s=_t.mass}){let a,l,u=1-e;u=Qi(_t.minDamping,_t.maxDamping,u),n=Qi(_t.minDuration,_t.maxDuration,ni(n)),u<1?(a=g=>{const y=g*u,b=y*n,S=y-t,C=Sm(g,u),M=Math.exp(-b);return Kp-S/C*M},l=g=>{const b=g*u*n,S=b*t+t,C=Math.pow(u,2)*Math.pow(g,2)*n,M=Math.exp(-b),L=Sm(Math.pow(g,2),u);return(-a(g)+Kp>0?-1:1)*((S-C)*M)/L}):(a=g=>{const y=Math.exp(-g*n),b=(g-t)*n+1;return-Kp+y*b},l=g=>{const y=Math.exp(-g*n),b=(t-g)*(n*n);return y*b});const d=5/n,m=dw(a,l,d);if(n=vi(n),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:n};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:n}}}const fw=12;function dw(n,e,t){let s=t;for(let a=1;a<fw;a++)s=s-n(s)/e(s);return s}function Sm(n,e){return n*Math.sqrt(1-e*e)}const pw=["duration","bounce"],mw=["stiffness","damping","mass"];function A_(n,e){return e.some(t=>n[t]!==void 0)}function gw(n){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...n};if(!A_(n,mw)&&A_(n,pw))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,l=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const t=hw(n);e={...e,...t,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Hh(n=_t.visualDuration,e=_t.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:b,velocity:S,isResolvedFromDuration:C}=gw({...t,velocity:-ni(t.velocity||0)}),M=S||0,L=g/(2*Math.sqrt(m*y)),O=u-l,Q=ni(Math.sqrt(m/y)),ee=Math.abs(O)<5;s||(s=ee?_t.restSpeed.granular:_t.restSpeed.default),a||(a=ee?_t.restDelta.granular:_t.restDelta.default);let B;if(L<1){const le=Sm(Q,L);B=he=>{const D=Math.exp(-L*Q*he);return u-D*((M+L*Q*O)/le*Math.sin(le*he)+O*Math.cos(le*he))}}else if(L===1)B=le=>u-Math.exp(-Q*le)*(O+(M+Q*O)*le);else{const le=Q*Math.sqrt(L*L-1);B=he=>{const D=Math.exp(-L*Q*he),A=Math.min(le*he,300);return u-D*((M+L*Q*O)*Math.sinh(A)+le*O*Math.cosh(A))/le}}const re={calculatedDuration:C&&b||null,next:le=>{const he=B(le);if(C)d.done=le>=b;else{let D=le===0?M:0;L<1&&(D=le===0?vi(M):jx(B,le,he));const A=Math.abs(D)<=s,w=Math.abs(u-he)<=a;d.done=A&&w}return d.value=d.done?u:he,d},toString:()=>{const le=Math.min(kg(re),Fh),he=Px(D=>re.next(le*D).value,le,30);return le+"ms "+he},toTransition:()=>{}};return re}Hh.applyToOptions=n=>{const e=cw(n,100,Hh);return n.ease=e.ease,n.duration=vi(e.duration),n.type="keyframes",n};function Em({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:y}){const b=n[0],S={done:!1,value:b},C=A=>d!==void 0&&A<d||m!==void 0&&A>m,M=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let L=t*e;const O=b+L,Q=u===void 0?O:u(O);Q!==O&&(L=Q-b);const ee=A=>-L*Math.exp(-A/s),B=A=>Q+ee(A),re=A=>{const w=ee(A),I=B(A);S.done=Math.abs(w)<=g,S.value=S.done?Q:I};let le,he;const D=A=>{C(S.value)&&(le=A,he=Hh({keyframes:[S.value,M(S.value)],velocity:jx(B,A,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return D(0),{calculatedDuration:null,next:A=>{let w=!1;return!he&&le===void 0&&(w=!0,re(A),D(A)),le!==void 0&&A>=le?he.next(A-le):(!w&&re(A),S)}}}function yw(n,e,t){const s=[],a=t||vs.mix||Ix,l=n.length-1;for(let u=0;u<l;u++){let d=a(n[u],n[u+1]);if(e){const m=Array.isArray(e)?e[u]||ii:e;d=Ec(m,d)}s.push(d)}return s}function vw(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const l=n.length;if(Sg(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=yw(e,s,a),m=d.length,g=y=>{if(u&&y<n[0])return e[0];let b=0;if(m>1)for(;b<n.length-2&&!(y<n[b+1]);b++);const S=lc(n[b],n[b+1],y);return d[b](S)};return t?y=>g(Qi(n[0],n[l-1],y)):g}function _w(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=lc(0,e,s);n.push(mt(t,1,a))}}function bw(n){const e=[0];return _w(e,n.length-1),e}function xw(n,e){return n.map(t=>t*e)}function Tw(n,e){return n.map(()=>e||Sx).splice(0,n.length-1)}function ec({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=VR(s)?s.map(b_):b_(s),l={done:!1,value:e[0]},u=xw(t&&t.length===e.length?t:bw(e),n),d=vw(u,e,{ease:Array.isArray(a)?a:Tw(e,a)});return{calculatedDuration:n,next:m=>(l.value=d(m),l.done=m>=n,l)}}const Sw=n=>n!==null;function Vg(n,{repeat:e,repeatType:t="loop"},s,a=1){const l=n.filter(Sw),d=a<0||e&&t!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const Ew={decay:Em,inertia:Em,tween:ec,keyframes:ec,spring:Hh};function Ox(n){typeof n.type=="string"&&(n.type=Ew[n.type])}class Ig{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Cw=n=>n/100;class Pg extends Ig{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ox(e);const{type:t=ec,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=t||ec;m!==ec&&typeof d[0]!="number"&&(this.mixKeyframes=Ec(Cw,Ix(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=kg(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:S,repeatDelay:C,type:M,onUpdate:L,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),ee=this.playbackSpeed>=0?Q<0:Q>a;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,re=s;if(b){const A=Math.min(this.currentTime,a)/d;let w=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&w--,w=Math.min(w,b+1),w%2&&(S==="reverse"?(I=1-I,C&&(I-=C/d)):S==="mirror"&&(re=u)),B=Qi(0,1,I)*d}const le=ee?{done:!1,value:y[0]}:re.next(B);l&&(le.value=l(le.value));let{done:he}=le;!ee&&m!==null&&(he=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return D&&M!==Em&&(le.value=Vg(y,this.options,O,this.speed)),L&&L(le.value),D&&this.finish(),le}then(e,t){return this.finished.then(e,t)}get duration(){return ni(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=lw,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Aw(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const na=n=>n*180/Math.PI,Cm=n=>{const e=na(Math.atan2(n[1],n[0]));return Am(e)},Rw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Cm,rotateZ:Cm,skewX:n=>na(Math.atan(n[1])),skewY:n=>na(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Am=n=>(n=n%360,n<0&&(n+=360),n),R_=Cm,w_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),D_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ww={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w_,scaleY:D_,scale:n=>(w_(n)+D_(n))/2,rotateX:n=>Am(na(Math.atan2(n[6],n[5]))),rotateY:n=>Am(na(Math.atan2(-n[2],n[0]))),rotateZ:R_,rotate:R_,skewX:n=>na(Math.atan(n[4])),skewY:n=>na(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Rm(n){return n.includes("scale")?1:0}function wm(n,e){if(!n||n==="none")return Rm(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=ww,a=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Rw,a=d}if(!a)return Rm(e);const l=s[e],u=a[1].split(",").map(Mw);return typeof l=="function"?l(u):u[l]}const Dw=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return wm(t,e)};function Mw(n){return parseFloat(n.trim())}const Do=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mo=new Set(Do),M_=n=>n===wo||n===ye,Nw=new Set(["x","y","z"]),kw=Do.filter(n=>!Nw.has(n));function Vw(n){const e=[];return kw.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const ir={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>wm(e,"x"),y:(n,{transform:e})=>wm(e,"y")};ir.translateX=ir.x;ir.translateY=ir.y;const sa=new Set;let Dm=!1,Mm=!1,Nm=!1;function Lx(){if(Mm){const n=Array.from(sa).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=Vw(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Mm=!1,Dm=!1,sa.forEach(n=>n.complete(Nm)),sa.clear()}function zx(){sa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mm=!0)})}function Iw(){Nm=!0,zx(),Lx(),Nm=!1}class jg{constructor(e,t,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(sa.add(this),Dm||(Dm=!0,lt.read(zx),lt.resolveKeyframes(Lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&t){const d=s.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}Aw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),sa.delete(this)}cancel(){this.state==="scheduled"&&(sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pw=n=>n.startsWith("--");function jw(n,e,t){Pw(e)?n.style.setProperty(e,t):n.style[e]=t}const Ow=Eg(()=>window.ScrollTimeline!==void 0),Lw={};function zw(n,e){const t=Eg(n);return()=>Lw[e]??t()}const Bx=zw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kl=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,N_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kl([0,.65,.55,1]),circOut:Kl([.55,0,1,.45]),backIn:Kl([.31,.01,.66,-.59]),backOut:Kl([.33,1.53,.69,.99])};function Ux(n,e){if(n)return typeof n=="function"?Bx()?Px(n,e):"ease-out":Ex(n)?Kl(n):Array.isArray(n)?n.map(t=>Ux(t,e)||N_.easeOut):N_[n]}function Bw(n,e,t,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[e]:t};m&&(y.offset=m);const b=Ux(d,a);Array.isArray(b)&&(y.easing=b);const S={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(y,S)}function Fx(n){return typeof n=="function"&&"applyToOptions"in n}function Uw({type:n,...e}){return Fx(n)&&Bx()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Hx extends Ig{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Sg(typeof e.type!="string");const g=Uw(e);this.animation=Bw(t,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Vg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):jw(t,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ni(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Ow()?(this.animation.timeline=e,ii):t(this)}}const qx={anticipate:bx,backInOut:_x,circInOut:Tx};function Fw(n){return n in qx}function Hw(n){typeof n.ease=="string"&&Fw(n.ease)&&(n.ease=qx[n.ease])}const Yp=10;class qw extends Hx{constructor(e){Hw(e),Ox(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new Pg({...u,autoplay:!1}),m=Math.max(Yp,gn.now()-this.startTime),g=Qi(0,Yp,m-Yp);t.setWithVelocity(d.sample(Math.max(0,m-g)).value,d.sample(m).value,g),d.stop()}}const k_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(fr.test(n)||n==="0")&&!n.startsWith("url("));function Gw(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function $w(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=k_(a,e),d=k_(l,e);return!u||!d?!1:Gw(n)||(t==="spring"||Fx(t))&&s}function km(n){n.duration=0,n.type="keyframes"}const Kw=new Set(["opacity","clipPath","filter","transform"]),Yw=Eg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qw(n){const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:l,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return Yw()&&t&&Kw.has(t)&&(t!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const Xw=40;class Zw extends Ig{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const S={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:y,...b},C=y?.KeyframeResolver||jg;this.keyframeResolver=new C(d,(M,L,O)=>this.onKeyframesResolved(M,L,S,!O),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=gn.now(),$w(e,l,u,d)||((vs.instantAnimations||!m)&&y?.(Vg(e,s,t)),e[0]=e[e.length-1],km(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Xw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},C=!g&&Qw(S),M=S.motionValue?.owner?.current,L=C?new qw({...S,element:M}):new Pg(S);L.finished.then(()=>{this.notifyFinished()}).catch(ii),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Iw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Gx(n,e,t,s=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),u=n.size,d=(u-1)*s;return typeof t=="function"?t(l,u):a===1?l*s:d-l*s}const Ww=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jw(n){const e=Ww.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function $x(n,e,t=1){const[s,a]=Jw(n);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return hx(u)?parseFloat(u):u}return wg(a)?$x(a,e,t+1):a}const e4={type:"spring",stiffness:500,damping:25,restSpeed:10},t4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),n4={type:"keyframes",duration:.8},i4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s4=(n,{keyframes:e})=>e.length>2?n4:Mo.has(n)?n.startsWith("scale")?t4(e[1]):e4:i4,r4=n=>n!==null;function a4(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(r4),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[l]}function Kx(n,e){if(n?.inherit&&e){const{inherit:t,...s}=n;return{...e,...s}}return n}function Og(n,e){const t=n?.[e]??n?.default??n;return t!==n?Kx(t,n):t}function o4({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Lg=(n,e,t,s={},a,l)=>u=>{const d=Og(s,n)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-vi(m);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:S=>{e.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:a};o4(d)||Object.assign(y,s4(n,y)),y.duration&&(y.duration=vi(y.duration)),y.repeatDelay&&(y.repeatDelay=vi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(km(y),y.delay===0&&(b=!0)),(vs.instantAnimations||vs.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,km(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const S=a4(y.keyframes,d);if(S!==void 0){lt.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Pg(y):new Zw(y)};function V_(n){const e=[{},{}];return n?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function zg(n,e,t,s){if(typeof e=="function"){const[a,l]=V_(s);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=V_(s);e=e(t!==void 0?t:n.custom,a,l)}return e}function po(n,e,t){const s=n.getProps();return zg(s,e,t!==void 0?t:s.custom,n)}const Yx=new Set(["width","height","top","left","right","bottom",...Do]),I_=30,l4=n=>!isNaN(parseFloat(n));class c4{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=l4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Cg);const s=this.events[e].add(t);return e==="change"?()=>{s(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>I_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,I_);return px(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xo(n,e){return new c4(n,e)}const Vm=n=>Array.isArray(n);function u4(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,xo(t))}function h4(n){return Vm(n)?n[n.length-1]||0:n}function f4(n,e){const t=po(n,e);let{transitionEnd:s={},transition:a={},...l}=t||{};l={...l,...s};for(const u in l){const d=h4(l[u]);u4(n,u,d)}}const hn=n=>!!(n&&n.getVelocity);function d4(n){return!!(hn(n)&&n.add)}function Im(n,e){const t=n.getValue("willChange");if(d4(t))return t.add(e);if(!t&&vs.WillChange){const s=new vs.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function Bg(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const p4="framerAppearId",Qx="data-"+Bg(p4);function Xx(n){return n.props[Qx]}function m4({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function Zx(n,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:u,...d}=e;const m=n.getDefaultTransition();l=l?Kx(l,m):m;const g=l?.reduceMotion;s&&(l=s);const y=[],b=a&&n.animationState&&n.animationState.getState()[a];for(const S in d){const C=n.getValue(S,n.latestValues[S]??null),M=d[S];if(M===void 0||b&&m4(b,S))continue;const L={delay:t,...Og(l||{},S)},O=C.get();if(O!==void 0&&!C.isAnimating&&!Array.isArray(M)&&M===O&&!L.velocity)continue;let Q=!1;if(window.MotionHandoffAnimation){const re=Xx(n);if(re){const le=window.MotionHandoffAnimation(re,S,lt);le!==null&&(L.startTime=le,Q=!0)}}Im(n,S);const ee=g??n.shouldReduceMotion;C.start(Lg(S,C,M,ee&&Yx.has(S)?{type:!1}:L,n,Q));const B=C.animation;B&&y.push(B)}if(u){const S=()=>lt.update(()=>{u&&f4(n,u)});y.length?Promise.all(y).then(S):S()}return y}function Pm(n,e,t={}){const s=po(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all(Zx(n,s,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=a;return g4(n,e,m,g,y,b,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(t.delay)])}function g4(n,e,t=0,s=0,a=0,l=1,u){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),d.push(Pm(m,e,{...u,delay:t+(typeof s=="function"?0:s)+Gx(n.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function y4(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Pm(n,l,t));s=Promise.all(a)}else if(typeof e=="string")s=Pm(n,e,t);else{const a=typeof e=="function"?po(n,e,t.custom):e;s=Promise.all(Zx(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const v4={test:n=>n==="auto",parse:n=>n},Wx=n=>e=>e.test(n),Jx=[wo,ye,qi,nr,$R,GR,v4],P_=n=>Jx.find(Wx(n));function _4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||dx(n):!0}const b4=new Set(["brightness","contrast","saturate","opacity"]);function x4(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Dg)||[];if(!s)return n;const a=t.replace(s,"");let l=b4.has(e)?1:0;return s!==t&&(l*=100),e+"("+l+a+")"}const T4=/\b([a-z-]*)\(.*?\)/gu,jm={...fr,getAnimatableNone:n=>{const e=n.match(T4);return e?e.map(x4).join(" "):n}},j_={...wo,transform:Math.round},S4={rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:hh,scaleX:hh,scaleY:hh,scaleZ:hh,skew:nr,skewX:nr,skewY:nr,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:cc,originX:T_,originY:T_,originZ:ye},Ug={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,inset:ye,insetBlock:ye,insetBlockStart:ye,insetBlockEnd:ye,insetInline:ye,insetInlineStart:ye,insetInlineEnd:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,paddingBlock:ye,paddingBlockStart:ye,paddingBlockEnd:ye,paddingInline:ye,paddingInlineStart:ye,paddingInlineEnd:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,marginBlock:ye,marginBlockStart:ye,marginBlockEnd:ye,marginInline:ye,marginInlineStart:ye,marginInlineEnd:ye,fontSize:ye,backgroundPositionX:ye,backgroundPositionY:ye,...S4,zIndex:j_,fillOpacity:cc,strokeOpacity:cc,numOctaves:j_},E4={...Ug,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:jm,WebkitFilter:jm},eT=n=>E4[n];function tT(n,e){let t=eT(n);return t!==jm&&(t=fr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const C4=new Set(["auto","none","0"]);function A4(n,e,t){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!C4.has(l)&&uc(l).values.length&&(a=n[s]),s++}if(a&&t)for(const l of e)n[l]=tT(t,a)}class R4 extends jg{constructor(e,t,s,a,l){super(e,t,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let b=e[y];if(typeof b=="string"&&(b=b.trim(),wg(b))){const S=$x(b,t.current);S!==void 0&&(e[y]=S),y===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!Yx.has(s)||e.length!==2)return;const[a,l]=e,u=P_(a),d=P_(l),m=x_(a),g=x_(l);if(m!==g&&ir[s]){this.needsMeasurement=!0;return}if(u!==d)if(M_(u)&&M_(d))for(let y=0;y<e.length;y++){const b=e[y];typeof b=="string"&&(e[y]=parseFloat(b))}else ir[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||_4(e[a]))&&s.push(a);s.length&&A4(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ir[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ir[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const w4=new Set(["opacity","clipPath","filter","transform"]);function nT(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=t?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const iT=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Om(n){return fx(n)&&"offsetHeight"in n}const{schedule:Fg}=Cx(queueMicrotask,!1),yi={x:!1,y:!1};function sT(){return yi.x||yi.y}function D4(n){return n==="x"||n==="y"?yi[n]?null:(yi[n]=!0,()=>{yi[n]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function rT(n,e){const t=nT(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function M4(n){return!(n.pointerType==="touch"||sT())}function N4(n,e,t={}){const[s,a,l]=rT(n,t);return s.forEach(u=>{let d=!1,m=!1,g;const y=()=>{u.removeEventListener("pointerleave",M)},b=O=>{g&&(g(O),g=void 0),y()},S=O=>{d=!1,window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),m&&(m=!1,b(O))},C=()=>{d=!0,window.addEventListener("pointerup",S,a),window.addEventListener("pointercancel",S,a)},M=O=>{if(O.pointerType!=="touch"){if(d){m=!0;return}b(O)}},L=O=>{if(!M4(O))return;m=!1;const Q=e(u,O);typeof Q=="function"&&(g=Q,u.addEventListener("pointerleave",M,a))};u.addEventListener("pointerenter",L,a),u.addEventListener("pointerdown",C,a)}),l}const aT=(n,e)=>e?n===e?!0:aT(n,e.parentElement):!1,Hg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,k4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V4(n){return k4.has(n.tagName)||n.isContentEditable===!0}const I4=new Set(["INPUT","SELECT","TEXTAREA"]);function P4(n){return I4.has(n.tagName)||n.isContentEditable===!0}const xh=new WeakSet;function O_(n){return e=>{e.key==="Enter"&&n(e)}}function Qp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j4=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=O_(()=>{if(xh.has(t))return;Qp(t,"down");const a=O_(()=>{Qp(t,"up")}),l=()=>Qp(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function L_(n){return Hg(n)&&!sT()}const z_=new WeakSet;function O4(n,e,t={}){const[s,a,l]=rT(n,t),u=d=>{const m=d.currentTarget;if(!L_(d)||z_.has(d))return;xh.add(m),t.stopPropagation&&z_.add(d);const g=e(m,d),y=(C,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),xh.has(m)&&xh.delete(m),L_(C)&&typeof g=="function"&&g(C,{success:M})},b=C=>{y(C,m===window||m===document||t.useGlobalTarget||aT(m,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Om(d)&&(d.addEventListener("focus",g=>j4(g,a)),!V4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function qg(n){return fx(n)&&"ownerSVGElement"in n}const Th=new WeakMap;let Sh;const oT=(n,e,t)=>(s,a)=>a&&a[0]?a[0][n+"Size"]:qg(s)&&"getBBox"in s?s.getBBox()[e]:s[t],L4=oT("inline","width","offsetWidth"),z4=oT("block","height","offsetHeight");function B4({target:n,borderBoxSize:e}){Th.get(n)?.forEach(t=>{t(n,{get width(){return L4(n,e)},get height(){return z4(n,e)}})})}function U4(n){n.forEach(B4)}function F4(){typeof ResizeObserver>"u"||(Sh=new ResizeObserver(U4))}function H4(n,e){Sh||F4();const t=nT(n);return t.forEach(s=>{let a=Th.get(s);a||(a=new Set,Th.set(s,a)),a.add(e),Sh?.observe(s)}),()=>{t.forEach(s=>{const a=Th.get(s);a?.delete(e),a?.size||Sh?.unobserve(s)})}}const Eh=new Set;let lo;function q4(){lo=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Eh.forEach(e=>e(n))},window.addEventListener("resize",lo)}function G4(n){return Eh.add(n),lo||q4(),()=>{Eh.delete(n),!Eh.size&&typeof lo=="function"&&(window.removeEventListener("resize",lo),lo=void 0)}}function B_(n,e){return typeof n=="function"?G4(n):H4(n,e)}function $4(n){return qg(n)&&n.tagName==="svg"}const K4=[...Jx,Ot,fr],Y4=n=>K4.find(Wx(n)),U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:U_(),y:U_()}),F_=()=>({min:0,max:0}),Ft=()=>({x:F_(),y:F_()}),Q4=new WeakMap;function gf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function hc(n){return typeof n=="string"||Array.isArray(n)}const Gg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$g=["initial",...Gg];function yf(n){return gf(n.animate)||$g.some(e=>hc(n[e]))}function lT(n){return!!(yf(n)||n.variants)}function X4(n,e,t){for(const s in e){const a=e[s],l=t[s];if(hn(a))n.addValue(s,a);else if(hn(l))n.addValue(s,xo(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,xo(u!==void 0?u:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const Lm={current:null},cT={current:!1},Z4=typeof window<"u";function W4(){if(cT.current=!0,!!Z4)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lm.current=n.matches;n.addEventListener("change",e),e()}else Lm.current=!1}const H_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let qh={};function uT(n){qh=n}function J4(){return qh}class eD{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=gn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,lt.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=t.initial?{...g}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=yf(t),this.isVariantNode=lT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...S}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in S){const M=S[C];g[C]!==void 0&&hn(M)&&M.set(g[C])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,Q4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(cT.current||W4(),this.shouldReduceMotion=Lm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&w4.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:m,ease:g,duration:y}=t.accelerate,b=new Hx({element:this.current,name:e,keyframes:d,times:m,ease:g,duration:vi(y)}),S=u(b);this.valueSubscriptions.set(e,()=>{S(),b.cancel()});return}const s=Mo.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qh){const t=qh[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<H_.length;s++){const a=H_[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=xo(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(hx(s)||dx(s))?s=parseFloat(s):!Y4(s)&&fr.test(t)&&(s=tT(e,t)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const l=zg(this.props,t,this.presenceContext?.custom);l&&(s=l[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Cg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Fg.render(this.render)}}class hT extends eD{constructor(){super(...arguments),this.KeyframeResolver=R4}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const s=e.style;return s?s[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}function fT({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function tD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Xp(n){return n===void 0||n===1}function zm({scale:n,scaleX:e,scaleY:t}){return!Xp(n)||!Xp(e)||!Xp(t)}function Jr(n){return zm(n)||dT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function dT(n){return q_(n.x)||q_(n.y)}function q_(n){return n&&n!=="0%"}function Gh(n,e,t){const s=n-t,a=e*s;return t+a}function G_(n,e,t,s,a){return a!==void 0&&(n=Gh(n,a,s)),Gh(n,t,s)+e}function Bm(n,e=0,t=1,s,a){n.min=G_(n.min,e,t,s,a),n.max=G_(n.max,e,t,s,a)}function pT(n,{x:e,y:t}){Bm(n.x,e.translate,e.scale,e.originPoint),Bm(n.y,t.translate,t.scale,t.originPoint)}const $_=.999999999999,K_=1.0000000000001;function iD(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=t[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ho(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pT(n,u)),s&&Jr(l.latestValues)&&ho(n,l.latestValues))}e.x<K_&&e.x>$_&&(e.x=1),e.y<K_&&e.y>$_&&(e.y=1)}function uo(n,e){n.min=n.min+e,n.max=n.max+e}function Y_(n,e,t,s,a=.5){const l=mt(n.min,n.max,a);Bm(n,e,t,l,s)}function ho(n,e){Y_(n.x,e.x,e.scaleX,e.scale,e.originX),Y_(n.y,e.y,e.scaleY,e.scale,e.originY)}function mT(n,e){return fT(nD(n.getBoundingClientRect(),e))}function sD(n,e,t){const s=mT(n,t),{scroll:a}=e;return a&&(uo(s.x,a.offset.x),uo(s.y,a.offset.y)),s}const rD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aD=Do.length;function oD(n,e,t){let s="",a=!0;for(let l=0;l<aD;l++){const u=Do[l],d=n[u];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(u.startsWith("scale")?1:0);else{const g=parseFloat(d);m=u.startsWith("scale")?g===1:g===0}if(!m||t){const g=iT(d,Ug[u]);if(!m){a=!1;const y=rD[u]||u;s+=`${y}(${g}) `}t&&(e[u]=g)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function Kg(n,e,t){const{style:s,vars:a,transformOrigin:l}=n;let u=!1,d=!1;for(const m in e){const g=e[m];if(Mo.has(m)){u=!0;continue}else if(Rx(m)){a[m]=g;continue}else{const y=iT(g,Ug[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(u||t?s.transform=oD(e,n.transform,t):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}function gT(n,{style:e,vars:t},s,a){const l=n.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in t)l.setProperty(u,t[u])}function Q_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Fl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ye.test(n))n=parseFloat(n);else return n;const t=Q_(n,e.target.x),s=Q_(n,e.target.y);return`${t}% ${s}%`}},lD={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=fr.parse(n);if(a.length>5)return s;const l=fr.createTransformer(n),u=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,m=t.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const g=mt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},Um={borderRadius:{...Fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fl,borderTopRightRadius:Fl,borderBottomLeftRadius:Fl,borderBottomRightRadius:Fl,boxShadow:lD};function yT(n,{layout:e,layoutId:t}){return Mo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Um[n]||n==="opacity")}function Yg(n,e,t){const s=n.style,a=e?.style,l={};if(!s)return l;for(const u in s)(hn(s[u])||a&&hn(a[u])||yT(u,n)||t?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function cD(n){return window.getComputedStyle(n)}class uD extends hT{constructor(){super(...arguments),this.type="html",this.renderInstance=gT}readValueFromInstance(e,t){if(Mo.has(t))return this.projection?.isProjecting?Rm(t):Dw(e,t);{const s=cD(e),a=(Rx(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return mT(e,t)}build(e,t,s){Kg(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Yg(e,t,s)}}const hD={offset:"stroke-dashoffset",array:"stroke-dasharray"},fD={offset:"strokeDashoffset",array:"strokeDasharray"};function dD(n,e,t=1,s=0,a=!0){n.pathLength=1;const l=a?hD:fD;n[l.offset]=`${-s}`,n[l.array]=`${e} ${t}`}const pD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function vT(n,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,g,y){if(Kg(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:S}=n;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete b.transformBox);for(const C of pD)b[C]!==void 0&&(S[C]=b[C],delete b[C]);e!==void 0&&(b.x=e),t!==void 0&&(b.y=t),s!==void 0&&(b.scale=s),a!==void 0&&dD(b,a,l,u,!1)}const _T=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function mD(n,e,t,s){gT(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(_T.has(a)?a:Bg(a),e.attrs[a])}function xT(n,e,t){const s=Yg(n,e,t);for(const a in n)if(hn(n[a])||hn(e[a])){const l=Do.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class gD extends hT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mo.has(t)){const s=eT(t);return s&&s.default||0}return t=_T.has(t)?t:Bg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return xT(e,t,s)}build(e,t,s){vT(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){mD(e,t,s,a)}mount(e){this.isSVGTag=bT(e.tagName),super.mount(e)}}const yD=$g.length;function TT(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?TT(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<yD;t++){const s=$g[t],a=n.props[s];(hc(a)||a===!1)&&(e[s]=a)}return e}function ST(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const vD=[...Gg].reverse(),_D=Gg.length;function bD(n){return e=>Promise.all(e.map(({animation:t,options:s})=>y4(n,t,s)))}function xD(n){let e=bD(n),t=X_(),s=!0;const a=m=>(g,y)=>{const b=po(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:C,...M}=b;g={...g,...M,...C}}return g};function l(m){e=m(n)}function u(m){const{props:g}=n,y=TT(n.parent)||{},b=[],S=new Set;let C={},M=1/0;for(let O=0;O<_D;O++){const Q=vD[O],ee=t[Q],B=g[Q]!==void 0?g[Q]:y[Q],re=hc(B),le=Q===m?ee.isActive:null;le===!1&&(M=O);let he=B===y[Q]&&B!==g[Q]&&re;if(he&&s&&n.manuallyAnimateOnMount&&(he=!1),ee.protectedKeys={...C},!ee.isActive&&le===null||!B&&!ee.prevProp||gf(B)||typeof B=="boolean")continue;if(Q==="exit"&&ee.isActive&&le!==!0){ee.prevResolvedValues&&(C={...C,...ee.prevResolvedValues});continue}const D=TD(ee.prevProp,B);let A=D||Q===m&&ee.isActive&&!he&&re||O>M&&re,w=!1;const I=Array.isArray(B)?B:[B];let V=I.reduce(a(Q),{});le===!1&&(V={});const{prevResolvedValues:z={}}=ee,N={...z,...V},me=oe=>{A=!0,S.has(oe)&&(w=!0,S.delete(oe)),ee.needsAnimating[oe]=!0;const fe=n.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in N){const fe=V[oe],Re=z[oe];if(C.hasOwnProperty(oe))continue;let je=!1;Vm(fe)&&Vm(Re)?je=!ST(fe,Re):je=fe!==Re,je?fe!=null?me(oe):S.add(oe):fe!==void 0&&S.has(oe)?me(oe):ee.protectedKeys[oe]=!0}ee.prevProp=B,ee.prevResolvedValues=V,ee.isActive&&(C={...C,...V}),s&&n.blockInitialAnimation&&(A=!1);const Ie=he&&D;A&&(!Ie||w)&&b.push(...I.map(oe=>{const fe={type:Q};if(typeof oe=="string"&&s&&!Ie&&n.manuallyAnimateOnMount&&n.parent){const{parent:Re}=n,je=po(Re,oe);if(Re.enteringChildren&&je){const{delayChildren:P}=je.transition||{};fe.delay=Gx(Re.enteringChildren,n,P)}}return{animation:oe,options:fe}}))}if(S.size){const O={};if(typeof g.initial!="boolean"){const Q=po(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(O.transition=Q.transition)}S.forEach(Q=>{const ee=n.getBaseTarget(Q),B=n.getValue(Q);B&&(B.liveStyle=!0),O[Q]=ee??null}),b.push({animation:O})}let L=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(b):Promise.resolve()}function d(m,g){if(t[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),t[m].isActive=g;const y=u(m);for(const b in t)t[b].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=X_()}}}function TD(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ST(e,n):!1}function Wr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X_(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}function Z_(n,e){n.min=e.min,n.max=e.max}function gi(n,e){Z_(n.x,e.x),Z_(n.y,e.y)}function W_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const ET=1e-4,SD=1-ET,ED=1+ET,CT=.01,CD=0-CT,AD=0+CT;function yn(n){return n.max-n.min}function RD(n,e,t){return Math.abs(n-e)<=t}function J_(n,e,t,s=.5){n.origin=s,n.originPoint=mt(e.min,e.max,n.origin),n.scale=yn(t)/yn(e),n.translate=mt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=SD&&n.scale<=ED||isNaN(n.scale))&&(n.scale=1),(n.translate>=CD&&n.translate<=AD||isNaN(n.translate))&&(n.translate=0)}function tc(n,e,t,s){J_(n.x,e.x,t.x,s?s.originX:void 0),J_(n.y,e.y,t.y,s?s.originY:void 0)}function eb(n,e,t){n.min=t.min+e.min,n.max=n.min+yn(e)}function wD(n,e,t){eb(n.x,e.x,t.x),eb(n.y,e.y,t.y)}function tb(n,e,t){n.min=e.min-t.min,n.max=n.min+yn(e)}function $h(n,e,t){tb(n.x,e.x,t.x),tb(n.y,e.y,t.y)}function nb(n,e,t,s,a){return n-=e,n=Gh(n,1/t,s),a!==void 0&&(n=Gh(n,1/a,s)),n}function DD(n,e=0,t=1,s=.5,a,l=n,u=n){if(qi.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=mt(l.min,l.max,s);n===l&&(d-=e),n.min=nb(n.min,e,t,d,a),n.max=nb(n.max,e,t,d,a)}function ib(n,e,[t,s,a],l,u){DD(n,e[t],e[s],e[a],e.scale,l,u)}const MD=["x","scaleX","originX"],ND=["y","scaleY","originY"];function sb(n,e,t,s){ib(n.x,e,MD,t?t.x:void 0,s?s.x:void 0),ib(n.y,e,ND,t?t.y:void 0,s?s.y:void 0)}function rb(n){return n.translate===0&&n.scale===1}function AT(n){return rb(n.x)&&rb(n.y)}function ab(n,e){return n.min===e.min&&n.max===e.max}function kD(n,e){return ab(n.x,e.x)&&ab(n.y,e.y)}function ob(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function RT(n,e){return ob(n.x,e.x)&&ob(n.y,e.y)}function lb(n){return yn(n.x)/yn(n.y)}function cb(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function Fi(n){return[n("x"),n("y")]}function VD(n,e,t){let s="";const a=n.x.translate/e.x,l=n.y.translate/e.y,u=t?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:S,skewX:C,skewY:M}=t;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),M&&(s+=`skewY(${M}deg) `)}const d=n.x.scale*e.x,m=n.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const wT=["TopLeft","TopRight","BottomLeft","BottomRight"],ID=wT.length,ub=n=>typeof n=="string"?parseFloat(n):n,hb=n=>typeof n=="number"||ye.test(n);function PD(n,e,t,s,a,l){a?(n.opacity=mt(0,t.opacity??1,jD(s)),n.opacityExit=mt(e.opacity??1,0,OD(s))):l&&(n.opacity=mt(e.opacity??1,t.opacity??1,s));for(let u=0;u<ID;u++){const d=`border${wT[u]}Radius`;let m=fb(e,d),g=fb(t,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||hb(m)===hb(g)?(n[d]=Math.max(mt(ub(m),ub(g),s),0),(qi.test(g)||qi.test(m))&&(n[d]+="%")):n[d]=g}(e.rotate||t.rotate)&&(n.rotate=mt(e.rotate||0,t.rotate||0,s))}function fb(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const jD=DT(0,.5,xx),OD=DT(.5,.95,ii);function DT(n,e,t){return s=>s<n?0:s>e?1:t(lc(n,e,s))}function LD(n,e,t){const s=hn(n)?n:xo(n);return s.start(Lg("",s,e,t)),s.animation}function fc(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}const zD=(n,e)=>n.depth-e.depth;class BD{constructor(){this.children=[],this.isDirty=!1}add(e){Tg(this.children,e),this.isDirty=!0}remove(e){Bh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zD),this.isDirty=!1,this.children.forEach(e)}}function UD(n,e){const t=gn.now(),s=({timestamp:a})=>{const l=a-t;l>=e&&(hr(s),n(l-e))};return lt.setup(s,!0),()=>hr(s)}function Ch(n){return hn(n)?n.get():n}class FD{constructor(){this.members=[]}add(e){Tg(this.members,e);for(let t=this.members.length-1;t>=0;t--){const s=this.members[t];if(s===e||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Bh(this.members,s)}e.scheduleRender()}remove(e){if(Bh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Zp=["","X","Y","Z"],HD=1e3;let qD=0;function Wp(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function MT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Xx(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",lt,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&MT(s)}function NT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=qD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KD),this.nodes.forEach(ZD),this.nodes.forEach(WD),this.nodes.forEach(YD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new BD)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Cg),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=qg(u)&&!$4(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let y,b=0;const S=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{b=window.innerWidth}),n(u,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,y&&y(),y=UD(S,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(mb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||g.getDefaultTransition()||i3,{onLayoutAnimationStart:L,onLayoutAnimationComplete:O}=g.getProps(),Q=!this.targetLayout||!RT(this.targetLayout,C),ee=!b&&S;if(this.options.layoutRoot||this.resumeFrom||ee||b&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Og(M,"layout"),onPlay:L,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,ee)}else b||mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JD),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(db);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(XD),this.nodes.forEach(GD),this.nodes.forEach($D)):this.nodes.forEach(pb),this.clearAllSnapshots();const d=gn.now();tn.delta=Qi(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,Hp.update.process(tn),Hp.preRender.process(tn),Hp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QD),this.sharedNodes.forEach(e3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!AT(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||Jr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),s3(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ft();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(r3))){const{scroll:g}=this.root;g&&(uo(d.x,g.offset.x),uo(d.y,g.offset.y))}return d}removeElementScroll(u){const d=Ft();if(gi(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&gi(d,u),uo(d.x,y.offset.x),uo(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const m=Ft();gi(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ho(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Jr(y.latestValues)&&ho(m,y.latestValues)}return Jr(this.latestValues)&&ho(m,this.latestValues),m}removeTransform(u){const d=Ft();gi(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Jr(g.latestValues))continue;zm(g.latestValues)&&g.updateSnapshot();const y=Ft(),b=g.measurePageBox();gi(y,b),sb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Jr(this.latestValues)&&sb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=tn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),pT(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zm(this.parent.latestValues)||dT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),$h(this.relativeTargetOrigin,d,m),gi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;gi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;iD(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ft());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(W_(this.prevProjectionDelta.x,this.projectionDelta.x),W_(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},b=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ft(),C=m?m.source:void 0,M=this.layout?this.layout.source:void 0,L=C!==M,O=this.getStack(),Q=!O||O.members.length<=1,ee=!!(L&&!Q&&this.options.crossfade===!0&&!this.path.some(n3));this.animationProgress=0;let B;this.mixTargetDelta=re=>{const le=re/1e3;gb(b.x,u.x,le),gb(b.y,u.y,le),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($h(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t3(this.relativeTarget,this.relativeTargetOrigin,S,le),B&&kD(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ft()),gi(B,this.relativeTarget)),L&&(this.animationValues=y,PD(y,g,this.latestValues,le,ee,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=le},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xo(0)),this.currentAnimation=LD(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&kT(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ft();const b=yn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const S=yn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+S}gi(d,m),ho(d,y),tc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new FD),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Wp("z",u,g,this.animationValues);for(let y=0;y<Zp.length;y++)Wp(`rotate${Zp[y]}`,u,g,this.animationValues),Wp(`skew${Zp[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ch(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ch(d?.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=VD(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),u.transform=b;const{x:S,y:C}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Um){if(y[M]===void 0)continue;const{correct:L,applyTo:O,isCSSVariable:Q}=Um[M],ee=b==="none"?y[M]:L(y[M],g);if(O){const B=O.length;for(let re=0;re<B;re++)u[O[re]]=ee}else Q?this.options.visualElement.renderState.vars[M]=ee:u[M]=ee}this.options.layoutId&&(u.pointerEvents=g===this?Ch(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(db),this.root.sharedNodes.clear()}}}function GD(n){n.updateLayout()}function $D(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Fi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],S=yn(b);b.min=t[y].min,b.max=b.min+S}):kT(a,e.layoutBox,t)&&Fi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],S=yn(t[y]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const u=co();tc(u,t,e.layoutBox);const d=co();l?tc(d,n.applyTransform(s,!0),e.measuredBox):tc(d,t,e.layoutBox);const m=!AT(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:S}=y;if(b&&S){const C=Ft();$h(C,e.layoutBox,b.layoutBox);const M=Ft();$h(M,t,S.layoutBox),RT(C,M)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=C,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function KD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function QD(n){n.clearSnapshot()}function db(n){n.clearMeasurements()}function pb(n){n.isLayoutDirty=!1}function XD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function mb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ZD(n){n.resolveTargetDelta()}function WD(n){n.calcProjection()}function JD(n){n.resetSkewAndRotation()}function e3(n){n.removeLeadSnapshot()}function gb(n,e,t){n.translate=mt(e.translate,0,t),n.scale=mt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function yb(n,e,t,s){n.min=mt(e.min,t.min,s),n.max=mt(e.max,t.max,s)}function t3(n,e,t,s){yb(n.x,e.x,t.x,s),yb(n.y,e.y,t.y,s)}function n3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const i3={duration:.45,ease:[.4,0,.1,1]},vb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),_b=vb("applewebkit/")&&!vb("chrome/")?Math.round:ii;function bb(n){n.min=_b(n.min),n.max=_b(n.max)}function s3(n){bb(n.x),bb(n.y)}function kT(n,e,t){return n==="position"||n==="preserve-aspect"&&!RD(lb(e),lb(t),.2)}function r3(n){return n!==n.root&&n.scroll?.wasRoot}const a3=NT({attachResizeListener:(n,e)=>fc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},VT=NT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Jp.current){const n=new a3({});n.mount(window),n.setOptions({layoutScroll:!0}),Jp.current=n}return Jp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Qg=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function xb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function o3(...n){return e=>{let t=!1;const s=n.map(a=>{const l=xb(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():xb(n[a],null)}}}}function l3(...n){return H.useCallback(o3(...n),n)}class c3 extends H.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=t.offsetParent,a=Om(s)&&s.offsetWidth||0,l=Om(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=t.offsetHeight||0,u.width=t.offsetWidth||0,u.top=t.offsetTop,u.left=t.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function u3({children:n,isPresent:e,anchorX:t,anchorY:s,root:a,pop:l}){const u=H.useId(),d=H.useRef(null),m=H.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=H.useContext(Qg),y=n.props?.ref??n?.ref,b=l3(d,y);return H.useInsertionEffect(()=>{const{width:S,height:C,top:M,left:L,right:O,bottom:Q}=m.current;if(e||l===!1||!d.current||!S||!C)return;const ee=t==="left"?`left: ${L}`:`right: ${O}`,B=s==="bottom"?`bottom: ${Q}`:`top: ${M}`;d.current.dataset.motionPopId=u;const re=document.createElement("style");g&&(re.nonce=g);const le=a??document.head;return le.appendChild(re),re.sheet&&re.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${S}px !important;
            height: ${C}px !important;
            ${ee}px !important;
            ${B}px !important;
          }
        `),()=>{le.contains(re)&&le.removeChild(re)}},[e]),_.jsx(c3,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?n:H.cloneElement(n,{ref:b})})}const h3=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:m,root:g})=>{const y=xg(f3),b=H.useId();let S=!0,C=H.useMemo(()=>(S=!1,{id:b,initial:e,isPresent:t,custom:a,onExitComplete:M=>{y.set(M,!0);for(const L of y.values())if(!L)return;s&&s()},register:M=>(y.set(M,!1),()=>y.delete(M))}),[t,y,s]);return l&&S&&(C={...C}),H.useMemo(()=>{y.forEach((M,L)=>y.set(L,!1))},[t]),H.useEffect(()=>{!t&&!y.size&&s&&s()},[t]),n=_.jsx(u3,{pop:u==="popLayout",isPresent:t,anchorX:d,anchorY:m,root:g,children:n}),_.jsx(mf.Provider,{value:C,children:n})};function f3(){return new Map}function IT(n=!0){const e=H.useContext(mf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,l=H.useId();H.useEffect(()=>{if(n)return a(l)},[n]);const u=H.useCallback(()=>n&&s&&s(l),[l,s,n]);return!t&&s?[!1,u]:[!0]}const fh=n=>n.key||"";function Tb(n){const e=[];return H.Children.forEach(n,t=>{H.isValidElement(t)&&e.push(t)}),e}const Gi=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:g})=>{const[y,b]=IT(u),S=H.useMemo(()=>Tb(n),[n]),C=u&&!y?[]:S.map(fh),M=H.useRef(!0),L=H.useRef(S),O=xg(()=>new Map),Q=H.useRef(new Set),[ee,B]=H.useState(S),[re,le]=H.useState(S);ux(()=>{M.current=!1,L.current=S;for(let A=0;A<re.length;A++){const w=fh(re[A]);C.includes(w)?(O.delete(w),Q.current.delete(w)):O.get(w)!==!0&&O.set(w,!1)}},[re,C.length,C.join("-")]);const he=[];if(S!==ee){let A=[...S];for(let w=0;w<re.length;w++){const I=re[w],V=fh(I);C.includes(V)||(A.splice(w,0,I),he.push(I))}return l==="wait"&&he.length&&(A=he),le(Tb(A)),B(S),null}const{forceRender:D}=H.useContext(bg);return _.jsx(_.Fragment,{children:re.map(A=>{const w=fh(A),I=u&&!y?!1:S===re||C.includes(w),V=()=>{if(Q.current.has(w))return;if(Q.current.add(w),O.has(w))O.set(w,!0);else return;let z=!0;O.forEach(N=>{N||(z=!1)}),z&&(D?.(),le(L.current),u&&b?.(),s&&s())};return _.jsx(h3,{isPresent:I,initial:!M.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:I?void 0:V,anchorX:d,anchorY:m,children:A},w)})})},PT=H.createContext({strict:!1}),Sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Eb=!1;function d3(){if(Eb)return;const n={};for(const e in Sb)n[e]={isEnabled:t=>Sb[e].some(s=>!!t[s])};uT(n),Eb=!0}function jT(){return d3(),J4()}function p3(n){const e=jT();for(const t in n)e[t]={...e[t],...n[t]};uT(e)}const m3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Kh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||m3.has(n)}let OT=n=>!Kh(n);function g3(n){typeof n=="function"&&(OT=e=>e.startsWith("on")?!Kh(e):n(e))}try{g3(require("@emotion/is-prop-valid").default)}catch{}function y3(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(OT(a)||t===!0&&Kh(a)||!e&&!Kh(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const vf=H.createContext({});function v3(n,e){if(yf(n)){const{initial:t,animate:s}=n;return{initial:t===!1||hc(t)?t:void 0,animate:hc(s)?s:void 0}}return n.inherit!==!1?e:{}}function _3(n){const{initial:e,animate:t}=v3(n,H.useContext(vf));return H.useMemo(()=>({initial:e,animate:t}),[Cb(e),Cb(t)])}function Cb(n){return Array.isArray(n)?n.join(" "):n}const Xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LT(n,e,t){for(const s in e)!hn(e[s])&&!yT(s,t)&&(n[s]=e[s])}function b3({transformTemplate:n},e){return H.useMemo(()=>{const t=Xg();return Kg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function x3(n,e){const t=n.style||{},s={};return LT(s,t,n),Object.assign(s,b3(n,e)),s}function T3(n,e){const t={},s=x3(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const zT=()=>({...Xg(),attrs:{}});function S3(n,e,t,s){const a=H.useMemo(()=>{const l=zT();return vT(l,e,bT(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};LT(l,n.style,n),a.style={...l,...a.style}}return a}const E3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zg(n){return typeof n!="string"||n.includes("-")?!1:!!(E3.indexOf(n)>-1||/[A-Z]/u.test(n))}function C3(n,e,t,{latestValues:s},a,l=!1,u){const m=(u??Zg(n)?S3:T3)(e,s,a,n),g=y3(e,typeof n=="string",l),y=n!==H.Fragment?{...g,...m,ref:t}:{},{children:b}=e,S=H.useMemo(()=>hn(b)?b.get():b,[b]);return H.createElement(n,{...y,children:S})}function A3({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,a){return{latestValues:R3(t,s,a,n),renderState:e()}}function R3(n,e,t,s){const a={},l=s(n,{});for(const S in l)a[S]=Ch(l[S]);let{initial:u,animate:d}=n;const m=yf(n),g=lT(n);e&&g&&!m&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const b=y?d:u;if(b&&typeof b!="boolean"&&!gf(b)){const S=Array.isArray(b)?b:[b];for(let C=0;C<S.length;C++){const M=zg(n,S[C]);if(M){const{transitionEnd:L,transition:O,...Q}=M;for(const ee in Q){let B=Q[ee];if(Array.isArray(B)){const re=y?B.length-1:0;B=B[re]}B!==null&&(a[ee]=B)}for(const ee in L)a[ee]=L[ee]}}}return a}const BT=n=>(e,t)=>{const s=H.useContext(vf),a=H.useContext(mf),l=()=>A3(n,e,s,a);return t?l():xg(l)},w3=BT({scrapeMotionValuesFromProps:Yg,createRenderState:Xg}),D3=BT({scrapeMotionValuesFromProps:xT,createRenderState:zT}),M3=Symbol.for("motionComponentSymbol");function N3(n,e,t){const s=H.useRef(t);H.useInsertionEffect(()=>{s.current=t});const a=H.useRef(null);return H.useCallback(l=>{l&&n.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const UT=H.createContext({});function no(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function k3(n,e,t,s,a,l){const{visualElement:u}=H.useContext(vf),d=H.useContext(PT),m=H.useContext(mf),g=H.useContext(Qg),y=g.reducedMotion,b=g.skipAnimations,S=H.useRef(null),C=H.useRef(!1);s=s||d.renderer,!S.current&&s&&(S.current=s(n,{visualState:e,parent:u,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:b,isSVG:l}),C.current&&S.current&&(S.current.manuallyAnimateOnMount=!0));const M=S.current,L=H.useContext(UT);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&V3(S.current,t,a,L);const O=H.useRef(!1);H.useInsertionEffect(()=>{M&&O.current&&M.update(t,m)});const Q=t[Qx],ee=H.useRef(!!Q&&!window.MotionHandoffIsComplete?.(Q)&&window.MotionHasOptimisedAnimation?.(Q));return ux(()=>{C.current=!0,M&&(O.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),ee.current&&M.animationState&&M.animationState.animateChanges())}),H.useEffect(()=>{M&&(!ee.current&&M.animationState&&M.animationState.animateChanges(),ee.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(Q)}),ee.current=!1),M.enteringChildren=void 0)}),M}function V3(n,e,t,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:FT(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&no(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function FT(n){if(n)return n.options.allowProjection!==!1?n.projection:FT(n.parent)}function em(n,{forwardMotionProps:e=!1,type:t}={},s,a){s&&p3(s);const l=t?t==="svg":Zg(n),u=l?D3:w3;function d(g,y){let b;const S={...H.useContext(Qg),...g,layoutId:I3(g)},{isStatic:C}=S,M=_3(g),L=u(g,C);if(!C&&cx){P3();const O=j3(S);b=O.MeasureLayout,M.visualElement=k3(n,L,S,a,O.ProjectionNode,l)}return _.jsxs(vf.Provider,{value:M,children:[b&&M.visualElement?_.jsx(b,{visualElement:M.visualElement,...S}):null,C3(n,g,N3(L,M.visualElement,y),L,C,e,l)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=H.forwardRef(d);return m[M3]=n,m}function I3({layoutId:n}){const e=H.useContext(bg).id;return e&&n!==void 0?e+"-"+n:n}function P3(n,e){H.useContext(PT).strict}function j3(n){const e=jT(),{drag:t,layout:s}=e;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function O3(n,e){if(typeof Proxy>"u")return em;const t=new Map,s=(l,u)=>em(l,u,n,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(t.has(u)||t.set(u,em(u,void 0,n,e)),t.get(u))})}const L3=(n,e)=>e.isSVG??Zg(n)?new gD(e):new uD(e,{allowProjection:n!==H.Fragment});class z3 extends _r{constructor(e){super(e),e.animationState||(e.animationState=xD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let B3=0;class U3 extends _r{constructor(){super(...arguments),this.id=B3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F3={animation:{Feature:z3},exit:{Feature:U3}};function Rc(n){return{point:{x:n.pageX,y:n.pageY}}}const H3=n=>e=>Hg(e)&&n(e,Rc(e));function nc(n,e,t,s){return fc(n,e,H3(t),s)}const HT=({current:n})=>n?n.ownerDocument.defaultView:null,Ab=(n,e)=>Math.abs(n-e);function q3(n,e){const t=Ab(n.x,e.x),s=Ab(n.y,e.y);return Math.sqrt(t**2+s**2)}const Rb=new Set(["auto","scroll"]);class qT{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=nm(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,L=q3(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!L)return;const{point:O}=C,{timestamp:Q}=tn;this.history.push({...O,timestamp:Q});const{onStart:ee,onMove:B}=this.handlers;M||(ee&&ee(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=tm(M,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:L,onSessionEnd:O,resumeAnimation:Q}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Q&&Q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ee=nm(C.type==="pointercancel"?this.lastMoveEventInfo:tm(M,this.transformPagePoint),this.history);this.startEvent&&L&&L(C,ee),O&&O(C,ee)},!Hg(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Rc(e),g=tm(m,this.transformPagePoint),{point:y}=g,{timestamp:b}=tn;this.history=[{...y,timestamp:b}];const{onSessionStart:S}=t;S&&S(e,nm(g,this.history)),this.removeListeners=Ec(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(Rb.has(s.overflowX)||Rb.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-t.x,y:a.y-t.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),hr(this.updatePoint)}}function tm(n,e){return e?{point:e(n.point)}:n}function wb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function nm({point:n},e){return{point:n,delta:wb(n,GT(e)),offset:wb(n,G3(e)),velocity:$3(e,.1)}}function G3(n){return n[0]}function GT(n){return n[n.length-1]}function $3(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=GT(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>vi(e)));)t--;if(!s)return{x:0,y:0};s===n[0]&&n.length>2&&a.timestamp-s.timestamp>vi(e)*2&&(s=n[1]);const l=ni(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function K3(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?mt(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?mt(t,n,s.max):Math.min(n,t)),n}function Db(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Y3(n,{top:e,left:t,bottom:s,right:a}){return{x:Db(n.x,t,a),y:Db(n.y,e,s)}}function Mb(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function Q3(n,e){return{x:Mb(n.x,e.x),y:Mb(n.y,e.y)}}function X3(n,e){let t=.5;const s=yn(n),a=yn(e);return a>s?t=lc(e.min,e.max-s,n.min):s>a&&(t=lc(n.min,n.max-a,e.min)),Qi(0,1,t)}function Z3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fm=.35;function W3(n=Fm){return n===!1?n=0:n===!0&&(n=Fm),{x:Nb(n,"left","right"),y:Nb(n,"top","bottom")}}function Nb(n,e,t){return{min:kb(n,e),max:kb(n,t)}}function kb(n,e){return typeof n=="number"?n:n[e]||0}const J3=new WeakMap;class e6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{t&&this.snapToCursor(Rc(b).point),this.stopAnimation()},u=(b,S)=>{const{drag:C,dragPropagation:M,onDragStart:L}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D4(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(Q=>{let ee=this.getAxisMotionValue(Q).get()||0;if(qi.test(ee)){const{projection:B}=this.visualElement;if(B&&B.layout){const re=B.layout.layoutBox[Q];re&&(ee=yn(re)*(parseFloat(ee)/100))}}this.originPoint[Q]=ee}),L&&lt.update(()=>L(b,S),!1,!0),Im(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},d=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:L,onDrag:O}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:Q}=S;if(M&&this.currentDirection===null){this.currentDirection=n6(Q),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",S.point,Q),this.updateAxis("y",S.point,Q),this.visualElement.render(),O&&lt.update(()=>O(b,S),!1,!0)},m=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new qT(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:HT(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&lt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!dh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=K3(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&no(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Y3(s.layoutBox,e):this.constraints=!1,this.elastic=W3(t),a!==this.constraints&&!no(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&Fi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Z3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!no(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sD(s,a.root,this.visualElement.getTransformPagePoint());let u=Q3(a.layout.layoutBox,l);if(t){const d=t(tD(u));this.hasMutatedConstraints=!!d,d&&(u=fT(d))}return u}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Fi(y=>{if(!dh(y,t,this.currentDirection))return;let b=m&&m[y]||{};u&&(b={min:0,max:0});const S=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,M)});return Promise.all(g).then(d)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Im(this.visualElement,e),s.start(Lg(e,s,0,t,this.visualElement,!1))}stopAnimation(){Fi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Fi(t=>{const{drag:s}=this.getProps();if(!dh(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[t],m=l.get()||0;l.set(e[t]-mt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!no(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=X3({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Fi(u=>{if(!dh(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(mt(m,g,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;J3.set(this.visualElement,this);const e=this.visualElement.current,t=nc(e,"pointerdown",g=>{const{drag:y,dragListener:b=!0}=this.getProps(),S=g.target,C=S!==e&&P4(S);y&&b&&!C&&this.start(g)});let s;const a=()=>{const{dragConstraints:g}=this.getProps();no(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),s||(s=t6(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),lt.read(a);const d=fc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(Fi(b=>{const S=this.getAxisMotionValue(b);S&&(this.originPoint[b]+=g[b].translate,S.set(S.get()+g[b].translate))}),this.visualElement.render())}));return()=>{d(),t(),u(),m&&m(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Fm,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Vb(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function t6(n,e,t){const s=B_(n,Vb(t)),a=B_(e,Vb(t));return()=>{s(),a()}}function dh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function n6(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class i6 extends _r{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new e6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const im=n=>(e,t)=>{n&&lt.update(()=>n(e,t),!1,!0)};class s6 extends _r{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new qT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:im(e),onStart:im(t),onMove:im(s),onEnd:(l,u)=>{delete this.session,a&&lt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sm=!1;class r6 extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(t.group&&t.group.add(l),s&&s.register&&a&&s.register(l),sm&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==t&&u.setOptions({...u.options,layoutDependency:t}),sm=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||lt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;sm=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $T(n){const[e,t]=IT(),s=H.useContext(bg);return _.jsx(r6,{...n,layoutGroup:s,switchLayoutGroup:H.useContext(UT),isPresent:e,safeToRemove:t})}const a6={pan:{Feature:s6},drag:{Feature:i6,ProjectionNode:VT,MeasureLayout:$T}};function Ib(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=s[a];l&&lt.postRender(()=>l(e,Rc(e)))}class o6 extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=N4(e,(t,s)=>(Ib(this.node,s,"Start"),a=>Ib(this.node,a,"End"))))}unmount(){}}class l6 extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ec(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pb(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=s[a];l&&lt.postRender(()=>l(e,Rc(e)))}class c6 extends _r{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:s}=this.node.props;this.unmount=O4(e,(a,l)=>(Pb(this.node,l,"Start"),(u,{success:d})=>Pb(this.node,u,d?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:s?.tap===!1})}unmount(){}}const Hm=new WeakMap,rm=new WeakMap,u6=n=>{const e=Hm.get(n.target);e&&e(n)},h6=n=>{n.forEach(u6)};function f6({root:n,...e}){const t=n||document;rm.has(t)||rm.set(t,{});const s=rm.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(h6,{root:n,...e})),s[a]}function d6(n,e,t){const s=f6(e);return Hm.set(n,t),s.observe(n),()=>{Hm.delete(n),s.unobserve(n)}}const p6={some:0,all:1};class m6 extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:p6[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),S=g?y:b;S&&S(m)};return d6(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(g6(e,t))&&this.startObserver()}unmount(){}}function g6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const y6={inView:{Feature:m6},tap:{Feature:c6},focus:{Feature:l6},hover:{Feature:o6}},v6={layout:{ProjectionNode:VT,MeasureLayout:$T}},_6={...F3,...y6,...a6,...v6},zn=O3(_6,L3),b6="0000",x6="3333",T6=({onAuthenticated:n})=>{const[e,t]=H.useState(()=>localStorage.getItem("parallel_secret_pin")),[s,a]=H.useState(!e),[l,u]=H.useState(""),[d,m]=H.useState(!1),[g,y]=H.useState(1),[b,S]=H.useState(""),C=M=>{if(l.length<4){const L=l+M;u(L),navigator.vibrate&&navigator.vibrate(15),L.length===4&&(s?g===1?(navigator.vibrate&&navigator.vibrate(30),S(L),y(2),setTimeout(()=>u(""),300)):L===b?(navigator.vibrate&&navigator.vibrate(30),localStorage.setItem("parallel_secret_pin",L),t(L),a(!1),u(""),S(""),y(1)):(navigator.vibrate&&navigator.vibrate([50,30,50]),m(!0),setTimeout(()=>{u(""),S(""),y(1),m(!1)},500)):L===e?(navigator.vibrate&&navigator.vibrate(30),n("private")):L===b6?(navigator.vibrate&&navigator.vibrate(30),n("dummy")):L===x6?(navigator.vibrate&&navigator.vibrate(30),n("notes")):(navigator.vibrate&&navigator.vibrate([50,30,50]),m(!0),setTimeout(()=>{u(""),m(!1)},500)))}};return H.useEffect(()=>{const M=L=>{L.key>="0"&&L.key<="9"&&C(L.key),L.key==="Backspace"&&u(O=>O.slice(0,-1))};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)}),_.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-8",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(60px) saturate(200%)",WebkitBackdropFilter:"blur(60px) saturate(200%)"},children:[_.jsx("div",{className:`w-16 h-16 rounded-3xl flex items-center justify-center ${s?"mb-4":"mb-8"}`,style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:_.jsx("span",{className:"text-3xl",children:s?"":""})}),s&&_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("h2",{className:"text-lg font-bold",style:{color:"rgba(0,0,0,0.85)"},children:g===1?"Set Parallel PIN":"Confirm PIN"}),_.jsx("p",{className:"text-xs mt-1",style:{color:"rgba(0,0,0,0.5)"},children:g===1?"Choose a 4-digit code for your secure chat":"Enter the code again to verify"})]}),_.jsx("div",{className:"flex gap-5 mb-10",children:[0,1,2,3].map(M=>_.jsx(zn.div,{animate:d?{x:[0,-6,6,-6,6,0]}:{},transition:{duration:.3},className:"w-3.5 h-3.5 rounded-full transition-all duration-200",style:l.length>M?{background:"rgba(0, 0, 0, 0.7)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"}:{background:"rgba(0, 0, 0, 0.12)",border:"1.5px solid rgba(0, 0, 0, 0.2)"}},M))}),_.jsxs("div",{className:"grid grid-cols-3 gap-5 w-72 place-items-center",children:[[1,2,3,4,5,6,7,8,9].map(M=>_.jsx("button",{onClick:()=>C(String(M)),className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-medium active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.8)",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:M},M)),_.jsx("div",{}),_.jsx("button",{onClick:()=>C("0"),className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-medium active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.8)",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:"0"}),_.jsx("button",{onClick:()=>u(M=>M.slice(0,-1)),className:"w-20 h-20 rounded-full flex items-center justify-center text-xl active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.5)"},children:""})]})]})};class S6{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return E6(e).buffer}}function E6(n){let e=0;for(const a of n)e+=a.byteLength;const t=new Uint8Array(e);let s=0;for(const a of n){const l=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);t.set(l,s),s+=a.byteLength}return t}function KT(n){return new C6(n).unpack()}function YT(n){const e=new A6,t=e.pack(n);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class C6{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let s=0,a="",l,u;for(;s<e;)l=t[s],l<160?(u=l,s++):(l^192)<32?(u=(l&31)<<6|t[s+1]&63,s+=2):(l^224)<16?(u=(l&15)<<12|(t[s+1]&63)<<6|t[s+2]&63,s+=3):(u=(l&7)<<18|(t[s+1]&63)<<12|(t[s+2]&63)<<6|t[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const t=new Array(e);for(let s=0;s<e;s++)t[s]=this.unpack();return t}unpack_map(e){const t={};for(let s=0;s<e;s++){const a=this.unpack();t[a]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(t===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+t*2**(a-52);return(s===0?1:-1)*u}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class A6{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),s=t.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const s=a=>{if(a<t){const l=this.pack(e[a]);return l instanceof Promise?l.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,l=Math.floor(a*2**52),u=2**32,d=t<<31|s+1023<<20|l/u&1048575,m=l%u;this._bufferBuilder.append(203),this.pack_int32(d),this.pack_int32(m)}pack_object(e){const t=Object.keys(e),s=t.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=l=>{if(l<t.length){const u=t[l];if(e.hasOwnProperty(u)){this.pack(u);const d=this.pack(e[u]);if(d instanceof Promise)return d.then(()=>a(l+1))}return a(l+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,s=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new S6,this._textEncoder=new TextEncoder}}let QT=!0,XT=!0;function Yl(n,e,t){const s=n.match(e);return s&&s.length>=t&&parseFloat(s[t],10)}function ua(n,e,t){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,d){if(u!==e)return a.apply(this,arguments);const m=g=>{const y=t(g);y&&(d.handleEvent?d.handleEvent(y):d(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(d,m),a.apply(this,[u,m])};const l=s.removeEventListener;s.removeEventListener=function(u,d){if(u!==e||!this._eventMap||!this._eventMap[e])return l.apply(this,arguments);if(!this._eventMap[e].has(d))return l.apply(this,arguments);const m=this._eventMap[e].get(d);return this._eventMap[e].delete(d),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[u,m])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function R6(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(QT=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function w6(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(XT=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function ZT(){if(typeof window=="object"){if(QT)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Wg(n,e){XT&&console.warn(n+" is deprecated, please use "+e+" instead.")}function D6(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=n;if(t.userAgentData&&t.userAgentData.brands){const s=t.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Yl(t.userAgent,/Firefox\/(\d+)\./,1));else if(t.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Yl(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Yl(t.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,e._safariVersion=Yl(t.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function jb(n){return Object.prototype.toString.call(n)==="[object Object]"}function WT(n){return jb(n)?Object.keys(n).reduce(function(e,t){const s=jb(n[t]),a=s?WT(n[t]):n[t],l=s&&!Object.keys(a).length;return a===void 0||l?e:Object.assign(e,{[t]:a})},{}):n}function qm(n,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?qm(n,n.get(e[s]),t):s.endsWith("Ids")&&e[s].forEach(a=>{qm(n,n.get(a),t)})}))}function Ob(n,e,t){const s=t?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const l=[];return n.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&l.push(u)}),l.forEach(u=>{n.forEach(d=>{d.type===s&&d.trackId===u.id&&qm(n,d,a)})}),a}const Lb=ZT;function JT(n,e){const t=n&&n.navigator;if(!t.mediaDevices)return;const s=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const m={};return Object.keys(d).forEach(g=>{if(g==="require"||g==="advanced"||g==="mediaSource")return;const y=typeof d[g]=="object"?d[g]:{ideal:d[g]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const b=function(S,C){return S?S+C.charAt(0).toUpperCase()+C.slice(1):C==="deviceId"?"sourceId":C};if(y.ideal!==void 0){m.optional=m.optional||[];let S={};typeof y.ideal=="number"?(S[b("min",g)]=y.ideal,m.optional.push(S),S={},S[b("max",g)]=y.ideal,m.optional.push(S)):(S[b("",g)]=y.ideal,m.optional.push(S))}y.exact!==void 0&&typeof y.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[b("",g)]=y.exact):["min","max"].forEach(S=>{y[S]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[b(S,g)]=y[S])})}),d.advanced&&(m.optional=(m.optional||[]).concat(d.advanced)),m},a=function(d,m){if(e.version>=61)return m(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const g=function(y,b,S){b in y&&!(S in y)&&(y[S]=y[b],delete y[b])};d=JSON.parse(JSON.stringify(d)),g(d.audio,"autoGainControl","googAutoGainControl"),g(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=s(d.audio)}if(d&&typeof d.video=="object"){let g=d.video.facingMode;g=g&&(typeof g=="object"?g:{ideal:g});const y=e.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete d.video.facingMode;let b;if(g.exact==="environment"||g.ideal==="environment"?b=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(b=["front"]),b)return t.mediaDevices.enumerateDevices().then(S=>{S=S.filter(M=>M.kind==="videoinput");let C=S.find(M=>b.some(L=>M.label.toLowerCase().includes(L)));return!C&&S.length&&b.includes("back")&&(C=S[S.length-1]),C&&(d.video.deviceId=g.exact?{exact:C.deviceId}:{ideal:C.deviceId}),d.video=s(d.video),Lb("chrome: "+JSON.stringify(d)),m(d)})}d.video=s(d.video)}return Lb("chrome: "+JSON.stringify(d)),m(d)},l=function(d){return e.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(d,m,g){a(d,y=>{t.webkitGetUserMedia(y,m,b=>{g&&g(l(b))})})};if(t.getUserMedia=u.bind(t),t.mediaDevices.getUserMedia){const d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(m){return a(m,g=>d(g).then(y=>{if(g.audio&&!y.getAudioTracks().length||g.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(b=>{b.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(l(y))))}}}function eS(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function tS(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let l;n.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(d=>d.track&&d.track.id===a.track.id):l={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=l,u.transceiver={receiver:l},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let l;n.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(d=>d.track&&d.track.id===a.id):l={track:a};const u=new Event("track");u.track=a,u.receiver=l,u.transceiver={receiver:l},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ua(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function nS(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(a,l){return{track:l,get dtmf(){return this._dtmf===void 0&&(l.kind==="audio"?this._dtmf=a.createDTMFSender(l):this._dtmf=null),this._dtmf},_pc:a}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,m){let g=a.apply(this,arguments);return g||(g=e(this,d),this._senders.push(g)),g};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){l.apply(this,arguments);const m=this._senders.indexOf(d);m!==-1&&this._senders.splice(m,1)}}const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(l){this._senders=this._senders||[],t.apply(this,[l]),l.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(l){this._senders=this._senders||[],s.apply(this,[l]),l.getTracks().forEach(u=>{const d=this._senders.find(m=>m.track===u);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function iS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const t=n.RTCPeerConnection.prototype.getSenders;t&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=t.apply(this,[]);return l.forEach(u=>u._pc=this),l});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=s.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>Ob(u,l.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const t=n.RTCPeerConnection.prototype.getReceivers;t&&(n.RTCPeerConnection.prototype.getReceivers=function(){const a=t.apply(this,[]);return a.forEach(l=>l._pc=this),a}),ua(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(l=>Ob(l,a.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let a,l,u;return this.getSenders().forEach(d=>{d.track===s&&(a?u=!0:a=d)}),this.getReceivers().forEach(d=>(d.track===s&&(l?u=!0:l=d),d.track===s)),u||a&&l?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():l?l.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function sS(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(u,d){if(!d)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const m=e.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(m)===-1&&this._shimmedLocalStreams[d.id].push(m):this._shimmedLocalStreams[d.id]=[d,m],m};const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(g=>{if(this.getSenders().find(b=>b.track===g))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();t.apply(this,arguments);const m=this.getSenders().filter(g=>d.indexOf(g)===-1);this._shimmedLocalStreams[u.id]=[u].concat(m)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const m=this._shimmedLocalStreams[d].indexOf(u);m!==-1&&this._shimmedLocalStreams[d].splice(m,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),a.apply(this,arguments)}}function rS(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return sS(n);const t=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const y=t.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(b=>this._reverseStreams[b.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(b=>{if(this.getSenders().find(C=>C.track===b))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const b=new n.MediaStream(y.getTracks());this._streams[y.id]=b,this._reverseStreams[b.id]=y,y=b}s.apply(this,[y])};const a=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},n.RTCPeerConnection.prototype.addTrack=function(y,b){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(L=>L===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(L=>L.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const M=this._streams[b.id];if(M)M.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const L=new n.MediaStream([y]);this._streams[b.id]=L,this._reverseStreams[L.id]=b,this.addStream(L)}return this.getSenders().find(L=>L.track===y)};function l(g,y){let b=y.sdp;return Object.keys(g._reverseStreams||[]).forEach(S=>{const C=g._reverseStreams[S],M=g._streams[C.id];b=b.replace(new RegExp(M.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:b})}function u(g,y){let b=y.sdp;return Object.keys(g._reverseStreams||[]).forEach(S=>{const C=g._reverseStreams[S],M=g._streams[C.id];b=b.replace(new RegExp(C.id,"g"),M.id)}),new RTCSessionDescription({type:y.type,sdp:b})}["createOffer","createAnswer"].forEach(function(g){const y=n.RTCPeerConnection.prototype[g],b={[g](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[M=>{const L=l(this,M);S[0].apply(null,[L])},M=>{S[1]&&S[1].apply(null,M)},arguments[2]]):y.apply(this,arguments).then(M=>l(this,M))}};n.RTCPeerConnection.prototype[g]=b[g]});const d=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=u(this,arguments[0]),d.apply(this,arguments))};const m=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const g=m.get.apply(this);return g.type===""?g:l(this,g)}}),n.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(C=>{this._streams[C].getTracks().find(L=>y.track===L)&&(S=this._streams[C])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Gm(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const s=n.RTCPeerConnection.prototype[t],a={[t](){return arguments[0]=new(t==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[t]=a[t]})}function aS(n,e){ua(n,"negotiationneeded",t=>{const s=t.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return t})}const zb=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:aS,shimAddTrackRemoveTrack:rS,shimAddTrackRemoveTrackWithNative:sS,shimGetSendersWithDtmf:nS,shimGetUserMedia:JT,shimMediaStream:eS,shimOnTrack:tS,shimPeerConnection:Gm,shimSenderReceiverGetStats:iS},Symbol.toStringTag,{value:"Module"}));function oS(n,e){const t=n&&n.navigator,s=n&&n.MediaStreamTrack;if(t.getUserMedia=function(a,l,u){Wg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(a).then(l,u)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const a=function(u,d,m){d in u&&!(m in u)&&(u[m]=u[d],delete u[d])},l=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),l(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const d=u.apply(this,arguments);return a(d,"mozAutoGainControl","autoGainControl"),a(d,"mozNoiseSuppression","noiseSuppression"),d}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),a(d,"autoGainControl","mozAutoGainControl"),a(d,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[d])}}}}function M6(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(s)})}function lS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function $m(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const l=n.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};n.RTCPeerConnection.prototype[a]=u[a]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[l,u,d]=arguments;return s.apply(this,[l||null]).then(m=>{if(e.version<53&&!u)try{m.forEach(g=>{g.type=t[g.type]||g.type})}catch(g){if(g.name!=="TypeError")throw g;m.forEach((y,b)=>{m.set(b,Object.assign({},y,{type:t[y.type]||y.type}))})}return m}).then(u,d)}}function cS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(l=>l._pc=this),a});const t=n.RTCPeerConnection.prototype.addTrack;t&&(n.RTCPeerConnection.prototype.addTrack=function(){const a=t.apply(this,arguments);return a._pc=this,a}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function uS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ua(n,"track",t=>(t.receiver._pc=t.srcElement,t)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function hS(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(t){Wg("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&t.getTracks().includes(s.track)&&this.removeTrack(s)})})}function fS(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function dS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const l=e.apply(this,arguments);if(a){const{sender:u}=l,d=u.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(d).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return l})}function pS(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function mS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function gS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const Bb=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:dS,shimCreateAnswer:gS,shimCreateOffer:mS,shimGetDisplayMedia:M6,shimGetParameters:pS,shimGetUserMedia:oS,shimOnTrack:lS,shimPeerConnection:$m,shimRTCDataChannel:fS,shimReceiverGetStats:uS,shimRemoveStream:hS,shimSenderGetStats:cS},Symbol.toStringTag,{value:"Module"}));function yS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(t);if(s===-1)return;this._localStreams.splice(s,1);const a=t.getTracks();this.getSenders().forEach(l=>{a.includes(l.track)&&this.removeTrack(l)})})}}function vS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const l=new Event("addstream");l.stream=a,this.dispatchEvent(l)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(l=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(l)>=0)return;s._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function _S(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,t=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,l=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(g,y){const b=arguments.length>=2?arguments[2]:arguments[0],S=t.apply(this,[b]);return y?(S.then(g,y),Promise.resolve()):S},e.createAnswer=function(g,y){const b=arguments.length>=2?arguments[2]:arguments[0],S=s.apply(this,[b]);return y?(S.then(g,y),Promise.resolve()):S};let d=function(m,g,y){const b=a.apply(this,[m]);return y?(b.then(g,y),Promise.resolve()):b};e.setLocalDescription=d,d=function(m,g,y){const b=l.apply(this,[m]);return y?(b.then(g,y),Promise.resolve()):b},e.setRemoteDescription=d,d=function(m,g,y){const b=u.apply(this,[m]);return y?(b.then(g,y),Promise.resolve()):b},e.addIceCandidate=d}function bS(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,s=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=a=>s(xS(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,l){e.mediaDevices.getUserMedia(s).then(a,l)}).bind(e))}function xS(n){return n&&n.video!==void 0?Object.assign({},n,{video:WT(n.video)}):n}function TS(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const l=[];for(let u=0;u<s.iceServers.length;u++){let d=s.iceServers[u];d.urls===void 0&&d.url?(Wg("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,l.push(d)):l.push(s.iceServers[u])}s.iceServers=l}return new e(s,a)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function SS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ES(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const l=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveVideo===!0&&!l&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function CS(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const Ub=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:CS,shimCallbacksAPI:_S,shimConstraints:xS,shimCreateOfferLegacy:ES,shimGetUserMedia:bS,shimLocalStreamsAPI:yS,shimRTCIceServerUrls:TS,shimRemoteStreamsAPI:vS,shimTrackEventTransceiver:SS},Symbol.toStringTag,{value:"Module"}));var am={exports:{}},Fb;function N6(){return Fb||(Fb=1,(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(t){return t.split(`
m=`).map((a,l)=>(l>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(t){const s=e.splitSections(t);return s&&s[0]},e.getMediaSections=function(t){const s=e.splitSections(t);return s.shift(),s},e.matchPrefix=function(t,s){return e.splitLines(t).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(t){let s;t.indexOf("a=candidate:")===0?s=t.substring(12).split(" "):s=t.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let l=8;l<s.length;l+=2)switch(s[l]){case"raddr":a.relatedAddress=s[l+1];break;case"rport":a.relatedPort=parseInt(s[l+1],10);break;case"tcptype":a.tcpType=s[l+1];break;case"ufrag":a.ufrag=s[l+1],a.usernameFragment=s[l+1];break;default:a[s[l]]===void 0&&(a[s[l]]=s[l+1]);break}return a},e.writeCandidate=function(t){const s=[];s.push(t.foundation);const a=t.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(t.protocol.toUpperCase()),s.push(t.priority),s.push(t.address||t.ip),s.push(t.port);const l=t.type;return s.push("typ"),s.push(l),l!=="host"&&t.relatedAddress&&t.relatedPort&&(s.push("raddr"),s.push(t.relatedAddress),s.push("rport"),s.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(s.push("ufrag"),s.push(t.usernameFragment||t.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let s=t.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(t){let s=t.payloadType;t.preferredPayloadType!==void 0&&(s=t.preferredPayloadType);const a=t.channels||t.numChannels||1;return"a=rtpmap:"+s+" "+t.name+"/"+t.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(t){const s=t.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const s={};let a;const l=t.substring(t.indexOf(" ")+1).split(";");for(let u=0;u<l.length;u++)a=l[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(t){let s="",a=t.payloadType;if(t.preferredPayloadType!==void 0&&(a=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const l=[];Object.keys(t.parameters).forEach(u=>{t.parameters[u]!==void 0?l.push(u+"="+t.parameters[u]):l.push(u)}),s+="a=fmtp:"+a+" "+l.join(";")+`\r
`}return s},e.parseRtcpFb=function(t){const s=t.substring(t.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(t){let s="",a=t.payloadType;return t.preferredPayloadType!==void 0&&(a=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(l=>{s+="a=rtcp-fb:"+a+" "+l.type+(l.parameter&&l.parameter.length?" "+l.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(t){const s=t.indexOf(" "),a={ssrc:parseInt(t.substring(7,s),10)},l=t.indexOf(":",s);return l>-1?(a.attribute=t.substring(s+1,l),a.value=t.substring(l+1)):a.attribute=t.substring(s+1),a},e.parseSsrcGroup=function(t){const s=t.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(t){const s=e.matchPrefix(t,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(t){const s=t.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(t,s){return{role:"auto",fingerprints:e.matchPrefix(t+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,s){let a="a=setup:"+s+`\r
`;return t.fingerprints.forEach(l=>{a+="a=fingerprint:"+l.algorithm+" "+l.value+`\r
`}),a},e.parseCryptoLine=function(t){const s=t.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const s=t.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,s){return e.matchPrefix(t+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,s){const a=e.matchPrefix(t+s,"a=ice-ufrag:")[0],l=e.matchPrefix(t+s,"a=ice-pwd:")[0];return a&&l?{usernameFragment:a.substring(12),password:l.substring(10)}:null},e.writeIceParameters=function(t){let s="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(t){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},l=e.splitLines(t)[0].split(" ");s.profile=l[2];for(let d=3;d<l.length;d++){const m=l[d],g=e.matchPrefix(t,"a=rtpmap:"+m+" ")[0];if(g){const y=e.parseRtpMap(g),b=e.matchPrefix(t,"a=fmtp:"+m+" ");switch(y.parameters=b.length?e.parseFmtp(b[0]):{},y.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+m+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(d=>{s.headerExtensions.push(e.parseExtmap(d))});const u=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(d=>{u.forEach(m=>{d.rtcpFeedback.find(y=>y.type===m.type&&y.parameter===m.parameter)||d.rtcpFeedback.push(m)})}),s},e.writeRtpDescription=function(t,s){let a="";a+="m="+t+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let l=0;return s.codecs.forEach(u=>{u.maxptime>l&&(l=u.maxptime)}),l>0&&(a+="a=maxptime:"+l+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(t){const s=[],a=e.parseRtpParameters(t),l=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,d=e.matchPrefix(t,"a=ssrc:").map(S=>e.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),m=d.length>0&&d[0].ssrc;let g;const y=e.matchPrefix(t,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(M=>parseInt(M,10)));y.length>0&&y[0].length>1&&y[0][0]===m&&(g=y[0][1]),a.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let C={ssrc:m,codecPayloadType:parseInt(S.parameters.apt,10)};m&&g&&(C.rtx={ssrc:g}),s.push(C),l&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:m,mechanism:u?"red+ulpfec":"red"},s.push(C))}}),s.length===0&&m&&s.push({ssrc:m});let b=e.matchPrefix(t,"b=");return b.length&&(b[0].indexOf("b=TIAS:")===0?b=parseInt(b[0].substring(7),10):b[0].indexOf("b=AS:")===0?b=parseInt(b[0].substring(5),10)*1e3*.95-2e3*8:b=void 0,s.forEach(S=>{S.maxBitrate=b})),s},e.parseRtcpParameters=function(t){const s={},a=e.matchPrefix(t,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const l=e.matchPrefix(t,"a=rtcp-rsize");s.reducedSize=l.length>0,s.compound=l.length===0;const u=e.matchPrefix(t,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(t){let s="";return t.reducedSize&&(s+=`a=rtcp-rsize\r
`),t.mux&&(s+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(s+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),s},e.parseMsid=function(t){let s;const a=e.matchPrefix(t,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const l=e.matchPrefix(t,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(l.length>0)return s=l[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(t){const s=e.parseMLine(t),a=e.matchPrefix(t,"a=max-message-size:");let l;a.length>0&&(l=parseInt(a[0].substring(19),10)),isNaN(l)&&(l=65536);const u=e.matchPrefix(t,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:l};const d=e.matchPrefix(t,"a=sctpmap:");if(d.length>0){const m=d[0].substring(10).split(" ");return{port:parseInt(m[0],10),protocol:m[1],maxMessageSize:l}}},e.writeSctpDescription=function(t,s){let a=[];return t.protocol!=="DTLS/SCTP"?a=["m="+t.kind+" 9 "+t.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+t.kind+" 9 "+t.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,s,a){let l;const u=s!==void 0?s:2;return t?l=t:l=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+l+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,s){const a=e.splitLines(t);for(let l=0;l<a.length;l++)switch(a[l]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[l].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const a=e.splitLines(t)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(t){const a=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const s=e.splitLines(t);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},n.exports=e})(am)),am.exports}var AS=N6();const mo=nx(AS),k6=W5({__proto__:null,default:mo},[AS]);function Rh(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),l=mo.parseCandidate(s.candidate);for(const u in l)u in a||Object.defineProperty(a,u,{value:l[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},n.RTCIceCandidate.prototype=e.prototype,ua(n,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new n.RTCIceCandidate(t.candidate),writable:"false"}),t))}function Km(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||ua(n,"icecandidate",e=>{if(e.candidate){const t=mo.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function wh(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(d){if(!d||!d.sdp)return!1;const m=mo.splitSections(d.sdp);return m.shift(),m.some(g=>{const y=mo.parseMLine(g);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(d){const m=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(m===null||m.length<2)return-1;const g=parseInt(m[1],10);return g!==g?-1:g},a=function(d){let m=65536;return e.browser==="firefox"&&(e.version<57?d===-1?m=16384:m=2147483637:e.version<60?m=e.version===57?65535:65536:m=2147483637),m},l=function(d,m){let g=65536;e.browser==="firefox"&&e.version===57&&(g=65535);const y=mo.matchPrefix(d.sdp,"a=max-message-size:");return y.length>0?g=parseInt(y[0].substring(19),10):e.browser==="firefox"&&m!==-1&&(g=2147483637),g},u=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:m}=this.getConfiguration();m==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const m=s(arguments[0]),g=a(m),y=l(arguments[0],m);let b;g===0&&y===0?b=Number.POSITIVE_INFINITY:g===0||y===0?b=Math.max(g,y):b=Math.min(g,y);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return b}}),this._sctp=S}return u.apply(this,arguments)}}function Dh(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(s,a){const l=s.send;s.send=function(){const d=arguments[0],m=d.length||d.size||d.byteLength;if(s.readyState==="open"&&a.sctp&&m>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return l.apply(s,arguments)}}const t=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const a=t.apply(this,arguments);return e(a,this),a},ua(n,"datachannel",s=>(e(s.channel,s.target),s))}function Ym(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const s=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const l=a.target;if(l._lastConnectionState!==l.connectionState){l._lastConnectionState=l.connectionState;const u=new Event("connectionstatechange",a);l.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Qm(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const l=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&a instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:a.type,sdp:l}):a.sdp=l}return t.apply(this,arguments)}}function Mh(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const t=n.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Nh(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const t=n.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return t.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?t.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>t.apply(this,[u]))})}const V6=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Qm,shimAddIceCandidateNullOrEmpty:Mh,shimConnectionState:Ym,shimMaxMessageSize:wh,shimParameterlessSetLocalDescription:Nh,shimRTCIceCandidate:Rh,shimRTCIceCandidateRelayProtocol:Km,shimSendThrowTypeError:Dh},Symbol.toStringTag,{value:"Module"}));function I6({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=ZT,s=D6(n),a={browserDetails:s,commonShim:V6,extractVersion:Yl,disableLog:R6,disableWarnings:w6,sdp:k6};switch(s.browser){case"chrome":if(!zb||!Gm||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),a;if(s.version===null)return t("Chrome shim can not determine version, not shimming."),a;t("adapter.js shimming chrome."),a.browserShim=zb,Mh(n,s),Nh(n),JT(n,s),eS(n),Gm(n,s),tS(n),rS(n,s),nS(n),iS(n),aS(n,s),Rh(n),Km(n),Ym(n),wh(n,s),Dh(n),Qm(n,s);break;case"firefox":if(!Bb||!$m||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),a;t("adapter.js shimming firefox."),a.browserShim=Bb,Mh(n,s),Nh(n),oS(n,s),$m(n,s),lS(n),hS(n),cS(n),uS(n),fS(n),dS(n),pS(n),mS(n),gS(n),Rh(n),Ym(n),wh(n,s),Dh(n);break;case"safari":if(!Ub||!e.shimSafari)return t("Safari shim is not included in this adapter release."),a;t("adapter.js shimming safari."),a.browserShim=Ub,Mh(n,s),Nh(n),TS(n),ES(n),_S(n),yS(n),vS(n),SS(n),bS(n),CS(n),Rh(n),Km(n),wh(n,s),Dh(n),Qm(n,s);break;default:t("Unsupported browser!");break}return a}const Hb=I6({window:typeof window>"u"?void 0:window});function ha(n,e,t,s){Object.defineProperty(n,e,{get:t,set:s,enumerable:!0,configurable:!0})}class RS{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let l=0,u=0;for(;u<s;){const d=Math.min(s,u+this.chunkedMTU),m=e.slice(u,d),g={__peerData:this._dataCount,n:l,data:m,total:a};t.push(g),u=d,l++}return this._dataCount++,t}}}function P6(n){let e=0;for(const a of n)e+=a.byteLength;const t=new Uint8Array(e);let s=0;for(const a of n)t.set(a,s),s+=a.byteLength;return t}const om=Hb.default||Hb,Hl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return om.browserDetails.browser}getVersion(){return om.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=om.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,s=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),s=!0}catch{}finally{t&&t.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},j6=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),wS=()=>Math.random().toString(36).slice(2),qb={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class O6 extends RS{noop(){}blobToArrayBuffer(e,t){const s=new FileReader;return s.onload=function(a){a.target&&t(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=qb,this.browser=Hl.getBrowser(),this.browserVersion=Hl.getVersion(),this.pack=YT,this.unpack=KT,this.supports=(function(){const t={browser:Hl.isBrowserSupported(),webRTC:Hl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let s;try{s=new RTCPeerConnection(qb),t.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!a.ordered;try{a.binaryType="blob",t.binaryBlob=!Hl.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return t})(),this.validateId=j6,this.randomToken=wS}}const An=new O6,L6="PeerJS: ";class z6{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const s=[L6,...t];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var _e=new z6,Jg={},B6=Object.prototype.hasOwnProperty,vn="~";function dc(){}Object.create&&(dc.prototype=Object.create(null),new dc().__proto__||(vn=!1));function U6(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function DS(n,e,t,s,a){if(typeof t!="function")throw new TypeError("The listener must be a function");var l=new U6(t,s||n,a),u=vn?vn+e:e;return n._events[u]?n._events[u].fn?n._events[u]=[n._events[u],l]:n._events[u].push(l):(n._events[u]=l,n._eventsCount++),n}function kh(n,e){--n._eventsCount===0?n._events=new dc:delete n._events[e]}function fn(){this._events=new dc,this._eventsCount=0}fn.prototype.eventNames=function(){var e=[],t,s;if(this._eventsCount===0)return e;for(s in t=this._events)B6.call(t,s)&&e.push(vn?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};fn.prototype.listeners=function(e){var t=vn?vn+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,l=s.length,u=new Array(l);a<l;a++)u[a]=s[a].fn;return u};fn.prototype.listenerCount=function(e){var t=vn?vn+e:e,s=this._events[t];return s?s.fn?1:s.length:0};fn.prototype.emit=function(e,t,s,a,l,u){var d=vn?vn+e:e;if(!this._events[d])return!1;var m=this._events[d],g=arguments.length,y,b;if(m.fn){switch(m.once&&this.removeListener(e,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,t),!0;case 3:return m.fn.call(m.context,t,s),!0;case 4:return m.fn.call(m.context,t,s,a),!0;case 5:return m.fn.call(m.context,t,s,a,l),!0;case 6:return m.fn.call(m.context,t,s,a,l,u),!0}for(b=1,y=new Array(g-1);b<g;b++)y[b-1]=arguments[b];m.fn.apply(m.context,y)}else{var S=m.length,C;for(b=0;b<S;b++)switch(m[b].once&&this.removeListener(e,m[b].fn,void 0,!0),g){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,t);break;case 3:m[b].fn.call(m[b].context,t,s);break;case 4:m[b].fn.call(m[b].context,t,s,a);break;default:if(!y)for(C=1,y=new Array(g-1);C<g;C++)y[C-1]=arguments[C];m[b].fn.apply(m[b].context,y)}}return!0};fn.prototype.on=function(e,t,s){return DS(this,e,t,s,!1)};fn.prototype.once=function(e,t,s){return DS(this,e,t,s,!0)};fn.prototype.removeListener=function(e,t,s,a){var l=vn?vn+e:e;if(!this._events[l])return this;if(!t)return kh(this,l),this;var u=this._events[l];if(u.fn)u.fn===t&&(!a||u.once)&&(!s||u.context===s)&&kh(this,l);else{for(var d=0,m=[],g=u.length;d<g;d++)(u[d].fn!==t||a&&!u[d].once||s&&u[d].context!==s)&&m.push(u[d]);m.length?this._events[l]=m.length===1?m[0]:m:kh(this,l)}return this};fn.prototype.removeAllListeners=function(e){var t;return e?(t=vn?vn+e:e,this._events[t]&&kh(this,t)):(this._events=new dc,this._eventsCount=0),this};fn.prototype.off=fn.prototype.removeListener;fn.prototype.addListener=fn.prototype.on;fn.prefixed=vn;fn.EventEmitter=fn;Jg=fn;var fa={};ha(fa,"ConnectionType",()=>ar);ha(fa,"PeerErrorType",()=>jt);ha(fa,"BaseConnectionErrorType",()=>Xm);ha(fa,"DataConnectionErrorType",()=>e0);ha(fa,"SerializationType",()=>_f);ha(fa,"SocketEventType",()=>sr);ha(fa,"ServerMessageType",()=>cn);var ar=(function(n){return n.Data="data",n.Media="media",n})({}),jt=(function(n){return n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc",n})({}),Xm=(function(n){return n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed",n})({}),e0=(function(n){return n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big",n})({}),_f=(function(n){return n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw",n})({}),sr=(function(n){return n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close",n})({}),cn=(function(n){return n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE",n})({});const MS="1.5.5";class F6 extends Jg.EventEmitter{constructor(e,t,s,a,l,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const d=e?"wss://":"ws://";this._baseUrl=d+t+":"+s+a+"peerjs?key="+l}start(e,t){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+MS),this._disconnected=!1,this._socket.onmessage=a=>{let l;try{l=JSON.parse(a.data),_e.log("Server message received:",l)}catch{_e.log("Invalid server message",a.data);return}this.emit(sr.Message,l)},this._socket.onclose=a=>{this._disconnected||(_e.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(sr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),_e.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){_e.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:cn.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(sr.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class NS{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===ar.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const s=this.connection,a={ordered:!!e.reliable},l=t.createDataChannel(s.label,a);s._initializeDataChannel(l),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){_e.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,l=this.connection.provider;_e.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(_e.log(`Received ICE candidates for ${t}:`,u.candidate),l.socket.send({type:cn.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":_e.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(Xm.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":_e.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(Xm.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":_e.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},_e.log("Listening for data channel"),e.ondatachannel=u=>{_e.log("Received data channel");const d=u.channel;l.getConnection(t,s)._initializeDataChannel(d)},_e.log("Listening for remote stream"),e.ontrack=u=>{_e.log("Received remote stream");const d=u.streams[0],m=l.getConnection(t,s);if(m.type===ar.Media){const g=m;this._addStreamToMediaConnection(d,g)}}}cleanup(){_e.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(t||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);_e.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),_e.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ar.Data){const l=this.connection;a={...a,label:l.label,reliable:l.reliable,serialization:l.serialization}}t.socket.send({type:cn.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(jt.WebRTC,a),_e.log("Failed to setLocalDescription, ",a))}}catch(s){t.emitError(jt.WebRTC,s),_e.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const s=await e.createAnswer();_e.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),_e.log("Set localDescription:",s,`for:${this.connection.peer}`),t.socket.send({type:cn.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){t.emitError(jt.WebRTC,a),_e.log("Failed to setLocalDescription, ",a)}}catch(s){t.emitError(jt.WebRTC,s),_e.log("Failed to create answer, ",s)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const s=this.connection.peerConnection,a=this.connection.provider;_e.log("Setting remote description",t);const l=this;try{await s.setRemoteDescription(t),_e.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await l._makeAnswer()}catch(u){a.emitError(jt.WebRTC,u),_e.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){_e.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),_e.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(jt.WebRTC,t),_e.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(_e.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return _e.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{t.addTrack(s,e)})}_addStreamToMediaConnection(e,t){_e.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class kS extends Jg.EventEmitter{emitError(e,t){_e.error("Error:",t),this.emit("error",new H6(`${e}`,t))}}class H6 extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class VS extends kS{get open(){return this._open}constructor(e,t,s){super(),this.peer=e,this.provider=t,this.options=s,this._open=!1,this.metadata=s.metadata}}class Yh extends VS{static#e=this.ID_PREFIX="mc_";get type(){return ar.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,s){super(e,t,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Yh.ID_PREFIX+An.randomToken(),this._negotiator=new NS(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{_e.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{_e.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){_e.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,s=e.payload;switch(e.type){case cn.Answer:this._negotiator.handleSDP(t,s.sdp),this._open=!0;break;case cn.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:_e.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){_e.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class q6{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:s,port:a,path:l,key:u}=this._options,d=new URL(`${t}://${s}:${a}${l}${u}/${e}`);return d.searchParams.set("ts",`${Date.now()}${Math.random()}`),d.searchParams.set("version",MS),fetch(d.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){_e.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==An.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===An.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw _e.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class Qh extends VS{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ar.Data}constructor(e,t,s){super(e,t,s),this.connectionId=this.options.connectionId||Qh.ID_PREFIX+wS(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new NS(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{_e.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{_e.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{_e.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(e0.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case cn.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case cn.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:_e.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class t0 extends Qh{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Qh.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return _e.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class lm extends t0{close(e){super.close(e),this._chunkedData={}}constructor(e,t,s){super(e,t,s),this.chunker=new RS,this.serialization=_f.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=KT(e),s=t.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,s=this._chunkedData[t]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[t]=s,s.total===s.count){delete this._chunkedData[t];const a=P6(s.data);this._handleDataMessage({data:a})}}_send(e,t){const s=YT(e);if(s instanceof Promise)return this._send_blob(s);if(!t&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);_e.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const s of t)this.send(s,!0)}}class G6 extends t0{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=_f.None}}class $6 extends t0{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),s=t.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=An.chunkedMTU){this.emitError(e0.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=_f.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class n0 extends kS{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,s]of this._connections)e[t]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:G6,json:$6,binary:lm,"binary-utf8":lm,default:lm},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?t=e:e&&(s=e.toString()),t={debug:0,host:An.CLOUD_HOST,port:An.CLOUD_PORT,path:"/",key:n0.DEFAULT_KEY,token:An.randomToken(),config:An.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==An.CLOUD_HOST?this._options.secure=An.isSecure():this._options.host==An.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&_e.setLogFunction(this._options.logFunction),_e.logLevel=this._options.debug||0,this._api=new q6(t),this._socket=this._createServerConnection(),!An.supports.audioVideo&&!An.supports.data){this._delayedAbort(jt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!An.validateId(s)){this._delayedAbort(jt.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(jt.ServerError,a))}_createServerConnection(){const e=new F6(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(sr.Message,t=>{this._handleMessage(t)}),e.on(sr.Error,t=>{this._abort(jt.SocketError,t)}),e.on(sr.Disconnected,()=>{this.disconnected||(this.emitError(jt.Network,"Lost connection to server."),this.disconnect())}),e.on(sr.Close,()=>{this.disconnected||this._abort(jt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,s=e.payload,a=e.src;switch(t){case cn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case cn.Error:this._abort(jt.ServerError,s.msg);break;case cn.IdTaken:this._abort(jt.UnavailableID,`ID "${this.id}" is taken`);break;case cn.InvalidKey:this._abort(jt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case cn.Leave:_e.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case cn.Expire:this.emitError(jt.PeerUnavailable,`Could not connect to peer ${a}`);break;case cn.Offer:{const l=s.connectionId;let u=this.getConnection(a,l);if(u&&(u.close(),_e.warn(`Offer received for existing Connection ID:${l}`)),s.type===ar.Media){const m=new Yh(a,this,{connectionId:l,_payload:s,metadata:s.metadata});u=m,this._addConnection(a,u),this.emit("call",m)}else if(s.type===ar.Data){const m=new this._serializers[s.serialization](a,this,{connectionId:l,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=m,this._addConnection(a,u),this.emit("connection",m)}else{_e.warn(`Received malformed connection type:${s.type}`);return}const d=this._getMessages(l);for(const m of d)u.handleMessage(m);break}default:{if(!s){_e.warn(`You received a malformed message from ${a} of type ${t}`);return}const l=s.connectionId,u=this.getConnection(a,l);u&&u.peerConnection?u.handleMessage(e):l?this._storeMessage(l,e):_e.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){_e.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(jt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,s),s}call(e,t,s={}){if(this.disconnected){_e.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(jt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){_e.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new Yh(e,this,{...s,_stream:t});return this._addConnection(e,a),a}_addConnection(e,t){_e.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const s=t.indexOf(e);s!==-1&&t.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===t)return a;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){_e.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(_e.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const s of t)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;_e.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)_e.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)_e.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(jt.ServerError,t))}}var K6=n0;const Y6=()=>{};var Gb={};const IS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Q6=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,y=l>>2,b=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;m||(C=64,u||(S=64)),s.push(t[y],t[b],t[S],t[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Q6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new X6;const S=l<<2|d>>4;if(s.push(S),g!==64){const C=d<<4&240|g>>2;if(s.push(C),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class X6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z6=function(n){const e=IS(n);return PS.encodeByteArray(e,!0)},Xh=function(n){return Z6(n).replace(/\./g,"")},W6=function(n){try{return PS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eM=()=>J6().__FIREBASE_DEFAULTS__,tM=()=>{if(typeof process>"u"||typeof Gb>"u")return;const n=Gb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&W6(n[1]);return e&&JSON.parse(e)},i0=()=>{try{return Y6()||eM()||tM()||nM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iM=n=>i0()?.emulatorHosts?.[n],sM=n=>{const e=iM(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},jS=()=>i0()?.config;class rM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function s0(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aM(n){return(await fetch(n,{credentials:"include"})).ok}function oM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xh(JSON.stringify(t)),Xh(JSON.stringify(u)),""].join(".")}const ic={};function lM(){const n={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?n.emulator.push(e):n.prod.push(e);return n}function cM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $b=!1;function uM(n,e){if(typeof window>"u"||typeof document>"u"||!s0(window.location.host)||ic[n]===e||ic[n]||$b)return;ic[n]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=lM().prod.length>0;function u(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{$b=!0,u()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=cM(s),C=t("text"),M=document.getElementById(C)||document.createElement("span"),L=t("learnmore"),O=document.getElementById(L)||document.createElement("a"),Q=t("preprendIcon"),ee=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const B=S.element;d(B),y(O,L);const re=g();m(ee,Q),B.append(ee,M,O,re),document.body.appendChild(B)}l?(M.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function hM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fM(){const n=i0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dM(){return!fM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pM(){try{return typeof indexedDB=="object"}catch{return!1}}function mM(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const gM="FirebaseError";class No extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=gM,Object.setPrototypeOf(this,No.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,OS.prototype.create)}}class OS{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?yM(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new No(a,d,s)}}function yM(n,e){return n.replace(vM,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const vM=/\{\$([^}]+)}/g;function Zh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(Kb(l)&&Kb(u)){if(!Zh(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Kb(n){return n!==null&&typeof n=="object"}function _s(n){return n&&n._delegate?n._delegate:n}class pc{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class _M{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new rM;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xM(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bM(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bM(n){return n===ea?void 0:n}function xM(n){return n.instantiationMode==="EAGER"}class TM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _M(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const SM={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},EM=$e.INFO,CM={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},AM=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=CM[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class LS{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=AM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const RM=(n,e)=>e.some(t=>n instanceof t);let Yb,Qb;function wM(){return Yb||(Yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DM(){return Qb||(Qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,Zm=new WeakMap,BS=new WeakMap,cm=new WeakMap,r0=new WeakMap;function MM(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(or(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zS.set(t,n)}).catch(()=>{}),r0.set(e,n),e}function NM(n){if(Zm.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Zm.set(n,e)}let Wm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return or(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kM(n){Wm=n(Wm)}function VM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(um(this),e,...t);return BS.set(s,e.sort?e.sort():[e]),or(s)}:DM().includes(n)?function(...e){return n.apply(um(this),e),or(zS.get(this))}:function(...e){return or(n.apply(um(this),e))}}function IM(n){return typeof n=="function"?VM(n):(n instanceof IDBTransaction&&NM(n),RM(n,wM())?new Proxy(n,Wm):n)}function or(n){if(n instanceof IDBRequest)return MM(n);if(cm.has(n))return cm.get(n);const e=IM(n);return e!==n&&(cm.set(n,e),r0.set(e,n)),e}const um=n=>r0.get(n);function PM(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),d=or(u);return s&&u.addEventListener("upgradeneeded",m=>{s(or(u.result),m.oldVersion,m.newVersion,or(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jM=["get","getKey","getAll","getAllKeys","count"],OM=["put","add","delete","clear"],hm=new Map;function Xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=OM.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||jM.includes(t)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return hm.set(e,l),l}kM(n=>({...n,get:(e,t,s)=>Xb(e,t)||n.get(e,t,s),has:(e,t)=>!!Xb(e,t)||n.has(e,t)}));class LM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zM(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function zM(n){return n.getComponent()?.type==="VERSION"}const Jm="@firebase/app",Zb="0.14.8";const bs=new LS("@firebase/app"),BM="@firebase/app-compat",UM="@firebase/analytics-compat",FM="@firebase/analytics",HM="@firebase/app-check-compat",qM="@firebase/app-check",GM="@firebase/auth",$M="@firebase/auth-compat",KM="@firebase/database",YM="@firebase/data-connect",QM="@firebase/database-compat",XM="@firebase/functions",ZM="@firebase/functions-compat",WM="@firebase/installations",JM="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",iN="@firebase/performance-compat",sN="@firebase/remote-config",rN="@firebase/remote-config-compat",aN="@firebase/storage",oN="@firebase/storage-compat",lN="@firebase/firestore",cN="@firebase/ai",uN="@firebase/firestore-compat",hN="firebase",fN="12.9.0";const eg="[DEFAULT]",dN={[Jm]:"fire-core",[BM]:"fire-core-compat",[FM]:"fire-analytics",[UM]:"fire-analytics-compat",[qM]:"fire-app-check",[HM]:"fire-app-check-compat",[GM]:"fire-auth",[$M]:"fire-auth-compat",[KM]:"fire-rtdb",[YM]:"fire-data-connect",[QM]:"fire-rtdb-compat",[XM]:"fire-fn",[ZM]:"fire-fn-compat",[WM]:"fire-iid",[JM]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[iN]:"fire-perf-compat",[sN]:"fire-rc",[rN]:"fire-rc-compat",[aN]:"fire-gcs",[oN]:"fire-gcs-compat",[lN]:"fire-fst",[uN]:"fire-fst-compat",[cN]:"fire-vertex","fire-js":"fire-js",[hN]:"fire-js-all"};const Wh=new Map,pN=new Map,tg=new Map;function Wb(n,e){try{n.container.addComponent(e)}catch(t){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jh(n){const e=n.name;if(tg.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,n);for(const t of Wh.values())Wb(t,n);for(const t of pN.values())Wb(t,n);return!0}function mN(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gN(n){return n==null?!1:n.settings!==void 0}const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new OS("app","Firebase",yN);class vN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const _N=fN;function US(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:eg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw lr.create("bad-app-name",{appName:String(a)});if(t||(t=jS()),!t)throw lr.create("no-options");const l=Wh.get(a);if(l){if(Zh(t,l.options)&&Zh(s,l.config))return l;throw lr.create("duplicate-app",{appName:a})}const u=new TM(a);for(const m of tg.values())u.addComponent(m);const d=new vN(t,s,u);return Wh.set(a,d),d}function bN(n=eg){const e=Wh.get(n);if(!e&&n===eg&&jS())return US();if(!e)throw lr.create("no-app",{appName:n});return e}function go(n,e,t){let s=dN[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}Jh(new pc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xN="firebase-heartbeat-database",TN=1,mc="firebase-heartbeat-store";let fm=null;function FS(){return fm||(fm=PM(xN,TN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),fm}async function SN(n){try{const t=(await FS()).transaction(mc),s=await t.objectStore(mc).get(HS(n));return await t.done,s}catch(e){if(e instanceof No)bs.warn(e.message);else{const t=lr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(t.message)}}}async function Jb(n,e){try{const s=(await FS()).transaction(mc,"readwrite");await s.objectStore(mc).put(e,HS(n)),await s.done}catch(t){if(t instanceof No)bs.warn(t.message);else{const s=lr.create("idb-set",{originalErrorMessage:t?.message});bs.warn(s.message)}}}function HS(n){return`${n.name}!${n.options.appId}`}const EN=1024,CN=30;class AN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=e2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>CN){const a=DN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e2(),{heartbeatsToSend:t,unsentEntries:s}=RN(this._heartbeatsCache.heartbeats),a=Xh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return bs.warn(e),""}}}function e2(){return new Date().toISOString().substring(0,10)}function RN(n,e=EN){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),t2(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),t2(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class wN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pM()?mM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function t2(n){return Xh(JSON.stringify({version:2,heartbeats:n})).length}function DN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function MN(n){Jh(new pc("platform-logger",e=>new LM(e),"PRIVATE")),Jh(new pc("heartbeat",e=>new AN(e),"PRIVATE")),go(Jm,Zb,n),go(Jm,Zb,"esm2020"),go("fire-js","")}MN("");var NN="firebase",kN="12.9.0";go(NN,kN,"app");var n2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,qS;(function(){var n;function e(D,A){function w(){}w.prototype=A.prototype,D.F=A.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(I,V,z){for(var N=Array(arguments.length-2),me=2;me<arguments.length;me++)N[me-2]=arguments[me];return A.prototype[V].apply(I,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,w){w||(w=0);const I=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)I[V]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(V=0;V<16;++V)I[V]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=D.g[0],w=D.g[1],V=D.g[2];let z=D.g[3],N;N=A+(z^w&(V^z))+I[0]+3614090360&4294967295,A=w+(N<<7&4294967295|N>>>25),N=z+(V^A&(w^V))+I[1]+3905402710&4294967295,z=A+(N<<12&4294967295|N>>>20),N=V+(w^z&(A^w))+I[2]+606105819&4294967295,V=z+(N<<17&4294967295|N>>>15),N=w+(A^V&(z^A))+I[3]+3250441966&4294967295,w=V+(N<<22&4294967295|N>>>10),N=A+(z^w&(V^z))+I[4]+4118548399&4294967295,A=w+(N<<7&4294967295|N>>>25),N=z+(V^A&(w^V))+I[5]+1200080426&4294967295,z=A+(N<<12&4294967295|N>>>20),N=V+(w^z&(A^w))+I[6]+2821735955&4294967295,V=z+(N<<17&4294967295|N>>>15),N=w+(A^V&(z^A))+I[7]+4249261313&4294967295,w=V+(N<<22&4294967295|N>>>10),N=A+(z^w&(V^z))+I[8]+1770035416&4294967295,A=w+(N<<7&4294967295|N>>>25),N=z+(V^A&(w^V))+I[9]+2336552879&4294967295,z=A+(N<<12&4294967295|N>>>20),N=V+(w^z&(A^w))+I[10]+4294925233&4294967295,V=z+(N<<17&4294967295|N>>>15),N=w+(A^V&(z^A))+I[11]+2304563134&4294967295,w=V+(N<<22&4294967295|N>>>10),N=A+(z^w&(V^z))+I[12]+1804603682&4294967295,A=w+(N<<7&4294967295|N>>>25),N=z+(V^A&(w^V))+I[13]+4254626195&4294967295,z=A+(N<<12&4294967295|N>>>20),N=V+(w^z&(A^w))+I[14]+2792965006&4294967295,V=z+(N<<17&4294967295|N>>>15),N=w+(A^V&(z^A))+I[15]+1236535329&4294967295,w=V+(N<<22&4294967295|N>>>10),N=A+(V^z&(w^V))+I[1]+4129170786&4294967295,A=w+(N<<5&4294967295|N>>>27),N=z+(w^V&(A^w))+I[6]+3225465664&4294967295,z=A+(N<<9&4294967295|N>>>23),N=V+(A^w&(z^A))+I[11]+643717713&4294967295,V=z+(N<<14&4294967295|N>>>18),N=w+(z^A&(V^z))+I[0]+3921069994&4294967295,w=V+(N<<20&4294967295|N>>>12),N=A+(V^z&(w^V))+I[5]+3593408605&4294967295,A=w+(N<<5&4294967295|N>>>27),N=z+(w^V&(A^w))+I[10]+38016083&4294967295,z=A+(N<<9&4294967295|N>>>23),N=V+(A^w&(z^A))+I[15]+3634488961&4294967295,V=z+(N<<14&4294967295|N>>>18),N=w+(z^A&(V^z))+I[4]+3889429448&4294967295,w=V+(N<<20&4294967295|N>>>12),N=A+(V^z&(w^V))+I[9]+568446438&4294967295,A=w+(N<<5&4294967295|N>>>27),N=z+(w^V&(A^w))+I[14]+3275163606&4294967295,z=A+(N<<9&4294967295|N>>>23),N=V+(A^w&(z^A))+I[3]+4107603335&4294967295,V=z+(N<<14&4294967295|N>>>18),N=w+(z^A&(V^z))+I[8]+1163531501&4294967295,w=V+(N<<20&4294967295|N>>>12),N=A+(V^z&(w^V))+I[13]+2850285829&4294967295,A=w+(N<<5&4294967295|N>>>27),N=z+(w^V&(A^w))+I[2]+4243563512&4294967295,z=A+(N<<9&4294967295|N>>>23),N=V+(A^w&(z^A))+I[7]+1735328473&4294967295,V=z+(N<<14&4294967295|N>>>18),N=w+(z^A&(V^z))+I[12]+2368359562&4294967295,w=V+(N<<20&4294967295|N>>>12),N=A+(w^V^z)+I[5]+4294588738&4294967295,A=w+(N<<4&4294967295|N>>>28),N=z+(A^w^V)+I[8]+2272392833&4294967295,z=A+(N<<11&4294967295|N>>>21),N=V+(z^A^w)+I[11]+1839030562&4294967295,V=z+(N<<16&4294967295|N>>>16),N=w+(V^z^A)+I[14]+4259657740&4294967295,w=V+(N<<23&4294967295|N>>>9),N=A+(w^V^z)+I[1]+2763975236&4294967295,A=w+(N<<4&4294967295|N>>>28),N=z+(A^w^V)+I[4]+1272893353&4294967295,z=A+(N<<11&4294967295|N>>>21),N=V+(z^A^w)+I[7]+4139469664&4294967295,V=z+(N<<16&4294967295|N>>>16),N=w+(V^z^A)+I[10]+3200236656&4294967295,w=V+(N<<23&4294967295|N>>>9),N=A+(w^V^z)+I[13]+681279174&4294967295,A=w+(N<<4&4294967295|N>>>28),N=z+(A^w^V)+I[0]+3936430074&4294967295,z=A+(N<<11&4294967295|N>>>21),N=V+(z^A^w)+I[3]+3572445317&4294967295,V=z+(N<<16&4294967295|N>>>16),N=w+(V^z^A)+I[6]+76029189&4294967295,w=V+(N<<23&4294967295|N>>>9),N=A+(w^V^z)+I[9]+3654602809&4294967295,A=w+(N<<4&4294967295|N>>>28),N=z+(A^w^V)+I[12]+3873151461&4294967295,z=A+(N<<11&4294967295|N>>>21),N=V+(z^A^w)+I[15]+530742520&4294967295,V=z+(N<<16&4294967295|N>>>16),N=w+(V^z^A)+I[2]+3299628645&4294967295,w=V+(N<<23&4294967295|N>>>9),N=A+(V^(w|~z))+I[0]+4096336452&4294967295,A=w+(N<<6&4294967295|N>>>26),N=z+(w^(A|~V))+I[7]+1126891415&4294967295,z=A+(N<<10&4294967295|N>>>22),N=V+(A^(z|~w))+I[14]+2878612391&4294967295,V=z+(N<<15&4294967295|N>>>17),N=w+(z^(V|~A))+I[5]+4237533241&4294967295,w=V+(N<<21&4294967295|N>>>11),N=A+(V^(w|~z))+I[12]+1700485571&4294967295,A=w+(N<<6&4294967295|N>>>26),N=z+(w^(A|~V))+I[3]+2399980690&4294967295,z=A+(N<<10&4294967295|N>>>22),N=V+(A^(z|~w))+I[10]+4293915773&4294967295,V=z+(N<<15&4294967295|N>>>17),N=w+(z^(V|~A))+I[1]+2240044497&4294967295,w=V+(N<<21&4294967295|N>>>11),N=A+(V^(w|~z))+I[8]+1873313359&4294967295,A=w+(N<<6&4294967295|N>>>26),N=z+(w^(A|~V))+I[15]+4264355552&4294967295,z=A+(N<<10&4294967295|N>>>22),N=V+(A^(z|~w))+I[6]+2734768916&4294967295,V=z+(N<<15&4294967295|N>>>17),N=w+(z^(V|~A))+I[13]+1309151649&4294967295,w=V+(N<<21&4294967295|N>>>11),N=A+(V^(w|~z))+I[4]+4149444226&4294967295,A=w+(N<<6&4294967295|N>>>26),N=z+(w^(A|~V))+I[11]+3174756917&4294967295,z=A+(N<<10&4294967295|N>>>22),N=V+(A^(z|~w))+I[2]+718787259&4294967295,V=z+(N<<15&4294967295|N>>>17),N=w+(z^(V|~A))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,A){A===void 0&&(A=D.length);const w=A-this.blockSize,I=this.C;let V=this.h,z=0;for(;z<A;){if(V==0)for(;z<=w;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<A;)if(I[V++]=D.charCodeAt(z++),V==this.blockSize){a(this,I),V=0;break}}else for(;z<A;)if(I[V++]=D[z++],V==this.blockSize){a(this,I),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)D[A++]=this.g[w]>>>I&255;return D};function l(D,A){var w=d;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=A(D)}function u(D,A){this.h=A;const w=[];let I=!0;for(let V=D.length-1;V>=0;V--){const z=D[V]|0;I&&z==A||(w[V]=z,I=!1)}this.g=w}var d={};function m(D){return-128<=D&&D<128?l(D,function(A){return new u([A|0],A<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return O(g(-D));const A=[];let w=1;for(let I=0;D>=w;I++)A[I]=D/w|0,w*=4294967296;return new u(A,0)}function y(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return O(y(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(A,8));let I=b;for(let z=0;z<D.length;z+=8){var V=Math.min(8,D.length-z);const N=parseInt(D.substring(z,z+V),A);V<8?(V=g(Math.pow(A,V)),I=I.j(V).add(g(N))):(I=I.j(w),I=I.add(g(N)))}return I}var b=m(0),S=m(1),C=m(16777216);n=u.prototype,n.m=function(){if(L(this))return-O(this).m();let D=0,A=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);D+=(I>=0?I:4294967296+I)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(L(this))return"-"+O(this).toString(D);const A=g(Math.pow(D,6));var w=this;let I="";for(;;){const V=re(w,A).g;w=Q(w,V.j(A));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=V,M(w))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function L(D){return D.h==-1}n.l=function(D){return D=Q(this,D),L(D)?-1:M(D)?0:1};function O(D){const A=D.g.length,w=[];for(let I=0;I<A;I++)w[I]=~D.g[I];return new u(w,~D.h).add(S)}n.abs=function(){return L(this)?O(this):this},n.add=function(D){const A=Math.max(this.g.length,D.g.length),w=[];let I=0;for(let V=0;V<=A;V++){let z=I+(this.i(V)&65535)+(D.i(V)&65535),N=(z>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);I=N>>>16,z&=65535,N&=65535,w[V]=N<<16|z}return new u(w,w[w.length-1]&-2147483648?-1:0)};function Q(D,A){return D.add(O(A))}n.j=function(D){if(M(this)||M(D))return b;if(L(this))return L(D)?O(this).j(O(D)):O(O(this).j(D));if(L(D))return O(this.j(O(D)));if(this.l(C)<0&&D.l(C)<0)return g(this.m()*D.m());const A=this.g.length+D.g.length,w=[];for(var I=0;I<2*A;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<D.g.length;V++){const z=this.i(I)>>>16,N=this.i(I)&65535,me=D.i(V)>>>16,Ie=D.i(V)&65535;w[2*I+2*V]+=N*Ie,ee(w,2*I+2*V),w[2*I+2*V+1]+=z*Ie,ee(w,2*I+2*V+1),w[2*I+2*V+1]+=N*me,ee(w,2*I+2*V+1),w[2*I+2*V+2]+=z*me,ee(w,2*I+2*V+2)}for(D=0;D<A;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=A;D<2*A;D++)w[D]=0;return new u(w,0)};function ee(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function B(D,A){this.g=D,this.h=A}function re(D,A){if(M(A))throw Error("division by zero");if(M(D))return new B(b,b);if(L(D))return A=re(O(D),A),new B(O(A.g),O(A.h));if(L(A))return A=re(D,O(A)),new B(O(A.g),A.h);if(D.g.length>30){if(L(D)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var w=S,I=A;I.l(D)<=0;)w=le(w),I=le(I);var V=he(w,1),z=he(I,1);for(I=he(I,2),w=he(w,2);!M(I);){var N=z.add(I);N.l(D)<=0&&(V=V.add(w),z=N),I=he(I,1),w=he(w,1)}return A=Q(D,V.j(A)),new B(V,A)}for(V=b;D.l(A)>=0;){for(w=Math.max(1,Math.floor(D.m()/A.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=g(w),N=z.j(A);L(N)||N.l(D)>0;)w-=I,z=g(w),N=z.j(A);M(z)&&(z=S),V=V.add(z),D=Q(D,N)}return new B(V,D)}n.B=function(D){return re(this,D).h},n.and=function(D){const A=Math.max(this.g.length,D.g.length),w=[];for(let I=0;I<A;I++)w[I]=this.i(I)&D.i(I);return new u(w,this.h&D.h)},n.or=function(D){const A=Math.max(this.g.length,D.g.length),w=[];for(let I=0;I<A;I++)w[I]=this.i(I)|D.i(I);return new u(w,this.h|D.h)},n.xor=function(D){const A=Math.max(this.g.length,D.g.length),w=[];for(let I=0;I<A;I++)w[I]=this.i(I)^D.i(I);return new u(w,this.h^D.h)};function le(D){const A=D.g.length+1,w=[];for(let I=0;I<A;I++)w[I]=D.i(I)<<1|D.i(I-1)>>>31;return new u(w,D.h)}function he(D,A){const w=A>>5;A%=32;const I=D.g.length-w,V=[];for(let z=0;z<I;z++)V[z]=A>0?D.i(z+w)>>>A|D.i(z+w+1)<<32-A:D.i(z+w);return new u(V,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,cr=u}).apply(typeof n2<"u"?n2:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GS,Ql,$S,Vh,ng,KS,YS,QS;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function a(h,v){if(v)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var F=h[R];if(!(F in T))break e;T=T[F]}h=h[h.length-1],R=T[h],v=v(R),v!=R&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});var l=l||{},u=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,T){return h.call.apply(h.bind,arguments)}function g(h,v,T){return g=m,g.apply(null,arguments)}function y(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,F,X){for(var ce=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ce[Ne-2]=arguments[Ne];return v.prototype[F].apply(R,ce)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=h[R];return T}return[]}function M(h,v){for(let R=1;R<arguments.length;R++){const F=arguments[R];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=h.length||0;const X=F.length||0;h.length=T+X;for(let ce=0;ce<X;ce++)h[T+ce]=F[ce]}else h.push(F)}}class L{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(h){u.setTimeout(()=>{throw h},0)}function Q(){var h=D;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,T){const R=B.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new L(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,he=!1,D=new ee,A=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(w)}};function w(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){O(T)}var v=B;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}he=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function me(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(me,V),me.prototype.init=function(h,v){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(h,v,T,R,F){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=F,this.key=++Y,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,v,T){for(const R in h)v.call(T,h[R],R,h)}function je(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function P(h){const v={};for(const T in h)v[T]=h[T];return v}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(h,v){let T,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(T in R)h[T]=R[T];for(let X=0;X<q.length;X++)T=q[X],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function ne(h){this.src=h,this.g={},this.h=0}ne.prototype.add=function(h,v,T,R,F){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=de(h,v,R,F);return ce>-1?(v=h[ce],T||(v.fa=!1)):(v=new oe(v,this.src,X,!!R,F),v.fa=T,h.push(v)),v};function ue(h,v){const T=v.type;if(T in h.g){var R=h.g[T],F=Array.prototype.indexOf.call(R,v,void 0),X;(X=F>=0)&&Array.prototype.splice.call(R,F,1),X&&(fe(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function de(h,v,T,R){for(let F=0;F<h.length;++F){const X=h[F];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==R)return F}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Oe={};function Te(h,v,T,R,F){if(Array.isArray(v)){for(let X=0;X<v.length;X++)Te(h,v[X],T,R,F);return null}return T=Lo(T),h&&h[Ie]?h.J(v,T,d(R)?!!R.capture:!1,F):Ze(h,v,T,!1,R,F)}function Ze(h,v,T,R,F,X){if(!v)throw Error("Invalid event type");const ce=d(F)?!!F.capture:!!F;let Ne=Tr(h);if(Ne||(h[ve]=Ne=new ne(h)),T=Ne.add(v,T,R,ce,X),T.proxy)return T;if(R=at(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)z||(F=ce),F===void 0&&(F=!1),h.addEventListener(v.toString(),R,F);else if(h.attachEvent)h.attachEvent(Un(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function at(){function h(T){return v.call(h.src,h.listener,T)}const v=jo;return h}function Ct(h,v,T,R,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ct(h,v[X],T,R,F);else R=d(R)?!!R.capture:!!R,T=Lo(T),h&&h[Ie]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],T=de(v,T,R,F),T>-1&&(fe(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Tr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=de(v,T,R,F)),(T=h>-1?v[h]:null)&&Dn(T))}function Dn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ie])ue(v.i,h);else{var T=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(T,R,h.capture):v.detachEvent?v.detachEvent(Un(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Tr(v))?(ue(T,h),T.h==0&&(T.src=null,v[ve]=null)):fe(h)}}}function Un(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function jo(h,v){if(h.da)h=!0;else{v=new me(v,this);const T=h.listener,R=h.ha||h.src;h.fa&&Dn(h),h=T.call(R,v)}return h}function Tr(h){return h=h[ve],h instanceof ne?h:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(h){return typeof h=="function"?h:(h[Oo]||(h[Oo]=function(v){return h.handleEvent(v)}),h[Oo])}function At(){I.call(this),this.i=new ne(this),this.M=this,this.G=null}b(At,I),At.prototype[Ie]=!0,At.prototype.removeEventListener=function(h,v,T,R){Ct(this,h,v,T,R)};function Bt(h,v){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var F=v;v=new V(R,h),J(v,F)}F=!0;let X,ce;if(T)for(ce=T.length-1;ce>=0;ce--)X=v.g=T[ce],F=Ss(X,R,!0,v)&&F;if(X=v.g=h,F=Ss(X,R,!0,v)&&F,F=Ss(X,R,!1,v)&&F,T)for(ce=0;ce<T.length;ce++)X=v.g=T[ce],F=Ss(X,R,!1,v)&&F}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let R=0;R<T.length;R++)fe(T[R]);delete h.g[v],h.h--}}this.G=null},At.prototype.J=function(h,v,T,R){return this.i.add(String(h),v,!1,T,R)},At.prototype.K=function(h,v,T,R){return this.i.add(String(h),v,!0,T,R)};function Ss(h,v,T,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let X=0;X<v.length;++X){const ce=v[X];if(ce&&!ce.da&&ce.capture==T){const Ne=ce.listener,xt=ce.ha||ce.src;ce.fa&&ue(h.i,ce),F=Ne.call(xt,R)!==!1&&F}}return F&&!R.defaultPrevented}function Lf(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Vc(h){h.g=Lf(()=>{h.g=null,h.i&&(h.i=!1,Vc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class dn extends I{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){I.call(this),this.h=h,this.g={}}b(Sr,I);var zo=[];function Bo(h){Re(h.g,function(v,T){this.g.hasOwnProperty(T)&&Dn(v)},h),h.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Bo(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=u.JSON.stringify,zf=u.JSON.parse,Ic=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Pc(){}function jc(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){V.call(this,"d")}b(Qt,V);function Fn(){V.call(this,"c")}b(Fn,V);var bt={},Oc=null;function ma(){return Oc=Oc||new At}bt.Ia="serverreachability";function Lc(h){V.call(this,bt.Ia,h)}b(Lc,V);function xi(h){const v=ma();Bt(v,new Lc(v))}bt.STAT_EVENT="statevent";function Er(h,v){V.call(this,bt.STAT_EVENT,h),this.stat=v}b(Er,V);function Rt(h){const v=ma();Bt(v,new Er(v,h))}bt.Ja="timingevent";function Ti(h,v){V.call(this,bt.Ja,h),this.size=v}b(Ti,V);function Si(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Bf(h,v,T,R,F,X){h.info(function(){if(h.g)if(X){var ce="",Ne=X.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var xt=Ne[Qe].split("=");if(xt.length>1){const dt=xt[0];xt=xt[1];const $n=dt.split("_");ce=$n.length>=2&&$n[1]=="type"?ce+(dt+"="+xt+"&"):ce+(dt+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+v+`
`+T+`
`+ce})}function zc(h,v,T,R,F,X,ce){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+v+`
`+T+`
`+X+" "+ce})}function Ei(h,v,T,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Uf(h,T)+(R?" "+R:"")})}function Cr(h,v){h.info(function(){return"TIMEOUT: "+v})}ri.prototype.info=function(){};function Uf(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return Es(X)}catch{return v}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Rr(){}b(Rr,Pc),Rr.prototype.g=function(){return new XMLHttpRequest},Fo=new Rr;function Wi(h){return encodeURIComponent(String(h))}function Bc(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function ai(h,v,T,R){this.j=h,this.i=v,this.l=T,this.S=R||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var wt={},Gt={};function Ci(h,v,T){h.M=1,h.A=wr(Mt(v)),h.u=T,h.R=!0,ga(h,null)}function ga(h,v){h.F=Date.now(),Ai(h),h.B=Mt(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),ba(T.i,"t",R),h.C=0,T=h.j.L,h.h=new oi,h.g=tu(h.j,T?v:null,!h.u),h.P>0&&(h.O=new dn(g(h.Y,h,h.g),h.P)),v=h.V,T=h.g,R=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(zo[0]=F.toString()),F=zo);for(let X=0;X<F.length;X++){const ce=Te(T,F[X],R||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),xi(),Bf(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const v=this.O;v&&ui(h)==3?v.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=ui(this.g),xt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ne!=4||xt==7||(xt==8||Qe<=0?xi(3):xi(2)),Ri(this);var v=this.g.ca();this.X=v;var T=Ff(this);if(this.o=v==200,zc(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var X=R;break t}}X=null}if(h=X)Ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,Rt(12),Mn(this),Hn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<T.length;)if(dt=Fc(this,T),dt==Gt){Ne==4&&(this.m=4,Rt(14),h=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==wt){this.m=4,Rt(15),Ei(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ei(this.i,this.l,dt,null),wi(this,dt);if(Uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ei(this.i,this.l,T,"[Invalid Chunked Response]"),Mn(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),il(ce),ce.P=!0,Rt(11))}}else Ei(this.i,this.l,T,null),wi(this,T);Ne==4&&Mn(this),this.o&&!this.K&&(Ne==4?Zc(this.j,this):(this.o=!1,Ai(this)))}else es(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Mn(this),Hn(this)}}}catch{}};function Ff(h){if(!Uc(h))return h.g.la();const v=Xt(h.g);if(v==="")return"";let T="";const R=v.length,F=ui(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Mn(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,T+=h.h.i.decode(v[X],{stream:!(F&&X==R-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function Uc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Fc(h,v){var T=h.C,R=v.indexOf(`
`,T);return R==-1?Gt:(T=Number(v.substring(T,R)),isNaN(T)?wt:(R+=1,R+T>v.length?Gt:(v=v.slice(R,R+T),h.C=R+T,v)))}ai.prototype.cancel=function(){this.K=!0,Mn(this)};function Ai(h){h.T=Date.now()+h.H,ya(h,h.H)}function ya(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(g(h.aa,h),v)}function Ri(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(xi(),Rt(17)),Mn(this),this.m=2,Hn(this)):ya(this,this.T-h)};function Hn(h){h.j.I==0||h.K||Zc(h.j,h)}function Mn(h){Ri(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Bo(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function wi(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||Mi(T.h,h))){if(!h.L&&Mi(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ca(T),ks(T);else break e;Pr(T),Rt(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Si(g(T.Va,T),6e3));Di(T.h)<=1&&T.ta&&(T.ta=void 0)}else ji(T,11)}else if((h.L||T.g==h)&&Ca(T),!N(v))for(F=T.Ba.g.parse(v),v=0;v<F.length;v++){let Qe=F[v];const dt=Qe[0];if(!(dt<=T.K))if(T.K=dt,Qe=Qe[1],T.I==2)if(Qe[0]=="c"){T.M=Qe[1],T.ba=Qe[2];const $n=Qe[3];$n!=null&&(T.ka=$n,T.j.info("VER="+T.ka));const Oi=Qe[4];Oi!=null&&(T.za=Oi,T.j.info("SVER="+T.za));const hi=Qe[5];hi!=null&&typeof hi=="number"&&hi>0&&(R=1.5*hi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const fi=h.g;if(fi){const jr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var X=R.h;X.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Go(X,X.h),X.h=null))}if(R.G){const Aa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(R.wa=Aa,Je(R.J,R.G,Aa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ce=h;if(R.na=eu(R,R.L?R.ba:null,R.W),ce.L){$o(R.h,ce);var Ne=ce,xt=R.O;xt&&(Ne.H=xt),Ne.D&&(Ri(Ne),Ai(Ne)),R.g=ce}else Qc(R);T.i.length>0&&Pi(T)}else Qe[0]!="stop"&&Qe[0]!="close"||ji(T,7);else T.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ji(T,7):tl(T):Qe[0]!="noop"&&T.l&&T.l.qa(Qe),T.A=0)}}xi(4)}catch{}}var Dt=class{constructor(h,v){this.g=h,this.map=v}};function Ho(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Di(h){return h.h?1:h.g?h.g.size:0}function Mi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Go(h,v){h.g?h.g.add(v):h.h=v}function $o(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return C(h.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let F,X=null;R>=0?(F=h[T].substring(0,R),X=h[T].substring(R+1)):F=h[T],v(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Nn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Nn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.u),this.h=h.h,Yo(this,Kc(h.i)),this.m=h.m):h&&(v=String(h).match(Hc))?(this.l=!1,$t(this,v[1]||"",!0),this.o=Ni(v[2]||""),this.g=Ni(v[3]||"",!0),Cs(this,v[4]),this.h=Ni(v[5]||"",!0),Yo(this,v[6]||"",!0),this.m=Ni(v[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Nn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Dr(v,_a,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Dr(v,_a,!0),"@"),h.push(Wi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Dr(T,T.charAt(0)=="/"?Qo:qc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Dr(T,Gc)),h.join("")},Nn.prototype.resolve=function(h){const v=Mt(this);let T=!!h.j;T?$t(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var R=h.h;if(T)Cs(v,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var F=v.h.lastIndexOf("/");F!=-1&&(R=v.h.slice(0,F+1)+R)}if(F=R,F==".."||F==".")R="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){R=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let ce=0;ce<F.length;){const Ne=F[ce++];Ne=="."?R&&ce==F.length&&X.push(""):Ne==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ce==F.length&&X.push("")):(X.push(Ne),R=!0)}R=X.join("/")}else R=F}return T?v.h=R:T=h.i.toString()!=="",T?Yo(v,Kc(h.i)):T=!!h.m,T&&(v.m=h.m),v};function Mt(h){return new Nn(h)}function $t(h,v,T){h.j=T?Ni(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Yo(h,v,T){v instanceof Rs?(h.i=v,xa(h.i,h.l)):(T||(v=Dr(v,As)),h.i=new Rs(v,h.l))}function Je(h,v,T){h.i.set(v,T)}function wr(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ni(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Dr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,_n),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _a=/[#\/\?@]/g,qc=/[#\?:]/g,Qo=/[#\?]/g,As=/[#\?@]/g,Gc=/#/g;function Rs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&va(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Rs.prototype,n.add=function(h,v){bn(this),this.i=null,h=ws(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function $c(h,v){bn(h),v=ws(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Xo(h,v){return bn(h),v=ws(h,v),h.g.has(v)}n.forEach=function(h,v){bn(this),this.g.forEach(function(T,R){T.forEach(function(F){h.call(v,F,R,this)},this)},this)};function Zo(h,v){bn(h);let T=[];if(typeof v=="string")Xo(h,v)&&(T=T.concat(h.g.get(ws(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}n.set=function(h,v){return bn(this),this.i=null,h=ws(this,h),Xo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Zo(this,h),h.length>0?String(h[0]):v):v};function ba(h,v,T){$c(h,v),T.length>0&&(h.i=null,h.g.set(ws(h,v),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const F=Wi(T);T=Zo(this,T);for(let X=0;X<T.length;X++){let ce=F;T[X]!==""&&(ce+="="+Wi(T[X])),h.push(ce)}}return this.i=h.join("&")};function Kc(h){const v=new Rs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function ws(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function xa(h,v){v&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(T,R){const F=R.toLowerCase();R!=F&&($c(this,R),ba(this,F,T))},h)),h.j=v}function li(h,v){const T=new ri;if(u.Image){const R=new Image;R.onload=y(qn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=y(qn,T,"TestLoadImage: error",!1,v,R),R.onabort=y(qn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(qn,T,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Wo(h,v){const T=new ri,R=new AbortController,F=setTimeout(()=>{R.abort(),qn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(F),X.ok?qn(T,"TestPingServer: ok",!0,v):qn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),qn(T,"TestPingServer: error",!1,v)})}function qn(h,v,T,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(T)}catch{}}function Ds(){this.g=new Ic}function ki(h){this.i=h.Sb||null,this.h=h.ab||!1}b(ki,Pc),ki.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(h,v){At.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Mr,At),n=Mr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ci(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ms(this):ci(this),this.readyState==3&&Ta(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ms(this))},n.Na=function(h){this.g&&(this.response=h,Ms(this))},n.ga=function(){this.g&&Ms(this)};function Ms(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ci(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let v="";return Re(h,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Nr(h,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Gn(T),typeof h=="string"?T!=null&&Wi(T):Je(h,v,T))}function nt(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,At);var Vi=/^https?$/i,Jo=["POST","PUT"];n=nt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){kr(this,X);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)T.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())T.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),F=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Jo,v,void 0)>=0)||R||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of T)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){kr(this,X)}};function kr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,el(h),Ji(h)}function el(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Bt(this,"complete"),Bt(this,"abort"),Ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},n.Xa=function(){Vr(this)};function Vr(h){if(h.h&&typeof l<"u"){if(h.v&&ui(h)==4)setTimeout(h.Ca.bind(h),0);else if(Bt(h,"readystatechange"),ui(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=X===0){let ce=String(h.D).match(Hc)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),R=!Vi.test(ce?ce.toLowerCase():"")}T=R}if(T)Bt(h,"complete"),Bt(h,"success");else{h.o=6;try{var F=ui(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",el(h)}}finally{Ji(h)}}}}function Ji(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||Bt(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ui(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),zf(v)}};function Xt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function es(h){const v={};h=(h.g&&ui(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var T=Bc(h[R]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[F]||[];v[F]=X,X.push(T)}je(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ns(h){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(h&&h.concurrentRequestLimit),this.Ba=new Ds,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ns.prototype,n.ka=8,n.I=1,n.connect=function(h,v,T,R){Rt(0),this.W=h,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=eu(this,null,this.W),Pi(this)};function tl(h){if(Sa(h),h.I==3){var v=h.V++,T=Mt(h.J);if(Je(T,"SID",h.M),Je(T,"RID",v),Je(T,"TYPE","terminate"),Ir(h,T),v=new ai(h,h.j,v),v.M=2,v.A=wr(Mt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=tu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Jc(h)}function ks(h){h.g&&(il(h),h.g.cancel(),h.g=null)}function Sa(h){ks(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ca(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Pi(h){if(!qo(h.h)&&!h.m){h.m=!0;var v=h.Ea;le||A(),he||(le(),he=!0),D.add(v,h),h.D=0}}function Ea(h,v){return Di(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(g(h.Ea,h,v),Wc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ai(this,this.j,h);let X=this.o;if(this.U&&(X?(X=P(X),J(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Yc(this,F,v),T=Mt(this.J),Je(T,"RID",h),Je(T,"CVER",22),this.G&&Je(T,"X-HTTP-Session-Id",this.G),Ir(this,T),X&&(this.R?v="headers="+Wi(Gn(X))+"&"+v:this.u&&Nr(T,this.u,X)),Go(this.h,F),this.Ra&&Je(T,"TYPE","init"),this.S?(Je(T,"$req",v),Je(T,"SID","null"),F.U=!0,Ci(F,T,null)):Ci(F,T,v),this.I=2}}else this.I==3&&(h?nl(this,h):this.i.length==0||qo(this.h)||nl(this))};function nl(h,v){var T;v?T=v.l:T=h.V++;const R=Mt(h.J);Je(R,"SID",h.M),Je(R,"RID",T),Je(R,"AID",h.K),Ir(h,R),h.u&&h.o&&Nr(R,h.u,h.o),T=new ai(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Yc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Go(h.h,T),Ci(T,R,v)}function Ir(h,v){h.H&&Re(h.H,function(T,R){Je(v,R,T)}),h.l&&Re({},function(T,R){Je(v,R,T)})}function Yc(h,v,T){T=Math.min(h.i.length,T);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ne=-1;for(;;){const xt=["count="+T];Ne==-1?T>0?(Ne=F[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let Qe=!0;for(let dt=0;dt<T;dt++){var X=F[dt].g;const $n=F[dt].map;if(X-=Ne,X<0)Ne=Math.max(0,F[dt].g-100),Qe=!1;else try{X="req"+X+"_"||"";try{var ce=$n instanceof Map?$n:Object.entries($n);for(const[Oi,hi]of ce){let fi=hi;d(hi)&&(fi=Es(hi)),xt.push(X+Oi+"="+encodeURIComponent(fi))}}catch(Oi){throw xt.push(X+"type="+encodeURIComponent("_badmap")),Oi}}catch{R&&R($n)}}if(Qe){ce=xt.join("&");break e}}ce=void 0}return h=h.i.splice(0,T),v.G=h,ce}function Qc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;le||A(),he||(le(),he=!0),D.add(v,h),h.A=0}}function Pr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(g(h.Da,h),Wc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ks(this),Xc(this))};function il(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Xc(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Mt(h.na);Je(v,"RID","rpc"),Je(v,"SID",h.M),Je(v,"AID",h.K),Je(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(v,"TO",h.ia),Je(v,"TYPE","xmlhttp"),Ir(h,v),h.u&&h.o&&Nr(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=wr(Mt(v)),T.u=null,T.R=!0,ga(T,h)}n.Va=function(){this.C!=null&&(this.C=null,ks(this),Pr(this),Rt(19))};function Ca(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Zc(h,v){var T=null;if(h.g==v){Ca(h),il(h),h.g=null;var R=2}else if(Mi(h.h,v))T=v.G,$o(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;R=ma(),Bt(R,new Ti(R,T)),Pi(h)}else Qc(h);else if(F=v.m,F==3||F==0&&v.X>0||!(R==1&&Ea(h,v)||R==2&&Pr(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),F){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function Wc(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var T=g(h.bb,h),R=h.Ua;const F=!R;R=new Nn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(R,"https"),wr(R),F?li(R.toString(),T):Wo(R.toString(),T)}else Rt(2);h.I=0,h.l&&h.l.pa(v),Jc(h),Sa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Jc(h){if(h.I=0,h.ja=[],h.l){const v=Ko(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ja,v),M(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function eu(h,v,T){var R=T instanceof Nn?Mt(T):new Nn(T);if(R.g!="")v&&(R.g=v+"."+R.g),Cs(R,R.u);else{var F=u.location;R=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const X=new Nn(null);R&&$t(X,R),v&&(X.g=v),F&&Cs(X,F),T&&(X.h=T),R=X}return T=h.G,v=h.wa,T&&v&&Je(R,T,v),Je(R,"VER",h.ka),Ir(h,R),R}function tu(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new nt(new ki({ab:T})):new nt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}n=nu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vs(){}Vs.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){At.call(this),this.g=new Ns(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ts(this)}b(pn,At),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){tl(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Es(h),h=T);v.i.push(new Dt(v.Ya++,h)),v.I==3&&Pi(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,pn.Z.N.call(this)};function iu(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(iu,Qt);function su(){Fn.call(this),this.status=1}b(su,Fn);function ts(h){this.g=h}b(ts,nu),ts.prototype.ra=function(){Bt(this.g,"a")},ts.prototype.qa=function(h){Bt(this.g,new iu(h))},ts.prototype.pa=function(h){Bt(this.g,new su)},ts.prototype.oa=function(){Bt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,QS=function(){return new Vs},YS=function(){return ma()},KS=bt,ng={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Vh=Ar,Uo.COMPLETE="complete",$S=Uo,jc.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",At.prototype.listen=At.prototype.J,Ql=jc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,GS=nt}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let ko="12.9.0";function VN(n){ko=n}const oa=new LS("@firebase/firestore");function io(){return oa.logLevel}function pe(n,...e){if(oa.logLevel<=$e.DEBUG){const t=e.map(a0);oa.debug(`Firestore (${ko}): ${n}`,...t)}}function xs(n,...e){if(oa.logLevel<=$e.ERROR){const t=e.map(a0);oa.error(`Firestore (${ko}): ${n}`,...t)}}function la(n,...e){if(oa.logLevel<=$e.WARN){const t=e.map(a0);oa.warn(`Firestore (${ko}): ${n}`,...t)}}function a0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,XS(n,s,t)}function XS(n,e,t){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw xs(s),new Error(s)}function We(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||XS(e,a,s)}function Me(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends No{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ZS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class PN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ra,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ra)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new ZS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class ON{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ON(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new i2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class o0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=BN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Fe(n,e){return n<e?-1:n>e?1:0}function ig(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return dm(a)===dm(l)?Fe(a,l):dm(a)?1:-1}return Fe(n.length,e.length)}const UN=55296,FN=57343;function dm(n){const e=n.charCodeAt(0);return e>=UN&&e<=FN}function To(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}const s2="__name__";class Hi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Hi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const s=Hi.isNumericId(e),a=Hi.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Hi.extractNumericId(e).compare(Hi.extractNumericId(t)):ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class ht extends Hi{construct(e,t,s){return new ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const HN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Hi{construct(e,t,s){return new sn(e,t,s)}static isValidIdentifier(e){return HN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s2}static keyField(){return new sn([s2])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new xe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new xe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new xe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}function WS(n,e,t){if(!t)throw new xe(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qN(n,e,t,s){if(e===!0&&s===!0)throw new xe(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r2(n){if(!Ee.isDocumentKey(n))throw new xe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a2(n){if(Ee.isDocumentKey(n))throw new xe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function l0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=l0(n);throw new xe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function wc(n,e){if(!JS(n))throw new xe(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new xe(ae.INVALID_ARGUMENT,t);return!0}const o2=-62135596800,l2=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*l2);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<o2)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l2}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Lt("string",ft._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ft(0,0))}static max(){return new we(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function GN(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new dr(a,Ee.empty(),e)}function $N(n){return new dr(n.readTime,n.key,gc)}class dr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new dr(we.min(),Ee.empty(),gc)}static max(){return new dr(we.max(),Ee.empty(),gc)}}function KN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}const YN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==YN)throw n;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,s)=>{t(e)}))}static reject(e){return new se(((t,s)=>{s(e)}))}static waitFor(e){return new se(((t,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&t()}),(m=>s(m)))})),u=!0,l===a&&t()}))}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next((a=>a?se.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new se(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((y=>{u[g]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new se(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function XN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(n){return n.name==="IndexedDbTransactionError"}class bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;const c0=-1;function xf(n){return n==null}function ef(n){return n===0&&1/n==-1/0}function ZN(n){return typeof n=="number"&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const eE="";function WN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=c2(e)),e=JN(n.get(t),e);return c2(e)}function JN(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case eE:t+="";break;default:t+=l}}return t}function c2(n){return n+eE+""}function u2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function br(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new nn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h2(this.data.getIterator())}getIteratorFrom(e){return new h2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class h2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new qt(sn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nE("Invalid base64 string: "+l):l}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=ek.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}const iE="server_timestamp",sE="__type__",rE="__previous_value__",aE="__local_write_time__";function u0(n){return(n?.mapValue?.fields||{})[sE]?.stringValue===iE}function Tf(n){const e=n.mapValue.fields[rE];return u0(e)?Tf(e):e}function yc(n){const e=pr(n.mapValue.fields[aE].timestampValue);return new ft(e.seconds,e.nanos)}class tk{constructor(e,t,s,a,l,u,d,m,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=b}}const tf="(default)";class vc{constructor(e,t){this.projectId=e,this.database=t||tf}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}function nk(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new xe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(n.options.projectId,e)}const oE="__type__",ik="__max__",gh={mapValue:{}},lE="__vector__",nf="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u0(n)?4:rk(n)?9007199254740991:sk(n)?10:11:Ae(28295,{value:n})}function Xi(n,e){if(n===e)return!0;const t=gr(n);if(t!==gr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yc(n).isEqual(yc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pr(a.timestampValue),d=pr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return mr(a.bytesValue).isEqual(mr(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Et(a.doubleValue),d=Et(l.doubleValue);return u===d?ef(u)===ef(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return To(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(u2(u)!==u2(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Xi(u[m],d[m])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function _c(n,e){return(n.values||[]).find((t=>Xi(t,e)))!==void 0}function So(n,e){if(n===e)return 0;const t=gr(n),s=gr(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Et(l.integerValue||l.doubleValue),m=Et(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return f2(n.timestampValue,e.timestampValue);case 4:return f2(yc(n),yc(e));case 5:return ig(n.stringValue,e.stringValue);case 6:return(function(l,u){const d=mr(l),m=mr(u);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Fe(d[g],m[g]);if(y!==0)return y}return Fe(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=Fe(Et(l.latitude),Et(u.latitude));return d!==0?d:Fe(Et(l.longitude),Et(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return d2(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},g=d[nf]?.arrayValue,y=m[nf]?.arrayValue,b=Fe(g?.values?.length||0,y?.values?.length||0);return b!==0?b:d2(g,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===gh.mapValue&&u===gh.mapValue)return 0;if(l===gh.mapValue)return 1;if(u===gh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const S=ig(m[b],y[b]);if(S!==0)return S;const C=So(d[m[b]],g[y[b]]);if(C!==0)return C}return Fe(m.length,y.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function f2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=pr(n),s=pr(e),a=Fe(t.seconds,s.seconds);return a!==0?a:Fe(t.nanos,s.nanos)}function d2(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=So(t[a],s[a]);if(l)return l}return Fe(t.length,s.length)}function Eo(n){return sg(n)}function sg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=pr(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return mr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=sg(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${sg(t.fields[u])}`;return a+"}"})(n.mapValue):Ae(61005,{value:n})}function Ih(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(n);return e?16+Ih(e):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Ih(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return br(s.fields,((l,u)=>{a+=l.length+Ih(u)})),a})(n.mapValue);default:throw Ae(13486,{value:n})}}function rg(n){return!!n&&"integerValue"in n}function h0(n){return!!n&&"arrayValue"in n}function p2(n){return!!n&&"nullValue"in n}function m2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function sk(n){return(n?.mapValue?.fields||{})[oE]?.stringValue===lE}function sc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return br(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=sc(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sc(n.arrayValue.values[t]);return e}return{...n}}function rk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ik}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(t)}setAll(e){let t=sn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}u?s[d.lastSegment()]=sc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){br(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new wn(sc(this.value))}}function cE(n){const e=[];return br(n.fields,((t,s)=>{const a=new sn([t]);if(Ph(s)){const l=cE(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Bn(e)}class un{constructor(e,t,s,a,l,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),wn.empty(),0)}static newFoundDocument(e,t,s,a){return new un(e,1,t,we.min(),s,a,0)}static newNoDocument(e,t){return new un(e,2,t,we.min(),we.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,we.min(),we.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,t){this.position=e,this.inclusive=t}}function g2(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(u.referenceValue),t.key):s=So(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function y2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}class rf{constructor(e,t="asc"){this.field=e,this.dir=t}}function ak(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uE{}class Ht extends uE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lk(e,t,s):t==="array-contains"?new hk(e,s):t==="in"?new fk(e,s):t==="not-in"?new dk(e,s):t==="array-contains-any"?new pk(e,s):new Ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ck(e,s):new uk(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(So(t,this.value)):t!==null&&gr(this.value)===gr(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends uE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zi(e,t)}matches(e){return hE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function fE(n){return ok(n)&&hE(n)}function ok(n){for(const e of n.filters)if(e instanceof Zi)return!1;return!0}function ag(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+Eo(n.value);if(fE(n))return n.filters.map((e=>ag(e))).join(",");{const e=n.filters.map((t=>ag(t))).join(",");return`${n.op}(${e})`}}function dE(n,e){return n instanceof Ht?(function(s,a){return a instanceof Ht&&s.op===a.op&&s.field.isEqual(a.field)&&Xi(s.value,a.value)})(n,e):n instanceof Zi?(function(s,a){return a instanceof Zi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&dE(u,a.filters[d])),!0):!1})(n,e):void Ae(19439)}function pE(n){return n instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${Eo(t.value)}`})(n):n instanceof Zi?(function(t){return t.op.toString()+" {"+t.getFilters().map(pE).join(" ,")+"}"})(n):"Filter"}class lk extends Ht{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class ck extends Ht{constructor(e,t){super(e,"in",t),this.keys=mE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uk extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=mE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mE(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class hk extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return h0(t)&&_c(t.arrayValue,this.value)}}class fk extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class dk extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_c(this.value.arrayValue,t)}}class pk extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!h0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>_c(this.value.arrayValue,s)))}}class mk{constructor(e,t=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function v2(n,e=null,t=[],s=[],a=null,l=null,u=null){return new mk(n,e,t,s,a,l,u)}function f0(n){const e=Me(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ag(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=t}return e.Te}function d0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ak(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y2(n.startAt,e.startAt)&&y2(n.endAt,e.endAt)}function og(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Sf{constructor(e,t=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gk(n,e,t,s,a,l,u,d){return new Sf(n,e,t,s,a,l,u,d)}function p0(n){return new Sf(n)}function _2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yk(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function vk(n){return n.collectionGroup!==null}function rc(n){const e=Me(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new qt(sn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new rf(l,s))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new rf(sn.keyField(),s))}return e.Ie}function $i(n){const e=Me(n);return e.Ee||(e.Ee=_k(e,rc(n))),e.Ee}function _k(n,e){if(n.limitType==="F")return v2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new rf(a.field,l)}));const t=n.endAt?new sf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new sf(n.startAt.position,n.startAt.inclusive):null;return v2(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function lg(n,e,t){return new Sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ef(n,e){return d0($i(n),$i(e))&&n.limitType===e.limitType}function gE(n){return`${f0($i(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>pE(a))).join(", ")}]`),xf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Eo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Eo(a))).join(",")),`Target(${s})`})($i(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of rc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const g=g2(u,d,m);return u.inclusive?g<=0:g<0})(s.startAt,rc(s),a)||s.endAt&&!(function(u,d,m){const g=g2(u,d,m);return u.inclusive?g>=0:g>0})(s.endAt,rc(s),a))})(n,e)}function bk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yE(n){return(e,t)=>{let s=!1;for(const a of rc(n)){const l=xk(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function xk(n,e,t){const s=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(l,u,d){const m=u.data.field(l),g=d.data.field(l);return m!==null&&g!==null?So(m,g):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}const Tk=new gt(Ee.comparator);function Ts(){return Tk}const vE=new gt(Ee.comparator);function Xl(...n){let e=vE;for(const t of n)e=e.insert(t.key,t);return e}function _E(n){let e=vE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ia(){return ac()}function bE(){return ac()}function ac(){return new da((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Sk=new gt(Ee.comparator),Ek=new qt(Ee.comparator);function He(...n){let e=Ek;for(const t of n)e=e.add(t);return e}const Ck=new qt(Fe);function Ak(){return Ck}function m0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function xE(n){return{integerValue:""+n}}function Rk(n,e){return ZN(e)?xE(e):m0(n,e)}class Af{constructor(){this._=void 0}}function wk(n,e,t){return n instanceof bc?(function(a,l){const u={fields:{[sE]:{stringValue:iE},[aE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&u0(l)&&(l=Tf(l)),l&&(u.fields[rE]=l),{mapValue:u}})(t,e):n instanceof xc?SE(n,e):n instanceof Tc?EE(n,e):(function(a,l){const u=TE(a,l),d=b2(u)+b2(a.Ae);return rg(u)&&rg(a.Ae)?xE(d):m0(a.serializer,d)})(n,e)}function Dk(n,e,t){return n instanceof xc?SE(n,e):n instanceof Tc?EE(n,e):t}function TE(n,e){return n instanceof af?(function(s){return rg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class bc extends Af{}class xc extends Af{constructor(e){super(),this.elements=e}}function SE(n,e){const t=CE(e);for(const s of n.elements)t.some((a=>Xi(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Tc extends Af{constructor(e){super(),this.elements=e}}function EE(n,e){let t=CE(e);for(const s of n.elements)t=t.filter((a=>!Xi(a,s)));return{arrayValue:{values:t}}}class af extends Af{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function b2(n){return Et(n.integerValue||n.doubleValue)}function CE(n){return h0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mk{constructor(e,t){this.field=e,this.transform=t}}function Nk(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof xc&&a instanceof xc||s instanceof Tc&&a instanceof Tc?To(s.elements,a.elements,Xi):s instanceof af&&a instanceof af?Xi(s.Ae,a.Ae):s instanceof bc&&a instanceof bc})(n.transform,e.transform)}class kk{constructor(e,t){this.version=e,this.transformResults=t}}class _i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rf{}function AE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new g0(n.key,_i.none()):new Dc(n.key,n.data,_i.none());{const t=n.data,s=wn.empty();let a=new qt(sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new xr(n.key,s,new Bn(a.toArray()),_i.none())}}function Vk(n,e,t){n instanceof Dc?(function(a,l,u){const d=a.value.clone(),m=T2(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof xr?(function(a,l,u){if(!jh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=T2(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(RE(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function oc(n,e,t,s){return n instanceof Dc?(function(l,u,d,m){if(!jh(l.precondition,u))return d;const g=l.value.clone(),y=S2(l.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof xr?(function(l,u,d,m){if(!jh(l.precondition,u))return d;const g=S2(l.fieldTransforms,m,u),y=u.data;return y.setAll(RE(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,t,s):(function(l,u,d){return jh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function Ik(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=TE(s.transform,a||null);l!=null&&(t===null&&(t=wn.empty()),t.set(s.field,l))}return t||null}function x2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&To(s,a,((l,u)=>Nk(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends Rf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xr extends Rf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function T2(n,e,t){const s=new Map;We(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,Dk(u,d,t[a]))}return s}function S2(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,wk(l,u,e))}return s}class g0 extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jk{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Vk(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=oc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=oc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=bE();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(a.key)?null:d;const m=AE(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((t,s)=>x2(t,s)))&&To(this.baseMutations,e.baseMutations,((t,s)=>x2(t,s)))}}class y0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return Sk})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new y0(e,t,s,a)}}class Ok{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Lk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pt,Ge;function zk(n){switch(n){case ae.OK:return Ae(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function wE(n){if(n===void 0)return xs("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Pt.OK:return ae.OK;case Pt.CANCELLED:return ae.CANCELLED;case Pt.UNKNOWN:return ae.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ae.INTERNAL;case Pt.UNAVAILABLE:return ae.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ae.NOT_FOUND;case Pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Pt.ABORTED:return ae.ABORTED;case Pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Pt.DATA_LOSS:return ae.DATA_LOSS;default:return Ae(39323,{code:n})}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Bk(){return new TextEncoder}const Uk=new cr([4294967295,4294967295],0);function E2(n){const e=Bk().encode(n),t=new qS;return t.update(e),new Uint8Array(t.digest())}function C2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cr([t,s],0),new cr([a,l],0)]}class v0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Zl(`Invalid padding: ${t}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=cr.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(cr.fromNumber(s)));return a.compare(Uk)===1&&(a=new cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=E2(e),[s,a]=C2(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new v0(l,a,t);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=E2(e),[s,a]=C2(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wf(we.min(),a,new gt(Fe),Ts(),He())}}class Mc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Mc(s,t,He(),He(),He())}}class Oh{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class DE{constructor(e,t){this.targetId=e,this.Ce=t}}class ME{constructor(e,t,s=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class A2{constructor(){this.ve=0,this.Fe=R2(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new Mc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=R2()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Fk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.He=yh(),this.Je=yh(),this.Ze=new gt(Fe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(og(l))if(s===0){const u=new Ee(l.path);this.et(t,u,un.newNoDocument(u,we.min()))}else We(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,d;try{u=mr(s).toUint8Array()}catch(m){if(m instanceof nE)return la("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new v0(u,a,l)}catch(m){return la(m instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&og(d.target)){const m=new Ee(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,un.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let s=He();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new wf(e,t,this.Ze,this.je,s);return this.je=Ts(),this.He=yh(),this.Je=yh(),this.Ze=new gt(Fe),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new A2,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new qt(Fe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new qt(Fe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A2),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yh(){return new gt(Ee.comparator)}function R2(){return new gt(Ee.comparator)}const Hk={asc:"ASCENDING",desc:"DESCENDING"},qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class $k{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cg(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function of(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kk(n,e){return of(n,e.toTimestamp())}function Ki(n){return We(!!n,49232),we.fromTimestamp((function(t){const s=pr(t);return new ft(s.seconds,s.nanos)})(n))}function _0(n,e){return ug(n,e).canonicalString()}function ug(n,e){const t=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function kE(n){const e=ht.fromString(n);return We(OE(e),10190,{key:e.toString()}),e}function hg(n,e){return _0(n.databaseId,e.path)}function pm(n,e){const t=kE(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(IE(t))}function VE(n,e){return _0(n.databaseId,e)}function Yk(n){const e=kE(n);return e.length===4?ht.emptyPath():IE(e)}function fg(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IE(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function w2(n,e,t){return{name:hg(n,e),fields:t.value.mapValue.fields}}function Qk(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(We(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const y=g.code===void 0?ae.UNKNOWN:wE(g.code);return new xe(y,g.message||"")})(u);t=new ME(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=pm(n,s.document.name),l=Ki(s.document.updateTime),u=s.document.createTime?Ki(s.document.createTime):we.min(),d=new wn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,u,d),g=s.targetIds||[],y=s.removedTargetIds||[];t=new Oh(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=pm(n,s.document),l=s.readTime?Ki(s.readTime):we.min(),u=un.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Oh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=pm(n,s.document),l=s.removedTargetIds||[];t=new Oh([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new Lk(a,l),d=s.targetId;t=new DE(d,u)}}return t}function Xk(n,e){let t;if(e instanceof Dc)t={update:w2(n,e.key,e.value)};else if(e instanceof g0)t={delete:hg(n,e.key)};else if(e instanceof xr)t={update:w2(n,e.key,e.data),updateMask:rV(e.fieldMask)};else{if(!(e instanceof Pk))return Ae(16599,{dt:e.type});t={verify:hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof bc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Tc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof af)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Kk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(n,e.precondition)),t}function Zk(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Ki(a.updateTime):Ki(l);return u.isEqual(we.min())&&(u=Ki(l)),new kk(u,a.transformResults||[])})(t,e)))):[]}function Wk(n,e){return{documents:[VE(n,e.path)]}}function Jk(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=VE(n,a);const l=(function(g){if(g.length!==0)return jE(Zi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:ro(S.field),direction:nV(S.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=cg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function eV(n){let e=Yk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){We(s===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(b){const S=PE(b);return S instanceof Zi&&fE(S)?S.getFilters():[S]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((S=>(function(M){return new rf(ao(M.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,xf(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(b){const S=!!b.before,C=b.values||[];return new sf(C,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const S=!b.before,C=b.values||[];return new sf(C,S)})(t.endAt)),gk(e,a,u,l,d,"F",m,g)}function tV(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ao(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ao(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ao(t.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ht.create(ao(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zi.create(t.compositeFilter.filters.map((s=>PE(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function nV(n){return Hk[n]}function iV(n){return qk[n]}function sV(n){return Gk[n]}function ro(n){return{fieldPath:n.canonicalString()}}function ao(n){return sn.fromServerFormat(n.fieldPath)}function jE(n){return n instanceof Ht?(function(t){if(t.op==="=="){if(m2(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(p2(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(m2(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(p2(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:iV(t.op),value:t.value}}})(n):n instanceof Zi?(function(t){const s=t.getFilters().map((a=>jE(a)));return s.length===1?s[0]:{compositeFilter:{op:sV(t.op),filters:s}}})(n):Ae(54877,{filter:n})}function rV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function LE(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class rr{constructor(e,t,s,a,l=we.min(),u=we.min(),d=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aV{constructor(e){this.yt=e}}function oV(n){const e=eV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lg(e,e.limit,"L"):e}class lV{constructor(){this.Sn=new cV}addToCollectionParentIndex(e,t){return this.Sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(dr.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class cV{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(ht.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}const D2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(zE,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Co{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Co(0)}static ar(){return new Co(-1)}}const M2="LruGarbageCollector",uV=1048576;function N2([n,e],[t,s]){const a=Fe(n,t);return a===0?Fe(e,s):a}class hV{constructor(e){this.Pr=e,this.buffer=new qt(N2),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();N2(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fV{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(M2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?pe(M2,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Ar(3e5)}))}}class dV{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(bf.ce);const s=new hV(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(D2)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D2):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,l,u,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,t)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),io()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function pV(n,e){return new dV(n,e)}class mV{constructor(){this.changes=new da((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yV{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&oc(s.mutation,a,Bn.empty(),ft.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=He()){const a=ia();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let u=Xl();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,He())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,s,a){let l=Ts();const u=ac(),d=(function(){return ac()})();return t.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof xr)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),oc(y.mutation,g,y.mutation.getFieldMask(),ft.now())):u.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>u.set(g,y))),t.forEach(((g,y)=>d.set(g,new gV(y,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=ac();let a=new gt(((u,d)=>u-d)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let y=s.get(m)||Bn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const b=(a.get(d.batchId)||He()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,b=bE();y.forEach((S=>{if(!l.has(S)){const C=AE(t.get(S),s.get(S));C!==null&&b.set(S,C),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return se.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return yk(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):se.resolve(ia());let d=gc,m=l;return u.next((g=>se.forEach(g,((y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,He()))).next((y=>({batchId:d,changes:_E(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((s=>{let a=Xl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Xl();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(m=>{const g=(function(b,S){return new Sf(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((b,S)=>{u=u.insert(b,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,un.newInvalidDocument(y)))}));let d=Xl();return u.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&oc(y.mutation,g,Bn.empty(),ft.now()),Cf(t,g)&&(d=d.insert(m,g))})),d}))}}class vV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return se.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ki(a.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:oV(a.bundledQuery),readTime:Ki(a.readTime)}})(t)),se.resolve()}}class _V{constructor(){this.overlays=new gt(Ee.comparator),this.Lr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return se.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.bt(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const a=ia(),l=t.length+1,u=new Ee(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new gt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=ia(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=ia(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return se.resolve(d)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new Ok(t,s));let l=this.Lr.get(t);l===void 0&&(l=He(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}class bV{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class b0{constructor(){this.kr=new qt(Yt.Kr),this.qr=new qt(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Yt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Ee(new ht([])),s=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ee(new ht([])),s=new Yt(t,e),a=new Yt(t,e+1);let l=He();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Yt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ee.comparator(e.key,t.key)||Fe(e.Hr,t.Hr)}static Ur(e,t){return Fe(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}class xV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Yt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jk(l,t,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?c0:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(Fe);return t.forEach((a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{s=s.add(d.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new Ee(l),0);let d=new qt(Fe);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)}),u),se.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){We(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(t.mutations,(a=>{const l=new Yt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Yt(t,0),a=this.Jr.firstAfterOrEqual(s);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TV{constructor(e){this.ti=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=Ts();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Ts();const u=t.path,d=new Ee(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||KN($N(y),s)<=0||(a.has(y.key)||Cf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ae(9500)}ni(e,t){return se.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new SV(this)}getSize(e){return se.resolve(this.size)}}class SV extends mV{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),se.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class EV{constructor(e){this.persistence=e,this.ri=new da((t=>f0(t)),d0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new b0,this.targetCount=0,this.oi=Co._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),se.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.lr(t),se.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),se.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this.si.containsKey(t))}}class BE{constructor(e,t){this._i={},this.overlays={},this.ai=new bf(0),this.ui=!1,this.ui=!0,this.ci=new bV,this.referenceDelegate=e(this),this.li=new EV(this),this.indexManager=new lV,this.remoteDocumentCache=(function(a){return new TV(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new aV(t),this.Pi=new vV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _V,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new xV(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const a=new CV(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class CV extends QN{constructor(e){super(),this.currentSequenceNumber=e}}class x0{constructor(e){this.persistence=e,this.Ri=new b0,this.Ai=null}static Vi(e){return new x0(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const a=Ee.fromPath(s);return this.mi(e,a).next((l=>{l||t.removeEntry(a,we.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class lf{constructor(e,t){this.persistence=e,this.fi=new da((s=>WN(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=pV(this,t)}static Vi(e,t){return new lf(e,t)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return se.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?se.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(s++,l.removeEntry(u,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}wr(e,t,s){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class T0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=He(),a=He();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new T0(e,t.fromCache,s,a)}}class AV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dM()?8:XN(hM())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new AV;return this.ys(e,t,u).next((d=>{if(l.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>l.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(io()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",so(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(io()<=$e.DEBUG&&pe("QueryEngine","Query:",so(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(io()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",so(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):se.resolve())}gs(e,t){if(_2(t))return se.resolve(null);let s=$i(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=lg(t,null,"F"),s=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=He(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.bs(t,d);return this.Ss(t,g,u,m.readTime)?this.gs(e,lg(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,s,a){return _2(t)||a.isEqual(we.min())?se.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,s,a)?se.resolve(null):(io()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),so(t)),this.Ds(e,u,t,GN(a,gc)).next((d=>d)))}))}bs(e,t){let s=new qt(yE(e));return t.forEach(((a,l)=>{Cf(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,s){return io()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",so(t)),this.fs.getDocumentsMatchingQuery(e,t,dr.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const S0="LocalStore",wV=3e8;class DV{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new gt(Fe),this.Fs=new da((l=>f0(l)),d0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function MV(n,e,t,s){return new DV(n,e,t,s)}async function UE(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=He();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function NV(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const b=g.batch,S=b.keys();let C=se.resolve();return S.forEach((M=>{C=C.next((()=>y.getEntry(m,M))).next((L=>{const O=g.docVersions.get(M);We(O!==null,48541),L.version.compareTo(O)<0&&(b.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),y.addEntry(L)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=He();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function FE(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function kV(n,e){const t=Me(n),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((y,b)=>{const S=a.get(b);if(!S)return;d.push(t.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,b))));let C=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(rn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(b,C),(function(L,O,Q){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=wV?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,C,y)&&d.push(t.li.updateTargetData(l,C))}));let m=Ts(),g=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(VV(l,u,e.documentUpdates).next((y=>{m=y.Bs,g=y.Ls}))),!s.isEqual(we.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return se.waitFor(d).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=a,l)))}function VV(n,e,t){let s=He(),a=He();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=Ts();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):pe(S0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function IV(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=c0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PV(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):t.li.allocateTargetId(s).next((u=>(a=new rr(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function dg(n,e,t){const s=Me(n),a=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Io(u))throw u;pe(S0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function k2(n,e,t){const s=Me(n);let a=we.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const b=Me(m),S=b.Fs.get(y);return S!==void 0?se.resolve(b.vs.get(S)):b.li.getTargetData(g,y)})(s,u,$i(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?a:we.min(),t?l:He()))).next((d=>(jV(s,bk(e),d),{documents:d,ks:l})))))}function jV(n,e,t){let s=n.Ms.get(e)||we.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class V2{constructor(){this.activeTargetIds=Ak()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OV{constructor(){this.vo=new V2,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new V2,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LV{Mo(e){}shutdown(){}}const I2="ConnectivityMonitor";class P2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(I2,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(I2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vh=null;function pg(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}const mm="RestConnection",zV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,l){const u=pg(),d=this.Qo(e,t.toUriEncodedString());pe(mm,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(d),y=s0(g);return this.zo(e,d,m,s,y).then((b=>(pe(mm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw la(mm,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",s),b}))}jo(e,t,s,a,l,u){return this.Wo(e,t,s,a,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const s=zV[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class UV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",ql=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class yo extends BV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=YS();ql(e,KS.STAT_EVENT,(t=>{t.stat===ng.PROXY?pe(on,"STAT_EVENT: detected buffering proxy"):t.stat===ng.NOPROXY&&pe(on,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,t,s,a,l){const u=pg();return new Promise(((d,m)=>{const g=new GS;g.setWithCredentials(!0),g.listenOnce($S.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Vh.NO_ERROR:const b=g.getResponseJson();pe(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Vh.TIMEOUT:pe(on,`RPC '${e}' ${u} timed out`),m(new xe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const S=g.getStatus();if(pe(on,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const L=(function(Q){const ee=Q.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(ee)>=0?ee:ae.UNKNOWN})(M.status);m(new xe(L,M.message))}else m(new xe(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new xe(ae.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(on,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);pe(on,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",y,s,15)}))}T_(e,t,s){const a=pg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,s),d.encodeInitMessageHeaders=!0;const g=l.join("");pe(on,`Creating RPC '${e}' stream ${a}: ${g}`,d);const y=u.createWebChannel(g,d);this.I_(y);let b=!1,S=!1;const C=new UV({Ho:M=>{S?pe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(pe(on,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),pe(on,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return ql(y,Ql.EventType.OPEN,(()=>{S||(pe(on,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),ql(y,Ql.EventType.CLOSE,(()=>{S||(S=!0,pe(on,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),ql(y,Ql.EventType.ERROR,(M=>{S||(S=!0,la(on,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new xe(ae.UNAVAILABLE,"The operation could not be completed")))})),ql(y,Ql.EventType.MESSAGE,(M=>{if(!S){const L=M.data[0];We(!!L,16349);const O=L,Q=O?.error||O[0]?.error;if(Q){pe(on,`RPC '${e}' stream ${a} received error:`,Q);const ee=Q.status;let B=(function(he){const D=Pt[he];if(D!==void 0)return wE(D)})(ee),re=Q.message;ee==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=ae.INTERNAL,re="Unknown error status: "+ee+" with message "+Q.message),S=!0,C.o_(new xe(B,re)),y.close()}else pe(on,`RPC '${e}' stream ${a} received:`,L),C.__(L)}})),yo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QS()}}function FV(n){return new yo(n)}function gm(){return typeof document<"u"?document:null}function Df(n){return new $k(n,!0)}yo.c_=!1;class HE{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const j2="PersistentStream";class qE{constructor(e,t,s,a,l,u,d,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(xs(t.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new xe(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(j2,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(j2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HV extends qE{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Qk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?Ki(u.readTime):we.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=fg(this.serializer),t.addTarget=(function(l,u){let d;const m=u.target;if(d=og(m)?{documents:Wk(l,m)}:{query:Jk(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=NE(l,u.resumeToken);const g=cg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(we.min())>0){d.readTime=of(l,u.snapshotVersion.toTimestamp());const g=cg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=tV(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=fg(this.serializer),t.removeTarget=e,this.K_(t)}}class qV extends qE{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Zk(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=fg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Xk(this.serializer,s)))};this.K_(t)}}class GV{}class $V extends GV{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,ug(t,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ae.UNKNOWN,l.toString())}))}jo(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,ug(t,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KV(n,e,t,s){return new $V(n,e,t,s)}class YV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class QV{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{pa(this)&&(pe(ca,"Restarting streams for network reachability change."),await(async function(m){const g=Me(m);g.Ea.add(4),await Nc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Mf(g)})(this))}))})),this.Va=new YV(s,a)}}async function Mf(n){if(pa(n))for(const e of n.Ra)await e(!0)}async function Nc(n){for(const e of n.Ra)await e(!1)}function GE(n,e){const t=Me(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),R0(t)?A0(t):Po(t).O_()&&C0(t,e))}function E0(n,e){const t=Me(n),s=Po(t);t.Ia.delete(e),s.O_()&&$E(t,e),t.Ia.size===0&&(s.O_()?s.L_():pa(t)&&t.Va.set("Unknown"))}function C0(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(n).Z_(e)}function $E(n,e){n.da.$e(e),Po(n).X_(e)}function A0(n){n.da=new Fk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Po(n).start(),n.Va.ua()}function R0(n){return pa(n)&&!Po(n).x_()&&n.Ia.size>0}function pa(n){return Me(n).Ea.size===0}function KE(n){n.da=void 0}async function XV(n){n.Va.set("Online")}async function ZV(n){n.Ia.forEach(((e,t)=>{C0(n,e)}))}async function WV(n,e){KE(n),R0(n)?(n.Va.ha(e),A0(n)):n.Va.set("Unknown")}async function JV(n,e,t){if(n.Va.set("Online"),e instanceof ME&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(n,e)}catch(s){pe(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cf(n,s)}else if(e instanceof Oh?n.da.Xe(e):e instanceof DE?n.da.st(e):n.da.tt(e),!t.isEqual(we.min()))try{const s=await FE(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),$E(l,m);const b=new rr(y.target,m,g,y.sequenceNumber);C0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){pe(ca,"Failed to raise snapshot:",s),await cf(n,s)}}async function cf(n,e,t){if(!Io(e))throw e;n.Ea.add(1),await Nc(n),n.Va.set("Offline"),t||(t=()=>FE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(ca,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Mf(n)}))}function YE(n,e){return e().catch((t=>cf(n,t,e)))}async function Nf(n){const e=Me(n),t=yr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:c0;for(;eI(e);)try{const a=await IV(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,tI(e,a)}catch(a){await cf(e,a)}QE(e)&&XE(e)}function eI(n){return pa(n)&&n.Ta.length<10}function tI(n,e){n.Ta.push(e);const t=yr(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function QE(n){return pa(n)&&!yr(n).x_()&&n.Ta.length>0}function XE(n){yr(n).start()}async function nI(n){yr(n).ra()}async function iI(n){const e=yr(n);for(const t of n.Ta)e.ea(t.mutations)}async function sI(n,e,t){const s=n.Ta.shift(),a=y0.from(s,e,t);await YE(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Nf(n)}async function rI(n,e){e&&yr(n).Y_&&await(async function(s,a){if((function(u){return zk(u)&&u!==ae.ABORTED})(a.code)){const l=s.Ta.shift();yr(s).B_(),await YE(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Nf(s)}})(n,e),QE(n)&&XE(n)}async function O2(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),pe(ca,"RemoteStore received new credentials");const s=pa(t);t.Ea.add(3),await Nc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Mf(t)}async function aI(n,e){const t=Me(n);e?(t.Ea.delete(2),await Mf(t)):e||(t.Ea.add(2),await Nc(t),t.Va.set("Unknown"))}function Po(n){return n.ma||(n.ma=(function(t,s,a){const l=Me(t);return l.sa(),new HV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:XV.bind(null,n),Yo:ZV.bind(null,n),t_:WV.bind(null,n),J_:JV.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),R0(n)?A0(n):n.Va.set("Unknown")):(await n.ma.stop(),KE(n))}))),n.ma}function yr(n){return n.fa||(n.fa=(function(t,s,a){const l=Me(t);return l.sa(),new qV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nI.bind(null,n),t_:rI.bind(null,n),ta:iI.bind(null,n),na:sI.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Nf(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class w0{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,d=new w0(e,t,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D0(n,e){if(xs("AsyncQueue",`${e}: ${n}`),Io(n))return new xe(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=Xl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class L2{constructor(){this.ga=new gt(Ee.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ao{constructor(e,t,s,a,l,u,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Ao(e,t,vo.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class oI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lI{constructor(){this.queries=z2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Me(t),l=a.queries;a.queries=z2(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new xe(ae.ABORTED,"Firestore shutting down"))}}function z2(){return new da((n=>gE(n)),Ef)}async function cI(n,e){const t=Me(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new oI,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=D0(u,`Initialization of query '${so(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&M0(t)}async function uI(n,e){const t=Me(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function hI(n,e){const t=Me(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&M0(t)}function fI(n,e,t){const s=Me(n),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(t);s.queries.delete(e)}function M0(n){n.Ca.forEach((e=>{e.next()}))}var mg,B2;(B2=mg||(mg={})).Ma="default",B2.Cache="cache";class dI{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mg.Cache}}class ZE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class pI{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=yE(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new L2,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const S=a.get(y),C=Cf(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;S&&C?S.data.isEqual(C.data)?M!==L&&(s.track({type:3,doc:C}),O=!0):this.su(S,C)||(s.track({type:2,doc:C}),O=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),O=!0):S&&!C&&(s.track({type:1,doc:S}),O=!0,(m||g)&&(d=!0)),O&&(C?(u=u.add(C),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(C,M){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:O})}};return L(C)-L(M)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new Ao(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L2,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new WE(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new ZE(s))})),t}cu(e){this.Za=e.ks,this.Ya=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const N0="SyncEngine";class mI{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class gI{constructor(e){this.key=e,this.hu=!1}}class yI{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new da((d=>gE(d)),Ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(Ee.comparator),this.Au=new Map,this.Vu=new b0,this.du={},this.mu=new Map,this.fu=Co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vI(n,e,t=!0){const s=sC(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await JE(s,e,t,!0),a}async function _I(n,e){const t=sC(n);await JE(t,e,!0,!1)}async function JE(n,e,t,s){const a=await PV(n.localStore,$i(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await bI(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&GE(n.remoteStore,a),d}async function bI(n,e,t,s,a){n.pu=(b,S,C)=>(async function(L,O,Q,ee){let B=O.view.ru(Q);B.Ss&&(B=await k2(L.localStore,O.query,!1).then((({documents:D})=>O.view.ru(D,B))));const re=ee&&ee.targetChanges.get(O.targetId),le=ee&&ee.targetMismatches.get(O.targetId)!=null,he=O.view.applyChanges(B,L.isPrimaryClient,re,le);return F2(L,O.targetId,he.au),he.snapshot})(n,b,S,C);const l=await k2(n.localStore,e,!0),u=new pI(e,l.ks),d=u.ru(l.documents),m=Mc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=u.applyChanges(d,n.isPrimaryClient,m);F2(n,t,g.au);const y=new mI(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function xI(n,e,t){const s=Me(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Ef(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&E0(s.remoteStore,a.targetId),gg(s,a.targetId)})).catch(Vo)):(gg(s,a.targetId),await dg(s.localStore,a.targetId,!0))}async function TI(n,e){const t=Me(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),E0(t.remoteStore,s.targetId))}async function SI(n,e,t){const s=MI(n);try{const a=await(function(u,d){const m=Me(u),g=ft.now(),y=d.reduce(((C,M)=>C.add(M.key)),He());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=Ts(),L=He();return m.xs.getEntries(C,y).next((O=>{M=O,M.forEach(((Q,ee)=>{ee.isValidDocument()||(L=L.add(Q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,M))).next((O=>{b=O;const Q=[];for(const ee of d){const B=Ik(ee,b.get(ee.key).overlayedDocument);B!=null&&Q.push(new xr(ee.key,B,cE(B.value.mapValue),_i.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,Q,d)})).next((O=>{S=O;const Q=O.applyToLocalDocumentSet(b,L);return m.documentOverlayCache.saveOverlays(C,O.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:_E(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let g=u.du[u.currentUser.toKey()];g||(g=new gt(Fe)),g=g.insert(d,m),u.du[u.currentUser.toKey()]=g})(s,a.batchId,t),await kc(s,a.changes),await Nf(s.remoteStore)}catch(a){const l=D0(a,"Failed to persist write");t.reject(l)}}async function eC(n,e){const t=Me(n);try{const s=await kV(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?We(u.hu,14607):a.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await kc(t,s,e)}catch(s){await Vo(s)}}function U2(n,e,t){const s=Me(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Me(u);m.onlineState=d;let g=!1;m.queries.forEach(((y,b)=>{for(const S of b.ba)S.va(d)&&(g=!0)})),g&&M0(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EI(n,e,t){const s=Me(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new gt(Ee.comparator);u=u.insert(l,un.newNoDocument(l,we.min()));const d=He().add(l),m=new wf(we.min(),new Map,new gt(Fe),u,d);await eC(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),k0(s)}else await dg(s.localStore,e,!1).then((()=>gg(s,e,t))).catch(Vo)}async function CI(n,e){const t=Me(n),s=e.batch.batchId;try{const a=await NV(t.localStore,e);nC(t,s,null),tC(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await kc(t,a)}catch(a){await Vo(a)}}async function AI(n,e,t){const s=Me(n);try{const a=await(function(u,d){const m=Me(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(We(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);nC(s,e,t),tC(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await kc(s,a)}catch(a){await Vo(a)}}function tC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function nC(n,e,t){const s=Me(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function gg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||iC(n,s)}))}function iC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(E0(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),k0(n))}function F2(n,e,t){for(const s of t)s instanceof ZE?(n.Vu.addReference(s.key,e),RI(n,s)):s instanceof WE?(pe(N0,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||iC(n,s.key)):Ae(19791,{wu:s})}function RI(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(pe(N0,"New document in limbo: "+t),n.Eu.add(s),k0(n))}function k0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(ht.fromString(e)),s=n.fu.next();n.Au.set(s,new gI(t)),n.Ru=n.Ru.insert(t,s),GE(n.remoteStore,new rr($i(p0(t.path)),s,"TargetPurposeLimboResolution",bf.ce))}}async function kc(n,e,t){const s=Me(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const y=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=T0.Es(m.targetId,g);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,g){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(g,(S=>se.forEach(S.Ts,(C=>y.persistence.referenceDelegate.addReference(b,S.targetId,C))).next((()=>se.forEach(S.Is,(C=>y.persistence.referenceDelegate.removeReference(b,S.targetId,C)))))))))}catch(b){if(!Io(b))throw b;pe(S0,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const C=y.vs.get(S),M=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(S,L)}}})(s.localStore,l))}async function wI(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){pe(N0,"User change. New user:",e.toKey());const s=await UE(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new xe(ae.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kc(t,s.Ns)}}function DI(n,e){const t=Me(n),s=t.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const d=t.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function sC(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EI.bind(null,e),e.Pu.J_=hI.bind(null,e.eventManager),e.Pu.yu=fI.bind(null,e.eventManager),e}function MI(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AI.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MV(this.persistence,new RV,e.initialUser,this.serializer)}Cu(e){return new BE(x0.Vi,this.serializer)}Du(e){return new OV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class NI extends uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof lf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fV(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new BE((s=>lf.Vi(s,t)),this.serializer)}}class yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wI.bind(null,this.syncEngine),await aI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lI})()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),s=FV(e.databaseInfo);return KV(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,u,d){return new QV(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>U2(this.syncEngine,t,0)),(function(){return P2.v()?new P2:new LV})())}createSyncEngine(e,t){return(function(a,l,u,d,m,g,y){const b=new yI(a,l,u,d,m,g);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Me(t);pe(ca,"RemoteStore shutting down."),s.Ea.add(5),await Nc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yg.provider={build:()=>new yg};class kI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vr="FirestoreClient";class VI{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{pe(vr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pe(vr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=D0(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ym(n,e){n.asyncQueue.verifyOperationInProgress(),pe(vr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await UE(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function H2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await II(n);pe(vr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>O2(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>O2(e.remoteStore,a))),n._onlineComponents=e}async function II(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(vr,"Using user provided OfflineComponentProvider");try{await ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;la("Error using user provided cache. Falling back to memory cache: "+t),await ym(n,new uf)}}else pe(vr,"Using default OfflineComponentProvider"),await ym(n,new NI(void 0));return n._offlineComponents}async function rC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(vr,"Using user provided OnlineComponentProvider"),await H2(n,n._uninitializedComponentsProvider._online)):(pe(vr,"Using default OnlineComponentProvider"),await H2(n,new yg))),n._onlineComponents}function PI(n){return rC(n).then((e=>e.syncEngine))}async function q2(n){const e=await rC(n),t=e.eventManager;return t.onListen=vI.bind(null,e.syncEngine),t.onUnlisten=xI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_I.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TI.bind(null,e.syncEngine),t}function jI(n,e,t,s){const a=new kI(s),l=new dI(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>cI(await q2(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>uI(await q2(n),l)))}}function OI(n,e){const t=new ra;return n.asyncQueue.enqueueAndForget((async()=>SI(await PI(n),e,t))),t.promise}function aC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const LI="ComponentProvider",G2=new Map;function zI(n,e,t,s,a){return new tk(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,aC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const oC="firestore.googleapis.com",$2=!0;class K2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=$2}else this.host=e.host,this.ssl=e.ssl??$2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uV)throw new xe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IN;switch(s.type){case"firstParty":return new LN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=G2.get(t);s&&(pe(LI,"Removing Datastore"),G2.delete(t),s.terminate())})(this),Promise.resolve()}}function BI(n,e,t,s={}){n=ys(n,kf);const a=s0(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(aM(`https://${d}`),uM("Firestore",!0)),l.host!==oC&&l.host!==d&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Zh(m,u)&&(n._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=ln.MOCK_USER;else{g=oM(s.mockUserToken,n._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new xe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(b)}n._authCredentials=new PN(new ZS(g,y))}}class Vf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vf(this.firestore,e,this._query)}}class zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(wc(t,zt._jsonSchema))return new zt(e,s||null,new Ee(ht.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Lt("string",zt._jsonSchemaVersion),referencePath:Lt("string")};class ur extends Vf{constructor(e,t,s){super(e,t,p0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ee(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function UI(n,e,...t){if(n=_s(n),WS("collection","path",e),n instanceof kf){const s=ht.fromString(e,...t);return a2(s),new ur(n,null,s)}{if(!(n instanceof zt||n instanceof ur))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ht.fromString(e,...t));return a2(s),new ur(n.firestore,null,s)}}function V0(n,e,...t){if(n=_s(n),arguments.length===1&&(e=o0.newId()),WS("doc","path",e),n instanceof kf){const s=ht.fromString(e,...t);return r2(s),new zt(n,null,new Ee(s))}{if(!(n instanceof zt||n instanceof ur))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ht.fromString(e,...t));return r2(s),new zt(n.firestore,n instanceof ur?n.converter:null,new Ee(s))}}const Y2="AsyncQueue";class Q2{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const s=gm();s&&pe(Y2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;pe(Y2,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",X2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=w0.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:X2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function X2(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ro extends kf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Q2,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q2(e),this._firestoreClient=void 0,await e}}}function FI(n,e){const t=typeof n=="object"?n:bN(),s=typeof n=="string"?n:tf,a=mN(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=sM("firestore");l&&BI(a,...l)}return a}function lC(n){if(n._terminated)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HI(n),n._firestoreClient}function HI(n){const e=n._freezeSettings(),t=zI(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new VI(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(rn.fromBase64String(e))}catch(t){throw new xe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ti(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Lt("string",ti._jsonSchemaVersion),bytes:Lt("string")};class I0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._methodName=e}}class Yi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(wc(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Lt("string",Yi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class bi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new bi(e.vectorValues);throw new xe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Lt("string",bi._jsonSchemaVersion),vectorValues:Lt("object")};const qI=/^__.*__$/;class GI{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class cC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:n})}}class P0{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new P0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uC(this.dataSource)&&qI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $I{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Df(e)}createContext(e,t,s,a=!1){return new P0({dataSource:e,methodName:t,targetDoc:s,path:sn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hC(n){const e=n._freezeSettings(),t=Df(n._databaseId);return new $I(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KI(n,e,t,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);O0("Data must be an object, but it was:",u,s);const d=fC(s,u);let m,g;if(l.merge)m=new Bn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const S=Sc(e,b,t);if(!u.contains(S))throw new xe(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);mC(y,S)||y.push(S)}m=new Bn(y),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new GI(new wn(d),m,g)}class Pf extends If{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class j0 extends If{_toFieldTransform(e){return new Mk(e.path,new bc)}isEqual(e){return e instanceof j0}}function YI(n,e,t,s){const a=n.createContext(1,e,t);O0("Data must be an object, but it was:",a,s);const l=[],u=wn.empty();br(s,((m,g)=>{const y=pC(e,m,t);g=_s(g);const b=a.childContextForFieldPath(y);if(g instanceof Pf)l.push(y);else{const S=jf(g,b);S!=null&&(l.push(y),u.set(y,S))}}));const d=new Bn(l);return new cC(u,d,a.fieldTransforms)}function QI(n,e,t,s,a,l){const u=n.createContext(1,e,t),d=[Sc(e,s,t)],m=[a];if(l.length%2!=0)throw new xe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Sc(e,l[S])),m.push(l[S+1]);const g=[],y=wn.empty();for(let S=d.length-1;S>=0;--S)if(!mC(g,d[S])){const C=d[S];let M=m[S];M=_s(M);const L=u.childContextForFieldPath(C);if(M instanceof Pf)g.push(C);else{const O=jf(M,L);O!=null&&(g.push(C),y.set(C,O))}}const b=new Bn(g);return new cC(y,b,u.fieldTransforms)}function jf(n,e){if(dC(n=_s(n)))return O0("Unsupported field value:",e,n),fC(n,e);if(n instanceof If)return(function(s,a){if(!uC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=jf(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=_s(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:of(a.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:of(a.serializer,l)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:NE(a.serializer,s._byteString)};if(s instanceof zt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof bi)return(function(u,d){const m=u instanceof bi?u.toArray():u;return{mapValue:{fields:{[oE]:{stringValue:lE},[nf]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return m0(d.serializer,y)}))}}}}}})(s,a);if(LE(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${l0(s)}`)})(n,e)}function fC(n,e){const t={};return tE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(n,((s,a)=>{const l=jf(a,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function dC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof Yi||n instanceof ti||n instanceof zt||n instanceof If||n instanceof bi||LE(n))}function O0(n,e,t){if(!dC(t)||!JS(t)){const s=l0(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Sc(n,e,t){if((e=_s(e))instanceof I0)return e._internalPath;if(typeof e=="string")return pC(n,e);throw hf("Field path arguments must be of type string or ",n,!1,void 0,t)}const XI=new RegExp("[~\\*/\\[\\]]");function pC(n,e,t){if(e.search(XI)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new I0(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hf(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new xe(ae.INVALID_ARGUMENT,d+n+m)}function mC(n,e){return n.some((t=>t.isEqual(e)))}class ZI{convertValue(e,t="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return br(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[nf].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new bi(t)}convertGeoPoint(e){return new Yi(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Tf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const t=pr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ht.fromString(e);We(OE(s),9688,{name:e});const a=new vc(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return a.isEqual(t)||xs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class gC extends ZI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function yC(){return new j0("serverTimestamp")}const Z2="@firebase/firestore",W2="4.11.0";function J2(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class vC{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Sc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WI extends vC{data(){return super.data()}}function JI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function eP(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends vC{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Lt("string",aa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Lh extends aa{data(e={}){return super.data(e)}}class _o{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Wl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Lh(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Lh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Wl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Lh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Wl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:tP(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=o0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Lt("string",_o._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function nP(n,e,t){n=ys(n,zt);const s=ys(n.firestore,Ro),a=eP(n.converter,e),l=hC(s);return L0(s,[KI(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,_i.none())])}function iP(n,e,t,...s){n=ys(n,zt);const a=ys(n.firestore,Ro),l=hC(a);let u;return u=typeof(e=_s(e))=="string"||e instanceof I0?QI(l,"updateDoc",n._key,e,t,s):YI(l,"updateDoc",n._key,e),L0(a,[u.toMutation(n._key,_i.exists(!0))])}function sP(n){return L0(ys(n.firestore,Ro),[new g0(n._key,_i.none())])}function rP(n,...e){n=_s(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||J2(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(J2(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let l,u,d;if(n instanceof zt)u=ys(n.firestore,Ro),d=p0(n._key.path),l={next:g=>{e[s]&&e[s](aP(u,n,g))},error:e[s+1],complete:e[s+2]};else{const g=ys(n,Vf);u=ys(g.firestore,Ro),d=g._query;const y=new gC(u);l={next:b=>{e[s]&&e[s](new _o(u,y,g,b))},error:e[s+1],complete:e[s+2]},JI(n._query)}const m=lC(u);return jI(m,d,a,l)}function L0(n,e){const t=lC(n);return OI(t,e)}function aP(n,e,t){const s=t.docs.get(e._key),a=new gC(n);return new aa(n,a,e._key,s,new Wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){VN(_N),Jh(new pc("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Ro(new jN(s.getProvider("auth-internal")),new zN(u,s.getProvider("app-check-internal")),nk(u,a),u);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),go(Z2,W2,e),go(Z2,W2,"esm2020")})();const oP={apiKey:"AIzaSyBQDdzlJemo4Cbw3SKcTDX_YjQ27eCp5ug",authDomain:"ghost-chatamd.firebaseapp.com",projectId:"ghost-chatamd",storageBucket:"ghost-chatamd.appspot.com",messagingSenderId:"100973455099363666904",appId:"1:100973455099363666904:web:abcdef123456"},lP=US(oP),Of=FI(lP),cP=async(n,e,t)=>{const s=V0(Of,"parallel_rooms",n,"peers",e);await nP(s,{...t,lastSeen:yC()})},uP=async(n,e)=>{try{const t=V0(Of,"parallel_rooms",n,"peers",e);await iP(t,{lastSeen:yC()})}catch{}},ex=async(n,e)=>{try{const t=V0(Of,"parallel_rooms",n,"peers",e);await sP(t)}catch{}},hP=(n,e)=>{const t=UI(Of,"parallel_rooms",n,"peers");return rP(t,s=>{const a=[],l=Date.now();s.forEach(u=>{const d=u.data();let m=!0;if(d.lastSeen){const g=d.lastSeen.toMillis?d.lastSeen.toMillis():Date.now();l-g>6e4&&(m=!1)}m&&a.push({id:u.id,...d})}),e(a)})},_C={name:"ECDH",namedCurve:"P-256"},fP={name:"AES-GCM",length:256};async function dP(){return window.crypto.subtle.generateKey(_C,!0,["deriveKey","deriveBits"])}async function pP(n){return window.crypto.subtle.exportKey("jwk",n)}async function _h(n){return window.crypto.subtle.importKey("jwk",n,_C,!0,[])}async function vm(n,e){return window.crypto.subtle.deriveKey({name:"ECDH",public:e},n,fP,!1,["encrypt","decrypt"])}async function tx(n,e){const t=new TextEncoder,s=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},e,t.encode(n));return JSON.stringify({iv:Array.from(s),data:Array.from(new Uint8Array(a))})}async function mP(n,e){try{const t=JSON.parse(n),s=new Uint8Array(t.iv),a=new Uint8Array(t.data),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},e,a);return new TextDecoder().decode(l)}catch{return null}}const gP=(n,e)=>{const[t,s]=H.useState("disconnected"),[a,l]=H.useState([]),[u,d]=H.useState([]),[m,g]=H.useState(null),[y,b]=H.useState(!1),[S,C]=H.useState({}),M=q=>{b(q)};H.useEffect(()=>{if(!y)return;const q=setInterval(()=>{const J=Date.now(),ne=1440*60*1e3;d(ue=>{const de=ue.filter(ve=>J-ve.timestamp<ne);return de.length!==ue.length?de:ue})},60*1e3);return()=>clearInterval(q)},[y]);const[L,O]=H.useState(null),[Q,ee]=H.useState(null),[B,re]=H.useState(null),le=(q,J)=>{if(!I.current)return;const ne=I.current.call(q,J);ne&&(ne.on("stream",ue=>{re(ue)}),ne.on("close",()=>D()),ne.on("error",()=>{}),ee({call:ne,stream:J}))},he=q=>{if(!L)return;const{call:J}=L;J.answer(q),J.on("stream",ne=>{re(ne)}),J.on("close",()=>D()),ee({call:J,stream:q}),O(null)},D=()=>{Q&&(Q.call.close(),Q.stream?.getTracks().forEach(q=>q.stop())),L&&L.call.close(),ee(null),O(null),re(null)},A=H.useRef({}),w=H.useRef(null),I=H.useRef(null),V=H.useRef([]),z=H.useRef(null),N=H.useRef(null),me=H.useRef(null),Ie=H.useCallback(q=>{d(J=>J.some(ne=>ne.id===q.id)?J:[...J,q].sort((ne,ue)=>ne.timestamp-ue.timestamp))},[]),Y=async(q,J,ne)=>{const ue=()=>{console.log(`[P2P] Connection OPEN with ${ne}`)};if(q.open?ue():q.on("open",ue),A.current[ne]={conn:q},J)try{A.current[ne].sharedSecret=await vm(w.current.privateKey,J)}catch(de){console.error(`[P2P] Failed to derive shared secret for ${ne}:`,de)}q.on("data",async de=>{if(de.type==="typing"){C(ve=>({...ve,[ne]:Date.now()}));return}if(de.type==="delivered"){d(ve=>ve.map(Oe=>Oe.id===de.msgId?{...Oe,status:"delivered"}:Oe));return}if(de.payload){const ve=A.current[ne];if(!ve)return;if(!ve.sharedSecret){const Te=V.current.find(Ze=>Ze.id===ne);if(Te)try{const Ze=await _h(JSON.parse(Te.key));ve.sharedSecret=await vm(w.current.privateKey,Ze)}catch(Ze){console.error(`[P2P] Key derivation failed for ${ne}:`,Ze)}}if(!ve.sharedSecret){console.warn(`[P2P] No shared secret for ${ne}, dropping message`);return}const Oe=await mP(de.payload,ve.sharedSecret);if(Oe)try{const Te=JSON.parse(Oe);Ie({...Te,peerId:ne,isMe:!1,status:"delivered"}),ve.conn&&ve.conn.open&&ve.conn.send({type:"delivered",msgId:Te.id})}catch(Te){console.error("[P2P] Failed to parse decrypted message:",Te)}}}),q.on("close",()=>{console.log(`[P2P] Connection CLOSED with ${ne}`),delete A.current[ne]}),q.on("error",de=>{console.error(`[P2P] Connection ERROR with ${ne}:`,de),delete A.current[ne]})},oe=async q=>{const J=q.peer;if(console.log(`[P2P] Incoming connection from ${J}`),A.current[J]){console.log(`[P2P] Replacing existing connection to ${J}`);try{A.current[J].conn.close()}catch{}delete A.current[J]}const ne=V.current.find(de=>de.id===J);let ue=null;if(ne)try{ue=await _h(JSON.parse(ne.key))}catch{}Y(q,ue,J)},fe=async q=>{const J=I.current;if(!J||J.destroyed)return;const ne=A.current[q.id];if(!(ne&&ne.conn&&ne.conn.open)){if(ne){try{ne.conn.close()}catch{}delete A.current[q.id]}try{console.log(`[P2P] Connecting to peer ${q.id}...`);const ue=J.connect(q.id,{metadata:{user:e},reliable:!0});if(!ue){console.error(`[P2P] peer.connect returned null for ${q.id}`);return}const de=await _h(JSON.parse(q.key));await Y(ue,de,q.id)}catch(ue){console.error(`[P2P] Failed to connect to ${q.id}:`,ue)}}};H.useEffect(()=>{if(!n||!e)return;let q=()=>{},J=!1;N.current=n,typeof window<"u"&&(async()=>{s("connecting"),w.current=await dP();const de=await pP(w.current.publicKey),ve=`parallel_${n}_${e}_${Date.now().toString(36)}`;g(ve),me.current=ve;const Oe=new K6(ve,{debug:0,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]}});I.current=Oe,V.current=[],Oe.on("open",async Te=>{J||(console.log(`[P2P] PeerJS OPEN: ${Te}`),s("connected"),await cP(n,Te,{user:e,key:JSON.stringify(de)}),z.current&&clearInterval(z.current),z.current=setInterval(()=>{J||uP(n,Te)},1e4),q=hP(n,Ze=>{if(J)return;const at=Ze.filter(Ct=>Ct.id!==Te);l(at),V.current=at,at.forEach(Ct=>{const Dn=A.current[Ct.id];!Dn||!Dn.conn||!Dn.conn.open?fe(Ct):Dn&&!Dn.sharedSecret&&(async()=>{try{const Un=await _h(JSON.parse(Ct.key));Dn.sharedSecret=await vm(w.current.privateKey,Un)}catch{}})()})}))}),Oe.on("connection",Te=>oe(Te)),Oe.on("call",Te=>{J||O({call:Te})}),Oe.on("error",Te=>{console.error("[P2P] PeerJS error:",Te),Te.type==="unavailable-id"?(console.log("[P2P] ID taken, will retry with new ID on next init"),s("error")):Te.type==="peer-unavailable"?console.warn("[P2P] Peer unavailable (may be offline):",Te.message):s("error")}),Oe.on("disconnected",()=>{if(!J){console.log("[P2P] PeerJS disconnected, attempting reconnect..."),s("connecting");try{Oe.reconnect()}catch{s("error")}}})})();const ue=()=>{me.current&&N.current&&ex(N.current,me.current)};return window.addEventListener("beforeunload",ue),()=>{if(J=!0,z.current&&(clearInterval(z.current),z.current=null),q(),Object.values(A.current).forEach(de=>{try{de.conn.close()}catch{}}),A.current={},I.current){try{I.current.destroy()}catch{}I.current=null}me.current&&N.current&&ex(N.current,me.current),window.removeEventListener("beforeunload",ue)}},[n,e]);const Re=async(q,J,ne="text")=>{const ue={id:Date.now()+Math.random(),user:e,text:q,type:ne,timestamp:Date.now()},de={...ue,isMe:!0,peerId:J||"broadcast",status:"sending"};Ie(de);const ve=Te=>{d(Ze=>Ze.map(at=>at.id===ue.id?{...at,status:Te}:at))},Oe=async Te=>{let Ze=A.current[Te];if(!Ze||!Ze.conn||!Ze.conn.open){const at=V.current.find(Ct=>Ct.id===Te);at&&(await fe(at),await new Promise(Ct=>setTimeout(Ct,1500)),Ze=A.current[Te])}if(Ze&&Ze.conn&&Ze.conn.open&&Ze.sharedSecret)try{const at=await tx(JSON.stringify(ue),Ze.sharedSecret);return Ze.conn.send({payload:at}),!0}catch(at){return console.error("[P2P] Encryption/send failed:",at),!1}return console.warn(`[P2P] Failed to send to ${Te}`),!1};if(J){const Te=await Oe(J);ve(Te?"sent":"failed")}else{const Te=Object.entries(A.current);for(const[Ze,at]of Te)if(at.conn&&at.conn.open&&at.sharedSecret)try{const Ct=await tx(JSON.stringify(ue),at.sharedSecret);at.conn.send({payload:Ct})}catch(Ct){console.error(`[P2P] Broadcast send failed to ${Ze}:`,Ct)}ve("sent")}},je=q=>{const J=A.current[q];if(J&&J.conn&&J.conn.open)try{J.conn.send({type:"typing"})}catch{}},P=()=>{d([]),navigator.vibrate&&navigator.vibrate([100,50,100,50,200])};return H.useEffect(()=>{const q=setInterval(()=>{const J=Date.now();C(ne=>{const ue={};for(const[de,ve]of Object.entries(ne))J-ve<3e3&&(ue[de]=ve);return Object.keys(ue).length!==Object.keys(ne).length?ue:ne})},1e3);return()=>clearInterval(q)},[]),{status:t,peers:a,messages:u,sendMessage:Re,myPeerId:m,callPeer:le,incomingCall:L,answerCall:he,endCall:D,activeCall:Q,remoteStream:B,retentionEnabled:y,toggleRetention:M,typingPeers:S,sendTyping:je,panicWipe:P}},bC=H.createContext(),yP=({children:n})=>{const[e,t]=H.useState(()=>localStorage.getItem("parallel_premium_unlocked")==="true"),s=()=>{localStorage.setItem("parallel_premium_unlocked","true"),t(!0),window.dispatchEvent(new Event("storage"))};return _.jsx(bC.Provider,{value:{isPremium:e,unlockPremium:s},children:n})},z0=()=>H.useContext(bC),vP=({onClose:n,onSuccess:e})=>{const{unlockPremium:t}=z0(),[s,a]=H.useState("form"),[l,u]=H.useState(""),[d,m]=H.useState(""),[g,y]=H.useState(""),b=C=>{C.preventDefault(),a("processing"),setTimeout(()=>{a("success"),t(),setTimeout(()=>{e?e():n()},2e3)},1500)},S=C=>{const M=C.target.value.replace(/\s+/g,"").replace(/[^0-9]/gi,""),L=M.match(/\d{4,16}/g),O=L&&L[0]||"",Q=[];for(let ee=0,B=O.length;ee<B;ee+=4)Q.push(O.substring(ee,ee+4));Q.length?u(Q.join(" ")):u(M)};return _.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-4",style:{background:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)"},children:_.jsx(motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:25,stiffness:300},className:"w-full max-w-md rounded-3xl shadow-2xl overflow-hidden",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.8)",backdropFilter:"blur(30px)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.08)"},children:_.jsxs("div",{className:"p-6",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:[_.jsx(y_,{size:20,className:"text-green-500"}),"Secure Checkout"]}),_.jsx("button",{onClick:n,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:_.jsx(_g,{size:20})})]}),_.jsxs(Gi,{mode:"wait",children:[s==="form"&&_.jsxs(motion.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{className:"p-4 rounded-xl mb-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.06))",border:"1px solid rgba(255, 255, 255, 0.6)"},children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-[0.06]",children:_.jsx(zh,{size:120,style:{color:"rgba(0,0,0,1)"}})}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-xs uppercase mb-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Card Number"}),_.jsx("div",{className:"text-xl font-mono mb-4 tracking-wider",style:{color:"rgba(0, 0, 0, 0.7)"},children:l||"0000 0000 0000 0000"}),_.jsxs("div",{className:"flex justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] uppercase",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Card Holder"}),_.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.6)"},children:"PARALLEL USER"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] uppercase",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Expires"}),_.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.6)"},children:d||"MM/YY"})]})]})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Card Number"}),_.jsxs("div",{className:"relative",children:[_.jsx(zh,{className:"absolute left-3 top-3",size:18,style:{color:"rgba(0, 0, 0, 0.3)"}}),_.jsx("input",{type:"text",value:l,onChange:S,className:"w-full rounded-xl py-2.5 pl-10 pr-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},placeholder:"0000 0000 0000 0000",required:!0})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Expiry Date"}),_.jsx("input",{type:"text",value:d,onChange:C=>m(C.target.value.replace(/[^0-9/]/g,"").slice(0,5)),placeholder:"MM/YY",maxLength:5,className:"w-full rounded-xl py-2.5 px-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all text-center font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"CVC"}),_.jsx("input",{type:"text",value:g,onChange:C=>y(C.target.value.replace(/[^0-9]/g,"").slice(0,3)),placeholder:"123",maxLength:3,className:"w-full rounded-xl py-2.5 px-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all text-center font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},required:!0})]})]})]}),_.jsx("button",{type:"submit",className:"w-full text-white font-bold py-3.5 rounded-xl active:scale-95 transition-all mt-4 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)"},children:"Pay $4.99"}),_.jsxs("p",{className:"text-xs text-center mt-4 flex items-center justify-center gap-1",style:{color:"rgba(0, 0, 0, 0.35)"},children:[_.jsx(y_,{size:10})," Encrypted by Stripe (Mock)"]})]},"form"),s==="processing"&&_.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-12",children:[_.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:_.jsx(KA,{size:48,className:"text-blue-500 mb-4"})}),_.jsx("h4",{className:"text-lg font-medium",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Processing Payment..."}),_.jsx("p",{className:"text-sm",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Confirming with bank"})]},"processing"),s==="success"&&_.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-8",children:[_.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"bg-green-500/15 p-4 rounded-full mb-4",children:_.jsx(MA,{size:64,className:"text-green-500"})}),_.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Payment Successful!"}),_.jsxs("p",{className:"text-center mb-6",style:{color:"rgba(0, 0, 0, 0.45)"},children:["Welcome to Parallel Premium.",_.jsx("br",{}),"All features are now unlocked."]}),_.jsx("div",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.25)"},children:"Redirecting..."})]},"success")]})]})})})},_P=({onClose:n})=>{const{isPremium:e}=z0(),[t,s]=H.useState(!1),a=[{icon:_.jsx(pf,{className:"text-blue-500",size:24}),title:"HD Video Calls",desc:"Encrypted peer-to-peer video calls."},{icon:_.jsx(ax,{className:"text-cyan-500",size:24}),title:"Image Sharing",desc:"Send encrypted photos directly via P2P."},{icon:_.jsx(pR,{className:"text-amber-500",size:24}),title:"288 Stickers",desc:"12 packs of expressive emoji stickers."},{icon:_.jsx(fo,{className:"text-purple-500",size:24}),title:"Priority Features",desc:"Early access to new Parallel features."}];return _.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex flex-col overflow-hidden",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)"},children:[_.jsxs("div",{className:"p-4 flex justify-between items-center z-10",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:_.jsx(fo,{size:18,className:"text-white fill-current"})}),_.jsx("span",{className:"font-bold text-lg tracking-wide text-transparent bg-clip-text",style:{backgroundImage:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:"PARALLEL PREMIUM"})]}),_.jsx("button",{onClick:n,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:_.jsx(_g,{size:20})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsxs("h1",{className:"text-4xl font-black mb-2 tracking-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:["Unlock the ",_.jsx("span",{className:"text-blue-500",children:"Full Power"})]}),_.jsx("p",{className:"max-w-xs mx-auto",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Get the ultimate privacy experience with unlimited access to all features."})]}),_.jsx("div",{className:"grid grid-cols-1 gap-3 mb-8",children:a.map((l,u)=>_.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:u*.08},className:"p-4 rounded-2xl flex items-center gap-4",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0,0,0,0.04)"},children:[_.jsx("div",{className:"p-3 rounded-xl",style:{background:"rgba(59, 130, 246, 0.06)"},children:l.icon}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:l.title}),_.jsx("p",{className:"text-sm",style:{color:"rgba(0, 0, 0, 0.4)"},children:l.desc})]})]},u))}),_.jsxs("div",{className:"p-6 rounded-3xl relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.06))",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(20px)"},children:[_.jsx("div",{className:"absolute top-0 right-0 text-xs font-bold text-white px-3 py-1 rounded-bl-xl",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:"BEST VALUE"}),_.jsx("div",{className:"flex justify-between items-end mb-4",children:_.jsxs("div",{children:[_.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"rgba(0, 0, 0, 0.45)"},children:"Monthly Plan"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-3xl font-black",style:{color:"rgba(0, 0, 0, 0.85)"},children:"$4.99"}),_.jsx("span",{className:"text-sm line-through",style:{color:"rgba(0, 0, 0, 0.3)"},children:"$9.99"})]})]})}),_.jsx("ul",{className:"space-y-2 mb-6",children:["Ad-free experience","Priority support","Early access to features"].map((l,u)=>_.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"rgba(0, 0, 0, 0.6)"},children:[_.jsx(rx,{size:14,className:"text-green-500"})," ",l]},u))})]})]}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.85) 60%, transparent 100%)"},children:[_.jsxs("button",{onClick:()=>s(!0),className:"w-full text-white font-bold py-4 rounded-2xl active:scale-95 transition-all flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)"},children:[_.jsx(fo,{size:20,className:"fill-current"}),e?"You are Premium!":"Upgrade Now"]}),_.jsx("div",{className:"text-center mt-3",children:_.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.3)"},children:"Cancel anytime. Secure payment via Stripe."})})]}),_.jsx(Gi,{children:t&&_.jsx(vP,{onClose:()=>{s(!1)},onSuccess:()=>{s(!1),setTimeout(n,500)}})})]})},bP="https://cdn.jsdelivr.net/gh/jdecked/twemoji@latest/assets/svg",ff=n=>{const e=[];for(const t of n){const s=t.codePointAt(0);s===65039||s===65038||e.push(s.toString(16))}return`${bP}/${e.join("-")}.svg`},_m=[{name:"Love",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Reactions",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Dark",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Street",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Money",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Hands",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Animals",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Fun",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Food",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Weather",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Flags",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Symbols",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]}],xP=({onSelect:n,onClose:e})=>{const[t,s]=H.useState(0);return _.jsxs(zn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[55vh] rounded-t-3xl shadow-2xl z-40 flex flex-col overflow-hidden",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 -10px 40px rgba(0, 0, 0, 0.06)"},children:[_.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[_.jsx("span",{className:"font-medium text-sm",style:{color:"rgba(0, 0, 0, 0.5)"},children:_m[t].name}),_.jsx("button",{onClick:e,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:_.jsx(_g,{size:18})})]}),_.jsx("div",{className:"flex overflow-x-auto scrollbar-hide px-2 py-2 gap-1 flex-shrink-0",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.4)"},children:_m.map((a,l)=>_.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all",style:t===l?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.15))",border:"1px solid rgba(59, 130, 246, 0.3)",transform:"scale(1.1)",boxShadow:"0 4px 15px rgba(59, 130, 246, 0.12)"}:{background:"rgba(255,255,255,0.3)",border:"1px solid transparent"},title:a.name,children:_.jsx("img",{src:ff(a.icon),alt:a.name,width:22,height:22,loading:"lazy"})},a.name))}),_.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:_.jsx(Gi,{mode:"wait",children:_.jsx(zn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},className:"grid grid-cols-6 gap-2",children:_m[t].stickers.map((a,l)=>_.jsx(zn.button,{whileHover:{scale:1.15},whileTap:{scale:.85},onClick:()=>n(a),className:"aspect-square flex items-center justify-center rounded-xl transition-colors active:opacity-70 p-1.5",style:{background:"transparent"},onMouseEnter:u=>u.currentTarget.style.background="rgba(0,0,0,0.04)",onMouseLeave:u=>u.currentTarget.style.background="transparent",children:_.jsx("img",{src:ff(a),alt:a,width:42,height:42,loading:"lazy",draggable:!1,style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.15))"}})},l))},t)})})]})},TP={lower:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["SHIFT","z","x","c","v","b","n","m","BACK"],["NUM","SPACE","ENTER"]],upper:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["SHIFT","Z","X","C","V","B","N","M","BACK"],["NUM","SPACE","ENTER"]],num:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["SYM",".",",","?","!","'","BACK"],["ABC","SPACE","ENTER"]],sym:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","","","",""],["NUM",".",",","?","!","'","BACK"],["ABC","SPACE","ENTER"]]},xC=H.memo(({onKeyPress:n,onBackspace:e,onEnter:t,visible:s})=>{const[a,l]=H.useState("lower"),[u,d]=H.useState(!1),m=H.useRef(null),g=H.useRef(null),y=H.useCallback(O=>{switch(navigator.vibrate&&navigator.vibrate(5),O){case"SHIFT":a==="lower"?l("upper"):a==="upper"&&(u?(d(!1),l("lower")):d(!0));break;case"BACK":e();break;case"ENTER":t();break;case"SPACE":n(" ");break;case"NUM":l("num");break;case"SYM":l("sym");break;case"ABC":l(u?"upper":"lower");break;default:n(O),a==="upper"&&!u&&l("lower");break}},[a,u,n,e,t]),b=H.useCallback(()=>{m.current=setTimeout(()=>{g.current=setInterval(()=>{e(),navigator.vibrate&&navigator.vibrate(3)},60)},400)},[e]),S=H.useCallback(()=>{clearTimeout(m.current),clearInterval(g.current)},[]),C=O=>{switch(O){case"SPACE":return"flex-[3]";case"ENTER":return"flex-[1.5]";case"SHIFT":return"flex-[1.3]";case"BACK":return"flex-[1.3]";case"NUM":case"SYM":case"ABC":return"flex-[1.2]";default:return"flex-1"}},M=O=>{const Q=["SHIFT","BACK","ENTER","NUM","SYM","ABC","SPACE"].includes(O),ee=a==="upper",B=(()=>{switch(O){case"SHIFT":return _.jsx(gA,{size:20,fill:u?"currentColor":"none",strokeWidth:u?2.5:1.5});case"BACK":return _.jsx(LA,{size:20,strokeWidth:1.5});case"ENTER":return _.jsx("span",{className:"text-xs font-semibold tracking-wide",children:"Send"});case"SPACE":return _.jsx("span",{className:"text-xs tracking-wider",style:{color:"rgba(0,0,0,0.3)"},children:"incognito"});case"NUM":return _.jsx("span",{className:"text-xs font-semibold",children:"123"});case"SYM":return _.jsx("span",{className:"text-xs font-semibold",children:"#+="});case"ABC":return _.jsx("span",{className:"text-xs font-semibold",children:"ABC"});default:return _.jsx("span",{className:"text-[17px] font-normal",children:O})}})(),re=O==="ENTER"?"linear-gradient(135deg, #3b82f6, #6366f1)":ee&&O==="SHIFT"?"rgba(255, 255, 255, 0.75)":"rgba(0, 0, 0, 0.04)",le=O==="ENTER"?"white":"rgba(0, 0, 0, 0.65)";return _.jsx("button",{onTouchStart:O==="BACK"?b:void 0,onTouchEnd:O==="BACK"?S:void 0,onMouseDown:O==="BACK"?b:void 0,onMouseUp:O==="BACK"?S:void 0,onMouseLeave:O==="BACK"?S:void 0,onClick:()=>y(O),className:`h-[42px] rounded-lg flex items-center justify-center active:scale-[0.92] active:opacity-70 transition-all select-none ${C(O)}`,style:{background:Q?re:"rgba(255, 255, 255, 0.65)",color:Q?le:"rgba(0, 0, 0, 0.85)",border:O==="ENTER"?"none":"1px solid rgba(255, 255, 255, 0.5)",boxShadow:Q?"none":"0 1px 3px rgba(0,0,0,0.06)",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:B},O)};if(!s)return null;const L=TP[a];return _.jsxs(zn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:28,stiffness:350},className:"w-full flex-shrink-0",style:{background:"rgba(210, 215, 225, 0.85)",backdropFilter:"blur(30px) saturate(180%)",WebkitBackdropFilter:"blur(30px) saturate(180%)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",paddingBottom:"env(safe-area-inset-bottom, 8px)"},children:[_.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1.5",children:[_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),_.jsx("span",{className:"text-[9px] font-bold uppercase tracking-[0.15em]",style:{color:"rgba(0, 0, 0, 0.25)"},children:"Incognito Keyboard  No Data Leaves This App"})]}),_.jsx("div",{className:"px-1.5 pb-2 space-y-[5px]",children:L.map((O,Q)=>_.jsx("div",{className:"flex gap-[5px] justify-center px-0.5",children:O.map(ee=>M(ee))},Q))})]})});xC.displayName="IncognitoKeyboard";const SP=({onLock:n})=>{const[e,t]=H.useState(null),[s,a]=H.useState(!0),[l,u]=H.useState(""),[d,m]=H.useState(!1),[g,y]=H.useState(""),b=gP(s?null:l,s?null:g);H.useEffect(()=>{const C=M=>{M.key==="PrintScreen"&&alert(" Security Warning: Screenshots are discouraged in Parallel.")};return window.addEventListener("keyup",C),()=>window.removeEventListener("keyup",C)},[]);const S=C=>{C.preventDefault(),l&&g&&a(!1)};return s?_.jsxs("div",{className:"h-[100dvh] flex flex-col items-center justify-center p-8 font-sans overflow-hidden",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(60px) saturate(200%)",WebkitBackdropFilter:"blur(60px) saturate(200%)"},children:[_.jsxs("div",{className:"mb-12 relative flex flex-col items-center",children:[_.jsx("button",{onClick:n,className:"absolute -top-8 left-0 transition-colors",style:{color:"rgba(0, 0, 0, 0.4)"},children:_.jsx(bo,{size:24})}),_.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("defs",{children:_.jsx("clipPath",{id:"roundedBox",children:_.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25"})})}),_.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25",stroke:"rgba(0,0,0,0.7)",strokeWidth:"3",fill:"rgba(255,255,255,0.3)"}),_.jsxs("g",{clipPath:"url(#roundedBox)",children:[_.jsx("line",{x1:"38",y1:"0",x2:"38",y2:"100",stroke:"rgba(0,0,0,0.7)",strokeWidth:"4"}),_.jsx("line",{x1:"62",y1:"0",x2:"62",y2:"100",stroke:"rgba(0,0,0,0.7)",strokeWidth:"4"})]})]}),_.jsx("h1",{className:"text-2xl font-light tracking-[0.3em] mt-6",style:{fontFamily:"Inter, sans-serif",color:"rgba(0, 0, 0, 0.8)"},children:"PARALLEL"})]}),_.jsxs("form",{onSubmit:S,className:"w-full max-w-sm space-y-4",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsx("input",{value:g,onChange:C=>y(C.target.value),placeholder:"Username",className:"w-full p-4 rounded-2xl outline-none text-base transition-colors",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},autoFocus:!0}),_.jsx("input",{value:l,onChange:C=>u(C.target.value),placeholder:"Room Key",className:"w-full p-4 rounded-2xl outline-none text-base transition-colors",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}})]}),_.jsxs("button",{type:"submit",className:"w-full p-4 rounded-2xl font-semibold text-base transition-all flex items-center justify-center gap-2 active:scale-[0.98]",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",color:"white",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.25)"},children:[_.jsx("span",{children:"Enter Parallel"}),_.jsx(bo,{className:"rotate-180",size:18})]})]}),_.jsx("div",{className:"mt-auto mb-4 text-xs font-medium tracking-widest text-center",style:{color:"rgba(0, 0, 0, 0.3)"},children:"ENCRYPTED P2P MESSENGER"})]}):_.jsxs("div",{className:"h-[100dvh] w-full flex flex-col font-sans overflow-hidden relative",children:[_.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 opacity-[0.02] overflow-hidden flex flex-wrap content-center justify-center select-none",children:Array.from({length:12}).map((C,M)=>_.jsx("div",{className:"w-64 h-64 flex items-center justify-center transform -rotate-45",children:_.jsx("span",{className:"text-2xl font-black whitespace-nowrap",style:{color:"rgba(0, 0, 0, 0.5)"},children:"PARALLEL SECURE"})},M))}),_.jsx(Gi,{initial:!1,mode:"wait",children:e?_.jsx(DP,{chat:e,messages:b.messages.filter(C=>C.peerId===e.id),onSendMessage:(C,M)=>b.sendMessage(C,e.id,M),onVideoCall:C=>b.callPeer(e.id,C),onBack:()=>t(null),isTyping:!!b.typingPeers[e.id],onTyping:()=>b.sendTyping(e.id),onOpenStore:()=>m(!0)},"conversation"):_.jsx(EP,{peers:b.peers,onLock:n,onSelectChat:C=>t(C),status:b.status,currentUser:g,retentionEnabled:b.retentionEnabled,onToggleRetention:b.toggleRetention,onPanicWipe:()=>{b.panicWipe(),n()},onOpenStore:()=>m(!0)},"list")}),b.incomingCall&&_.jsx(MP,{call:b.incomingCall,onAnswer:()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(C=>{b.answerCall(C)}).catch(()=>{})},onReject:()=>b.endCall()}),b.activeCall&&_.jsx(NP,{call:b.activeCall,remoteStream:b.remoteStream,onEnd:()=>b.endCall()}),_.jsx(Gi,{children:d&&_.jsx(_P,{onClose:()=>m(!1)})})]})},EP=H.memo(({onLock:n,onSelectChat:e,peers:t,status:s,currentUser:a,retentionEnabled:l,onToggleRetention:u,onPanicWipe:d,onOpenStore:m})=>_.jsxs(zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full",children:[_.jsxs("header",{className:"px-4 py-3 flex justify-between items-center sticky top-0 z-10",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:n,style:{color:"rgba(0, 0, 0, 0.7)"},children:_.jsx(bo,{size:24,strokeWidth:2})}),_.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",children:[_.jsx("h1",{className:"text-xl font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:a}),_.jsx("span",{className:"text-[10px] mt-1",style:{color:"rgba(0, 0, 0, 0.3)"},children:""})]})]}),_.jsxs("div",{className:"flex gap-5 items-center",children:[_.jsx("button",{onClick:m,className:"text-amber-500 hover:text-amber-400 active:scale-95 transition-all",title:"Premium Store",children:_.jsx(fo,{size:22,className:"fill-current"})}),_.jsx("button",{onClick:d,className:"relative active:scale-90 transition-all",title:"Panic Wipe  Erase All Messages",children:_.jsx("div",{className:"p-1.5 rounded-lg",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:_.jsx(gR,{size:16,className:"text-red-500",strokeWidth:2})})}),_.jsxs("button",{onClick:()=>u(!l),className:`relative transition-all ${l?"text-blue-500":""}`,style:l?{}:{color:"rgba(0, 0, 0, 0.3)"},title:l?"24h Retention ON":"24h Retention OFF",children:[_.jsx(bm,{size:22,strokeWidth:1.5}),l&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute -top-1.5 -right-2.5 bg-blue-500 text-[7px] font-black text-white px-1 py-0.5 rounded-md leading-none tracking-tight",style:{boxShadow:"0 0 8px rgba(59, 130, 246, 0.5)"},children:"24H"}),_.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-20 bg-blue-400",style:{animationDuration:"2s"}})]})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 100 100",fill:"none",children:[_.jsx("rect",{x:"10",y:"10",width:"80",height:"80",rx:"22",stroke:"rgba(0,0,0,0.15)",strokeWidth:"4",fill:"rgba(255,255,255,0.35)"}),_.jsx("line",{x1:"40",y1:"22",x2:"40",y2:"78",stroke:"rgba(0,0,0,0.5)",strokeWidth:"5",strokeLinecap:"round"}),_.jsx("line",{x1:"60",y1:"22",x2:"60",y2:"78",stroke:"rgba(0,0,0,0.5)",strokeWidth:"5",strokeLinecap:"round"})]}),s==="connected"&&_.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),s==="connecting"&&_.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-yellow-500 rounded-full border-2 border-white animate-pulse"})]})]})]}),_.jsx("div",{className:"px-4 mt-2 mb-4",children:_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:_.jsx("svg",{className:"w-4 h-4",style:{color:"rgba(0, 0, 0, 0.3)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),_.jsx("input",{type:"text",placeholder:"Search",className:"w-full py-2.5 pl-10 pr-4 rounded-2xl text-sm outline-none",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.6)",color:"rgba(0, 0, 0, 0.8)"}})]})}),_.jsxs("div",{className:"pl-4 pb-4 overflow-x-auto whitespace-nowrap scrollbar-hide",children:[_.jsxs("div",{className:"inline-flex flex-col items-center mr-4 relative",children:[_.jsxs("div",{className:"w-16 h-16 rounded-full flex items-center justify-center relative",style:{background:"rgba(255, 255, 255, 0.35)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:[_.jsx("span",{className:"text-2xl font-bold",style:{color:"rgba(0, 0, 0, 0.3)"},children:"+"}),_.jsx("div",{className:"absolute bottom-0 right-0 bg-blue-500 rounded-full p-0.5",children:_.jsx(nR,{size:14,className:"text-white"})})]}),_.jsx("span",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Your note"})]}),t.map(g=>_.jsxs("div",{className:"inline-flex flex-col items-center mr-4",onClick:()=>e({id:g.id,name:g.user}),children:[_.jsx("div",{className:"w-16 h-16 rounded-full p-[2px]",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:_.jsx("div",{className:"w-full h-full rounded-full p-[2px]",style:{background:"rgba(255, 255, 255, 0.9)"},children:_.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-lg font-semibold cursor-pointer",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(g.user||"?")[0].toUpperCase()})})}),_.jsx("span",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.7)"},children:g.user})]},g.id))]}),_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_.jsxs("div",{className:"px-4 py-2 flex justify-between items-center",children:[_.jsx("h3",{className:"font-bold text-base",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Messages"}),_.jsx("span",{className:"text-[#0095F6] text-sm font-semibold",children:"Requests"})]}),t.length===0&&_.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 px-6 py-10",children:[_.jsxs("div",{className:"relative w-32 h-32 mb-8 flex items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-[0.06]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.5)":"rgba(234, 179, 8, 0.5)",animationDuration:"2.5s"}}),_.jsx("div",{className:"absolute inset-4 rounded-full animate-ping opacity-[0.1]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.4)":"rgba(234, 179, 8, 0.4)",animationDuration:"2s",animationDelay:"0.5s"}}),_.jsx("div",{className:"absolute inset-8 rounded-full animate-ping opacity-[0.15]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.3)":"rgba(234, 179, 8, 0.3)",animationDuration:"1.5s",animationDelay:"1s"}}),_.jsx("div",{className:"relative w-16 h-16 rounded-full flex items-center justify-center z-10",style:{background:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:s==="connecting"?_.jsx(zn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:_.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(234, 179, 8, 0.8)",strokeWidth:"2",strokeLinecap:"round",children:_.jsx("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})})}):s==="connected"?_.jsx(zn.div,{animate:{scale:[1,1.15,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:_.jsx(oR,{size:26,strokeWidth:1.5,className:"-rotate-12",style:{color:"rgba(59, 130, 246, 0.8)"}})}):_.jsx(lx,{size:26,style:{color:"rgba(0, 0, 0, 0.3)"}})})]}),_.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"rgba(0, 0, 0, 0.75)"},children:s==="connecting"?"Connecting...":s==="connected"?"Room is Ready":"Disconnected"}),_.jsx("p",{className:"text-sm text-center mb-6",style:{color:"rgba(0, 0, 0, 0.35)"},children:s==="connecting"?"Establishing secure connection":s==="connected"?"Share the room key with a friend to start chatting":"Connection lost, please try again"}),s==="connected"&&_.jsxs(zn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-4 py-2 rounded-2xl flex items-center gap-2 mb-4",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)"},children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),_.jsx("span",{className:"text-xs font-medium",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Encrypted & Listening"})]}),_.jsxs("div",{className:"w-full max-w-xs p-4 rounded-2xl mt-2",style:{background:"rgba(255, 255, 255, 0.35)",border:"1px solid rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)"},children:[_.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:"rgba(0, 0, 0, 0.3)"},children:"Quick Tips"}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:_.jsx("span",{className:"text-xs",children:""})}),_.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Messages are end-to-end encrypted"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:_.jsx("span",{className:"text-xs",children:""})}),_.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Both users must enter the same room key"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:_.jsx("span",{className:"text-xs",children:""})}),_.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Messages vanish when you close the app"})]})]})]})]}),t.map(g=>_.jsxs("button",{onClick:()=>e({id:g.id,name:g.user}),className:"w-full px-4 py-3 flex items-center gap-3 transition-colors",style:{background:"transparent"},onMouseEnter:y=>y.currentTarget.style.background="rgba(255,255,255,0.3)",onMouseLeave:y=>y.currentTarget.style.background="transparent",children:[_.jsxs("div",{className:"w-14 h-14 rounded-full flex items-center justify-center font-bold text-lg relative",style:{background:"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(255, 255, 255, 0.5)",color:"rgba(0, 0, 0, 0.7)"},children:[(g.user||"?")[0].toUpperCase(),_.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white"})]}),_.jsxs("div",{className:"flex-1 text-left",children:[_.jsx("h3",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.85)"},children:g.user}),_.jsxs("div",{className:"text-sm flex items-center gap-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:[_.jsx("span",{children:"Active now"}),_.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"})]})]}),_.jsx("div",{style:{color:"rgba(0, 0, 0, 0.3)"},children:_.jsx(SA,{size:22,strokeWidth:1.5})})]},g.id))]})]})),CP=n=>{const e=new Date(n),s=new Date-e,a=Math.floor(s/6e4),l=Math.floor(s/36e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l<48?"Yesterday "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},AP=(n,e)=>n?e.timestamp-n.timestamp>900*1e3:!0,RP=(n,e,t)=>n?e&&t?"rounded-[22px]":e?"rounded-[22px] rounded-br-md":t?"rounded-[22px] rounded-tr-md":"rounded-[22px] rounded-tr-md rounded-br-md":e&&t?"rounded-[22px]":e?"rounded-[22px] rounded-bl-md":t?"rounded-[22px] rounded-tl-md":"rounded-[22px] rounded-tl-md rounded-bl-md",wP=["","","","","",""],DP=H.memo(({chat:n,onBack:e,messages:t,onSendMessage:s,onVideoCall:a,isTyping:l,onTyping:u,onOpenStore:d})=>{const[m,g]=H.useState(""),[y,b]=H.useState(null),[S,C]=H.useState(!1),[M,L]=H.useState(!1),{isPremium:O}=z0(),Q=H.useRef(null),ee=H.useRef(null),B=H.useRef(null),re=H.useRef(null),le=H.useCallback(me=>{g(Ie=>Ie+me),ee.current||(u(),ee.current=setTimeout(()=>{ee.current=null},2e3))},[u]),he=H.useCallback(()=>{g(me=>me.slice(0,-1))},[]),D=H.useCallback(()=>{m.trim()&&(s(m,"text"),g(""),navigator.vibrate&&navigator.vibrate(10))},[m,s]),A=H.useCallback(()=>{if(!O){d();return}B.current?.click()},[O,d]),w=H.useCallback(me=>{const Ie=me.target.files?.[0];if(!Ie)return;if(!Ie.type.startsWith("image/")){alert("Only images are supported.");return}if(Ie.size>2*1024*1024){alert("Image must be under 2MB for P2P transfer.");return}const Y=new FileReader;Y.onload=()=>{s(Y.result,"image")},Y.readAsDataURL(Ie),me.target.value=""},[s]),I=H.useCallback(()=>{if(!O){d();return}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Video calls require HTTPS and camera permissions.");return}try{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(me=>{a(me)}).catch(()=>alert("Camera access required for video calls."))}catch{alert("Video calls are not supported on this device/browser.")}},[O,d,a]),V=H.useCallback(me=>{me.preventDefault(),m.trim()&&(s(m,"text"),g(""),navigator.vibrate&&navigator.vibrate(10))},[m,s]),z=H.useCallback(()=>{s("","sticker"),navigator.vibrate&&navigator.vibrate(10)},[s]);H.useEffect(()=>{Q.current?.scrollIntoView({behavior:"smooth"})},[t,l]);const N=t.reduce((me,Ie,Y)=>Ie.isMe?Y:me,-1);return _.jsxs(zn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 flex flex-col z-20",children:[_.jsxs("header",{className:"px-3 py-2 flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:e,className:"active:opacity-50 transition-opacity",style:{color:"rgba(0, 0, 0, 0.7)"},children:_.jsx(bo,{size:26,strokeWidth:1.5})}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-9 h-9 rounded-full p-[1.5px]",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:_.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.9)"},children:_.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-sm font-bold uppercase",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(n.name||"?")[0]})})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("h3",{className:"text-[15px] font-semibold leading-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:n.name}),_.jsx("span",{className:"text-[11px] leading-tight",style:{color:"rgba(0, 0, 0, 0.4)"},children:l?_.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:["typing",_.jsxs("span",{className:"flex gap-0.5",children:[_.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),_.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),_.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Active now"})]})]})]}),_.jsxs("div",{className:"flex gap-5 pr-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:[_.jsx(lx,{size:22,strokeWidth:1.5,className:"opacity-50"}),_.jsxs("button",{onClick:I,className:"relative",children:[_.jsx(pf,{size:24,strokeWidth:1.5,className:O?"":"text-blue-500",style:O?{color:"rgba(0, 0, 0, 0.6)"}:{}}),!O&&_.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-400 rounded-full p-[2px]",children:_.jsx(fo,{size:8,className:"text-black fill-current"})})]})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-2",onClick:()=>b(null),children:[_.jsxs("div",{className:"flex flex-col items-center mb-6 mt-2",children:[_.jsx("div",{className:"w-20 h-20 rounded-full p-[2px] mb-3",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:_.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.8)"},children:_.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-2xl font-bold uppercase",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(n.name||"?")[0]})})}),_.jsx("h3",{className:"font-bold text-lg",style:{color:"rgba(0, 0, 0, 0.85)"},children:n.name}),_.jsx("p",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Parallel  Encrypted P2P"}),_.jsxs("div",{className:"rounded-full px-3 py-1.5 mt-3 flex items-center gap-1.5",style:{background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(10px)"},children:[_.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"rgba(0, 0, 0, 0.35)"},children:[_.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),_.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),_.jsx("span",{className:"text-[11px]",style:{color:"rgba(0, 0, 0, 0.35)"},children:"End-to-end encrypted"})]})]}),t.map((me,Ie)=>{const Y=me.isMe,oe=Ie>0?t[Ie-1]:null,fe=Ie<t.length-1?t[Ie+1]:null,Re=oe&&oe.isMe===Y,je=fe&&fe.isMe===Y,P=!Re,q=!je,J=!Y&&q,ne=AP(oe,me),ue=P&&Ie>0&&!ne?"mt-2":"mt-[2px]",de=RP(Y,P,q);return _.jsxs(df.Fragment,{children:[ne&&_.jsx("div",{className:"flex justify-center my-4",children:_.jsx("span",{className:"text-[11px] font-medium",style:{color:"rgba(0, 0, 0, 0.35)"},children:CP(me.timestamp)})}),_.jsxs("div",{className:`flex ${Y?"justify-end":"justify-start"} ${ue} relative group`,children:[!Y&&_.jsx("div",{className:"w-7 h-7 mr-2 flex-shrink-0 self-end",children:J?_.jsx("div",{className:"w-full h-full rounded-full p-[1px]",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1, #0ea5e9)"},children:_.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.85)"},children:_.jsx("span",{className:"text-[10px] font-bold uppercase select-none",style:{color:"rgba(0, 0, 0, 0.6)"},children:(me.user||"?")[0]})})}):_.jsx("div",{className:"w-full h-full"})}),_.jsxs("div",{className:"relative max-w-[75%]",children:[_.jsx(Gi,{children:y===me.id&&_.jsx(zn.div,{initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30",children:_.jsx("div",{className:"rounded-full px-2 py-1.5 flex gap-1 shadow-2xl",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(30px) saturate(200%)",WebkitBackdropFilter:"blur(30px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:wP.map(ve=>_.jsx("button",{className:"hover:scale-125 transition-transform px-0.5 active:scale-90",onClick:Oe=>{Oe.stopPropagation(),b(null)},children:_.jsx("img",{src:ff(ve),alt:ve,width:26,height:26,draggable:!1})},ve))})})}),me.type==="sticker"?_.jsx("div",{className:"hover:scale-110 transition-transform cursor-pointer active:scale-95",onDoubleClick:()=>b(me.id),children:_.jsx("img",{src:ff(me.text),alt:me.text,width:100,height:100,draggable:!1,style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.15))"}})}):me.type==="image"?_.jsx("div",{onDoubleClick:()=>b(me.id),className:`overflow-hidden cursor-pointer ${de}`,style:Y?{border:"2px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"}:{border:"2px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"},children:_.jsx("img",{src:me.text,alt:"Shared",className:"max-w-[260px] max-h-[300px] object-cover",style:{borderRadius:"inherit"}})}):_.jsx("div",{onDoubleClick:()=>b(me.id),className:`
                                                px-3.5 py-2 text-[15px] leading-[20px] break-words cursor-pointer select-none ${de}
                                            `,style:Y?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.75), rgba(99, 102, 241, 0.65))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.25)",color:"white",boxShadow:"0 4px 16px rgba(59, 130, 246, 0.15)"}:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.65)",color:"rgba(0, 0, 0, 0.85)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:me.text}),Y&&q&&_.jsx("div",{className:"flex justify-end mt-0.5 pr-1",children:Ie===N&&me.status==="delivered"?_.jsx("span",{className:"text-[10px] font-normal",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Seen"}):me.status==="delivered"?_.jsx(CA,{size:13,className:"text-blue-500"}):me.status==="failed"?_.jsx("span",{className:"text-[10px] text-red-500 font-medium",children:"Not sent"}):_.jsx(rx,{size:13,style:{color:"rgba(0, 0, 0, 0.25)"}})})]})]})]},me.id)}),l&&_.jsxs("div",{className:"flex justify-start mt-2 mb-1",children:[_.jsx("div",{className:"w-7 h-7 rounded-full mr-2 flex-shrink-0 self-end flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.45)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:_.jsx("span",{className:"text-[10px] font-bold uppercase",style:{color:"rgba(0, 0, 0, 0.6)"},children:(n.name||"?")[0]})}),_.jsx("div",{className:"rounded-[22px] rounded-bl-md px-4 py-3",style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.65)"},children:_.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"0ms"}}),_.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"150ms"}}),_.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"300ms"}})]})})]}),_.jsx("div",{ref:Q})]}),_.jsx("input",{type:"file",ref:B,accept:"image/*",className:"hidden",onChange:w}),_.jsxs("form",{onSubmit:V,className:"px-3 py-2 flex items-center gap-2",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.5)"},children:[_.jsxs("button",{type:"button",onClick:A,className:"h-11 w-11 flex items-center justify-center rounded-full text-white flex-shrink-0 active:scale-90 transition-transform relative",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.2)"},children:[_.jsx(ax,{size:22}),!O&&_.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-400 rounded-full p-[2px]",children:_.jsx(fo,{size:8,className:"text-black fill-current"})})]}),_.jsxs("div",{className:"flex-1 rounded-full h-11 flex items-center px-4 gap-2 cursor-text",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.65)",backdropFilter:"blur(10px)"},onClick:()=>{L(!0),C(!1)},children:[_.jsxs("div",{ref:re,className:"flex-1 text-[15px] min-h-[20px] select-none overflow-hidden whitespace-nowrap",style:{color:m?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.35)"},children:[m||"Message...",M&&_.jsx("span",{className:"inline-block w-[2px] h-[18px] bg-blue-500 ml-[1px] align-text-bottom animate-pulse"})]}),m?_.jsx("button",{type:"submit",className:"text-blue-500 font-bold text-sm flex-shrink-0 active:opacity-60",children:"Send"}):_.jsx(_.Fragment,{children:_.jsx("button",{type:"button",onClick:()=>{O?C(!S):d()},className:"flex-shrink-0 active:opacity-50",style:{color:"rgba(0, 0, 0, 0.5)"},children:_.jsx(fR,{size:22,strokeWidth:1.5})})})]}),!m&&_.jsx("button",{type:"button",onClick:z,className:"flex-shrink-0 active:scale-75 transition-transform",style:{color:"rgba(0, 0, 0, 0.5)"},children:_.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),_.jsx(Gi,{children:S&&_.jsx(xP,{onClose:()=>C(!1),onSelect:me=>{s(me,"sticker"),C(!1)}})}),_.jsx(Gi,{children:_.jsx(xC,{visible:M&&!S,onKeyPress:le,onBackspace:he,onEnter:D})})]})}),MP=({onAnswer:n,onReject:e})=>_.jsxs(zn.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},className:"fixed top-4 left-4 right-4 rounded-3xl p-4 shadow-2xl z-50 flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 rounded-full animate-pulse",style:{background:"rgba(59, 130, 246, 0.1)"}}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Incoming Video Call..."}),_.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Encrypted P2P Connection"})]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:e,className:"p-3 rounded-full text-white active:scale-90 transition-transform",style:{background:"rgba(239, 68, 68, 0.85)"},children:_.jsx(ox,{size:20})}),_.jsx("button",{onClick:n,className:"p-3 rounded-full text-white active:scale-90 transition-transform",style:{background:"rgba(34, 197, 94, 0.85)"},children:_.jsx(pf,{size:20})})]})]}),NP=({call:n,remoteStream:e,onEnd:t})=>{const s=H.useRef(null),a=H.useRef(null),[l,u]=H.useState(!1),[d,m]=H.useState(!1);H.useEffect(()=>{s.current&&e&&(s.current.srcObject=e),a.current&&n.stream&&(a.current.srcObject=n.stream)},[e,n.stream]);const g=()=>{n.stream&&(n.stream.getAudioTracks().forEach(b=>b.enabled=l),u(!l))},y=()=>{n.stream&&(n.stream.getVideoTracks().forEach(b=>b.enabled=d),m(!d))};return _.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col",style:{background:"#f0f0f0"},children:[_.jsxs("div",{className:"flex-1 relative",style:{background:"rgba(0, 0, 0, 0.05)"},children:[e?_.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):_.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Connecting..."}),_.jsx("div",{className:"absolute top-4 right-4 w-32 h-48 rounded-3xl overflow-hidden shadow-lg",style:{background:"rgba(255, 255, 255, 0.5)",border:"2px solid rgba(255, 255, 255, 0.7)"},children:_.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})})]}),_.jsxs("div",{className:"h-24 flex items-center justify-center gap-8 pb-4",style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.6)"},children:[_.jsx("button",{onClick:g,className:"p-4 rounded-full transition-all active:scale-90",style:l?{background:"rgba(0,0,0,0.8)",color:"white"}:{background:"rgba(255,255,255,0.6)",color:"rgba(0,0,0,0.7)",border:"1px solid rgba(255,255,255,0.7)"},children:l?_.jsx(XA,{}):_.jsx(WA,{})}),_.jsx("button",{onClick:t,className:"p-4 rounded-full text-white shadow-lg scale-110 active:scale-95 transition-transform",style:{background:"rgba(220, 38, 38, 0.85)",boxShadow:"0 4px 20px rgba(220, 38, 38, 0.3)"},children:_.jsx(ox,{size:32})}),_.jsx("button",{onClick:y,className:"p-4 rounded-full transition-all active:scale-90",style:d?{background:"rgba(0,0,0,0.8)",color:"white"}:{background:"rgba(255,255,255,0.6)",color:"rgba(0,0,0,0.7)",border:"1px solid rgba(255,255,255,0.7)"},children:d?_.jsx(_R,{}):_.jsx(pf,{})})]})]})},kP=({onLock:n})=>{const[e,t]=H.useState(12),[s,a]=H.useState(45),[l,u]=H.useState(24);return H.useEffect(()=>{const d=setInterval(()=>{t(m=>Math.max(5,Math.min(95,m+(Math.floor(Math.random()*10)-4)))),a(m=>Math.max(30,Math.min(85,m+(Math.floor(Math.random()*4)-2)))),u(Math.floor(Math.random()*15)+15)},2e3);return()=>clearInterval(d)},[]),_.jsxs("div",{className:"h-[100dvh] w-full flex flex-col font-sans",style:{background:"#f2f2f7"},children:[_.jsxs("header",{className:"px-4 py-3 flex items-center gap-3 bg-white border-b border-gray-200",children:[_.jsx("button",{onClick:n,className:"text-blue-500 active:opacity-50",children:_.jsx(bo,{size:26,strokeWidth:2})}),_.jsx("h1",{className:"text-xl font-bold text-black tracking-tight",children:"System Status"})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 pb-12 space-y-6",children:[_.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center",children:_.jsx(uR,{size:32,className:"text-blue-500"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"iPhone 14 Pro"}),_.jsx("p",{className:"text-sm text-gray-500",children:"iOS 16.5  256GB"}),_.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[_.jsx(wA,{size:14,className:"text-green-500"}),_.jsx("span",{className:"text-xs text-green-600 font-medium",children:"System optimized"})]})]})]}),_.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 pl-2",children:"Live Telemetry"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center mb-3",children:_.jsx(PA,{size:20,className:"text-indigo-500"})}),_.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[e,"%"]}),_.jsx("span",{className:"text-xs text-gray-500 mt-1 font-medium uppercase tracking-wide",children:"CPU Load"})]}),_.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center mb-3",children:_.jsx(sx,{size:20,className:"text-purple-500"})}),_.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[s,"%"]}),_.jsx("span",{className:"text-xs text-gray-500 mt-1 font-medium uppercase tracking-wide",children:"Memory"})]}),_.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center mb-3",children:_.jsx(qA,{size:20,className:"text-orange-500"})}),_.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["142",_.jsx("span",{className:"text-lg text-gray-500",children:"GB"})]}),_.jsx("span",{className:"text-xs text-gray-500 mt-1 font-medium uppercase tracking-wide",children:"Available"})]}),_.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 flex items-center justify-center mb-3",children:_.jsx(ER,{size:20,className:"text-teal-500"})}),_.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[l,_.jsx("span",{className:"text-lg text-gray-500",children:"ms"})]}),_.jsx("span",{className:"text-xs text-gray-500 mt-1 font-medium uppercase tracking-wide",children:"Latency"})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[_.jsx("span",{className:"font-semibold text-gray-900",children:"Thermal State"}),_.jsx("span",{className:"text-sm text-green-500 font-medium",children:"Nominal"})]}),_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[_.jsx("span",{className:"font-semibold text-gray-900",children:"Battery Health"}),_.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"96%"})]}),_.jsxs("div",{className:"p-4 flex justify-between items-center",children:[_.jsx("span",{className:"font-semibold text-gray-900",children:"Uptime"}),_.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"14 days, 2 hrs"})]})]}),_.jsxs("div",{className:"text-center pt-4",children:[_.jsx("button",{className:"px-6 py-2 bg-blue-50 text-blue-600 rounded-full text-sm font-semibold active:scale-95 transition-transform",children:"Run Diagnostics"}),_.jsx("p",{className:"text-[10px] text-gray-400 mt-4 uppercase tracking-widest",children:"Local Device Check Tool"})]})]})]})},VP=({onLock:n})=>{const[e,t]=H.useState([{id:"bitcoin",symbol:"BTC",name:"Bitcoin",balance:.0165,price:96400,change:2.4,color:"#F7931A",history:[94e3,95200,94800,95600,96e3,96200,96400]},{id:"ethereum",symbol:"ETH",name:"Ethereum",balance:.48,price:2750,change:-1.2,color:"#627EEA",history:[2800,2780,2760,2750,2740,2745,2750]},{id:"solana",symbol:"SOL",name:"Solana",balance:5.2,price:112,change:5.8,color:"#9945FF",history:[105,107,108,110,111,112,112.4]},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin",balance:1250,price:.182,change:3.1,color:"#C2A633",history:[.175,.177,.179,.18,.181,.182,.182]},{id:"ripple",symbol:"XRP",name:"XRP",balance:320,price:.78,change:-.8,color:"#23292F",history:[.79,.785,.782,.78,.779,.781,.78]},{id:"cardano",symbol:"ADA",name:"Cardano",balance:450,price:.62,change:1.5,color:"#0033AD",history:[.61,.612,.615,.618,.619,.621,.62]}]),[s,a]=H.useState(!1),[l,u]=H.useState(!1),[d,m]=H.useState("portfolio"),[g,y]=H.useState(null),b=[{type:"receive",asset:"BTC",amount:"+0.005",from:"0x8a2f...3b1e",time:"2h ago",usdValue:"+$482.00"},{type:"send",asset:"ETH",amount:"-0.12",to:"0x4c7d...9f2a",time:"5h ago",usdValue:"-$330.00"},{type:"swap",assetFrom:"SOL",assetTo:"DOGE",amount:"2 SOL  1,230 DOGE",time:"1d ago",usdValue:"$224.80"},{type:"receive",asset:"XRP",amount:"+150",from:"Binance",time:"2d ago",usdValue:"+$117.00"},{type:"buy",asset:"ADA",amount:"+200",time:"3d ago",usdValue:"$124.00"},{type:"send",asset:"BTC",amount:"-0.003",to:"0xf1e2...a8c4",time:"4d ago",usdValue:"-$289.20"},{type:"receive",asset:"SOL",amount:"+1.5",from:"Phantom",time:"5d ago",usdValue:"+$168.00"}],S=H.useCallback(async()=>{a(!0);try{const le=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,dogecoin,ripple,cardano&vs_currencies=usd&include_24hr_change=true")).json();le&&(t(he=>he.map(D=>{const A=le[D.id];if(A){const w=A.usd;return{...D,price:w,change:A.usd_24h_change||D.change,history:[...D.history.slice(1),w]}}return D})),y(new Date))}catch{}finally{setTimeout(()=>a(!1),600)}},[]);H.useEffect(()=>{S();const B=setInterval(S,3e4);return()=>clearInterval(B)},[S]);const C=e.reduce((B,re)=>B+re.price*re.balance,0),M=e.reduce((B,re)=>{const le=re.price*re.balance;return B+le*(re.change/100)},0),L=C>0?M/(C-M)*100:0,O=(B,re,le)=>{const he=Math.min(...B),A=Math.max(...B)-he||1,w=re/(B.length-1);return"M "+B.map((I,V)=>`${V*w},${le-(I-he)/A*le}`).join(" L ")},Q=B=>B>=1?"$"+B.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"$"+B.toFixed(4),ee=B=>({BTC:"",ETH:"",SOL:"",DOGE:"",XRP:"",ADA:""})[B]||B[0];return _.jsxs("div",{className:"h-[100dvh] flex flex-col font-sans overflow-hidden",children:[_.jsxs("div",{className:"px-5 pt-8 pb-6 relative z-10",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)"},children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("button",{onClick:n,className:"p-2.5 rounded-xl active:scale-95 transition-transform",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:_.jsx(bo,{size:18,style:{color:"rgba(0, 0, 0, 0.7)"}})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{className:"p-2.5 rounded-xl relative",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.6)"},children:[_.jsx(xA,{size:18}),_.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]}),_.jsx("button",{className:"p-2.5 rounded-xl",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.6)"},children:_.jsx(sR,{size:18})}),_.jsx("button",{className:"p-2.5 rounded-xl",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.6)"},children:_.jsx(v_,{size:18})})]})]}),_.jsxs("div",{className:"flex flex-col items-center mb-5",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("span",{className:"text-xs font-semibold tracking-[0.15em] uppercase",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Total Balance"}),_.jsx("button",{onClick:()=>u(!l),className:"active:opacity-60",style:{color:"rgba(0, 0, 0, 0.35)"},children:l?_.jsx(BA,{size:14}):_.jsx(FA,{size:14})})]}),_.jsx("h1",{className:"text-[38px] font-black tracking-tight leading-none",style:{color:"rgba(0, 0, 0, 0.85)"},children:l?"":`$${C.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}),_.jsxs("div",{className:`flex items-center gap-1 mt-2 px-3 py-1 rounded-full text-xs font-bold ${M>=0?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:[M>=0?_.jsx(ch,{size:13}):_.jsx(lh,{size:13}),_.jsxs("span",{children:[M>=0?"+":"","$",Math.abs(M).toFixed(2)," (",L>=0?"+":"",L.toFixed(1),"%)"]})]}),g&&_.jsxs("span",{className:"text-[10px] mt-2 flex items-center gap-1",style:{color:"rgba(0, 0, 0, 0.3)"},children:[_.jsx(bm,{size:10}),"Updated ",g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),_.jsxs("div",{className:"flex justify-center gap-5",children:[_.jsx(Gl,{icon:_.jsx(ch,{}),label:"Send"}),_.jsx(Gl,{icon:_.jsx(lh,{}),label:"Receive"}),_.jsx(Gl,{icon:_.jsx(Fp,{className:s?"animate-spin":""}),label:"Swap",onClick:S}),_.jsx(Gl,{icon:_.jsx(zh,{}),label:"Buy"}),_.jsx(Gl,{icon:_.jsx(VA,{}),label:"Copy"})]})]}),_.jsxs("div",{className:"flex px-5 pt-4 pb-2 gap-4",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.3)"},children:[_.jsxs("button",{onClick:()=>m("portfolio"),className:"pb-2 text-sm font-semibold transition-colors relative",style:{color:d==="portfolio"?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.35)"},children:["Portfolio",d==="portfolio"&&_.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500 rounded-full"})]}),_.jsxs("button",{onClick:()=>m("activity"),className:"pb-2 text-sm font-semibold transition-colors relative",style:{color:d==="activity"?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.35)"},children:["Activity",d==="activity"&&_.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500 rounded-full"})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-2",children:d==="portfolio"?_.jsxs(_.Fragment,{children:[e.map(B=>{const re=B.price*B.balance;return _.jsxs("div",{className:"p-4 rounded-2xl flex items-center justify-between transition-all",style:{background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(20px)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-11 h-11 rounded-full flex items-center justify-center text-lg font-black",style:{backgroundColor:B.color+"18",color:B.color,border:`1.5px solid ${B.color}33`},children:ee(B.symbol)}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-[15px] leading-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:B.name}),_.jsxs("span",{className:"text-[11px]",style:{color:"rgba(0, 0, 0, 0.4)"},children:[B.balance," ",B.symbol]})]})]}),_.jsx("div",{className:"w-16 h-8 mx-2",children:_.jsx("svg",{width:"64",height:"32",viewBox:"0 0 100 50",preserveAspectRatio:"none",children:_.jsx("path",{d:O(B.history,100,50),fill:"none",stroke:B.change>=0?"#16a34a":"#dc2626",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),_.jsxs("div",{className:"text-right min-w-[80px]",children:[_.jsx("h4",{className:"font-bold text-[14px]",style:{color:"rgba(0, 0, 0, 0.85)"},children:l?"":`$${re.toFixed(2)}`}),_.jsxs("div",{className:`text-[11px] font-semibold flex items-center justify-end gap-0.5 ${B.change>=0?"text-green-600":"text-red-600"}`,children:[B.change>=0?_.jsx(ch,{size:10}):_.jsx(lh,{size:10}),B.change>=0?"+":"",B.change.toFixed(2),"%"]}),_.jsx("span",{className:"text-[10px]",style:{color:"rgba(0, 0, 0, 0.3)"},children:Q(B.price)})]})]},B.id)}),_.jsxs("div",{className:"mt-4 px-1",children:[_.jsxs("h3",{className:"text-sm font-bold mb-3 flex items-center gap-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:[_.jsx(__,{size:14})," Trending"]}),_.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{name:"PEPE",change:"+12.4%",color:"#16a34a"},{name:"WIF",change:"+8.7%",color:"#16a34a"},{name:"BONK",change:"-3.2%",color:"#dc2626"},{name:"JUP",change:"+6.1%",color:"#16a34a"}].map(B=>_.jsxs("div",{className:"rounded-xl px-3 py-2 min-w-[80px] text-center flex-shrink-0",style:{background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.6)"},children:[_.jsx("span",{className:"text-xs font-bold block",style:{color:"rgba(0, 0, 0, 0.85)"},children:B.name}),_.jsx("span",{className:"text-[11px] font-semibold",style:{color:B.color},children:B.change})]},B.name))})]})]}):_.jsx(_.Fragment,{children:b.map((B,re)=>_.jsxs("div",{className:"p-4 rounded-2xl flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(20px)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${B.type==="receive"?"bg-green-500/10 text-green-600":B.type==="send"?"bg-red-500/10 text-red-600":B.type==="swap"?"bg-purple-500/10 text-purple-600":"bg-blue-500/10 text-blue-600"}`,children:B.type==="receive"?_.jsx(lh,{size:18}):B.type==="send"?_.jsx(ch,{size:18}):B.type==="swap"?_.jsx(Fp,{size:16}):_.jsx(zh,{size:16})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold text-[14px] capitalize",style:{color:"rgba(0, 0, 0, 0.85)"},children:B.type}),_.jsx("span",{className:"text-[11px]",style:{color:"rgba(0, 0, 0, 0.4)"},children:B.type==="swap"?B.amount:`${B.amount} ${B.asset}`})]})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:`text-[13px] font-bold ${B.usdValue.startsWith("+")?"text-green-600":B.usdValue.startsWith("-")?"text-red-600":""}`,style:!B.usdValue.startsWith("+")&&!B.usdValue.startsWith("-")?{color:"rgba(0, 0, 0, 0.85)"}:{},children:B.usdValue}),_.jsxs("div",{className:"text-[10px] flex items-center justify-end gap-1",style:{color:"rgba(0, 0, 0, 0.3)"},children:[_.jsx(bm,{size:9}),B.time]})]})]},re))})}),_.jsxs("div",{className:"h-20 flex items-center justify-around pb-4",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.5)"},children:[_.jsx($l,{icon:_.jsx(TR,{}),label:"Wallet",active:!0}),_.jsx($l,{icon:_.jsx(__,{}),label:"Market"}),_.jsx($l,{icon:_.jsx(Fp,{}),label:"Trade"}),_.jsx($l,{icon:_.jsx(sx,{}),label:"Earn"}),_.jsx($l,{icon:_.jsx(v_,{}),label:"Settings"})]})]})},Gl=({icon:n,label:e,onClick:t})=>_.jsxs("div",{className:"flex flex-col items-center gap-1.5 cursor-pointer group",onClick:t,children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center group-active:scale-90 transition-transform",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.7)"},children:df.cloneElement(n,{size:18})}),_.jsx("span",{className:"text-[10px] font-semibold",style:{color:"rgba(0, 0, 0, 0.5)"},children:e})]}),$l=({icon:n,label:e,active:t})=>_.jsxs("div",{className:"flex flex-col items-center gap-1 cursor-pointer transition-colors",style:{color:t?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.3)"},children:[df.cloneElement(n,{size:22}),_.jsx("span",{className:"text-[10px] font-medium",children:e})]});class IP extends df.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("[Parallel] Caught error:",e,t)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?_.jsxs("div",{className:"h-[100dvh] w-full ios26-wallpaper flex flex-col items-center justify-center p-8",children:[_.jsx("div",{className:"w-20 h-20 rounded-3xl flex items-center justify-center mb-6",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:_.jsx("span",{className:"text-4xl",children:""})}),_.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Something went wrong"}),_.jsx("p",{className:"text-sm text-center mb-6 max-w-xs",style:{color:"rgba(0, 0, 0, 0.45)"},children:"An unexpected error occurred. Tap below to recover."}),_.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-2xl font-semibold active:scale-95 transition-transform",style:{color:"white",background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:"Try Again"})]}):this.props.children}}function PP(){const[n,e]=H.useState(!0),[t,s]=H.useState("private"),[a,l]=H.useState(!1);H.useEffect(()=>{const m=()=>l(!0),g=()=>l(!1);return window.addEventListener("blur",m),window.addEventListener("focus",g),()=>{window.removeEventListener("blur",m),window.removeEventListener("focus",g)}},[]);const u=m=>{s(m),e(!1)},d=()=>{e(!0)};return _.jsx(yP,{children:_.jsx(IP,{children:_.jsxs("div",{className:"h-[100dvh] w-full ios26-wallpaper overflow-hidden relative",children:[_.jsx(Gi,{children:a&&_.jsx(zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)"},children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"w-20 h-20 rounded-3xl mx-auto mb-6 flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0,0,0,0.06)"},children:_.jsx("span",{className:"text-4xl",children:""})}),_.jsx("h2",{className:"text-2xl font-bold tracking-widest uppercase",style:{color:"rgba(0, 0, 0, 0.8)"},children:"Parallel Protected"}),_.jsx("p",{className:"text-sm mt-2",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Content Hidden for Privacy"})]})})}),_.jsx(Gi,{mode:"wait",children:n?_.jsx(T6,{onAuthenticated:u},"auth"):t==="dummy"?_.jsx(VP,{onLock:d},"dummy"):t==="private"?_.jsx(SP,{onLock:d},"private"):t==="notes"?_.jsx(kP,{onLock:d},"sysmon"):null})]})})})}lA.createRoot(document.getElementById("root")).render(_.jsx(H.StrictMode,{children:_.jsx(PP,{})}));
