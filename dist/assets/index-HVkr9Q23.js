function qA(n,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function YT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mp={exports:{}},Bl={};var J_;function GA(){if(J_)return Bl;J_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Bl.Fragment=t,Bl.jsx=e,Bl.jsxs=e,Bl}var W_;function $A(){return W_||(W_=1,Mp.exports=GA()),Mp.exports}var x=$A(),Np={exports:{}},Dt={};var tb;function KA(){if(tb)return Dt;tb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,L={};function K(P,H,J){this.props=P,this.context=H,this.refs=L,this.updater=J||N}K.prototype.isReactComponent={},K.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},K.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function tt(){}tt.prototype=K.prototype;function Z(P,H,J){this.props=P,this.context=H,this.refs=L,this.updater=J||N}var lt=Z.prototype=new tt;lt.constructor=Z,B(lt,K.prototype),lt.isPureReactComponent=!0;var at=Array.isArray;function ht(){}var w={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(P,H,J){var it=J.ref;return{$$typeof:n,type:P,key:H,ref:it!==void 0?it:null,props:J}}function I(P,H){return D(P.type,H,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function j(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(J){return H[J]})}var M=/\/+/g;function Ut(P,H){return typeof P=="object"&&P!==null&&P.key!=null?j(""+P.key):H.toString(36)}function ae(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ht,ht):(P.status="pending",P.then(function(H){P.status==="pending"&&(P.status="fulfilled",P.value=H)},function(H){P.status==="pending"&&(P.status="rejected",P.reason=H)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,H,J,it,ut){var pt=typeof P;(pt==="undefined"||pt==="boolean")&&(P=null);var vt=!1;if(P===null)vt=!0;else switch(pt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(P.$$typeof){case n:case t:vt=!0;break;case y:return vt=P._init,X(vt(P._payload),H,J,it,ut)}}if(vt)return ut=ut(P),vt=it===""?"."+Ut(P,0):it,at(ut)?(J="",vt!=null&&(J=vt.replace(M,"$&/")+"/"),X(ut,H,J,"",function(Gt){return Gt})):ut!=null&&(V(ut)&&(ut=I(ut,J+(ut.key==null||P&&P.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+vt)),H.push(ut)),1;vt=0;var It=it===""?".":it+":";if(at(P))for(var Tt=0;Tt<P.length;Tt++)it=P[Tt],pt=It+Ut(it,Tt),vt+=X(it,H,J,pt,ut);else if(Tt=A(P),typeof Tt=="function")for(P=Tt.call(P),Tt=0;!(it=P.next()).done;)it=it.value,pt=It+Ut(it,Tt++),vt+=X(it,H,J,pt,ut);else if(pt==="object"){if(typeof P.then=="function")return X(ae(P),H,J,it,ut);throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return vt}function ot(P,H,J){if(P==null)return P;var it=[],ut=0;return X(P,it,"","",function(pt){return H.call(J,pt,ut++)}),it}function dt(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(J){(P._status===0||P._status===-1)&&(P._status=1,P._result=J)},function(J){(P._status===0||P._status===-1)&&(P._status=2,P._result=J)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var ft=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Et={map:ot,forEach:function(P,H,J){ot(P,function(){H.apply(this,arguments)},J)},count:function(P){var H=0;return ot(P,function(){H++}),H},toArray:function(P){return ot(P,function(H){return H})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Dt.Activity=_,Dt.Children=Et,Dt.Component=K,Dt.Fragment=e,Dt.Profiler=a,Dt.PureComponent=Z,Dt.StrictMode=s,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return w.H.useMemoCache(P)}},Dt.cache=function(P){return function(){return P.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(P,H,J){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var it=B({},P.props),ut=P.key;if(H!=null)for(pt in H.key!==void 0&&(ut=""+H.key),H)!C.call(H,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&H.ref===void 0||(it[pt]=H[pt]);var pt=arguments.length-2;if(pt===1)it.children=J;else if(1<pt){for(var vt=Array(pt),It=0;It<pt;It++)vt[It]=arguments[It+2];it.children=vt}return D(P.type,ut,it)},Dt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Dt.createElement=function(P,H,J){var it,ut={},pt=null;if(H!=null)for(it in H.key!==void 0&&(pt=""+H.key),H)C.call(H,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ut[it]=H[it]);var vt=arguments.length-2;if(vt===1)ut.children=J;else if(1<vt){for(var It=Array(vt),Tt=0;Tt<vt;Tt++)It[Tt]=arguments[Tt+2];ut.children=It}if(P&&P.defaultProps)for(it in vt=P.defaultProps,vt)ut[it]===void 0&&(ut[it]=vt[it]);return D(P,pt,ut)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(P){return{$$typeof:d,render:P}},Dt.isValidElement=V,Dt.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:dt}},Dt.memo=function(P,H){return{$$typeof:m,type:P,compare:H===void 0?null:H}},Dt.startTransition=function(P){var H=w.T,J={};w.T=J;try{var it=P(),ut=w.S;ut!==null&&ut(J,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(ht,ft)}catch(pt){ft(pt)}finally{H!==null&&J.types!==null&&(H.types=J.types),w.T=H}},Dt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Dt.use=function(P){return w.H.use(P)},Dt.useActionState=function(P,H,J){return w.H.useActionState(P,H,J)},Dt.useCallback=function(P,H){return w.H.useCallback(P,H)},Dt.useContext=function(P){return w.H.useContext(P)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(P,H){return w.H.useDeferredValue(P,H)},Dt.useEffect=function(P,H){return w.H.useEffect(P,H)},Dt.useEffectEvent=function(P){return w.H.useEffectEvent(P)},Dt.useId=function(){return w.H.useId()},Dt.useImperativeHandle=function(P,H,J){return w.H.useImperativeHandle(P,H,J)},Dt.useInsertionEffect=function(P,H){return w.H.useInsertionEffect(P,H)},Dt.useLayoutEffect=function(P,H){return w.H.useLayoutEffect(P,H)},Dt.useMemo=function(P,H){return w.H.useMemo(P,H)},Dt.useOptimistic=function(P,H){return w.H.useOptimistic(P,H)},Dt.useReducer=function(P,H,J){return w.H.useReducer(P,H,J)},Dt.useRef=function(P){return w.H.useRef(P)},Dt.useState=function(P){return w.H.useState(P)},Dt.useSyncExternalStore=function(P,H,J){return w.H.useSyncExternalStore(P,H,J)},Dt.useTransition=function(){return w.H.useTransition()},Dt.version="19.2.4",Dt}var eb;function ug(){return eb||(eb=1,Np.exports=KA()),Np.exports}var F=ug();const QT=YT(F);var kp={exports:{}},zl={},Vp={exports:{}},Ip={};var nb;function YA(){return nb||(nb=1,(function(n){function t(X,ot){var dt=X.length;X.push(ot);t:for(;0<dt;){var ft=dt-1>>>1,Et=X[ft];if(0<a(Et,ot))X[ft]=ot,X[dt]=Et,dt=ft;else break t}}function e(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ot=X[0],dt=X.pop();if(dt!==ot){X[0]=dt;t:for(var ft=0,Et=X.length,P=Et>>>1;ft<P;){var H=2*(ft+1)-1,J=X[H],it=H+1,ut=X[it];if(0>a(J,dt))it<Et&&0>a(ut,J)?(X[ft]=ut,X[it]=dt,ft=it):(X[ft]=J,X[H]=dt,ft=H);else if(it<Et&&0>a(ut,dt))X[ft]=ut,X[it]=dt,ft=it;else break t}}return ot}function a(X,ot){var dt=X.sortIndex-ot.sortIndex;return dt!==0?dt:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var g=[],m=[],y=1,_=null,S=3,A=!1,N=!1,B=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function lt(X){for(var ot=e(m);ot!==null;){if(ot.callback===null)s(m);else if(ot.startTime<=X)s(m),ot.sortIndex=ot.expirationTime,t(g,ot);else break;ot=e(m)}}function at(X){if(B=!1,lt(X),!N)if(e(g)!==null)N=!0,ht||(ht=!0,j());else{var ot=e(m);ot!==null&&ae(at,ot.startTime-X)}}var ht=!1,w=-1,C=5,D=-1;function I(){return L?!0:!(n.unstable_now()-D<C)}function V(){if(L=!1,ht){var X=n.unstable_now();D=X;var ot=!0;try{t:{N=!1,B&&(B=!1,tt(w),w=-1),A=!0;var dt=S;try{e:{for(lt(X),_=e(g);_!==null&&!(_.expirationTime>X&&I());){var ft=_.callback;if(typeof ft=="function"){_.callback=null,S=_.priorityLevel;var Et=ft(_.expirationTime<=X);if(X=n.unstable_now(),typeof Et=="function"){_.callback=Et,lt(X),ot=!0;break e}_===e(g)&&s(g),lt(X)}else s(g);_=e(g)}if(_!==null)ot=!0;else{var P=e(m);P!==null&&ae(at,P.startTime-X),ot=!1}}break t}finally{_=null,S=dt,A=!1}ot=void 0}}finally{ot?j():ht=!1}}}var j;if(typeof Z=="function")j=function(){Z(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ut=M.port2;M.port1.onmessage=V,j=function(){Ut.postMessage(null)}}else j=function(){K(V,0)};function ae(X,ot){w=K(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var dt=S;S=ot;try{return X()}finally{S=dt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var dt=S;S=X;try{return ot()}finally{S=dt}},n.unstable_scheduleCallback=function(X,ot,dt){var ft=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?ft+dt:ft):dt=ft,X){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=dt+Et,X={id:y++,callback:ot,priorityLevel:X,startTime:dt,expirationTime:Et,sortIndex:-1},dt>ft?(X.sortIndex=dt,t(m,X),e(g)===null&&X===e(m)&&(B?(tt(w),w=-1):B=!0,ae(at,dt-ft))):(X.sortIndex=Et,t(g,X),N||A||(N=!0,ht||(ht=!0,j()))),X},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(X){var ot=S;return function(){var dt=S;S=ot;try{return X.apply(this,arguments)}finally{S=dt}}}})(Ip)),Ip}var ib;function QA(){return ib||(ib=1,Vp.exports=YA()),Vp.exports}var Pp={exports:{}},an={};var sb;function XA(){if(sb)return an;sb=1;var n=ug();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(g,m,null,y)},an.flushSync=function(g){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=m,s.p=y,s.d.f()}},an.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:A}):y==="script"&&s.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},an.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},an.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},an.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,m){return g(m)},an.useFormState=function(g,m,y){return u.H.useFormState(g,m,y)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.4",an}var rb;function ZA(){if(rb)return Pp.exports;rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pp.exports=XA(),Pp.exports}var ab;function JA(){if(ab)return zl;ab=1;var n=QA(),t=ug(),e=ZA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return g(h),i;if(p===c)return g(h),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=p;else{for(var b=!1,E=h.child;E;){if(E===o){b=!0,o=h,c=p;break}if(E===c){b=!0,c=h,o=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===o){b=!0,o=p,c=h;break}if(E===c){b=!0,c=p,o=h;break}E=E.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ut(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case K:return"Profiler";case L:return"StrictMode";case at:return"Suspense";case ht:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case Z:return i.displayName||"Context";case tt:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case w:return r=i.displayName||null,r!==null?r:Ut(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Ut(i(r))}catch{}}return null}var ae=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},ft=[],Et=-1;function P(i){return{current:i}}function H(i){0>Et||(i.current=ft[Et],ft[Et]=null,Et--)}function J(i,r){Et++,ft[Et]=i.current,i.current=r}var it=P(null),ut=P(null),pt=P(null),vt=P(null);function It(i,r){switch(J(pt,r),J(ut,i),J(it,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?T_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=T_(r),i=x_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(it),J(it,i)}function Tt(){H(it),H(ut),H(pt)}function Gt(i){i.memoizedState!==null&&J(vt,i);var r=it.current,o=x_(r,i.type);r!==o&&(J(ut,i),J(it,o))}function Xt(i){ut.current===i&&(H(it),H(ut)),vt.current===i&&(H(vt),Pl._currentValue=dt)}var de,pn;function Un(i){if(de===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);de=r&&r[1]||"",pn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+i+pn}var Po=!1;function xr(i,r){if(!i||Po)return"";Po=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var $=Q}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(Q){$=Q}i.call(nt.prototype)}}else{try{throw Error()}catch(Q){$=Q}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var k=b.split(`
`),G=E.split(`
`);for(h=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(c===k.length||h===G.length)for(c=k.length-1,h=G.length-1;1<=c&&0<=h&&k[c]!==G[h];)h--;for(;1<=c&&0<=h;c--,h--)if(k[c]!==G[h]){if(c!==1||h!==1)do if(c--,h--,0>h||k[c]!==G[h]){var W=`
`+k[c].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=c&&0<=h);break}}}finally{Po=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Un(o):""}function Oo(i,r){switch(i.tag){case 26:case 27:case 5:return Un(i.type);case 16:return Un("Lazy");case 13:return i.child!==r&&r!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return xr(i.type,!1);case 11:return xr(i.type.render,!1);case 1:return xr(i.type,!0);case 31:return Un("Activity");default:return""}}function jo(i){try{var r="",o=null;do r+=Oo(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ae=Object.prototype.hasOwnProperty,ze=n.unstable_scheduleCallback,Ss=n.unstable_cancelCallback,kh=n.unstable_shouldYield,Mc=n.unstable_requestPaint,mn=n.unstable_now,Sr=n.unstable_getCurrentPriorityLevel,Lo=n.unstable_ImmediatePriority,Bo=n.unstable_UserBlockingPriority,Es=n.unstable_NormalPriority,Vh=n.unstable_LowPriority,Nc=n.unstable_IdlePriority,kc=n.log,Vc=n.unstable_setDisableYieldValue,ri=null,Qe=null;function Fn(i){if(typeof kc=="function"&&Vc(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ri,i)}catch{}}var Te=Math.clz32?Math.clz32:Pc,Ic=Math.log,ma=Math.LN2;function Pc(i){return i>>>=0,i===0?32:31-(Ic(i)/ma|0)|0}var xi=256,Er=262144,Re=4194304;function Si(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ei(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~p,c!==0?h=Si(c):(b&=E,b!==0?h=Si(b):o||(o=E&~i,o!==0&&(h=Si(o))))):(E=c&~p,E!==0?h=Si(E):b!==0?h=Si(b):o||(o=c&~i,o!==0&&(h=Si(o)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:h}function ai(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ih(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var i=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),i}function Ci(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Cr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ph(i,r,o,c,h,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,k=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var W=31-Te(o),nt=1<<W;E[W]=0,k[W]=-1;var $=G[W];if($!==null)for(G[W]=null,W=0;W<$.length;W++){var Q=$[W];Q!==null&&(Q.lane&=-536870913)}o&=~nt}c!==0&&Ar(i,c,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function Ar(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Te(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function zo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Te(o),h=1<<c;h&r|i[c]&r&&(i[c]|=r),o&=~h}}function Uo(i,r){var o=r&-r;return o=(o&42)!==0?1:Rr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ji(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:G_(i.type))}function oi(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var li=Math.random().toString(36).slice(2),we="__reactFiber$"+li,Ge="__reactProps$"+li,Ai="__reactContainer$"+li,ga="__reactEvents$"+li,Oh="__reactListeners$"+li,Lc="__reactHandles$"+li,Bc="__reactResources$"+li,Ri="__reactMarker$"+li;function ya(i){delete i[we],delete i[Ge],delete i[ga],delete i[Oh],delete i[Lc]}function wi(i){var r=i[we];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ai]||o[we]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=D_(i);i!==null;){if(o=i[we])return o;i=D_(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[we]||i[Ai]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Nn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[Bc];return r||(r=i[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(i){i[Ri]=!0}var Fo=new Set,Ho={};function Mi(i,r){Ni(i,r),Ni(i+"Capture",r)}function Ni(i,r){for(Ho[i]=r,i=0;i<r.length;i++)Fo.add(r[i])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},$o={};function zc(i){return Ae.call($o,i)?!0:Ae.call(Go,i)?!1:qo.test(i)?$o[i]=!0:(Go[i]=!0,!1)}function va(i,r,o){if(zc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Me(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function $e(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ko(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Jt(i){if(!i._valueTracker){var r=Cs(i)?"checked":"value";i._valueTracker=Ko(i,r,""+i[r])}}function wr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Cs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dr=/[\n"\\]/g;function Tn(i){return i.replace(Dr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _a(i,r,o,c,h,p,b,E){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$e(r)):i.value!==""+$e(r)&&(i.value=""+$e(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Yo(i,b,$e(r)):o!=null?Yo(i,b,$e(o)):c!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+$e(E):i.removeAttribute("name")}function Uc(i,r,o,c,h,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Jt(i);return}o=o!=null?""+$e(o):"",r=r!=null?""+$e(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Jt(i)}function Yo(i,r,o){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function As(i,r,o,c){if(i=i.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=r.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&c&&(i[o].defaultSelected=!0)}else{for(o=""+$e(o),r=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Fc(i,r,o){if(r!=null&&(r=""+$e(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$e(o):""}function Rs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ae(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=$e(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Jt(i)}function xn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Hc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Xo(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&Qo(i,h,c)}else for(var p in r)r.hasOwnProperty(p)&&Qo(i,p,r[p])}function ba(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(i){return ws.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ci(){}var Zo=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ds=null,Vi=null;function Mr(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[Ge]||null;t:switch(i=r.stateNode,r.type){case"input":if(_a(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var h=c[Ge]||null;if(!h)throw Error(s(90));_a(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&wr(c)}break t;case"textarea":Fc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&As(i,!!o.multiple,r,!1)}}}var xa=!1;function Ms(i,r,o){if(xa)return i(r,o);xa=!0;try{var c=i(r);return c}finally{if(xa=!1,(Ds!==null||Vi!==null)&&(ju(),Ds&&(r=Ds,i=Vi,Vi=Ds=null,Mr(r),i)))for(r=0;r<i.length;r++)Mr(i[r])}}function ui(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Ge]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Gn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Nr=!1}var Ii=null,Jo=null,kr=null;function Wo(){if(kr)return kr;var i,r=Jo,o=r.length,c,h="value"in Ii?Ii.value:Ii.textContent,p=h.length;for(i=0;i<o&&r[i]===h[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===h[p-c];c++);return kr=h.slice(i,1<c?1-c:void 0)}function Vr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Wi(){return!0}function fi(){return!1}function Xe(i){function r(o,c,h,p,b){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wi:fi,this.isPropagationStopped=fi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),r}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Xe(ts),Ns=_({},ts,{view:0,detail:0}),tl=Xe(Ns),ks,Sa,Oi,Ea=_({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(ks=i.screenX-Oi.screenX,Sa=i.screenY-Oi.screenY):Sa=ks=0,Oi=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Sa}}),el=Xe(Ea),Ir=_({},Ea,{dataTransfer:0}),Gc=Xe(Ir),$c=_({},Ns,{relatedTarget:0}),Pr=Xe($c),nl=_({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Xe(nl),Ca=_({},ts,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yc=Xe(Ca),Qc=_({},ts,{data:0}),ji=Xe(Qc),Xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Jc[i])?!!r[i]:!1}function Vs(){return Wc}var gn=_({},Ns,{key:function(i){if(i.key){var r=Xc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tu=Xe(gn),eu=_({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Xe(eu),f=_({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Xe(f),T=_({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xe(T),U=_({},Ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Xe(U),ct=_({},ts,{newState:0,oldState:0}),Nt=Xe(ct),xe=[9,13,27,32],Yt=Gn&&"CompositionEvent"in window,pe=null;Gn&&"documentMode"in document&&(pe=document.documentMode);var $n=Gn&&"TextEvent"in window&&!pe,Li=Gn&&(!Yt||pe&&8<pe&&11>=pe),hi=" ",di=!1;function Or(i,r){switch(i){case"keyup":return xe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ra=!1;function pC(i,r){switch(i){case"compositionend":return Aa(r);case"keypress":return r.which!==32?null:(di=!0,hi);case"textInput":return i=r.data,i===hi&&di?null:i;default:return null}}function mC(i,r){if(Ra)return i==="compositionend"||!Yt&&Or(i,r)?(i=Wo(),kr=Jo=Ii=null,Ra=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!gC[i.type]:r==="textarea"}function Vy(i,r,o,c){Ds?Vi?Vi.push(c):Vi=[c]:Ds=c,r=qu(r,"onChange"),0<r.length&&(o=new Pi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var il=null,sl=null;function yC(i){m_(i,0)}function nu(i){var r=Nn(i);if(wr(r))return i}function Iy(i,r){if(i==="change")return r}var Py=!1;if(Gn){var jh;if(Gn){var Lh="oninput"in document;if(!Lh){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Lh=typeof Oy.oninput=="function"}jh=Lh}else jh=!1;Py=jh&&(!document.documentMode||9<document.documentMode)}function jy(){il&&(il.detachEvent("onpropertychange",Ly),sl=il=null)}function Ly(i){if(i.propertyName==="value"&&nu(sl)){var r=[];Vy(r,sl,i,qn(i)),Ms(yC,r)}}function vC(i,r,o){i==="focusin"?(jy(),il=r,sl=o,il.attachEvent("onpropertychange",Ly)):i==="focusout"&&jy()}function _C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nu(sl)}function bC(i,r){if(i==="click")return nu(r)}function TC(i,r){if(i==="input"||i==="change")return nu(r)}function xC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Vn=typeof Object.is=="function"?Object.is:xC;function rl(i,r){if(Vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Ae.call(r,h)||!Vn(i[h],r[h]))return!1}return!0}function By(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zy(i,r){var o=By(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=By(o)}}function Uy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Uy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Fy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ki(i.document)}return r}function Bh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var SC=Gn&&"documentMode"in document&&11>=document.documentMode,wa=null,zh=null,al=null,Uh=!1;function Hy(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uh||wa==null||wa!==ki(c)||(c=wa,"selectionStart"in c&&Bh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),al&&rl(al,c)||(al=c,c=qu(zh,"onSelect"),0<c.length&&(r=new Pi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=wa)))}function jr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Da={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Fh={},qy={};Gn&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Lr(i){if(Fh[i])return Fh[i];if(!Da[i])return i;var r=Da[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in qy)return Fh[i]=r[o];return i}var Gy=Lr("animationend"),$y=Lr("animationiteration"),Ky=Lr("animationstart"),EC=Lr("transitionrun"),CC=Lr("transitionstart"),AC=Lr("transitioncancel"),Yy=Lr("transitionend"),Qy=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function pi(i,r){Qy.set(i,r),Mi(r,[i])}var iu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],Ma=0,qh=0;function su(){for(var i=Ma,r=qh=Ma=0;r<i;){var o=Kn[r];Kn[r++]=null;var c=Kn[r];Kn[r++]=null;var h=Kn[r];Kn[r++]=null;var p=Kn[r];if(Kn[r++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}p!==0&&Xy(o,h,p)}}function ru(i,r,o,c){Kn[Ma++]=i,Kn[Ma++]=r,Kn[Ma++]=o,Kn[Ma++]=c,qh|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Gh(i,r,o,c){return ru(i,r,o,c),au(i)}function Br(i,r){return ru(i,null,null,r),au(i)}function Xy(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var h=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,h&&r!==null&&(h=31-Te(o),i=p.hiddenUpdates,c=i[h],c===null?i[h]=[r]:c.push(r),r.lane=o|536870912),p):null}function au(i){if(50<wl)throw wl=0,tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Na={};function RC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,r,o,c){return new RC(i,r,o,c)}function $h(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var o=i.alternate;return o===null?(o=In(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zy(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ou(i,r,o,c,h,p){var b=0;if(c=i,typeof i=="function")$h(i)&&(b=1);else if(typeof i=="string")b=kA(i,o,it.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case D:return i=In(31,o,r,h),i.elementType=D,i.lanes=p,i;case B:return zr(o.children,h,p,r);case L:b=8,h|=24;break;case K:return i=In(12,o,r,h|2),i.elementType=K,i.lanes=p,i;case at:return i=In(13,o,r,h),i.elementType=at,i.lanes=p,i;case ht:return i=In(19,o,r,h),i.elementType=ht,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:b=10;break t;case tt:b=9;break t;case lt:b=11;break t;case w:b=14;break t;case C:b=16,c=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=In(b,o,r,h),r.elementType=i,r.type=c,r.lanes=p,r}function zr(i,r,o,c){return i=In(7,i,c,r),i.lanes=o,i}function Kh(i,r,o){return i=In(6,i,null,r),i.lanes=o,i}function Jy(i){var r=In(18,null,null,0);return r.stateNode=i,r}function Yh(i,r,o){return r=In(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Wy=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=Wy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:jo(r)},Wy.set(i,r),r)}return{value:i,source:r,stack:jo(r)}}var ka=[],Va=0,lu=null,ol=0,Qn=[],Xn=0,Is=null,Bi=1,zi="";function is(i,r){ka[Va++]=ol,ka[Va++]=lu,lu=i,ol=r}function t0(i,r,o){Qn[Xn++]=Bi,Qn[Xn++]=zi,Qn[Xn++]=Is,Is=i;var c=Bi;i=zi;var h=32-Te(c)-1;c&=~(1<<h),o+=1;var p=32-Te(r)+h;if(30<p){var b=h-h%5;p=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Bi=1<<32-Te(r)+h|o<<h|c,zi=p+i}else Bi=1<<p|o<<h|c,zi=i}function Qh(i){i.return!==null&&(is(i,1),t0(i,1,0))}function Xh(i){for(;i===lu;)lu=ka[--Va],ka[Va]=null,ol=ka[--Va],ka[Va]=null;for(;i===Is;)Is=Qn[--Xn],Qn[Xn]=null,zi=Qn[--Xn],Qn[Xn]=null,Bi=Qn[--Xn],Qn[Xn]=null}function e0(i,r){Qn[Xn++]=Bi,Qn[Xn++]=zi,Qn[Xn++]=Is,Bi=r.id,zi=r.overflow,Is=i}var Ze=null,ce=null,Ft=!1,Ps=null,Zn=!1,Zh=Error(s(519));function Os(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Yn(r,i)),Zh}function n0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[we]=i,r[Ge]=c,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<Ml.length;o++)Ot(Ml[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Uc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Rs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||__(r.textContent,o)?(c.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),c.onScroll!=null&&Ot("scroll",r),c.onScrollEnd!=null&&Ot("scrollend",r),c.onClick!=null&&(r.onclick=ci),r=!0):r=!1,r||Os(i,!0)}function i0(i){for(Ze=i.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ze=Ze.return}}function Ia(i){if(i!==Ze)return!1;if(!Ft)return i0(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||mp(i.type,i.memoizedProps)),o=!o),o&&ce&&Os(i),i0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ce=w_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ce=w_(i)}else r===27?(r=ce,Xs(i.type)?(i=bp,bp=null,ce=i):ce=r):ce=Ze?Wn(i.stateNode.nextSibling):null;return!0}function Ur(){ce=Ze=null,Ft=!1}function Jh(){var i=Ps;return i!==null&&(An===null?An=i:An.push.apply(An,i),Ps=null),i}function ll(i){Ps===null?Ps=[i]:Ps.push(i)}var Wh=P(null),Fr=null,ss=null;function js(i,r,o){J(Wh,r._currentValue),r._currentValue=o}function rs(i){i._currentValue=Wh.current,H(Wh)}function td(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function ed(i,r,o,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;t:for(;p!==null;){var E=p;p=h;for(var k=0;k<r.length;k++)if(E.context===r[k]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),td(p.return,o,i),c||(b=null);break t}p=E.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),td(b,o,i),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===i){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Pa(i,r,o,c){i=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=h.type;Vn(h.pendingProps.value,b.value)||(i!==null?i.push(E):i=[E])}}else if(h===vt.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(Pl):i=[Pl])}h=h.return}i!==null&&ed(r,i,o,c),r.flags|=262144}function cu(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hr(i){Fr=i,ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return s0(Fr,i)}function uu(i,r){return Fr===null&&Hr(i),s0(i,r)}function s0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ss===null){if(i===null)throw Error(s(308));ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ss=ss.next=r;return o}var wC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},DC=n.unstable_scheduleCallback,MC=n.unstable_NormalPriority,Ne={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new wC,data:new Map,refCount:0}}function cl(i){i.refCount--,i.refCount===0&&DC(MC,function(){i.controller.abort()})}var ul=null,id=0,Oa=0,ja=null;function NC(i,r){if(ul===null){var o=ul=[];id=0,Oa=ap(),ja={status:"pending",value:void 0,then:function(c){o.push(c)}}}return id++,r.then(r0,r0),r}function r0(){if(--id===0&&ul!==null){ja!==null&&(ja.status="fulfilled");var i=ul;ul=null,Oa=0,ja=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function kC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var a0=X.S;X.S=function(i,r){Hv=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NC(i,r),a0!==null&&a0(i,r)};var qr=P(null);function sd(){var i=qr.current;return i!==null?i:oe.pooledCache}function fu(i,r){r===null?J(qr,qr.current):J(qr,r.pool)}function o0(){var i=sd();return i===null?null:{parent:Ne._currentValue,pool:i}}var La=Error(s(460)),rd=Error(s(474)),hu=Error(s(542)),du={then:function(){}};function l0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ci,ci),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f0(i),i;default:if(typeof r.status=="string")r.then(ci,ci);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f0(i),i}throw $r=r,La}}function Gr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($r=o,La):o}}var $r=null;function u0(){if($r===null)throw Error(s(459));var i=$r;return $r=null,i}function f0(i){if(i===La||i===hu)throw Error(s(483))}var Ba=null,fl=0;function pu(i){var r=fl;return fl+=1,Ba===null&&(Ba=[]),c0(Ba,i,r)}function hl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function mu(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function h0(i){function r(z,O){if(i){var q=z.deletions;q===null?(z.deletions=[O],z.flags|=16):q.push(O)}}function o(z,O){if(!i)return null;for(;O!==null;)r(z,O),O=O.sibling;return null}function c(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=ns(z,O),z.index=0,z.sibling=null,z}function p(z,O,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<O?(z.flags|=67108866,O):q):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function E(z,O,q,et){return O===null||O.tag!==6?(O=Kh(q,z.mode,et),O.return=z,O):(O=h(O,q),O.return=z,O)}function k(z,O,q,et){var St=q.type;return St===B?W(z,O,q.props.children,et,q.key):O!==null&&(O.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===C&&Gr(St)===O.type)?(O=h(O,q.props),hl(O,q),O.return=z,O):(O=ou(q.type,q.key,q.props,null,z.mode,et),hl(O,q),O.return=z,O)}function G(z,O,q,et){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Yh(q,z.mode,et),O.return=z,O):(O=h(O,q.children||[]),O.return=z,O)}function W(z,O,q,et,St){return O===null||O.tag!==7?(O=zr(q,z.mode,et,St),O.return=z,O):(O=h(O,q),O.return=z,O)}function nt(z,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kh(""+O,z.mode,q),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=ou(O.type,O.key,O.props,null,z.mode,q),hl(q,O),q.return=z,q;case N:return O=Yh(O,z.mode,q),O.return=z,O;case C:return O=Gr(O),nt(z,O,q)}if(ae(O)||j(O))return O=zr(O,z.mode,q,null),O.return=z,O;if(typeof O.then=="function")return nt(z,pu(O),q);if(O.$$typeof===Z)return nt(z,uu(z,O),q);mu(z,O)}return null}function $(z,O,q,et){var St=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return St!==null?null:E(z,O,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===St?k(z,O,q,et):null;case N:return q.key===St?G(z,O,q,et):null;case C:return q=Gr(q),$(z,O,q,et)}if(ae(q)||j(q))return St!==null?null:W(z,O,q,et,null);if(typeof q.then=="function")return $(z,O,pu(q),et);if(q.$$typeof===Z)return $(z,O,uu(z,q),et);mu(z,q)}return null}function Q(z,O,q,et,St){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(q)||null,E(O,z,""+et,St);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return z=z.get(et.key===null?q:et.key)||null,k(O,z,et,St);case N:return z=z.get(et.key===null?q:et.key)||null,G(O,z,et,St);case C:return et=Gr(et),Q(z,O,q,et,St)}if(ae(et)||j(et))return z=z.get(q)||null,W(O,z,et,St,null);if(typeof et.then=="function")return Q(z,O,q,pu(et),St);if(et.$$typeof===Z)return Q(z,O,q,uu(O,et),St);mu(O,et)}return null}function gt(z,O,q,et){for(var St=null,$t=null,bt=O,Vt=O=0,Lt=null;bt!==null&&Vt<q.length;Vt++){bt.index>Vt?(Lt=bt,bt=null):Lt=bt.sibling;var Kt=$(z,bt,q[Vt],et);if(Kt===null){bt===null&&(bt=Lt);break}i&&bt&&Kt.alternate===null&&r(z,bt),O=p(Kt,O,Vt),$t===null?St=Kt:$t.sibling=Kt,$t=Kt,bt=Lt}if(Vt===q.length)return o(z,bt),Ft&&is(z,Vt),St;if(bt===null){for(;Vt<q.length;Vt++)bt=nt(z,q[Vt],et),bt!==null&&(O=p(bt,O,Vt),$t===null?St=bt:$t.sibling=bt,$t=bt);return Ft&&is(z,Vt),St}for(bt=c(bt);Vt<q.length;Vt++)Lt=Q(bt,z,Vt,q[Vt],et),Lt!==null&&(i&&Lt.alternate!==null&&bt.delete(Lt.key===null?Vt:Lt.key),O=p(Lt,O,Vt),$t===null?St=Lt:$t.sibling=Lt,$t=Lt);return i&&bt.forEach(function(er){return r(z,er)}),Ft&&is(z,Vt),St}function At(z,O,q,et){if(q==null)throw Error(s(151));for(var St=null,$t=null,bt=O,Vt=O=0,Lt=null,Kt=q.next();bt!==null&&!Kt.done;Vt++,Kt=q.next()){bt.index>Vt?(Lt=bt,bt=null):Lt=bt.sibling;var er=$(z,bt,Kt.value,et);if(er===null){bt===null&&(bt=Lt);break}i&&bt&&er.alternate===null&&r(z,bt),O=p(er,O,Vt),$t===null?St=er:$t.sibling=er,$t=er,bt=Lt}if(Kt.done)return o(z,bt),Ft&&is(z,Vt),St;if(bt===null){for(;!Kt.done;Vt++,Kt=q.next())Kt=nt(z,Kt.value,et),Kt!==null&&(O=p(Kt,O,Vt),$t===null?St=Kt:$t.sibling=Kt,$t=Kt);return Ft&&is(z,Vt),St}for(bt=c(bt);!Kt.done;Vt++,Kt=q.next())Kt=Q(bt,z,Vt,Kt.value,et),Kt!==null&&(i&&Kt.alternate!==null&&bt.delete(Kt.key===null?Vt:Kt.key),O=p(Kt,O,Vt),$t===null?St=Kt:$t.sibling=Kt,$t=Kt);return i&&bt.forEach(function(HA){return r(z,HA)}),Ft&&is(z,Vt),St}function se(z,O,q,et){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var St=q.key;O!==null;){if(O.key===St){if(St=q.type,St===B){if(O.tag===7){o(z,O.sibling),et=h(O,q.props.children),et.return=z,z=et;break t}}else if(O.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===C&&Gr(St)===O.type){o(z,O.sibling),et=h(O,q.props),hl(et,q),et.return=z,z=et;break t}o(z,O);break}else r(z,O);O=O.sibling}q.type===B?(et=zr(q.props.children,z.mode,et,q.key),et.return=z,z=et):(et=ou(q.type,q.key,q.props,null,z.mode,et),hl(et,q),et.return=z,z=et)}return b(z);case N:t:{for(St=q.key;O!==null;){if(O.key===St)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){o(z,O.sibling),et=h(O,q.children||[]),et.return=z,z=et;break t}else{o(z,O);break}else r(z,O);O=O.sibling}et=Yh(q,z.mode,et),et.return=z,z=et}return b(z);case C:return q=Gr(q),se(z,O,q,et)}if(ae(q))return gt(z,O,q,et);if(j(q)){if(St=j(q),typeof St!="function")throw Error(s(150));return q=St.call(q),At(z,O,q,et)}if(typeof q.then=="function")return se(z,O,pu(q),et);if(q.$$typeof===Z)return se(z,O,uu(z,q),et);mu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(o(z,O.sibling),et=h(O,q),et.return=z,z=et):(o(z,O),et=Kh(q,z.mode,et),et.return=z,z=et),b(z)):o(z,O)}return function(z,O,q,et){try{fl=0;var St=se(z,O,q,et);return Ba=null,St}catch(bt){if(bt===La||bt===hu)throw bt;var $t=In(29,bt,null,z.mode);return $t.lanes=et,$t.return=z,$t}}}var Kr=h0(!0),d0=h0(!1),Ls=!1;function ad(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=au(i),Xy(i,null,o),r}return ru(i,c,r,o),au(i)}function dl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,zo(i,o)}}function ld(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var cd=!1;function pl(){if(cd){var i=ja;if(i!==null)throw i}}function ml(i,r,o,c){cd=!1;var h=i.updateQueue;Ls=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var k=E,G=k.next;k.next=null,b===null?p=G:b.next=G,b=k;var W=i.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==b&&(E===null?W.firstBaseUpdate=G:E.next=G,W.lastBaseUpdate=k))}if(p!==null){var nt=h.baseState;b=0,W=G=k=null,E=p;do{var $=E.lane&-536870913,Q=$!==E.lane;if(Q?(jt&$)===$:(c&$)===$){$!==0&&$===Oa&&(cd=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=i,At=E;$=r;var se=o;switch(At.tag){case 1:if(gt=At.payload,typeof gt=="function"){nt=gt.call(se,nt,$);break t}nt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=At.payload,$=typeof gt=="function"?gt.call(se,nt,$):gt,$==null)break t;nt=_({},nt,$);break t;case 2:Ls=!0}}$=E.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[$]:Q.push($))}else Q={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(G=W=Q,k=nt):W=W.next=Q,b|=$;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(k=nt),h.baseState=k,h.firstBaseUpdate=G,h.lastBaseUpdate=W,p===null&&(h.shared.lanes=0),Gs|=b,i.lanes=b,i.memoizedState=nt}}function p0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function m0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)p0(o[i],r)}var za=P(null),gu=P(0);function g0(i,r){i=ps,J(gu,i),J(za,r),ps=i|r.baseLanes}function ud(){J(gu,ps),J(za,za.current)}function fd(){ps=gu.current,H(za),H(gu)}var Pn=P(null),Jn=null;function Us(i){var r=i.alternate;J(Se,Se.current&1),J(Pn,i),Jn===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(Jn=i)}function hd(i){J(Se,Se.current),J(Pn,i),Jn===null&&(Jn=i)}function y0(i){i.tag===22?(J(Se,Se.current),J(Pn,i),Jn===null&&(Jn=i)):Fs()}function Fs(){J(Se,Se.current),J(Pn,Pn.current)}function On(i){H(Pn),Jn===i&&(Jn=null),H(Se)}var Se=P(0);function yu(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||vp(o)||_p(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var as=0,kt=null,ne=null,ke=null,vu=!1,Ua=!1,Yr=!1,_u=0,gl=0,Fa=null,VC=0;function ve(){throw Error(s(321))}function dd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Vn(i[o],r[o]))return!1;return!0}function pd(i,r,o,c,h,p){return as=p,kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?tv:Dd,Yr=!1,p=o(c,h),Yr=!1,Ua&&(p=_0(r,o,c,h)),v0(i),p}function v0(i){X.H=_l;var r=ne!==null&&ne.next!==null;if(as=0,ke=ne=kt=null,vu=!1,gl=0,Fa=null,r)throw Error(s(300));i===null||Ve||(i=i.dependencies,i!==null&&cu(i)&&(Ve=!0))}function _0(i,r,o,c){kt=i;var h=0;do{if(Ua&&(Fa=null),gl=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,ke=ne=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=ev,p=r(o,c)}while(Ua);return p}function IC(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?yl(r):r,i=i.useState()[0],(ne!==null?ne.memoizedState:null)!==i&&(kt.flags|=1024),r}function md(){var i=_u!==0;return _u=0,i}function gd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function yd(i){if(vu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vu=!1}as=0,ke=ne=kt=null,Ua=!1,gl=_u=0,Fa=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?kt.memoizedState=ke=i:ke=ke.next=i,ke}function Ee(){if(ne===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=ne.next;var r=ke===null?kt.memoizedState:ke.next;if(r!==null)ke=r,ne=i;else{if(i===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ne=i,i={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ke===null?kt.memoizedState=ke=i:ke=ke.next=i}return ke}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(i){var r=gl;return gl+=1,Fa===null&&(Fa=[]),i=c0(Fa,i,r),r=kt,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?tv:Dd),i}function Tu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yl(i);if(i.$$typeof===Z)return Je(i)}throw Error(s(438,String(i)))}function vd(i){var r=null,o=kt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bu(),kt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=I;return r.index++,o}function os(i,r){return typeof r=="function"?r(i):r}function xu(i){var r=Ee();return _d(r,ne,i)}function _d(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=i.baseQueue,p=c.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}r.baseQueue=h=p,c.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{r=h.next;var E=b=null,k=null,G=r,W=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(jt&nt)===nt:(as&nt)===nt){var $=G.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===Oa&&(W=!0);else if((as&$)===$){G=G.next,$===Oa&&(W=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(E=k=nt,b=p):k=k.next=nt,kt.lanes|=$,Gs|=$;nt=G.action,Yr&&o(p,nt),p=G.hasEagerState?G.eagerState:o(p,nt)}else $={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(E=k=$,b=p):k=k.next=$,kt.lanes|=nt,Gs|=nt;G=G.next}while(G!==null&&G!==r);if(k===null?b=p:k.next=E,!Vn(p,i.memoizedState)&&(Ve=!0,W&&(o=ja,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=k,c.lastRenderedState=p}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function bd(i){var r=Ee(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do p=i(p,b.action),b=b.next;while(b!==h);Vn(p,r.memoizedState)||(Ve=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function b0(i,r,o){var c=kt,h=Ee(),p=Ft;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Vn((ne||h).memoizedState,o);if(b&&(h.memoizedState=o,Ve=!0),h=h.queue,Sd(S0.bind(null,c,h,i),[i]),h.getSnapshot!==r||b||ke!==null&&ke.memoizedState.tag&1){if(c.flags|=2048,Ha(9,{destroy:void 0},x0.bind(null,c,h,o,r),null),oe===null)throw Error(s(349));p||(as&127)!==0||T0(c,r,o)}return o}function T0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=kt.updateQueue,r===null?(r=bu(),kt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function x0(i,r,o,c){r.value=o,r.getSnapshot=c,E0(r)&&C0(i)}function S0(i,r,o){return o(function(){E0(r)&&C0(i)})}function E0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Vn(i,o)}catch{return!0}}function C0(i){var r=Br(i,2);r!==null&&Rn(r,i,2)}function Td(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Yr){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:i},r}function A0(i,r,o,c){return i.baseState=o,_d(i,ne,typeof c=="function"?c:os)}function PC(i,r,o,c,h){if(Cu(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};X.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,R0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function R0(i,r){var o=r.action,c=r.payload,h=i.state;if(r.isTransition){var p=X.T,b={};X.T=b;try{var E=o(h,c),k=X.S;k!==null&&k(b,E),w0(i,r,E)}catch(G){xd(i,r,G)}finally{p!==null&&b.types!==null&&(p.types=b.types),X.T=p}}else try{p=o(h,c),w0(i,r,p)}catch(G){xd(i,r,G)}}function w0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){D0(i,r,c)},function(c){return xd(i,r,c)}):D0(i,r,o)}function D0(i,r,o){r.status="fulfilled",r.value=o,M0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,R0(i,o)))}function xd(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,M0(r),r=r.next;while(r!==c)}i.action=null}function M0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function N0(i,r){return r}function k0(i,r){if(Ft){var o=oe.formState;if(o!==null){t:{var c=kt;if(Ft){if(ce){e:{for(var h=ce,p=Zn;h.nodeType!==8;){if(!p){h=null;break e}if(h=Wn(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){ce=Wn(h.nextSibling),c=h.data==="F!";break t}}Os(c)}c=!1}c&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:r},o.queue=c,o=Z0.bind(null,kt,c),c.dispatch=o,c=Td(!1),p=wd.bind(null,kt,!1,c.queue),c=yn(),h={state:r,dispatch:null,action:i,pending:null},c.queue=h,o=PC.bind(null,kt,h,p,o),h.dispatch=o,c.memoizedState=i,[r,o,!1]}function V0(i){var r=Ee();return I0(r,ne,i)}function I0(i,r,o){if(r=_d(i,r,N0)[0],i=xu(os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=yl(r)}catch(b){throw b===La?hu:b}else c=r;r=Ee();var h=r.queue,p=h.dispatch;return o!==r.memoizedState&&(kt.flags|=2048,Ha(9,{destroy:void 0},OC.bind(null,h,o),null)),[c,p,i]}function OC(i,r){i.action=r}function P0(i){var r=Ee(),o=ne;if(o!==null)return I0(r,o,i);Ee(),r=r.memoizedState,o=Ee();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ha(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=kt.updateQueue,r===null&&(r=bu(),kt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function O0(){return Ee().memoizedState}function Su(i,r,o,c){var h=yn();kt.flags|=i,h.memoizedState=Ha(1|r,{destroy:void 0},o,c===void 0?null:c)}function Eu(i,r,o,c){var h=Ee();c=c===void 0?null:c;var p=h.memoizedState.inst;ne!==null&&c!==null&&dd(c,ne.memoizedState.deps)?h.memoizedState=Ha(r,p,o,c):(kt.flags|=i,h.memoizedState=Ha(1|r,p,o,c))}function j0(i,r){Su(8390656,8,i,r)}function Sd(i,r){Eu(2048,8,i,r)}function jC(i){kt.flags|=4;var r=kt.updateQueue;if(r===null)r=bu(),kt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function L0(i){var r=Ee().memoizedState;return jC({ref:r,nextImpl:i}),function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function B0(i,r){return Eu(4,2,i,r)}function z0(i,r){return Eu(4,4,i,r)}function U0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function F0(i,r,o){o=o!=null?o.concat([i]):null,Eu(4,4,U0.bind(null,r,i),o)}function Ed(){}function H0(i,r){var o=Ee();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&dd(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function q0(i,r){var o=Ee();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&dd(r,c[1]))return c[0];if(c=i(),Yr){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c}function Cd(i,r,o){return o===void 0||(as&1073741824)!==0&&(jt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Gv(),kt.lanes|=i,Gs|=i,o)}function G0(i,r,o,c){return Vn(o,r)?o:za.current!==null?(i=Cd(i,o,c),Vn(i,r)||(Ve=!0),i):(as&42)===0||(as&1073741824)!==0&&(jt&261930)===0?(Ve=!0,i.memoizedState=o):(i=Gv(),kt.lanes|=i,Gs|=i,r)}function $0(i,r,o,c,h){var p=ot.p;ot.p=p!==0&&8>p?p:8;var b=X.T,E={};X.T=E,wd(i,!1,r,o);try{var k=h(),G=X.S;if(G!==null&&G(E,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=kC(k,c);vl(i,r,W,Bn(i))}else vl(i,r,c,Bn(i))}catch(nt){vl(i,r,{then:function(){},status:"rejected",reason:nt},Bn())}finally{ot.p=p,b!==null&&E.types!==null&&(b.types=E.types),X.T=b}}function LC(){}function Ad(i,r,o,c){if(i.tag!==5)throw Error(s(476));var h=K0(i).queue;$0(i,h,r,dt,o===null?LC:function(){return Y0(i),o(c)})}function K0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Y0(i){var r=K0(i);r.next===null&&(r=i.alternate.memoizedState),vl(i,r.next.queue,{},Bn())}function Rd(){return Je(Pl)}function Q0(){return Ee().memoizedState}function X0(){return Ee().memoizedState}function BC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();i=Bs(o);var c=zs(r,i,o);c!==null&&(Rn(c,r,o),dl(c,r,o)),r={cache:nd()},i.payload=r;return}r=r.return}}function zC(i,r,o){var c=Bn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Cu(i)?J0(r,o):(o=Gh(i,r,o,c),o!==null&&(Rn(o,i,c),W0(o,r,c)))}function Z0(i,r,o){var c=Bn();vl(i,r,o,c)}function vl(i,r,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cu(i))J0(r,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,E=p(b,o);if(h.hasEagerState=!0,h.eagerState=E,Vn(E,b))return ru(i,r,h,0),oe===null&&su(),!1}catch{}if(o=Gh(i,r,h,c),o!==null)return Rn(o,i,c),W0(o,r,c),!0}return!1}function wd(i,r,o,c){if(c={lane:2,revertLane:ap(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Cu(i)){if(r)throw Error(s(479))}else r=Gh(i,o,c,2),r!==null&&Rn(r,i,2)}function Cu(i){var r=i.alternate;return i===kt||r!==null&&r===kt}function J0(i,r){Ua=vu=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function W0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,zo(i,o)}}var _l={readContext:Je,use:Tu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};_l.useEffectEvent=ve;var tv={readContext:Je,use:Tu,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:j0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Su(4194308,4,U0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Su(4194308,4,i,r)},useInsertionEffect:function(i,r){Su(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var c=i();if(Yr){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=yn();if(o!==void 0){var h=o(r);if(Yr){Fn(!0);try{o(r)}finally{Fn(!1)}}}else h=r;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=zC.bind(null,kt,i),[c.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=Td(i);var r=i.queue,o=Z0.bind(null,kt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Ed,useDeferredValue:function(i,r){var o=yn();return Cd(o,i,r)},useTransition:function(){var i=Td(!1);return i=$0.bind(null,kt,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=kt,h=yn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),oe===null)throw Error(s(349));(jt&127)!==0||T0(c,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,j0(S0.bind(null,c,p,i),[i]),c.flags|=2048,Ha(9,{destroy:void 0},x0.bind(null,c,p,o,r),null),o},useId:function(){var i=yn(),r=oe.identifierPrefix;if(Ft){var o=zi,c=Bi;o=(c&~(1<<32-Te(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=_u++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=VC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Rd,useFormState:k0,useActionState:k0,useOptimistic:function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=wd.bind(null,kt,!0,o),o.dispatch=r,[i,r]},useMemoCache:vd,useCacheRefresh:function(){return yn().memoizedState=BC.bind(null,kt)},useEffectEvent:function(i){var r=yn(),o={impl:i};return r.memoizedState=o,function(){if((Qt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Dd={readContext:Je,use:Tu,useCallback:H0,useContext:Je,useEffect:Sd,useImperativeHandle:F0,useInsertionEffect:B0,useLayoutEffect:z0,useMemo:q0,useReducer:xu,useRef:O0,useState:function(){return xu(os)},useDebugValue:Ed,useDeferredValue:function(i,r){var o=Ee();return G0(o,ne.memoizedState,i,r)},useTransition:function(){var i=xu(os)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:yl(i),r]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:Rd,useFormState:V0,useActionState:V0,useOptimistic:function(i,r){var o=Ee();return A0(o,ne,i,r)},useMemoCache:vd,useCacheRefresh:X0};Dd.useEffectEvent=L0;var ev={readContext:Je,use:Tu,useCallback:H0,useContext:Je,useEffect:Sd,useImperativeHandle:F0,useInsertionEffect:B0,useLayoutEffect:z0,useMemo:q0,useReducer:bd,useRef:O0,useState:function(){return bd(os)},useDebugValue:Ed,useDeferredValue:function(i,r){var o=Ee();return ne===null?Cd(o,i,r):G0(o,ne.memoizedState,i,r)},useTransition:function(){var i=bd(os)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:yl(i),r]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:Rd,useFormState:P0,useActionState:P0,useOptimistic:function(i,r){var o=Ee();return ne!==null?A0(o,ne,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:vd,useCacheRefresh:X0};ev.useEffectEvent=L0;function Md(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Nd={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Bn(),h=Bs(c);h.payload=r,o!=null&&(h.callback=o),r=zs(i,h,c),r!==null&&(Rn(r,i,c),dl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Bn(),h=Bs(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=zs(i,h,c),r!==null&&(Rn(r,i,c),dl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Bn(),c=Bs(o);c.tag=2,r!=null&&(c.callback=r),r=zs(i,c,o),r!==null&&(Rn(r,i,o),dl(r,i,o))}};function nv(i,r,o,c,h,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!rl(o,c)||!rl(h,p):!0}function iv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Nd.enqueueReplaceState(r,r.state,null)}function Qr(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}function sv(i){iu(i)}function rv(i){console.error(i)}function av(i){iu(i)}function Au(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function ov(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kd(i,r,o){return o=Bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Au(i,r)},o}function lv(i){return i=Bs(i),i.tag=3,i}function cv(i,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;i.payload=function(){return h(p)},i.callback=function(){ov(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){ov(r,o,c),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function UC(i,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Pa(r,o,h,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Lu():o.alternate===null&&_e===0&&(_e=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===du?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),ip(i,c,h)),!1;case 22:return o.flags|=65536,c===du?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),ip(i,c,h)),!1}throw Error(s(435,o.tag))}return ip(i,c,h),Lu(),!1}if(Ft)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==Zh&&(i=Error(s(422),{cause:c}),ll(Yn(i,o)))):(c!==Zh&&(r=Error(s(423),{cause:c}),ll(Yn(r,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=Yn(c,o),h=kd(i.stateNode,c,h),ld(i,h),_e!==4&&(_e=2)),!1;var p=Error(s(520),{cause:c});if(p=Yn(p,o),Rl===null?Rl=[p]:Rl.push(p),_e!==4&&(_e=2),r===null)return!0;c=Yn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=kd(o.stateNode,c,i),ld(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=lv(h),cv(h,i,o,c),ld(o,h),!1}o=o.return}while(o!==null);return!1}var Vd=Error(s(461)),Ve=!1;function We(i,r,o,c){r.child=i===null?d0(r,null,o,c):Kr(r,i.child,o,c)}function uv(i,r,o,c,h){o=o.render;var p=r.ref;if("ref"in c){var b={};for(var E in c)E!=="ref"&&(b[E]=c[E])}else b=c;return Hr(r),c=pd(i,r,o,b,p,h),E=md(),i!==null&&!Ve?(gd(i,r,h),ls(i,r,h)):(Ft&&E&&Qh(r),r.flags|=1,We(i,r,c,h),r.child)}function fv(i,r,o,c,h){if(i===null){var p=o.type;return typeof p=="function"&&!$h(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,hv(i,r,p,c,h)):(i=ou(o.type,null,c,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Ud(i,h)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:rl,o(b,c)&&i.ref===r.ref)return ls(i,r,h)}return r.flags|=1,i=ns(p,c),i.ref=r.ref,i.return=r,r.child=i}function hv(i,r,o,c,h){if(i!==null){var p=i.memoizedProps;if(rl(p,c)&&i.ref===r.ref)if(Ve=!1,r.pendingProps=c=p,Ud(i,h))(i.flags&131072)!==0&&(Ve=!0);else return r.lanes=i.lanes,ls(i,r,h)}return Id(i,r,o,c,h)}function dv(i,r,o,c){var h=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~p}else c=0,r.child=null;return pv(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&fu(r,p!==null?p.cachePool:null),p!==null?g0(r,p):ud(),y0(r);else return c=r.lanes=536870912,pv(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(fu(r,p.cachePool),g0(r,p),Fs(),r.memoizedState=null):(i!==null&&fu(r,null),ud(),Fs());return We(i,r,h,o),r.child}function bl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function pv(i,r,o,c,h){var p=sd();return p=p===null?null:{parent:Ne._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&fu(r,null),ud(),y0(r),i!==null&&Pa(i,r,c,!0),r.childLanes=h,null}function Ru(i,r){return r=Du({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function mv(i,r,o){return Kr(r,i.child,null,o),i=Ru(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function FC(i,r,o){var c=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ft){if(c.mode==="hidden")return i=Ru(r,c),r.lanes=536870912,bl(null,i);if(hd(r),(i=ce)?(i=R_(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=Jy(i),o.return=r,r.child=o,Ze=r,ce=null)):i=null,i===null)throw Os(r);return r.lanes=536870912,null}return Ru(r,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(hd(r),h)if(r.flags&256)r.flags&=-257,r=mv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ve||Pa(i,r,o,!1),h=(o&i.childLanes)!==0,Ve||h){if(c=oe,c!==null&&(b=Uo(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Br(i,b),Rn(c,i,b),Vd;Lu(),r=mv(i,r,o)}else i=p.treeContext,ce=Wn(b.nextSibling),Ze=r,Ft=!0,Ps=null,Zn=!1,i!==null&&e0(r,i),r=Ru(r,c),r.flags|=4096;return r}return i=ns(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function wu(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Id(i,r,o,c,h){return Hr(r),o=pd(i,r,o,c,void 0,h),c=md(),i!==null&&!Ve?(gd(i,r,h),ls(i,r,h)):(Ft&&c&&Qh(r),r.flags|=1,We(i,r,o,h),r.child)}function gv(i,r,o,c,h,p){return Hr(r),r.updateQueue=null,o=_0(r,c,o,h),v0(i),c=md(),i!==null&&!Ve?(gd(i,r,p),ls(i,r,p)):(Ft&&c&&Qh(r),r.flags|=1,We(i,r,o,p),r.child)}function yv(i,r,o,c,h){if(Hr(r),r.stateNode===null){var p=Na,b=o.contextType;typeof b=="object"&&b!==null&&(p=Je(b)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},ad(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?Je(b):Na,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Md(r,o,b,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Nd.enqueueReplaceState(p,p.state,null),ml(r,c,p,h),pl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,k=Qr(o,E);p.props=k;var G=p.context,W=o.contextType;b=Na,typeof W=="object"&&W!==null&&(b=Je(W));var nt=o.getDerivedStateFromProps;W=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||G!==b)&&iv(r,p,c,b),Ls=!1;var $=r.memoizedState;p.state=$,ml(r,c,p,h),pl(),G=r.memoizedState,E||$!==G||Ls?(typeof nt=="function"&&(Md(r,o,nt,c),G=r.memoizedState),(k=Ls||nv(r,o,k,c,$,G,b))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=G),p.props=c,p.state=G,p.context=b,c=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,od(i,r),b=r.memoizedProps,W=Qr(o,b),p.props=W,nt=r.pendingProps,$=p.context,G=o.contextType,k=Na,typeof G=="object"&&G!==null&&(k=Je(G)),E=o.getDerivedStateFromProps,(G=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||$!==k)&&iv(r,p,c,k),Ls=!1,$=r.memoizedState,p.state=$,ml(r,c,p,h),pl();var Q=r.memoizedState;b!==nt||$!==Q||Ls||i!==null&&i.dependencies!==null&&cu(i.dependencies)?(typeof E=="function"&&(Md(r,o,E,c),Q=r.memoizedState),(W=Ls||nv(r,o,W,c,$,Q,k)||i!==null&&i.dependencies!==null&&cu(i.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Q,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Q,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),p.props=c,p.state=Q,p.context=k,c=W):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,wu(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Kr(r,i.child,null,h),r.child=Kr(r,null,o,h)):We(i,r,o,h),r.memoizedState=p.state,i=r.child):i=ls(i,r,h),i}function vv(i,r,o,c){return Ur(),r.flags|=256,We(i,r,o,c),r.child}var Pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(i){return{baseLanes:i,cachePool:o0()}}function jd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ln),i}function _v(i,r,o){var c=r.pendingProps,h=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Se.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(h?Us(r):Fs(),(i=ce)?(i=R_(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=Jy(i),o.return=r,r.child=o,Ze=r,ce=null)):i=null,i===null)throw Os(r);return _p(i)?r.lanes=32:r.lanes=536870912,null}var E=c.children;return c=c.fallback,h?(Fs(),h=r.mode,E=Du({mode:"hidden",children:E},h),c=zr(c,h,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,c=r.child,c.memoizedState=Od(o),c.childLanes=jd(i,b,o),r.memoizedState=Pd,bl(null,c)):(Us(r),Ld(r,E))}var k=i.memoizedState;if(k!==null&&(E=k.dehydrated,E!==null)){if(p)r.flags&256?(Us(r),r.flags&=-257,r=Bd(i,r,o)):r.memoizedState!==null?(Fs(),r.child=i.child,r.flags|=128,r=null):(Fs(),E=c.fallback,h=r.mode,c=Du({mode:"visible",children:c.children},h),E=zr(E,h,o,null),E.flags|=2,c.return=r,E.return=r,c.sibling=E,r.child=c,Kr(r,i.child,null,o),c=r.child,c.memoizedState=Od(o),c.childLanes=jd(i,b,o),r.memoizedState=Pd,r=bl(null,c));else if(Us(r),_p(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var G=b.dgst;b=G,c=Error(s(419)),c.stack="",c.digest=b,ll({value:c,source:null,stack:null}),r=Bd(i,r,o)}else if(Ve||Pa(i,r,o,!1),b=(o&i.childLanes)!==0,Ve||b){if(b=oe,b!==null&&(c=Uo(b,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,Br(i,c),Rn(b,i,c),Vd;vp(E)||Lu(),r=Bd(i,r,o)}else vp(E)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,ce=Wn(E.nextSibling),Ze=r,Ft=!0,Ps=null,Zn=!1,i!==null&&e0(r,i),r=Ld(r,c.children),r.flags|=4096);return r}return h?(Fs(),E=c.fallback,h=r.mode,k=i.child,G=k.sibling,c=ns(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,G!==null?E=ns(G,E):(E=zr(E,h,o,null),E.flags|=2),E.return=r,c.return=r,c.sibling=E,r.child=c,bl(null,c),c=r.child,E=i.child.memoizedState,E===null?E=Od(o):(h=E.cachePool,h!==null?(k=Ne._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=o0(),E={baseLanes:E.baseLanes|o,cachePool:h}),c.memoizedState=E,c.childLanes=jd(i,b,o),r.memoizedState=Pd,bl(i.child,c)):(Us(r),o=i.child,i=o.sibling,o=ns(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Ld(i,r){return r=Du({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Du(i,r){return i=In(22,i,null,r),i.lanes=0,i}function Bd(i,r,o){return Kr(r,i.child,null,o),i=Ld(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function bv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),td(i.return,r,o)}function zd(i,r,o,c,h,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=h,b.treeForkCount=p)}function Tv(i,r,o){var c=r.pendingProps,h=c.revealOrder,p=c.tail;c=c.children;var b=Se.current,E=(b&2)!==0;if(E?(b=b&1|2,r.flags|=128):b&=1,J(Se,b),We(i,r,c,o),c=Ft?ol:0,!E&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bv(i,o,r);else if(i.tag===19)bv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(h){case"forwards":for(o=r.child,h=null;o!==null;)i=o.alternate,i!==null&&yu(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),zd(r,!1,h,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&yu(i)===null){r.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}zd(r,!0,o,null,p,c);break;case"together":zd(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ls(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Gs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Pa(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ns(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ns(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ud(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&cu(i)))}function HC(i,r,o){switch(r.tag){case 3:It(r,r.stateNode.containerInfo),js(r,Ne,i.memoizedState.cache),Ur();break;case 27:case 5:Gt(r);break;case 4:It(r,r.stateNode.containerInfo);break;case 10:js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hd(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Us(r),r.flags|=128,null):(o&r.child.childLanes)!==0?_v(i,r,o):(Us(r),i=ls(i,r,o),i!==null?i.sibling:null);Us(r);break;case 19:var h=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Pa(i,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return Tv(i,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Se,Se.current),c)break;return null;case 22:return r.lanes=0,dv(i,r,o,r.pendingProps);case 24:js(r,Ne,i.memoizedState.cache)}return ls(i,r,o)}function xv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ve=!0;else{if(!Ud(i,o)&&(r.flags&128)===0)return Ve=!1,HC(i,r,o);Ve=(i.flags&131072)!==0}else Ve=!1,Ft&&(r.flags&1048576)!==0&&t0(r,ol,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(i=Gr(r.elementType),r.type=i,typeof i=="function")$h(i)?(c=Qr(i,c),r.tag=1,r=yv(null,r,i,c,o)):(r.tag=0,r=Id(null,r,i,c,o));else{if(i!=null){var h=i.$$typeof;if(h===lt){r.tag=11,r=uv(null,r,i,c,o);break t}else if(h===w){r.tag=14,r=fv(null,r,i,c,o);break t}}throw r=Ut(i)||i,Error(s(306,r,""))}}return r;case 0:return Id(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=Qr(c,r.pendingProps),yv(i,r,c,h,o);case 3:t:{if(It(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;h=p.element,od(i,r),ml(r,c,null,o);var b=r.memoizedState;if(c=b.cache,js(r,Ne,c),c!==p.cache&&ed(r,[Ne],o,!0),pl(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=vv(i,r,c,o);break t}else if(c!==h){h=Yn(Error(s(424)),r),ll(h),r=vv(i,r,c,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ce=Wn(i.firstChild),Ze=r,Ft=!0,Ps=null,Zn=!0,o=d0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ur(),c===h){r=ls(i,r,o);break t}We(i,r,c,o)}r=r.child}return r;case 26:return wu(i,r),i===null?(o=V_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,c=Gu(pt.current).createElement(o),c[we]=r,c[Ge]=i,tn(c,o,i),De(c),r.stateNode=c):r.memoizedState=V_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Gt(r),i===null&&Ft&&(c=r.stateNode=M_(r.type,r.pendingProps,pt.current),Ze=r,Zn=!0,h=ce,Xs(r.type)?(bp=h,ce=Wn(c.firstChild)):ce=h),We(i,r,r.pendingProps.children,o),wu(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((h=c=ce)&&(c=_A(c,r.type,r.pendingProps,Zn),c!==null?(r.stateNode=c,Ze=r,ce=Wn(c.firstChild),Zn=!1,h=!0):h=!1),h||Os(r)),Gt(r),h=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,mp(h,p)?c=null:b!==null&&mp(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=pd(i,r,IC,null,null,o),Pl._currentValue=h),wu(i,r),We(i,r,c,o),r.child;case 6:return i===null&&Ft&&((i=o=ce)&&(o=bA(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,Ze=r,ce=null,i=!0):i=!1),i||Os(r)),null;case 13:return _v(i,r,o);case 4:return It(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Kr(r,null,c,o):We(i,r,c,o),r.child;case 11:return uv(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,js(r,r.type,c.value),We(i,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,Hr(r),h=Je(h),c=c(h),r.flags|=1,We(i,r,c,o),r.child;case 14:return fv(i,r,r.type,r.pendingProps,o);case 15:return hv(i,r,r.type,r.pendingProps,o);case 19:return Tv(i,r,o);case 31:return FC(i,r,o);case 22:return dv(i,r,o,r.pendingProps);case 24:return Hr(r),c=Je(Ne),i===null?(h=sd(),h===null&&(h=oe,p=nd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),r.memoizedState={parent:c,cache:h},ad(r),js(r,Ne,h)):((i.lanes&o)!==0&&(od(i,r),ml(r,null,null,o),pl()),h=i.memoizedState,p=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),js(r,Ne,c)):(c=p.cache,js(r,Ne,c),c!==h.cache&&ed(r,[Ne],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cs(i){i.flags|=4}function Fd(i,r,o,c,h){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(h&335544128)===h)if(i.stateNode.complete)i.flags|=8192;else if(Qv())i.flags|=8192;else throw $r=du,rd}else i.flags&=-16777217}function Sv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!L_(r))if(Qv())i.flags|=8192;else throw $r=du,rd}function Mu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Oc():536870912,i.lanes|=r,Ka|=r)}function Tl(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ue(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function qC(i,r,o){var c=r.pendingProps;switch(Xh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),rs(Ne),Tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ia(r)?cs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jh())),ue(r),null;case 26:var h=r.type,p=r.memoizedState;return i===null?(cs(r),p!==null?(ue(r),Sv(r,p)):(ue(r),Fd(r,h,null,c,o))):p?p!==i.memoizedState?(cs(r),ue(r),Sv(r,p)):(ue(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&cs(r),ue(r),Fd(r,h,i,c,o)),null;case 27:if(Xt(r),o=pt.current,h=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}i=it.current,Ia(r)?n0(r):(i=M_(h,c,o),r.stateNode=i,cs(r))}return ue(r),null;case 5:if(Xt(r),h=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(p=it.current,Ia(r))n0(r);else{var b=Gu(pt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}p[we]=r,p[Ge]=c;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch(tn(p,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&cs(r)}}return ue(r),Fd(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&cs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=pt.current,Ia(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[we]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||__(i.nodeValue,o)),i||Os(r,!0)}else i=Gu(i).createTextNode(c),i[we]=r,r.stateNode=i}return ue(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Ia(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[we]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),i=!1}else o=Jh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ue(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ia(r),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[we]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),h=!1}else h=Jh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Mu(r,r.updateQueue),ue(r),null);case 4:return Tt(),i===null&&up(r.stateNode.containerInfo),ue(r),null;case 10:return rs(r.type),ue(r),null;case 19:if(H(Se),c=r.memoizedState,c===null)return ue(r),null;if(h=(r.flags&128)!==0,p=c.rendering,p===null)if(h)Tl(c,!1);else{if(_e!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=yu(i),p!==null){for(r.flags|=128,Tl(c,!1),i=p.updateQueue,r.updateQueue=i,Mu(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Zy(o,i),o=o.sibling;return J(Se,Se.current&1|2),Ft&&is(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&mn()>Pu&&(r.flags|=128,h=!0,Tl(c,!1),r.lanes=4194304)}else{if(!h)if(i=yu(p),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Mu(r,i),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ft)return ue(r),null}else 2*mn()-c.renderingStartTime>Pu&&o!==536870912&&(r.flags|=128,h=!0,Tl(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=Se.current,J(Se,h?o&1|2:o&1),Ft&&is(r,c.treeForkCount),i):(ue(r),null);case 22:case 23:return On(r),fd(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),o=r.updateQueue,o!==null&&Mu(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&H(qr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),rs(Ne),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GC(i,r){switch(Xh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rs(Ne),Tt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Xt(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ur()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return H(Se),null;case 4:return Tt(),null;case 10:return rs(r.type),null;case 22:case 23:return On(r),fd(),i!==null&&H(qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rs(Ne),null;case 25:return null;default:return null}}function Ev(i,r){switch(Xh(r),r.tag){case 3:rs(Ne),Tt();break;case 26:case 27:case 5:Xt(r);break;case 4:Tt();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:H(Se);break;case 10:rs(r.type);break;case 22:case 23:On(r),fd(),i!==null&&H(qr);break;case 24:rs(Ne)}}function xl(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==h)}}catch(E){te(r,r.return,E)}}function Hs(i,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&i)===i){var b=c.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,h=r;var k=o,G=E;try{G()}catch(W){te(h,k,W)}}}c=c.next}while(c!==p)}}catch(W){te(r,r.return,W)}}function Cv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{m0(r,o)}catch(c){te(i,i.return,c)}}}function Av(i,r,o){o.props=Qr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){te(i,r,c)}}function Sl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(h){te(i,r,h)}}function Ui(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){te(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){te(i,r,h)}else o.current=null}function Rv(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){te(i,i.return,h)}}function Hd(i,r,o){try{var c=i.stateNode;dA(c,i.type,o,r),c[Ge]=r}catch(h){te(i,i.return,h)}}function wv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xs(i.type)||i.tag===4}function qd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||wv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gd(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ci));else if(c!==4&&(c===27&&Xs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Gd(i,r,o),i=i.sibling;i!==null;)Gd(i,r,o),i=i.sibling}function Nu(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Xs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Nu(i,r,o),i=i.sibling;i!==null;)Nu(i,r,o),i=i.sibling}function Dv(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);tn(r,c,o),r[we]=i,r[Ge]=o}catch(p){te(i,i.return,p)}}var us=!1,Ie=!1,$d=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function $C(i,r){if(i=i.containerInfo,dp=Ju,i=Fy(i),Bh(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var b=0,E=-1,k=-1,G=0,W=0,nt=i,$=null;e:for(;;){for(var Q;nt!==o||h!==0&&nt.nodeType!==3||(E=b+h),nt!==p||c!==0&&nt.nodeType!==3||(k=b+c),nt.nodeType===3&&(b+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)$=nt,nt=Q;for(;;){if(nt===i)break e;if($===o&&++G===h&&(E=b),$===p&&++W===c&&(k=b),(Q=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=Q}o=E===-1||k===-1?null:{start:E,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},Ju=!1,Ke=r;Ke!==null;)if(r=Ke,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ke=i;else for(;Ke!==null;){switch(r=Ke,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)h=i[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,h=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var gt=Qr(o.type,h);i=c.getSnapshotBeforeUpdate(gt,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(At){te(o,o.return,At)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)yp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":yp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ke=i;break}Ke=r.return}}function Nv(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:hs(i,o),c&4&&xl(5,o);break;case 1:if(hs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){te(o,o.return,b)}else{var h=Qr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){te(o,o.return,b)}}c&64&&Cv(o),c&512&&Sl(o,o.return);break;case 3:if(hs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m0(i,r)}catch(b){te(o,o.return,b)}}break;case 27:r===null&&c&4&&Dv(o);case 26:case 5:hs(i,o),r===null&&c&4&&Rv(o),c&512&&Sl(o,o.return);break;case 12:hs(i,o);break;case 31:hs(i,o),c&4&&Iv(i,o);break;case 13:hs(i,o),c&4&&Pv(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=eA.bind(null,o),TA(i,o))));break;case 22:if(c=o.memoizedState!==null||us,!c){r=r!==null&&r.memoizedState!==null||Ie,h=us;var p=Ie;us=c,(Ie=r)&&!p?ds(i,o,(o.subtreeFlags&8772)!==0):hs(i,o),us=h,Ie=p}break;case 30:break;default:hs(i,o)}}function kv(i){var r=i.alternate;r!==null&&(i.alternate=null,kv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ya(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var me=null,Sn=!1;function fs(i,r,o){for(o=o.child;o!==null;)Vv(i,r,o),o=o.sibling}function Vv(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:Ie||Ui(o,r),fs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ie||Ui(o,r);var c=me,h=Sn;Xs(o.type)&&(me=o.stateNode,Sn=!1),fs(i,r,o),kl(o.stateNode),me=c,Sn=h;break;case 5:Ie||Ui(o,r);case 6:if(c=me,h=Sn,me=null,fs(i,r,o),me=c,Sn=h,me!==null)if(Sn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(p){te(o,r,p)}else try{me.removeChild(o.stateNode)}catch(p){te(o,r,p)}break;case 18:me!==null&&(Sn?(i=me,C_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),eo(i)):C_(me,o.stateNode));break;case 4:c=me,h=Sn,me=o.stateNode.containerInfo,Sn=!0,fs(i,r,o),me=c,Sn=h;break;case 0:case 11:case 14:case 15:Hs(2,o,r),Ie||Hs(4,o,r),fs(i,r,o);break;case 1:Ie||(Ui(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Av(o,r,c)),fs(i,r,o);break;case 21:fs(i,r,o);break;case 22:Ie=(c=Ie)||o.memoizedState!==null,fs(i,r,o),Ie=c;break;default:fs(i,r,o)}}function Iv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{eo(i)}catch(o){te(r,r.return,o)}}}function Pv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eo(i)}catch(o){te(r,r.return,o)}}function KC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Mv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Mv),r;default:throw Error(s(435,i.tag))}}function ku(i,r){var o=KC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var h=nA.bind(null,i,c);c.then(h,h)}})}function En(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],p=i,b=r,E=b;t:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){me=E.stateNode,Sn=!1;break t}break;case 5:me=E.stateNode,Sn=!1;break t;case 3:case 4:me=E.stateNode.containerInfo,Sn=!0;break t}E=E.return}if(me===null)throw Error(s(160));Vv(p,b,h),me=null,Sn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ov(r,i),r=r.sibling}var mi=null;function Ov(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),Cn(i),c&4&&(Hs(3,i,i.return),xl(3,i),Hs(5,i,i.return));break;case 1:En(r,i),Cn(i),c&512&&(Ie||o===null||Ui(o,o.return)),c&64&&us&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=mi;if(En(r,i),Cn(i),c&512&&(Ie||o===null||Ui(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,h=h.ownerDocument||h;e:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ri]||p[we]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),tn(p,c,o),p[we]=i,De(p),c=p;break t;case"link":var b=O_("link","href",h).get(c+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break e}}p=h.createElement(c),tn(p,c,o),h.head.appendChild(p);break;case"meta":if(b=O_("meta","content",h).get(c+(o.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break e}}p=h.createElement(c),tn(p,c,o),h.head.appendChild(p);break;default:throw Error(s(468,c))}p[we]=i,De(p),c=p}i.stateNode=c}else j_(h,i.type,i.stateNode);else i.stateNode=P_(h,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?j_(h,i.type,i.stateNode):P_(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Hd(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(r,i),Cn(i),c&512&&(Ie||o===null||Ui(o,o.return)),o!==null&&c&4&&Hd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(r,i),Cn(i),c&512&&(Ie||o===null||Ui(o,o.return)),i.flags&32){h=i.stateNode;try{xn(h,"")}catch(gt){te(i,i.return,gt)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,Hd(i,h,o!==null?o.memoizedProps:h)),c&1024&&($d=!0);break;case 6:if(En(r,i),Cn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(gt){te(i,i.return,gt)}}break;case 3:if(Yu=null,h=mi,mi=$u(r.containerInfo),En(r,i),mi=h,Cn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{eo(r.containerInfo)}catch(gt){te(i,i.return,gt)}$d&&($d=!1,jv(i));break;case 4:c=mi,mi=$u(i.stateNode.containerInfo),En(r,i),Cn(i),mi=c;break;case 12:En(r,i),Cn(i);break;case 31:En(r,i),Cn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ku(i,c)));break;case 13:En(r,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Iu=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ku(i,c)));break;case 22:h=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,G=us,W=Ie;if(us=G||h,Ie=W||k,En(r,i),Ie=W,us=G,Cn(i),c&8192)t:for(r=i.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||k||us||Ie||Xr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(p=k.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=k.stateNode;var nt=k.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(gt){te(k,k.return,gt)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(gt){te(k,k.return,gt)}}}else if(r.tag===18){if(o===null){k=r;try{var Q=k.stateNode;h?A_(Q,!0):A_(k.stateNode,!1)}catch(gt){te(k,k.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ku(i,o))));break;case 19:En(r,i),Cn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ku(i,c)));break;case 30:break;case 21:break;default:En(r,i),Cn(i)}}function Cn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(wv(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,p=qd(i);Nu(i,p,h);break;case 5:var b=o.stateNode;o.flags&32&&(xn(b,""),o.flags&=-33);var E=qd(i);Nu(i,E,b);break;case 3:case 4:var k=o.stateNode.containerInfo,G=qd(i);Gd(i,G,k);break;default:throw Error(s(161))}}catch(W){te(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function jv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;jv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function hs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Nv(i,r.alternate,r),r=r.sibling}function Xr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hs(4,r,r.return),Xr(r);break;case 1:Ui(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Av(r,r.return,o),Xr(r);break;case 27:kl(r.stateNode);case 26:case 5:Ui(r,r.return),Xr(r);break;case 22:r.memoizedState===null&&Xr(r);break;case 30:Xr(r);break;default:Xr(r)}i=i.sibling}}function ds(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:ds(h,p,o),xl(4,p);break;case 1:if(ds(h,p,o),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){te(c,c.return,G)}if(c=p,h=c.updateQueue,h!==null){var E=c.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)p0(k[h],E)}catch(G){te(c,c.return,G)}}o&&b&64&&Cv(p),Sl(p,p.return);break;case 27:Dv(p);case 26:case 5:ds(h,p,o),o&&c===null&&b&4&&Rv(p),Sl(p,p.return);break;case 12:ds(h,p,o);break;case 31:ds(h,p,o),o&&b&4&&Iv(h,p);break;case 13:ds(h,p,o),o&&b&4&&Pv(h,p);break;case 22:p.memoizedState===null&&ds(h,p,o),Sl(p,p.return);break;case 30:break;default:ds(h,p,o)}r=r.sibling}}function Kd(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&cl(o))}function Yd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&cl(i))}function gi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lv(i,r,o,c),r=r.sibling}function Lv(i,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:gi(i,r,o,c),h&2048&&xl(9,r);break;case 1:gi(i,r,o,c);break;case 3:gi(i,r,o,c),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&cl(i)));break;case 12:if(h&2048){gi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){te(r,r.return,k)}}else gi(i,r,o,c);break;case 31:gi(i,r,o,c);break;case 13:gi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?gi(i,r,o,c):El(i,r):p._visibility&2?gi(i,r,o,c):(p._visibility|=2,qa(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Kd(b,r);break;case 24:gi(i,r,o,c),h&2048&&Yd(r.alternate,r);break;default:gi(i,r,o,c)}}function qa(i,r,o,c,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,b=r,E=o,k=c,G=b.flags;switch(b.tag){case 0:case 11:case 15:qa(p,b,E,k,h),xl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?qa(p,b,E,k,h):El(p,b):(W._visibility|=2,qa(p,b,E,k,h)),h&&G&2048&&Kd(b.alternate,b);break;case 24:qa(p,b,E,k,h),h&&G&2048&&Yd(b.alternate,b);break;default:qa(p,b,E,k,h)}r=r.sibling}}function El(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,h=c.flags;switch(c.tag){case 22:El(o,c),h&2048&&Kd(c.alternate,c);break;case 24:El(o,c),h&2048&&Yd(c.alternate,c);break;default:El(o,c)}r=r.sibling}}var Cl=8192;function Ga(i,r,o){if(i.subtreeFlags&Cl)for(i=i.child;i!==null;)Bv(i,r,o),i=i.sibling}function Bv(i,r,o){switch(i.tag){case 26:Ga(i,r,o),i.flags&Cl&&i.memoizedState!==null&&VA(o,mi,i.memoizedState,i.memoizedProps);break;case 5:Ga(i,r,o);break;case 3:case 4:var c=mi;mi=$u(i.stateNode.containerInfo),Ga(i,r,o),mi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Cl,Cl=16777216,Ga(i,r,o),Cl=c):Ga(i,r,o));break;default:Ga(i,r,o)}}function zv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Al(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Ke=c,Fv(c,i)}zv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(i),i=i.sibling}function Uv(i){switch(i.tag){case 0:case 11:case 15:Al(i),i.flags&2048&&Hs(9,i,i.return);break;case 3:Al(i);break;case 12:Al(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vu(i)):Al(i);break;default:Al(i)}}function Vu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Ke=c,Fv(c,i)}zv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hs(8,r,r.return),Vu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vu(r));break;default:Vu(r)}i=i.sibling}}function Fv(i,r){for(;Ke!==null;){var o=Ke;switch(o.tag){case 0:case 11:case 15:Hs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:cl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ke=c;else t:for(o=i;Ke!==null;){c=Ke;var h=c.sibling,p=c.return;if(kv(c),c===o){Ke=null;break t}if(h!==null){h.return=p,Ke=h;break t}Ke=p}}}var YC={getCacheForType:function(i){var r=Je(Ne),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Je(Ne).controller.signal}},QC=typeof WeakMap=="function"?WeakMap:Map,Qt=0,oe=null,Pt=null,jt=0,Wt=0,jn=null,qs=!1,$a=!1,Qd=!1,ps=0,_e=0,Gs=0,Zr=0,Xd=0,Ln=0,Ka=0,Rl=null,An=null,Zd=!1,Iu=0,Hv=0,Pu=1/0,Ou=null,$s=null,Ue=0,Ks=null,Ya=null,ms=0,Jd=0,Wd=null,qv=null,wl=0,tp=null;function Bn(){return(Qt&2)!==0&&jt!==0?jt&-jt:X.T!==null?ap():jc()}function Gv(){if(Ln===0)if((jt&536870912)===0||Ft){var i=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Ln=i}else Ln=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Ln}function Rn(i,r,o){(i===oe&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(Qa(i,0),Ys(i,jt,Ln,!1)),Cr(i,o),((Qt&2)===0||i!==oe)&&(i===oe&&((Qt&2)===0&&(Zr|=o),_e===4&&Ys(i,jt,Ln,!1)),Fi(i))}function $v(i,r,o){if((Qt&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ai(i,r),h=c?JC(i,r):np(i,r,!0),p=c;do{if(h===0){$a&&!c&&Ys(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!XC(o)){h=np(i,r,!1),p=!1;continue}if(h===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var E=i;h=Rl;var k=E.current.memoizedState.isDehydrated;if(k&&(Qa(E,b).flags|=256),b=np(E,b,!1),b!==2){if(Qd&&!k){E.errorRecoveryDisabledLanes|=p,Zr|=p,h=4;break t}p=An,An=h,p!==null&&(An===null?An=p:An.push.apply(An,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){Qa(i,0),Ys(i,r,0,!0);break}t:{switch(c=i,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ys(c,r,Ln,!qs);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Iu+300-mn(),10<h)){if(Ys(c,r,Ln,!qs),Ei(c,0,!0)!==0)break t;ms=r,c.timeoutHandle=S_(Kv.bind(null,c,o,An,Ou,Zd,r,Ln,Zr,Ka,qs,p,"Throttled",-0,0),h);break t}Kv(c,o,An,Ou,Zd,r,Ln,Zr,Ka,qs,p,null,-0,0)}}break}while(!0);Fi(i)}function Kv(i,r,o,c,h,p,b,E,k,G,W,nt,$,Q){if(i.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Bv(r,p,nt);var gt=(p&62914560)===p?Iu-mn():(p&4194048)===p?Hv-mn():0;if(gt=IA(nt,gt),gt!==null){ms=p,i.cancelPendingCommit=gt(e_.bind(null,i,r,p,o,c,h,b,E,k,W,nt,null,$,Q)),Ys(i,p,b,!G);return}}e_(i,r,p,o,c,h,b,E,k)}function XC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!Vn(p(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ys(i,r,o,c){r&=~Xd,r&=~Zr,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var h=r;0<h;){var p=31-Te(h),b=1<<p;c[p]=-1,h&=~b}o!==0&&Ar(i,o,r)}function ju(){return(Qt&6)===0?(Dl(0),!1):!0}function ep(){if(Pt!==null){if(Wt===0)var i=Pt.return;else i=Pt,ss=Fr=null,yd(i),Ba=null,fl=0,i=Pt;for(;i!==null;)Ev(i.alternate,i),i=i.return;Pt=null}}function Qa(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,gA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ms=0,ep(),oe=i,Pt=o=ns(i.current,null),jt=r,Wt=0,jn=null,qs=!1,$a=ai(i,r),Qd=!1,Ka=Ln=Xd=Zr=Gs=_e=0,An=Rl=null,Zd=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var h=31-Te(c),p=1<<h;r|=i[h],c&=~p}return ps=r,su(),o}function Yv(i,r){kt=null,X.H=_l,r===La||r===hu?(r=u0(),Wt=3):r===rd?(r=u0(),Wt=4):Wt=r===Vd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Pt===null&&(_e=1,Au(i,Yn(r,i.current)))}function Qv(){var i=Pn.current;return i===null?!0:(jt&4194048)===jt?Jn===null:(jt&62914560)===jt||(jt&536870912)!==0?i===Jn:!1}function Xv(){var i=X.H;return X.H=_l,i===null?_l:i}function Zv(){var i=X.A;return X.A=YC,i}function Lu(){_e=4,qs||(jt&4194048)!==jt&&Pn.current!==null||($a=!0),(Gs&134217727)===0&&(Zr&134217727)===0||oe===null||Ys(oe,jt,Ln,!1)}function np(i,r,o){var c=Qt;Qt|=2;var h=Xv(),p=Zv();(oe!==i||jt!==r)&&(Ou=null,Qa(i,r)),r=!1;var b=_e;t:do try{if(Wt!==0&&Pt!==null){var E=Pt,k=jn;switch(Wt){case 8:ep(),b=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var G=Wt;if(Wt=0,jn=null,Xa(i,E,k,G),o&&$a){b=0;break t}break;default:G=Wt,Wt=0,jn=null,Xa(i,E,k,G)}}ZC(),b=_e;break}catch(W){Yv(i,W)}while(!0);return r&&i.shellSuspendCounter++,ss=Fr=null,Qt=c,X.H=h,X.A=p,Pt===null&&(oe=null,jt=0,su()),b}function ZC(){for(;Pt!==null;)Jv(Pt)}function JC(i,r){var o=Qt;Qt|=2;var c=Xv(),h=Zv();oe!==i||jt!==r?(Ou=null,Pu=mn()+500,Qa(i,r)):$a=ai(i,r);t:do try{if(Wt!==0&&Pt!==null){r=Pt;var p=jn;e:switch(Wt){case 1:Wt=0,jn=null,Xa(i,r,p,1);break;case 2:case 9:if(l0(p)){Wt=0,jn=null,Wv(r);break}r=function(){Wt!==2&&Wt!==9||oe!==i||(Wt=7),Fi(i)},p.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:l0(p)?(Wt=0,jn=null,Wv(r)):(Wt=0,jn=null,Xa(i,r,p,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var E=Pt;if(b?L_(b):E.stateNode.complete){Wt=0,jn=null;var k=E.sibling;if(k!==null)Pt=k;else{var G=E.return;G!==null?(Pt=G,Bu(G)):Pt=null}break e}}Wt=0,jn=null,Xa(i,r,p,5);break;case 6:Wt=0,jn=null,Xa(i,r,p,6);break;case 8:ep(),_e=6;break t;default:throw Error(s(462))}}WC();break}catch(W){Yv(i,W)}while(!0);return ss=Fr=null,X.H=c,X.A=h,Qt=o,Pt!==null?0:(oe=null,jt=0,su(),_e)}function WC(){for(;Pt!==null&&!kh();)Jv(Pt)}function Jv(i){var r=xv(i.alternate,i,ps);i.memoizedProps=i.pendingProps,r===null?Bu(i):Pt=r}function Wv(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=gv(o,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=gv(o,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:yd(r);default:Ev(o,r),r=Pt=Zy(r,ps),r=xv(o,r,ps)}i.memoizedProps=i.pendingProps,r===null?Bu(i):Pt=r}function Xa(i,r,o,c){ss=Fr=null,yd(r),Ba=null,fl=0;var h=r.return;try{if(UC(i,h,r,o,jt)){_e=1,Au(i,Yn(o,i.current)),Pt=null;return}}catch(p){if(h!==null)throw Pt=h,p;_e=1,Au(i,Yn(o,i.current)),Pt=null;return}r.flags&32768?(Ft||c===1?i=!0:$a||(jt&536870912)!==0?i=!1:(qs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),t_(r,i)):Bu(r)}function Bu(i){var r=i;do{if((r.flags&32768)!==0){t_(r,qs);return}i=r.return;var o=qC(r.alternate,r,ps);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);_e===0&&(_e=5)}function t_(i,r){do{var o=GC(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);_e=6,Pt=null}function e_(i,r,o,c,h,p,b,E,k){i.cancelPendingCommit=null;do zu();while(Ue!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=qh,Ph(i,o,p,b,E,k),i===oe&&(Pt=oe=null,jt=0),Ya=r,Ks=i,ms=o,Jd=p,Wd=h,qv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iA(Es,function(){return a_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,h=ot.p,ot.p=2,b=Qt,Qt|=4;try{$C(i,r,o)}finally{Qt=b,ot.p=h,X.T=c}}Ue=1,n_(),i_(),s_()}}function n_(){if(Ue===1){Ue=0;var i=Ks,r=Ya,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=ot.p;ot.p=2;var h=Qt;Qt|=4;try{Ov(r,i);var p=pp,b=Fy(i.containerInfo),E=p.focusedElem,k=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&Uy(E.ownerDocument.documentElement,E)){if(k!==null&&Bh(E)){var G=k.start,W=k.end;if(W===void 0&&(W=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(W,E.value.length);else{var nt=E.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var Q=$.getSelection(),gt=E.textContent.length,At=Math.min(k.start,gt),se=k.end===void 0?At:Math.min(k.end,gt);!Q.extend&&At>se&&(b=se,se=At,At=b);var z=zy(E,At),O=zy(E,se);if(z&&O&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var q=nt.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),At>se?(Q.addRange(q),Q.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),Q.addRange(q))}}}}for(nt=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<nt.length;E++){var et=nt[E];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Ju=!!dp,pp=dp=null}finally{Qt=h,ot.p=c,X.T=o}}i.current=r,Ue=2}}function i_(){if(Ue===2){Ue=0;var i=Ks,r=Ya,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=ot.p;ot.p=2;var h=Qt;Qt|=4;try{Nv(i,r.alternate,r)}finally{Qt=h,ot.p=c,X.T=o}}Ue=3}}function s_(){if(Ue===4||Ue===3){Ue=0,Mc();var i=Ks,r=Ya,o=ms,c=qv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,Ya=Ks=null,r_(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&($s=null),Ji(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=X.T,h=ot.p,ot.p=2,X.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var E=c[b];p(E.value,{componentStack:E.stack})}}finally{X.T=r,ot.p=h}}(ms&3)!==0&&zu(),Fi(i),h=i.pendingLanes,(o&261930)!==0&&(h&42)!==0?i===tp?wl++:(wl=0,tp=i):wl=0,Dl(0)}}function r_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,cl(r)))}function zu(){return n_(),i_(),s_(),a_()}function a_(){if(Ue!==5)return!1;var i=Ks,r=Jd;Jd=0;var o=Ji(ms),c=X.T,h=ot.p;try{ot.p=32>o?32:o,X.T=null,o=Wd,Wd=null;var p=Ks,b=ms;if(Ue=0,Ya=Ks=null,ms=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,Uv(p.current),Lv(p,p.current,b,o),Qt=E,Dl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ri,p)}catch{}return!0}finally{ot.p=h,X.T=c,r_(i,r)}}function o_(i,r,o){r=Yn(o,r),r=kd(i.stateNode,r,2),i=zs(i,r,2),i!==null&&(Cr(i,2),Fi(i))}function te(i,r,o){if(i.tag===3)o_(i,i,o);else for(;r!==null;){if(r.tag===3){o_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($s===null||!$s.has(c))){i=Yn(o,i),o=lv(2),c=zs(r,o,2),c!==null&&(cv(o,c,r,i),Cr(c,2),Fi(c));break}}r=r.return}}function ip(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new QC;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(Qd=!0,h.add(o),i=tA.bind(null,i,r,o),r.then(i,i))}function tA(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,oe===i&&(jt&o)===o&&(_e===4||_e===3&&(jt&62914560)===jt&&300>mn()-Iu?(Qt&2)===0&&Qa(i,0):Xd|=o,Ka===jt&&(Ka=0)),Fi(i)}function l_(i,r){r===0&&(r=Oc()),i=Br(i,r),i!==null&&(Cr(i,r),Fi(i))}function eA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),l_(i,o)}function nA(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),l_(i,o)}function iA(i,r){return ze(i,r)}var Uu=null,Za=null,sp=!1,Fu=!1,rp=!1,Qs=0;function Fi(i){i!==Za&&i.next===null&&(Za===null?Uu=Za=i:Za=Za.next=i),Fu=!0,sp||(sp=!0,rA())}function Dl(i,r){if(!rp&&Fu){rp=!0;do for(var o=!1,c=Uu;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var b=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-Te(42|i)+1)-1,p&=h&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,h_(c,p))}else p=jt,p=Ei(c,c===oe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ai(c,p)||(o=!0,h_(c,p));c=c.next}while(o);rp=!1}}function sA(){c_()}function c_(){Fu=sp=!1;var i=0;Qs!==0&&mA()&&(i=Qs);for(var r=mn(),o=null,c=Uu;c!==null;){var h=c.next,p=u_(c,r);p===0?(c.next=null,o===null?Uu=h:o.next=h,h===null&&(Za=o)):(o=c,(i!==0||(p&3)!==0)&&(Fu=!0)),c=h}Ue!==0&&Ue!==5||Dl(i),Qs!==0&&(Qs=0)}function u_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-Te(p),E=1<<b,k=h[b];k===-1?((E&o)===0||(E&c)!==0)&&(h[b]=Ih(E,r)):k<=r&&(i.expiredLanes|=E),p&=~E}if(r=oe,o=jt,o=Ei(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ss(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ai(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ss(c),Ji(o)){case 2:case 8:o=Bo;break;case 32:o=Es;break;case 268435456:o=Nc;break;default:o=Es}return c=f_.bind(null,i),o=ze(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ss(c),i.callbackPriority=2,i.callbackNode=null,2}function f_(i,r){if(Ue!==0&&Ue!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(zu()&&i.callbackNode!==o)return null;var c=jt;return c=Ei(i,i===oe?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:($v(i,c,r),u_(i,mn()),i.callbackNode!=null&&i.callbackNode===o?f_.bind(null,i):null)}function h_(i,r){if(zu())return null;$v(i,r,!0)}function rA(){yA(function(){(Qt&6)!==0?ze(Lo,sA):c_()})}function ap(){if(Qs===0){var i=Oa;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),Qs=i}return Qs}function d_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ta(""+i)}function p_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function aA(i,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var p=d_((h[Ge]||null).action),b=c.submitter;b&&(r=(r=b[Ge]||null)?d_(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var E=new Pi("action","action",null,c,h);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qs!==0){var k=b?p_(h,b):new FormData(h);Ad(o,{pending:!0,data:k,method:h.method,action:p},null,k)}}else typeof p=="function"&&(E.preventDefault(),k=b?p_(h,b):new FormData(h),Ad(o,{pending:!0,data:k,method:h.method,action:p},p,k))},currentTarget:h}]})}}for(var op=0;op<Hh.length;op++){var lp=Hh[op],oA=lp.toLowerCase(),lA=lp[0].toUpperCase()+lp.slice(1);pi(oA,"on"+lA)}pi(Gy,"onAnimationEnd"),pi($y,"onAnimationIteration"),pi(Ky,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(EC,"onTransitionRun"),pi(CC,"onTransitionStart"),pi(AC,"onTransitionCancel"),pi(Yy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function m_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],h=c.event;c=c.listeners;t:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var E=c[b],k=E.instance,G=E.currentTarget;if(E=E.listener,k!==p&&h.isPropagationStopped())break t;p=E,h.currentTarget=G;try{p(h)}catch(W){iu(W)}h.currentTarget=null,p=k}else for(b=0;b<c.length;b++){if(E=c[b],k=E.instance,G=E.currentTarget,E=E.listener,k!==p&&h.isPropagationStopped())break t;p=E,h.currentTarget=G;try{p(h)}catch(W){iu(W)}h.currentTarget=null,p=k}}}}function Ot(i,r){var o=r[ga];o===void 0&&(o=r[ga]=new Set);var c=i+"__bubble";o.has(c)||(g_(r,i,2,!1),o.add(c))}function cp(i,r,o){var c=0;r&&(c|=4),g_(o,i,c,r)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function up(i){if(!i[Hu]){i[Hu]=!0,Fo.forEach(function(o){o!=="selectionchange"&&(cA.has(o)||cp(o,!1,i),cp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hu]||(r[Hu]=!0,cp("selectionchange",!1,r))}}function g_(i,r,o,c){switch(G_(r)){case 2:var h=jA;break;case 8:h=LA;break;default:h=Cp}o=h.bind(null,r,o,i),h=void 0,!Nr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(r,o,{capture:!0,passive:h}):i.addEventListener(r,o,!0):h!==void 0?i.addEventListener(r,o,{passive:h}):i.addEventListener(r,o,!1)}function fp(i,r,o,c,h){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===h)break;if(b===4)for(b=c.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;E!==null;){if(b=wi(E),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){c=p=b;continue t}E=E.parentNode}}c=c.return}Ms(function(){var G=p,W=qn(o),nt=[];t:{var $=Qy.get(i);if($!==void 0){var Q=Pi,gt=i;switch(i){case"keypress":if(Vr(o)===0)break t;case"keydown":case"keyup":Q=tu;break;case"focusin":gt="focus",Q=Pr;break;case"focusout":gt="blur",Q=Pr;break;case"beforeblur":case"afterblur":Q=Pr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case Gy:case $y:case Ky:Q=Kc;break;case Yy:Q=R;break;case"scroll":case"scrollend":Q=tl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=es;break;case"toggle":case"beforetoggle":Q=Nt}var At=(r&4)!==0,se=!At&&(i==="scroll"||i==="scrollend"),z=At?$!==null?$+"Capture":null:$;At=[];for(var O=G,q;O!==null;){var et=O;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||z===null||(et=ui(O,z),et!=null&&At.push(Nl(O,et,q))),se)break;O=O.return}0<At.length&&($=new Q($,gt,null,o,W),nt.push({event:$,listeners:At}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==Zo&&(gt=o.relatedTarget||o.fromElement)&&(wi(gt)||gt[Ai]))break t;if((Q||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(gt=o.relatedTarget||o.toElement,Q=G,gt=gt?wi(gt):null,gt!==null&&(se=l(gt),At=gt.tag,gt!==se||At!==5&&At!==27&&At!==6)&&(gt=null)):(Q=null,gt=G),Q!==gt)){if(At=el,et="onMouseLeave",z="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(At=es,et="onPointerLeave",z="onPointerEnter",O="pointer"),se=Q==null?$:Nn(Q),q=gt==null?$:Nn(gt),$=new At(et,O+"leave",Q,o,W),$.target=se,$.relatedTarget=q,et=null,wi(W)===G&&(At=new At(z,O+"enter",gt,o,W),At.target=q,At.relatedTarget=se,et=At),se=et,Q&&gt)e:{for(At=uA,z=Q,O=gt,q=0,et=z;et;et=At(et))q++;et=0;for(var St=O;St;St=At(St))et++;for(;0<q-et;)z=At(z),q--;for(;0<et-q;)O=At(O),et--;for(;q--;){if(z===O||O!==null&&z===O.alternate){At=z;break e}z=At(z),O=At(O)}At=null}else At=null;Q!==null&&y_(nt,$,Q,At,!1),gt!==null&&se!==null&&y_(nt,se,gt,At,!0)}}t:{if($=G?Nn(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var $t=Iy;else if(ky($))if(Py)$t=TC;else{$t=_C;var bt=vC}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&ba(G.elementType)&&($t=Iy):$t=bC;if($t&&($t=$t(i,G))){Vy(nt,$t,o,W);break t}bt&&bt(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Yo($,"number",$.value)}switch(bt=G?Nn(G):window,i){case"focusin":(ky(bt)||bt.contentEditable==="true")&&(wa=bt,zh=G,al=null);break;case"focusout":al=zh=wa=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Hy(nt,o,W);break;case"selectionchange":if(SC)break;case"keydown":case"keyup":Hy(nt,o,W)}var Vt;if(Yt)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ra?Or(i,o)&&(Lt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Lt="onCompositionStart");Lt&&(Li&&o.locale!=="ko"&&(Ra||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ra&&(Vt=Wo()):(Ii=W,Jo="value"in Ii?Ii.value:Ii.textContent,Ra=!0)),bt=qu(G,Lt),0<bt.length&&(Lt=new ji(Lt,i,null,o,W),nt.push({event:Lt,listeners:bt}),Vt?Lt.data=Vt:(Vt=Aa(o),Vt!==null&&(Lt.data=Vt)))),(Vt=$n?pC(i,o):mC(i,o))&&(Lt=qu(G,"onBeforeInput"),0<Lt.length&&(bt=new ji("onBeforeInput","beforeinput",null,o,W),nt.push({event:bt,listeners:Lt}),bt.data=Vt)),aA(nt,i,G,o,W)}m_(nt,r)})}function Nl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function qu(i,r){for(var o=r+"Capture",c=[];i!==null;){var h=i,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ui(i,o),h!=null&&c.unshift(Nl(i,h,p)),h=ui(i,r),h!=null&&c.push(Nl(i,h,p))),i.tag===3)return c;i=i.return}return[]}function uA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function y_(i,r,o,c,h){for(var p=r._reactName,b=[];o!==null&&o!==c;){var E=o,k=E.alternate,G=E.stateNode;if(E=E.tag,k!==null&&k===c)break;E!==5&&E!==26&&E!==27||G===null||(k=G,h?(G=ui(o,p),G!=null&&b.unshift(Nl(o,G,k))):h||(G=ui(o,p),G!=null&&b.push(Nl(o,G,k)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var fA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function v_(i){return(typeof i=="string"?i:""+i).replace(fA,`
`).replace(hA,"")}function __(i,r){return r=v_(r),v_(i)===r}function ie(i,r,o,c,h,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||xn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&xn(i,""+c);break;case"className":kn(i,"class",c);break;case"tabIndex":kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(i,o,c);break;case"style":Xo(i,c,p);break;case"data":if(r!=="object"){kn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ta(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ie(i,r,"name",h.name,h,null),ie(i,r,"formEncType",h.formEncType,h,null),ie(i,r,"formMethod",h.formMethod,h,null),ie(i,r,"formTarget",h.formTarget,h,null)):(ie(i,r,"encType",h.encType,h,null),ie(i,r,"method",h.method,h,null),ie(i,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ta(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=ci);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ta(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),va(i,"popover",c);break;case"xlinkActuate":Me(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Me(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Me(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Me(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Me(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Me(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Me(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Me(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Me(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":va(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qc.get(o)||o,va(i,o,c))}}function hp(i,r,o,c,h,p){switch(o){case"style":Xo(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?xn(i,c):(typeof c=="number"||typeof c=="bigint")&&xn(i,""+c);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),p=i[Ge]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,h);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):va(i,o,c)}}}function tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var c=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ie(i,r,p,b,o,null)}}h&&ie(i,r,"srcSet",o.srcSet,o,null),c&&ie(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var E=p=b=h=null,k=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":h=W;break;case"type":b=W;break;case"checked":k=W;break;case"defaultChecked":G=W;break;case"value":p=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ie(i,r,c,W,o,null)}}Uc(i,p,E,k,G,b,h,!1);return;case"select":Ot("invalid",i),c=b=p=null;for(h in o)if(o.hasOwnProperty(h)&&(E=o[h],E!=null))switch(h){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":c=E;default:ie(i,r,h,E,o,null)}r=p,o=b,i.multiple=!!c,r!=null?As(i,!!c,r,!1):o!=null&&As(i,!!c,o,!0);return;case"textarea":Ot("invalid",i),p=h=c=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":c=E;break;case"defaultValue":h=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ie(i,r,b,E,o,null)}Rs(i,c,h,p);return;case"option":for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null)&&(k==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":ie(i,r,k,c,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(c=0;c<Ml.length;c++)Ot(Ml[c],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ie(i,r,G,c,o,null)}return;default:if(ba(r)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&hp(i,r,W,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&ie(i,r,E,c,o,null))}function dA(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,E=null,k=null,G=null,W=null;for(Q in o){var nt=o[Q];if(o.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=nt;default:c.hasOwnProperty(Q)||ie(i,r,Q,null,c,nt)}}for(var $ in c){var Q=c[$];if(nt=o[$],c.hasOwnProperty($)&&(Q!=null||nt!=null))switch($){case"type":p=Q;break;case"name":h=Q;break;case"checked":G=Q;break;case"defaultChecked":W=Q;break;case"value":b=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==nt&&ie(i,r,$,Q,c,nt)}}_a(i,b,E,k,G,W,p,h);return;case"select":Q=b=E=$=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":Q=k;default:c.hasOwnProperty(p)||ie(i,r,p,null,c,k)}for(h in c)if(p=c[h],k=o[h],c.hasOwnProperty(h)&&(p!=null||k!=null))switch(h){case"value":$=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==k&&ie(i,r,h,p,c,k)}r=E,o=b,c=Q,$!=null?As(i,!!o,$,!1):!!c!=!!o&&(r!=null?As(i,!!o,r,!0):As(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(E in o)if(h=o[E],o.hasOwnProperty(E)&&h!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(i,r,E,null,c,h)}for(b in c)if(h=c[b],p=o[b],c.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":$=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&ie(i,r,b,h,c,p)}Fc(i,$,Q);return;case"option":for(var gt in o)$=o[gt],o.hasOwnProperty(gt)&&$!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:ie(i,r,gt,null,c,$));for(k in c)$=c[k],Q=o[k],c.hasOwnProperty(k)&&$!==Q&&($!=null||Q!=null)&&(k==="selected"?i.selected=$&&typeof $!="function"&&typeof $!="symbol":ie(i,r,k,$,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in o)$=o[At],o.hasOwnProperty(At)&&$!=null&&!c.hasOwnProperty(At)&&ie(i,r,At,null,c,$);for(G in c)if($=c[G],Q=o[G],c.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:ie(i,r,G,$,c,Q)}return;default:if(ba(r)){for(var se in o)$=o[se],o.hasOwnProperty(se)&&$!==void 0&&!c.hasOwnProperty(se)&&hp(i,r,se,void 0,c,$);for(W in c)$=c[W],Q=o[W],!c.hasOwnProperty(W)||$===Q||$===void 0&&Q===void 0||hp(i,r,W,$,c,Q);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!c.hasOwnProperty(z)&&ie(i,r,z,null,c,$);for(nt in c)$=c[nt],Q=o[nt],!c.hasOwnProperty(nt)||$===Q||$==null&&Q==null||ie(i,r,nt,$,c,Q)}function b_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],p=h.transferSize,b=h.initiatorType,E=h.duration;if(p&&E&&b_(b)){for(b=0,E=h.responseEnd,c+=1;c<o.length;c++){var k=o[c],G=k.startTime;if(G>E)break;var W=k.transferSize,nt=k.initiatorType;W&&b_(nt)&&(k=k.responseEnd,b+=W*(k<E?1:(E-G)/(k-G)))}if(--c,r+=8*(p+b)/(h.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dp=null,pp=null;function Gu(i){return i.nodeType===9?i:i.ownerDocument}function T_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gp=null;function mA(){var i=window.event;return i&&i.type==="popstate"?i===gp?!1:(gp=i,!0):(gp=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(i){return E_.resolve(null).then(i).catch(vA)}:S_;function vA(i){setTimeout(function(){throw i})}function Xs(i){return i==="head"}function C_(i,r){var o=r,c=0;do{var h=o.nextSibling;if(i.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(h),eo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")kl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,kl(o);for(var p=o.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&kl(i.ownerDocument.body);o=h}while(o);eo(r)}function A_(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function yp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yp(o),ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function _A(i,r,o,c){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ri])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function bA(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function R_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Wn(i.nextSibling),i===null))return null;return i}function vp(i){return i.data==="$?"||i.data==="$~"}function _p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TA(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var bp=null;function w_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Wn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function D_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function M_(i,r,o){switch(r=Gu(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function kl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ya(i)}var ti=new Map,N_=new Set;function $u(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=ot.d;ot.d={f:xA,r:SA,D:EA,C:CA,L:AA,m:RA,X:DA,S:wA,M:MA};function xA(){var i=gs.f(),r=ju();return i||r}function SA(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?Y0(r):gs.r(i)}var Ja=typeof document>"u"?null:document;function k_(i,r,o){var c=Ja;if(c&&typeof r=="string"&&r){var h=Tn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),N_.has(h)||(N_.add(h),i={rel:i,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),tn(r,"link",i),De(r),c.head.appendChild(r)))}}function EA(i){gs.D(i),k_("dns-prefetch",i,null)}function CA(i,r){gs.C(i,r),k_("preconnect",i,r)}function AA(i,r,o){gs.L(i,r,o);var c=Ja;if(c&&i&&r){var h='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Tn(o.imageSizes)+'"]')):h+='[href="'+Tn(i)+'"]';var p=h;switch(r){case"style":p=Wa(i);break;case"script":p=to(i)}ti.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(p,i),c.querySelector(h)!==null||r==="style"&&c.querySelector(Vl(p))||r==="script"&&c.querySelector(Il(p))||(r=c.createElement("link"),tn(r,"link",i),De(r),c.head.appendChild(r)))}}function RA(i,r){gs.m(i,r);var o=Ja;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tn(c)+'"][href="'+Tn(i)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=to(i)}if(!ti.has(p)&&(i=_({rel:"modulepreload",href:i},r),ti.set(p,i),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Il(p)))return}c=o.createElement("link"),tn(c,"link",i),De(c),o.head.appendChild(c)}}}function wA(i,r,o){gs.S(i,r,o);var c=Ja;if(c&&i){var h=Di(c).hoistableStyles,p=Wa(i);r=r||"default";var b=h.get(p);if(!b){var E={loading:0,preload:null};if(b=c.querySelector(Vl(p)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(p))&&Tp(i,o);var k=b=c.createElement("link");De(k),tn(k,"link",i),k._p=new Promise(function(G,W){k.onload=G,k.onerror=W}),k.addEventListener("load",function(){E.loading|=1}),k.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ku(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:E},h.set(p,b)}}}function DA(i,r){gs.X(i,r);var o=Ja;if(o&&i){var c=Di(o).hoistableScripts,h=to(i),p=c.get(h);p||(p=o.querySelector(Il(h)),p||(i=_({src:i,async:!0},r),(r=ti.get(h))&&xp(i,r),p=o.createElement("script"),De(p),tn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function MA(i,r){gs.M(i,r);var o=Ja;if(o&&i){var c=Di(o).hoistableScripts,h=to(i),p=c.get(h);p||(p=o.querySelector(Il(h)),p||(i=_({src:i,async:!0,type:"module"},r),(r=ti.get(h))&&xp(i,r),p=o.createElement("script"),De(p),tn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function V_(i,r,o,c){var h=(h=pt.current)?$u(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Wa(o.href),o=Di(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Wa(o.href);var p=Di(h).hoistableStyles,b=p.get(i);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=h.querySelector(Vl(i)))&&!p._p&&(b.instance=p,b.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),p||NA(h,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(o),o=Di(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Wa(i){return'href="'+Tn(i)+'"'}function Vl(i){return'link[rel="stylesheet"]['+i+"]"}function I_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function NA(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),tn(r,"link",o),De(r),i.head.appendChild(r))}function to(i){return'[src="'+Tn(i)+'"]'}function Il(i){return"script[async]"+i}function P_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Tn(o.href)+'"]');if(c)return r.instance=c,De(c),c;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),De(c),tn(c,"style",h),Ku(c,o.precedence,i),r.instance=c;case"stylesheet":h=Wa(o.href);var p=i.querySelector(Vl(h));if(p)return r.state.loading|=4,r.instance=p,De(p),p;c=I_(o),(h=ti.get(h))&&Tp(c,h),p=(i.ownerDocument||i).createElement("link"),De(p);var b=p;return b._p=new Promise(function(E,k){b.onload=E,b.onerror=k}),tn(p,"link",c),r.state.loading|=4,Ku(p,o.precedence,i),r.instance=p;case"script":return p=to(o.src),(h=i.querySelector(Il(p)))?(r.instance=h,De(h),h):(c=o,(h=ti.get(p))&&(c=_({},o),xp(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),De(h),tn(h,"link",c),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Ku(c,o.precedence,i));return r.instance}function Ku(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,b=0;b<c.length;b++){var E=c[b];if(E.dataset.precedence===r)p=E;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Yu=null;function O_(i,r,o){if(Yu===null){var c=new Map,h=Yu=new Map;h.set(o,c)}else h=Yu,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var p=o[h];if(!(p[Ri]||p[we]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var E=c.get(b);E?E.push(p):c.set(b,[p])}}return c}function j_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function kA(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function L_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function VA(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Wa(c.href),p=r.querySelector(Vl(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Qu.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,De(p);return}p=r.ownerDocument||r,c=I_(c),(h=ti.get(h))&&Tp(c,h),p=p.createElement("link"),De(p);var b=p;b._p=new Promise(function(E,k){b.onload=E,b.onerror=k}),tn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Qu.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Sp=0;function IA(i,r){return i.stylesheets&&i.count===0&&Zu(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zu(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Sp===0&&(Sp=62500*pA());var h=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zu(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Sp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xu=null;function Zu(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xu=new Map,r.forEach(PA,i),Xu=null,Qu.call(i))}function PA(i,r){if(!(r.state.loading&4)){var o=Xu.get(i);if(o)var c=o.get(null);else{o=new Map,Xu.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}h=r.instance,b=h.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,h),o.set(b,h),this.count++,c=Qu.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var Pl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function OA(i,r,o,c,h,p,b,E,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function B_(i,r,o,c,h,p,b,E,k,G,W,nt){return i=new OA(i,r,o,b,k,G,W,nt,E),r=1,p===!0&&(r|=24),p=In(3,null,null,r),i.current=p,p.stateNode=i,r=nd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},ad(p),i}function z_(i){return i?(i=Na,i):Na}function U_(i,r,o,c,h,p){h=z_(h),c.context===null?c.context=h:c.pendingContext=h,c=Bs(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=zs(i,c,r),o!==null&&(Rn(o,i,r),dl(o,i,r))}function F_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ep(i,r){F_(i,r),(i=i.alternate)&&F_(i,r)}function H_(i){if(i.tag===13||i.tag===31){var r=Br(i,67108864);r!==null&&Rn(r,i,67108864),Ep(i,67108864)}}function q_(i){if(i.tag===13||i.tag===31){var r=Bn();r=Rr(r);var o=Br(i,r);o!==null&&Rn(o,i,r),Ep(i,r)}}var Ju=!0;function jA(i,r,o,c){var h=X.T;X.T=null;var p=ot.p;try{ot.p=2,Cp(i,r,o,c)}finally{ot.p=p,X.T=h}}function LA(i,r,o,c){var h=X.T;X.T=null;var p=ot.p;try{ot.p=8,Cp(i,r,o,c)}finally{ot.p=p,X.T=h}}function Cp(i,r,o,c){if(Ju){var h=Ap(c);if(h===null)fp(i,r,c,Wu,o),$_(i,c);else if(zA(h,i,r,o,c))c.stopPropagation();else if($_(i,c),r&4&&-1<BA.indexOf(i)){for(;h!==null;){var p=Hn(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Si(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var k=1<<31-Te(b);E.entanglements[1]|=k,b&=~k}Fi(p),(Qt&6)===0&&(Pu=mn()+500,Dl(0))}}break;case 31:case 13:E=Br(p,2),E!==null&&Rn(E,p,2),ju(),Ep(p,2)}if(p=Ap(c),p===null&&fp(i,r,c,Wu,o),p===h)break;h=p}h!==null&&c.stopPropagation()}else fp(i,r,c,null,o)}}function Ap(i){return i=qn(i),Rp(i)}var Wu=null;function Rp(i){if(Wu=null,i=wi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Wu=i,null}function G_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Lo:return 2;case Bo:return 8;case Es:case Vh:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var wp=!1,Zs=null,Js=null,Ws=null,Ol=new Map,jl=new Map,tr=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(i,r){switch(i){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function Ll(i,r,o,c,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Hn(r),r!==null&&H_(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function zA(i,r,o,c,h){switch(r){case"focusin":return Zs=Ll(Zs,i,r,o,c,h),!0;case"dragenter":return Js=Ll(Js,i,r,o,c,h),!0;case"mouseover":return Ws=Ll(Ws,i,r,o,c,h),!0;case"pointerover":var p=h.pointerId;return Ol.set(p,Ll(Ol.get(p)||null,i,r,o,c,h)),!0;case"gotpointercapture":return p=h.pointerId,jl.set(p,Ll(jl.get(p)||null,i,r,o,c,h)),!0}return!1}function K_(i){var r=wi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,oi(i.priority,function(){q_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,oi(i.priority,function(){q_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Ap(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Zo=c,o.target.dispatchEvent(c),Zo=null}else return r=Hn(o),r!==null&&H_(r),i.blockedOn=o,!1;r.shift()}return!0}function Y_(i,r,o){tf(i)&&o.delete(r)}function UA(){wp=!1,Zs!==null&&tf(Zs)&&(Zs=null),Js!==null&&tf(Js)&&(Js=null),Ws!==null&&tf(Ws)&&(Ws=null),Ol.forEach(Y_),jl.forEach(Y_)}function ef(i,r){i.blockedOn===r&&(i.blockedOn=null,wp||(wp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UA)))}var nf=null;function Q_(i){nf!==i&&(nf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nf===i&&(nf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],h=i[r+2];if(typeof c!="function"){if(Rp(c||o)===null)continue;break}var p=Hn(o);p!==null&&(i.splice(r,3),r-=3,Ad(p,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function eo(i){function r(k){return ef(k,i)}Zs!==null&&ef(Zs,i),Js!==null&&ef(Js,i),Ws!==null&&ef(Ws,i),Ol.forEach(r),jl.forEach(r);for(var o=0;o<tr.length;o++){var c=tr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<tr.length&&(o=tr[0],o.blockedOn===null);)K_(o),o.blockedOn===null&&tr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],b=h[Ge]||null;if(typeof p=="function")b||Q_(o);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[Ge]||null)E=b.formAction;else if(Rp(h)!==null)continue}else E=b.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),Q_(o)}}}function X_(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Dp(i){this._internalRoot=i}sf.prototype.render=Dp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Bn();U_(o,c,i,r,null,null)},sf.prototype.unmount=Dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;U_(i.current,2,null,i,null,null),ju(),r[Ai]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var r=jc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<tr.length&&r!==0&&r<tr[o].priority;o++);tr.splice(o,0,i),o===0&&K_(i)}};var Z_=t.version;if(Z_!=="19.2.4")throw Error(s(527,Z_,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var FA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{ri=rf.inject(FA),Qe=rf}catch{}}return zl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",h=sv,p=rv,b=av;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=B_(i,1,!1,null,null,o,c,null,h,p,b,X_),i[Ai]=r.current,up(i),new Dp(r)},zl.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,h="",p=sv,b=rv,E=av,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=B_(i,1,!0,r,o??null,c,h,k,p,b,E,X_),r.context=z_(null),o=r.current,c=Bn(),c=Rr(c),h=Bs(c),h.callback=null,zs(o,h,c),o=c,r.current.lanes=o,Cr(r,o),Fi(r),i[Ai]=r.current,up(i),new sf(r)},zl.version="19.2.4",zl}var ob;function WA(){if(ob)return kp.exports;ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kp.exports=JA(),kp.exports}var t5=WA();const XT=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim();const e5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const n5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase());const lb=n=>{const t=n5(n);return t.charAt(0).toUpperCase()+t.slice(1)};var i5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s5=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const r5=F.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},g)=>F.createElement("svg",{ref:g,...i5,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:XT("lucide",a),...!l&&!s5(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,y])=>F.createElement(m,y)),...Array.isArray(l)?l:[l]]));const re=(n,t)=>{const e=F.forwardRef(({className:s,...a},l)=>F.createElement(r5,{ref:l,iconNode:t,className:XT(`lucide-${e5(lb(n))}`,`lucide-${n}`,s),...a}));return e.displayName=lb(n),e};const a5=[["path",{d:"M9 13a1 1 0 0 0-1-1H5.061a1 1 0 0 1-.75-1.811l6.836-6.835a1.207 1.207 0 0 1 1.707 0l6.835 6.835a1 1 0 0 1-.75 1.811H16a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z",key:"lh0v7k"}]],o5=re("arrow-big-up",a5);const l5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pf=re("arrow-left",l5);const c5=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u5=re("ban",c5);const f5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],h5=re("camera",f5);const d5=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],p5=re("check-check",d5);const m5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZT=re("check",m5);const g5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y5=re("circle-check-big",g5);const v5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_5=re("clock",v5);const b5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cb=re("credit-card",b5);const T5=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],x5=re("delete",T5);const S5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],E5=re("ellipsis-vertical",S5);const C5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],JT=re("image",C5);const A5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],R5=re("loader-circle",A5);const w5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ub=re("lock",w5);const D5=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],M5=re("mic-off",D5);const N5=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],k5=re("mic",N5);const V5=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],WT=re("phone-off",V5);const I5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],t2=re("phone",I5);const P5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],O5=re("plus",P5);const j5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],L5=re("send",j5);const B5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],z5=re("smile",B5);const U5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],F5=re("star",U5);const H5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],q5=re("trash-2",H5);const G5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fb=re("triangle-alert",G5);const $5=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K5=re("video-off",$5);const Y5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lh=re("video",Y5);const Q5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fg=re("x",Q5);const X5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ho=re("zap",X5),hg=F.createContext({});function dg(n){const t=F.useRef(null);return t.current===null&&(t.current=n()),t.current}const e2=typeof window<"u",n2=e2?F.useLayoutEffect:F.useEffect,ch=F.createContext(null);function pg(n,t){n.indexOf(t)===-1&&n.push(t)}function Of(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Qi=(n,t,e)=>e>t?t:e<n?n:e;let mg=()=>{};const vs={},i2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function s2(n){return typeof n=="object"&&n!==null}const r2=n=>/^0[^.\s]+$/u.test(n);function gg(n){let t;return()=>(t===void 0&&(t=n()),t)}const si=n=>n,Z5=(n,t)=>e=>t(n(e)),Tc=(...n)=>n.reduce(Z5),rc=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class yg{constructor(){this.subscriptions=[]}add(t){return pg(this.subscriptions,t),()=>Of(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=n=>n*1e3,ii=n=>n/1e3;function a2(n,t){return t?n*(1e3/t):0}const o2=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,J5=1e-7,W5=12;function tR(n,t,e,s,a){let l,u,d=0;do u=t+(e-t)/2,l=o2(u,s,a)-n,l>0?e=u:t=u;while(Math.abs(l)>J5&&++d<W5);return u}function xc(n,t,e,s){if(n===t&&e===s)return si;const a=l=>tR(l,0,1,n,e);return l=>l===0||l===1?l:o2(a(l),t,s)}const l2=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,c2=n=>t=>1-n(1-t),u2=xc(.33,1.53,.69,.99),vg=c2(u2),f2=l2(vg),h2=n=>(n*=2)<1?.5*vg(n):.5*(2-Math.pow(2,-10*(n-1))),_g=n=>1-Math.sin(Math.acos(n)),d2=c2(_g),p2=l2(_g),eR=xc(.42,0,1,1),nR=xc(0,0,.58,1),m2=xc(.42,0,.58,1),iR=n=>Array.isArray(n)&&typeof n[0]!="number",g2=n=>Array.isArray(n)&&typeof n[0]=="number",sR={linear:si,easeIn:eR,easeInOut:m2,easeOut:nR,circIn:_g,circInOut:p2,circOut:d2,backIn:vg,backInOut:f2,backOut:u2,anticipate:h2},rR=n=>typeof n=="string",hb=n=>{if(g2(n)){mg(n.length===4);const[t,e,s,a]=n;return xc(t,e,s,a)}else if(rR(n))return sR[n];return n},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aR(n,t){let e=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(y){u.has(y)&&(m.schedule(y),n()),y(d)}const m={schedule:(y,_=!1,S=!1)=>{const N=S&&a?e:s;return _&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(g),e.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const oR=40;function y2(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=af.reduce((Z,lt)=>(Z[lt]=aR(l),Z),{}),{setup:d,read:g,resolveKeyframes:m,preUpdate:y,update:_,preRender:S,render:A,postRender:N}=u,B=()=>{const Z=vs.useManualTiming?a.timestamp:performance.now();e=!1,vs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Z-a.timestamp,oR),1)),a.timestamp=Z,a.isProcessing=!0,d.process(a),g.process(a),m.process(a),y.process(a),_.process(a),S.process(a),A.process(a),N.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(B))},L=()=>{e=!0,s=!0,a.isProcessing||n(B)};return{schedule:af.reduce((Z,lt)=>{const at=u[lt];return Z[lt]=(ht,w=!1,C=!1)=>(e||L(),at.schedule(ht,w,C)),Z},{}),cancel:Z=>{for(let lt=0;lt<af.length;lt++)u[af[lt]].cancel(Z)},state:a,steps:u}}const{schedule:le,cancel:fr,state:en,steps:Op}=y2(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let gf;function lR(){gf=void 0}const vn={now:()=>(gf===void 0&&vn.set(en.isProcessing||vs.useManualTiming?en.timestamp:performance.now()),gf),set:n=>{gf=n,queueMicrotask(lR)}},v2=n=>t=>typeof t=="string"&&t.startsWith(n),_2=v2("--"),cR=v2("var(--"),bg=n=>cR(n)?uR.test(n.split("/*")[0].trim()):!1,uR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function db(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Ro={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ac={...Ro,transform:n=>Qi(0,1,n)},of={...Ro,default:1},Xl=n=>Math.round(n*1e5)/1e5,Tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fR(n){return n==null}const hR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xg=(n,t)=>e=>!!(typeof e=="string"&&hR.test(e)&&e.startsWith(n)||t&&!fR(e)&&Object.prototype.hasOwnProperty.call(e,t)),b2=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(Tg);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},dR=n=>Qi(0,255,n),jp={...Ro,transform:n=>Math.round(dR(n))},ea={test:xg("rgb","red"),parse:b2("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+jp.transform(n)+", "+jp.transform(t)+", "+jp.transform(e)+", "+Xl(ac.transform(s))+")"};function pR(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dm={test:xg("#"),parse:pR,transform:ea.transform},Sc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),nr=Sc("deg"),Gi=Sc("%"),yt=Sc("px"),mR=Sc("vh"),gR=Sc("vw"),pb={...Gi,parse:n=>Gi.parse(n)/100,transform:n=>Gi.transform(n*100)},oo={test:xg("hsl","hue"),parse:b2("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Gi.transform(Xl(t))+", "+Gi.transform(Xl(e))+", "+Xl(ac.transform(s))+")"},je={test:n=>ea.test(n)||dm.test(n)||oo.test(n),parse:n=>ea.test(n)?ea.parse(n):oo.test(n)?oo.parse(n):dm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ea.transform(n):oo.transform(n),getAnimatableNone:n=>{const t=je.parse(n);return t.alpha=0,je.transform(t)}},yR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vR(n){return isNaN(n)&&typeof n=="string"&&(n.match(Tg)?.length||0)+(n.match(yR)?.length||0)>0}const T2="number",x2="color",_R="var",bR="var(",mb="${}",TR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oc(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(TR,g=>(je.test(g)?(s.color.push(l),a.push(x2),e.push(je.parse(g))):g.startsWith(bR)?(s.var.push(l),a.push(_R),e.push(g)):(s.number.push(l),a.push(T2),e.push(parseFloat(g))),++l,mb)).split(mb);return{values:e,split:d,indexes:s,types:a}}function S2(n){return oc(n).values}function E2(n){const{split:t,types:e}=oc(n),s=t.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=t[u],a[u]!==void 0){const d=e[u];d===T2?l+=Xl(a[u]):d===x2?l+=je.transform(a[u]):l+=a[u]}return l}}const xR=n=>typeof n=="number"?0:je.test(n)?je.getAnimatableNone(n):n;function SR(n){const t=S2(n);return E2(n)(t.map(xR))}const hr={test:vR,parse:S2,createTransformer:E2,getAnimatableNone:SR};function Lp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function ER({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const d=e<.5?e*(1+t):e+t-e*t,g=2*e-d;a=Lp(g,d,n+1/3),l=Lp(g,d,n),u=Lp(g,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function jf(n,t){return e=>e>0?t:n}const ge=(n,t,e)=>n+(t-n)*e,Bp=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},CR=[dm,ea,oo],AR=n=>CR.find(t=>t.test(n));function gb(n){const t=AR(n);if(!t)return!1;let e=t.parse(n);return t===oo&&(e=ER(e)),e}const yb=(n,t)=>{const e=gb(n),s=gb(t);if(!e||!s)return jf(n,t);const a={...e};return l=>(a.red=Bp(e.red,s.red,l),a.green=Bp(e.green,s.green,l),a.blue=Bp(e.blue,s.blue,l),a.alpha=ge(e.alpha,s.alpha,l),ea.transform(a))},pm=new Set(["none","hidden"]);function RR(n,t){return pm.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function wR(n,t){return e=>ge(n,t,e)}function Sg(n){return typeof n=="number"?wR:typeof n=="string"?bg(n)?jf:je.test(n)?yb:NR:Array.isArray(n)?C2:typeof n=="object"?je.test(n)?yb:DR:jf}function C2(n,t){const e=[...n],s=e.length,a=n.map((l,u)=>Sg(l)(l,t[u]));return l=>{for(let u=0;u<s;u++)e[u]=a[u](l);return e}}function DR(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=Sg(n[a])(n[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function MR(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][s[l]],d=n.values[u]??0;e[a]=d,s[l]++}return e}const NR=(n,t)=>{const e=hr.createTransformer(t),s=oc(n),a=oc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?pm.has(n)&&!a.values.length||pm.has(t)&&!s.values.length?RR(n,t):Tc(C2(MR(s,a),a.values),e):jf(n,t)};function A2(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ge(n,t,e):Sg(n)(n,t)}const kR=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>le.update(t,e),stop:()=>fr(t),now:()=>en.isProcessing?en.timestamp:vn.now()}},R2=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Lf=2e4;function Eg(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Lf;)t+=e,s=n.next(t);return t>=Lf?1/0:t}function VR(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(Eg(s),Lf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ii(a)}}const IR=5;function w2(n,t,e){const s=Math.max(t-IR,0);return a2(e-n(s),t-s)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function PR({duration:n=be.duration,bounce:t=be.bounce,velocity:e=be.velocity,mass:s=be.mass}){let a,l,u=1-t;u=Qi(be.minDamping,be.maxDamping,u),n=Qi(be.minDuration,be.maxDuration,ii(n)),u<1?(a=m=>{const y=m*u,_=y*n,S=y-e,A=mm(m,u),N=Math.exp(-_);return zp-S/A*N},l=m=>{const _=m*u*n,S=_*e+e,A=Math.pow(u,2)*Math.pow(m,2)*n,N=Math.exp(-_),B=mm(Math.pow(m,2),u);return(-a(m)+zp>0?-1:1)*((S-A)*N)/B}):(a=m=>{const y=Math.exp(-m*n),_=(m-e)*n+1;return-zp+y*_},l=m=>{const y=Math.exp(-m*n),_=(e-m)*(n*n);return y*_});const d=5/n,g=jR(a,l,d);if(n=_i(n),isNaN(g))return{stiffness:be.stiffness,damping:be.damping,duration:n};{const m=Math.pow(g,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:n}}}const OR=12;function jR(n,t,e){let s=e;for(let a=1;a<OR;a++)s=s-n(s)/t(s);return s}function mm(n,t){return n*Math.sqrt(1-t*t)}const LR=["duration","bounce"],BR=["stiffness","damping","mass"];function vb(n,t){return t.some(e=>n[e]!==void 0)}function zR(n){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...n};if(!vb(n,BR)&&vb(n,LR))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:be.mass,stiffness:a,damping:l}}else{const e=PR(n);t={...t,...e,mass:be.mass},t.isResolvedFromDuration=!0}return t}function Bf(n=be.visualDuration,t=be.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],d={done:!1,value:l},{stiffness:g,damping:m,mass:y,duration:_,velocity:S,isResolvedFromDuration:A}=zR({...e,velocity:-ii(e.velocity||0)}),N=S||0,B=m/(2*Math.sqrt(g*y)),L=u-l,K=ii(Math.sqrt(g/y)),tt=Math.abs(L)<5;s||(s=tt?be.restSpeed.granular:be.restSpeed.default),a||(a=tt?be.restDelta.granular:be.restDelta.default);let Z;if(B<1){const at=mm(K,B);Z=ht=>{const w=Math.exp(-B*K*ht);return u-w*((N+B*K*L)/at*Math.sin(at*ht)+L*Math.cos(at*ht))}}else if(B===1)Z=at=>u-Math.exp(-K*at)*(L+(N+K*L)*at);else{const at=K*Math.sqrt(B*B-1);Z=ht=>{const w=Math.exp(-B*K*ht),C=Math.min(at*ht,300);return u-w*((N+B*K*L)*Math.sinh(C)+at*L*Math.cosh(C))/at}}const lt={calculatedDuration:A&&_||null,next:at=>{const ht=Z(at);if(A)d.done=at>=_;else{let w=at===0?N:0;B<1&&(w=at===0?_i(N):w2(Z,at,ht));const C=Math.abs(w)<=s,D=Math.abs(u-ht)<=a;d.done=C&&D}return d.value=d.done?u:ht,d},toString:()=>{const at=Math.min(Eg(lt),Lf),ht=R2(w=>lt.next(at*w).value,at,30);return at+"ms "+ht},toTransition:()=>{}};return lt}Bf.applyToOptions=n=>{const t=VR(n,100,Bf);return n.ease=t.ease,n.duration=_i(t.duration),n.type="keyframes",n};function gm({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:g,restDelta:m=.5,restSpeed:y}){const _=n[0],S={done:!1,value:_},A=C=>d!==void 0&&C<d||g!==void 0&&C>g,N=C=>d===void 0?g:g===void 0||Math.abs(d-C)<Math.abs(g-C)?d:g;let B=e*t;const L=_+B,K=u===void 0?L:u(L);K!==L&&(B=K-_);const tt=C=>-B*Math.exp(-C/s),Z=C=>K+tt(C),lt=C=>{const D=tt(C),I=Z(C);S.done=Math.abs(D)<=m,S.value=S.done?K:I};let at,ht;const w=C=>{A(S.value)&&(at=C,ht=Bf({keyframes:[S.value,N(S.value)],velocity:w2(Z,C,S.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return w(0),{calculatedDuration:null,next:C=>{let D=!1;return!ht&&at===void 0&&(D=!0,lt(C),w(C)),at!==void 0&&C>=at?ht.next(C-at):(!D&&lt(C),S)}}}function UR(n,t,e){const s=[],a=e||vs.mix||A2,l=n.length-1;for(let u=0;u<l;u++){let d=a(n[u],n[u+1]);if(t){const g=Array.isArray(t)?t[u]||si:t;d=Tc(g,d)}s.push(d)}return s}function FR(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=n.length;if(mg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=UR(t,s,a),g=d.length,m=y=>{if(u&&y<n[0])return t[0];let _=0;if(g>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const S=rc(n[_],n[_+1],y);return d[_](S)};return e?y=>m(Qi(n[0],n[l-1],y)):m}function HR(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=rc(0,t,s);n.push(ge(e,1,a))}}function qR(n){const t=[0];return HR(t,n.length-1),t}function GR(n,t){return n.map(e=>e*t)}function $R(n,t){return n.map(()=>t||m2).splice(0,n.length-1)}function Zl({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=iR(s)?s.map(hb):hb(s),l={done:!1,value:t[0]},u=GR(e&&e.length===t.length?e:qR(t),n),d=FR(u,t,{ease:Array.isArray(a)?a:$R(t,a)});return{calculatedDuration:n,next:g=>(l.value=d(g),l.done=g>=n,l)}}const KR=n=>n!==null;function Cg(n,{repeat:t,repeatType:e="loop"},s,a=1){const l=n.filter(KR),d=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const YR={decay:gm,inertia:gm,tween:Zl,keyframes:Zl,spring:Bf};function D2(n){typeof n.type=="string"&&(n.type=YR[n.type])}class Ag{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const QR=n=>n/100;class Rg extends Ag{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;D2(t);const{type:e=Zl,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:d}=t;const g=e||Zl;g!==Zl&&typeof d[0]!="number"&&(this.mixKeyframes=Tc(QR,A2(d[0],d[1])),d=[0,100]);const m=g({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Eg(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:A,type:N,onUpdate:B,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const K=this.currentTime-m*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Z=this.currentTime,lt=s;if(_){const C=Math.min(this.currentTime,a)/d;let D=Math.floor(C),I=C%1;!I&&C>=1&&(I=1),I===1&&D--,D=Math.min(D,_+1),D%2&&(S==="reverse"?(I=1-I,A&&(I-=A/d)):S==="mirror"&&(lt=u)),Z=Qi(0,1,I)*d}const at=tt?{done:!1,value:y[0]}:lt.next(Z);l&&(at.value=l(at.value));let{done:ht}=at;!tt&&g!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return w&&N!==gm&&(at.value=Cg(y,this.options,L,this.speed)),B&&B(at.value),w&&this.finish(),at}then(t,e){return this.finished.then(t,e)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ii(t)}get time(){return ii(this.currentTime)}set time(t){t=_i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kR,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function XR(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const na=n=>n*180/Math.PI,ym=n=>{const t=na(Math.atan2(n[1],n[0]));return vm(t)},ZR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ym,rotateZ:ym,skewX:n=>na(Math.atan(n[1])),skewY:n=>na(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},vm=n=>(n=n%360,n<0&&(n+=360),n),_b=ym,bb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Tb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),JR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bb,scaleY:Tb,scale:n=>(bb(n)+Tb(n))/2,rotateX:n=>vm(na(Math.atan2(n[6],n[5]))),rotateY:n=>vm(na(Math.atan2(-n[2],n[0]))),rotateZ:_b,rotate:_b,skewX:n=>na(Math.atan(n[4])),skewY:n=>na(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function _m(n){return n.includes("scale")?1:0}function bm(n,t){if(!n||n==="none")return _m(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=JR,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ZR,a=d}if(!a)return _m(t);const l=s[t],u=a[1].split(",").map(tw);return typeof l=="function"?l(u):u[l]}const WR=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return bm(e,t)};function tw(n){return parseFloat(n.trim())}const wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Do=new Set(wo),xb=n=>n===Ro||n===yt,ew=new Set(["x","y","z"]),nw=wo.filter(n=>!ew.has(n));function iw(n){const t=[];return nw.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const ir={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>bm(t,"x"),y:(n,{transform:t})=>bm(t,"y")};ir.translateX=ir.x;ir.translateY=ir.y;const sa=new Set;let Tm=!1,xm=!1,Sm=!1;function M2(){if(xm){const n=Array.from(sa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=iw(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}xm=!1,Tm=!1,sa.forEach(n=>n.complete(Sm)),sa.clear()}function N2(){sa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(xm=!0)})}function sw(){Sm=!0,N2(),M2(),Sm=!1}class wg{constructor(t,e,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(sa.add(this),Tm||(Tm=!0,le.read(N2),le.resolveKeyframes(M2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const d=s.readValue(e,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}XR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sa.delete(this)}cancel(){this.state==="scheduled"&&(sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rw=n=>n.startsWith("--");function aw(n,t,e){rw(t)?n.style.setProperty(t,e):n.style[t]=e}const ow=gg(()=>window.ScrollTimeline!==void 0),lw={};function cw(n,t){const e=gg(n);return()=>lw[t]??e()}const k2=cw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ql=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,Sb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function V2(n,t){if(n)return typeof n=="function"?k2()?R2(n,t):"ease-out":g2(n)?ql(n):Array.isArray(n)?n.map(e=>V2(e,t)||Sb.easeOut):Sb[n]}function uw(n,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:g}={},m=void 0){const y={[t]:e};g&&(y.offset=g);const _=V2(d,a);Array.isArray(_)&&(y.easing=_);const S={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(S.pseudoElement=m),n.animate(y,S)}function I2(n){return typeof n=="function"&&"applyToOptions"in n}function fw({type:n,...t}){return I2(n)&&k2()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class P2 extends Ag{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:g}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,mg(typeof t.type!="string");const m=fw(t);this.animation=uw(e,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Cg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):aw(e,s,y),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ii(t)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=_i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ow()?(this.animation.timeline=t,si):e(this)}}const O2={anticipate:h2,backInOut:f2,circInOut:p2};function hw(n){return n in O2}function dw(n){typeof n.ease=="string"&&hw(n.ease)&&(n.ease=O2[n.ease])}const Up=10;class pw extends P2{constructor(t){dw(t),D2(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Rg({...u,autoplay:!1}),g=Math.max(Up,vn.now()-this.startTime),m=Qi(0,Up,g-Up);e.setWithVelocity(d.sample(Math.max(0,g-m)).value,d.sample(g).value,m),d.stop()}}const Eb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hr.test(n)||n==="0")&&!n.startsWith("url("));function mw(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function gw(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=Eb(a,t),d=Eb(l,t);return!u||!d?!1:mw(n)||(e==="spring"||I2(e))&&s}function Em(n){n.duration=0,n.type="keyframes"}const yw=new Set(["opacity","clipPath","filter","transform"]),vw=gg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _w(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:m}=t.owner.getProps();return vw()&&e&&yw.has(e)&&(e!=="transform"||!m)&&!g&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const bw=40;class Tw extends Ag{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:g,motionValue:m,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const S={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:u,name:g,motionValue:m,element:y,..._},A=y?.KeyframeResolver||wg;this.keyframeResolver=new A(d,(N,B,L)=>this.onKeyframesResolved(N,B,S,!L),g,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:g,isHandoff:m,onUpdate:y}=s;this.resolvedAt=vn.now(),gw(t,l,u,d)||((vs.instantAnimations||!g)&&y?.(Cg(t,s,e)),t[0]=t[t.length-1],Em(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>bw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},A=!m&&_w(S),N=S.motionValue?.owner?.current,B=A?new pw({...S,element:N}):new Rg(S);B.finished.then(()=>{this.notifyFinished()}).catch(si),this.pendingTimeline&&(this.stopTimeline=B.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=B}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function j2(n,t,e,s=0,a=1){const l=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),u=n.size,d=(u-1)*s;return typeof e=="function"?e(l,u):a===1?l*s:d-l*s}const xw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sw(n){const t=xw.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function L2(n,t,e=1){const[s,a]=Sw(n);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const u=l.trim();return i2(u)?parseFloat(u):u}return bg(a)?L2(a,t,e+1):a}const Ew={type:"spring",stiffness:500,damping:25,restSpeed:10},Cw=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Aw={type:"keyframes",duration:.8},Rw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ww=(n,{keyframes:t})=>t.length>2?Aw:Do.has(n)?n.startsWith("scale")?Cw(t[1]):Ew:Rw,Dw=n=>n!==null;function Mw(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(Dw),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function B2(n,t){if(n?.inherit&&t){const{inherit:e,...s}=n;return{...t,...s}}return n}function Dg(n,t){const e=n?.[t]??n?.default??n;return e!==n?B2(e,n):e}function Nw({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:g,elapsed:m,...y}){return!!Object.keys(y).length}const Mg=(n,t,e,s={},a,l)=>u=>{const d=Dg(s,n)||{},g=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-_i(g);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:l?void 0:a};Nw(d)||Object.assign(y,ww(n,y)),y.duration&&(y.duration=_i(y.duration)),y.repeatDelay&&(y.repeatDelay=_i(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Em(y),y.delay===0&&(_=!0)),(vs.instantAnimations||vs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Em(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const S=Mw(y.keyframes,d);if(S!==void 0){le.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Rg(y):new Tw(y)};function Cb(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Ng(n,t,e,s){if(typeof t=="function"){const[a,l]=Cb(s);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=Cb(s);t=t(e!==void 0?e:n.custom,a,l)}return t}function po(n,t,e){const s=n.getProps();return Ng(s,t,e!==void 0?e:s.custom,n)}const z2=new Set(["width","height","top","left","right","bottom",...wo]),Ab=30,kw=n=>!isNaN(parseFloat(n));class Vw{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kw(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new yg);const s=this.events[t].add(e);return t==="change"?()=>{s(),le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ab)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Ab);return a2(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(n,t){return new Vw(n,t)}const Cm=n=>Array.isArray(n);function Iw(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,bo(e))}function Pw(n){return Cm(n)?n[n.length-1]||0:n}function Ow(n,t){const e=po(n,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const u in l){const d=Pw(l[u]);Iw(n,u,d)}}const hn=n=>!!(n&&n.getVelocity);function jw(n){return!!(hn(n)&&n.add)}function Am(n,t){const e=n.getValue("willChange");if(jw(e))return e.add(t);if(!e&&vs.WillChange){const s=new vs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function kg(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Lw="framerAppearId",U2="data-"+kg(Lw);function F2(n){return n.props[U2]}function Bw({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function H2(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:u,...d}=t;const g=n.getDefaultTransition();l=l?B2(l,g):g;const m=l?.reduceMotion;s&&(l=s);const y=[],_=a&&n.animationState&&n.animationState.getState()[a];for(const S in d){const A=n.getValue(S,n.latestValues[S]??null),N=d[S];if(N===void 0||_&&Bw(_,S))continue;const B={delay:e,...Dg(l||{},S)},L=A.get();if(L!==void 0&&!A.isAnimating&&!Array.isArray(N)&&N===L&&!B.velocity)continue;let K=!1;if(window.MotionHandoffAnimation){const lt=F2(n);if(lt){const at=window.MotionHandoffAnimation(lt,S,le);at!==null&&(B.startTime=at,K=!0)}}Am(n,S);const tt=m??n.shouldReduceMotion;A.start(Mg(S,A,N,tt&&z2.has(S)?{type:!1}:B,n,K));const Z=A.animation;Z&&y.push(Z)}if(u){const S=()=>le.update(()=>{u&&Ow(n,u)});y.length?Promise.all(y).then(S):S()}return y}function Rm(n,t,e={}){const s=po(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(H2(n,s,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=a;return zw(n,t,g,m,y,_,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,m]=d==="beforeChildren"?[l,u]:[u,l];return g().then(()=>m())}else return Promise.all([l(),u(e.delay)])}function zw(n,t,e=0,s=0,a=0,l=1,u){const d=[];for(const g of n.variantChildren)g.notify("AnimationStart",t),d.push(Rm(g,t,{...u,delay:e+(typeof s=="function"?0:s)+j2(n.variantChildren,g,s,a,l)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(d)}function Uw(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Rm(n,l,e));s=Promise.all(a)}else if(typeof t=="string")s=Rm(n,t,e);else{const a=typeof t=="function"?po(n,t,e.custom):t;s=Promise.all(H2(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const Fw={test:n=>n==="auto",parse:n=>n},q2=n=>t=>t.test(n),G2=[Ro,yt,Gi,nr,gR,mR,Fw],Rb=n=>G2.find(q2(n));function Hw(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||r2(n):!0}const qw=new Set(["brightness","contrast","saturate","opacity"]);function Gw(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Tg)||[];if(!s)return n;const a=e.replace(s,"");let l=qw.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const $w=/\b([a-z-]*)\(.*?\)/gu,wm={...hr,getAnimatableNone:n=>{const t=n.match($w);return t?t.map(Gw).join(" "):n}},wb={...Ro,transform:Math.round},Kw={rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:nr,skewX:nr,skewY:nr,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:ac,originX:pb,originY:pb,originZ:yt},Vg={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...Kw,zIndex:wb,fillOpacity:ac,strokeOpacity:ac,numOctaves:wb},Yw={...Vg,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:wm,WebkitFilter:wm},$2=n=>Yw[n];function K2(n,t){let e=$2(n);return e!==wm&&(e=hr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Qw=new Set(["auto","none","0"]);function Xw(n,t,e){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!Qw.has(l)&&oc(l).values.length&&(a=n[s]),s++}if(a&&e)for(const l of t)n[l]=K2(e,a)}class Zw extends wg{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),bg(_))){const S=L2(_,e.current);S!==void 0&&(t[y]=S),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!z2.has(s)||t.length!==2)return;const[a,l]=t,u=Rb(a),d=Rb(l),g=db(a),m=db(l);if(g!==m&&ir[s]){this.needsMeasurement=!0;return}if(u!==d)if(xb(u)&&xb(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else ir[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Hw(t[a]))&&s.push(a);s.length&&Xw(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ir[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ir[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,g])=>{t.getValue(d).set(g)}),this.resolveNoneKeyframes()}}const Jw=new Set(["opacity","clipPath","filter","transform"]);function Y2(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const Q2=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Dm(n){return s2(n)&&"offsetHeight"in n}const{schedule:Ig}=y2(queueMicrotask,!1),vi={x:!1,y:!1};function X2(){return vi.x||vi.y}function Ww(n){return n==="x"||n==="y"?vi[n]?null:(vi[n]=!0,()=>{vi[n]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function Z2(n,t){const e=Y2(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function t3(n){return!(n.pointerType==="touch"||X2())}function e3(n,t,e={}){const[s,a,l]=Z2(n,e);return s.forEach(u=>{let d=!1,g=!1,m;const y=()=>{u.removeEventListener("pointerleave",N)},_=L=>{m&&(m(L),m=void 0),y()},S=L=>{d=!1,window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),g&&(g=!1,_(L))},A=()=>{d=!0,window.addEventListener("pointerup",S,a),window.addEventListener("pointercancel",S,a)},N=L=>{if(L.pointerType!=="touch"){if(d){g=!0;return}_(L)}},B=L=>{if(!t3(L))return;g=!1;const K=t(u,L);typeof K=="function"&&(m=K,u.addEventListener("pointerleave",N,a))};u.addEventListener("pointerenter",B,a),u.addEventListener("pointerdown",A,a)}),l}const J2=(n,t)=>t?n===t?!0:J2(n,t.parentElement):!1,Pg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,n3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i3(n){return n3.has(n.tagName)||n.isContentEditable===!0}const s3=new Set(["INPUT","SELECT","TEXTAREA"]);function r3(n){return s3.has(n.tagName)||n.isContentEditable===!0}const yf=new WeakSet;function Db(n){return t=>{t.key==="Enter"&&n(t)}}function Fp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const a3=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=Db(()=>{if(yf.has(e))return;Fp(e,"down");const a=Db(()=>{Fp(e,"up")}),l=()=>Fp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function Mb(n){return Pg(n)&&!X2()}const Nb=new WeakSet;function o3(n,t,e={}){const[s,a,l]=Z2(n,e),u=d=>{const g=d.currentTarget;if(!Mb(d)||Nb.has(d))return;yf.add(g),e.stopPropagation&&Nb.add(d);const m=t(g,d),y=(A,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),yf.has(g)&&yf.delete(g),Mb(A)&&typeof m=="function"&&m(A,{success:N})},_=A=>{y(A,g===window||g===document||e.useGlobalTarget||J2(g,A.target))},S=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Dm(d)&&(d.addEventListener("focus",m=>a3(m,a)),!i3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Og(n){return s2(n)&&"ownerSVGElement"in n}const vf=new WeakMap;let _f;const W2=(n,t,e)=>(s,a)=>a&&a[0]?a[0][n+"Size"]:Og(s)&&"getBBox"in s?s.getBBox()[t]:s[e],l3=W2("inline","width","offsetWidth"),c3=W2("block","height","offsetHeight");function u3({target:n,borderBoxSize:t}){vf.get(n)?.forEach(e=>{e(n,{get width(){return l3(n,t)},get height(){return c3(n,t)}})})}function f3(n){n.forEach(u3)}function h3(){typeof ResizeObserver>"u"||(_f=new ResizeObserver(f3))}function d3(n,t){_f||h3();const e=Y2(n);return e.forEach(s=>{let a=vf.get(s);a||(a=new Set,vf.set(s,a)),a.add(t),_f?.observe(s)}),()=>{e.forEach(s=>{const a=vf.get(s);a?.delete(t),a?.size||_f?.unobserve(s)})}}const bf=new Set;let lo;function p3(){lo=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};bf.forEach(t=>t(n))},window.addEventListener("resize",lo)}function m3(n){return bf.add(n),lo||p3(),()=>{bf.delete(n),!bf.size&&typeof lo=="function"&&(window.removeEventListener("resize",lo),lo=void 0)}}function kb(n,t){return typeof n=="function"?m3(n):d3(n,t)}function g3(n){return Og(n)&&n.tagName==="svg"}const y3=[...G2,je,hr],v3=n=>y3.find(q2(n)),Vb=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:Vb(),y:Vb()}),Ib=()=>({min:0,max:0}),Fe=()=>({x:Ib(),y:Ib()}),_3=new WeakMap;function uh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function lc(n){return typeof n=="string"||Array.isArray(n)}const jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lg=["initial",...jg];function fh(n){return uh(n.animate)||Lg.some(t=>lc(n[t]))}function tx(n){return!!(fh(n)||n.variants)}function b3(n,t,e){for(const s in t){const a=t[s],l=e[s];if(hn(a))n.addValue(s,a);else if(hn(l))n.addValue(s,bo(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,bo(u!==void 0?u:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const Mm={current:null},ex={current:!1},T3=typeof window<"u";function x3(){if(ex.current=!0,!!T3)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mm.current=n.matches;n.addEventListener("change",t),t()}else Mm.current=!1}const Pb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zf={};function nx(n){zf=n}function S3(){return zf}class E3{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=wg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=vn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,le.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=g,this.blockInitialAnimation=!!u,this.isControllingVariants=fh(e),this.isVariantNode=tx(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...S}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in S){const N=S[A];m[A]!==void 0&&hn(N)&&N.set(m[A])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,_3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ex.current||x3(),this.shouldReduceMotion=Mm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&Jw.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:g,ease:m,duration:y}=e.accelerate,_=new P2({element:this.current,name:t,keyframes:d,times:g,ease:m,duration:_i(y)}),S=u(_);this.valueSubscriptions.set(t,()=>{S(),_.cancel()});return}const s=Do.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zf){const e=zf[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<Pb.length;s++){const a=Pb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=b3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=bo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(i2(s)||r2(s))?s=parseFloat(s):!v3(s)&&hr.test(e)&&(s=K2(t,e)),this.setBaseTarget(t,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const l=Ng(this.props,e,this.presenceContext?.custom);l&&(s=l[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new yg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Ig.render(this.render)}}class ix extends E3{constructor(){super(...arguments),this.KeyframeResolver=Zw}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class _r{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sx({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function C3({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function A3(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Hp(n){return n===void 0||n===1}function Nm({scale:n,scaleX:t,scaleY:e}){return!Hp(n)||!Hp(t)||!Hp(e)}function Wr(n){return Nm(n)||rx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function rx(n){return Ob(n.x)||Ob(n.y)}function Ob(n){return n&&n!=="0%"}function Uf(n,t,e){const s=n-e,a=t*s;return e+a}function jb(n,t,e,s,a){return a!==void 0&&(n=Uf(n,a,s)),Uf(n,e,s)+t}function km(n,t=0,e=1,s,a){n.min=jb(n.min,t,e,s,a),n.max=jb(n.max,t,e,s,a)}function ax(n,{x:t,y:e}){km(n.x,t.translate,t.scale,t.originPoint),km(n.y,e.translate,e.scale,e.originPoint)}const Lb=.999999999999,Bb=1.0000000000001;function R3(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let d=0;d<a;d++){l=e[d],u=l.projectionDelta;const{visualElement:g}=l.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,ax(n,u)),s&&Wr(l.latestValues)&&fo(n,l.latestValues))}t.x<Bb&&t.x>Lb&&(t.x=1),t.y<Bb&&t.y>Lb&&(t.y=1)}function uo(n,t){n.min=n.min+t,n.max=n.max+t}function zb(n,t,e,s,a=.5){const l=ge(n.min,n.max,a);km(n,t,e,l,s)}function fo(n,t){zb(n.x,t.x,t.scaleX,t.scale,t.originX),zb(n.y,t.y,t.scaleY,t.scale,t.originY)}function ox(n,t){return sx(A3(n.getBoundingClientRect(),t))}function w3(n,t,e){const s=ox(n,e),{scroll:a}=t;return a&&(uo(s.x,a.offset.x),uo(s.y,a.offset.y)),s}const D3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M3=wo.length;function N3(n,t,e){let s="",a=!0;for(let l=0;l<M3;l++){const u=wo[l],d=n[u];if(d===void 0)continue;let g=!0;if(typeof d=="number")g=d===(u.startsWith("scale")?1:0);else{const m=parseFloat(d);g=u.startsWith("scale")?m===1:m===0}if(!g||e){const m=Q2(d,Vg[u]);if(!g){a=!1;const y=D3[u]||u;s+=`${y}(${m}) `}e&&(t[u]=m)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function Bg(n,t,e){const{style:s,vars:a,transformOrigin:l}=n;let u=!1,d=!1;for(const g in t){const m=t[g];if(Do.has(g)){u=!0;continue}else if(_2(g)){a[g]=m;continue}else{const y=Q2(m,Vg[g]);g.startsWith("origin")?(d=!0,l[g]=y):s[g]=y}}if(t.transform||(u||e?s.transform=N3(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:g="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${g} ${m} ${y}`}}function lx(n,{style:t,vars:e},s,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,s);for(u in e)l.setProperty(u,e[u])}function Ub(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ul={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=Ub(n,t.target.x),s=Ub(n,t.target.y);return`${e}% ${s}%`}},k3={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=hr.parse(n);if(a.length>5)return s;const l=hr.createTransformer(n),u=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,g=e.y.scale*t.y;a[0+u]/=d,a[1+u]/=g;const m=ge(d,g,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}},Vm={borderRadius:{...Ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ul,borderTopRightRadius:Ul,borderBottomLeftRadius:Ul,borderBottomRightRadius:Ul,boxShadow:k3};function cx(n,{layout:t,layoutId:e}){return Do.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Vm[n]||n==="opacity")}function zg(n,t,e){const s=n.style,a=t?.style,l={};if(!s)return l;for(const u in s)(hn(s[u])||a&&hn(a[u])||cx(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function V3(n){return window.getComputedStyle(n)}class I3 extends ix{constructor(){super(...arguments),this.type="html",this.renderInstance=lx}readValueFromInstance(t,e){if(Do.has(e))return this.projection?.isProjecting?_m(e):WR(t,e);{const s=V3(t),a=(_2(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ox(t,e)}build(t,e,s){Bg(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return zg(t,e,s)}}const P3={offset:"stroke-dashoffset",array:"stroke-dasharray"},O3={offset:"strokeDashoffset",array:"strokeDasharray"};function j3(n,t,e=1,s=0,a=!0){n.pathLength=1;const l=a?P3:O3;n[l.offset]=`${-s}`,n[l.array]=`${t} ${e}`}const L3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ux(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},g,m,y){if(Bg(n,d,m),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:S}=n;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const A of L3)_[A]!==void 0&&(S[A]=_[A],delete _[A]);t!==void 0&&(_.x=t),e!==void 0&&(_.y=e),s!==void 0&&(_.scale=s),a!==void 0&&j3(_,a,l,u,!1)}const fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),hx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function B3(n,t,e,s){lx(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(fx.has(a)?a:kg(a),t.attrs[a])}function dx(n,t,e){const s=zg(n,t,e);for(const a in n)if(hn(n[a])||hn(t[a])){const l=wo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class z3 extends ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Do.has(e)){const s=$2(e);return s&&s.default||0}return e=fx.has(e)?e:kg(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return dx(t,e,s)}build(t,e,s){ux(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){B3(t,e,s,a)}mount(t){this.isSVGTag=hx(t.tagName),super.mount(t)}}const U3=Lg.length;function px(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?px(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<U3;e++){const s=Lg[e],a=n.props[s];(lc(a)||a===!1)&&(t[s]=a)}return t}function mx(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const F3=[...jg].reverse(),H3=jg.length;function q3(n){return t=>Promise.all(t.map(({animation:e,options:s})=>Uw(n,e,s)))}function G3(n){let t=q3(n),e=Fb(),s=!0;const a=g=>(m,y)=>{const _=po(n,y,g==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:S,transitionEnd:A,...N}=_;m={...m,...N,...A}}return m};function l(g){t=g(n)}function u(g){const{props:m}=n,y=px(n.parent)||{},_=[],S=new Set;let A={},N=1/0;for(let L=0;L<H3;L++){const K=F3[L],tt=e[K],Z=m[K]!==void 0?m[K]:y[K],lt=lc(Z),at=K===g?tt.isActive:null;at===!1&&(N=L);let ht=Z===y[K]&&Z!==m[K]&&lt;if(ht&&s&&n.manuallyAnimateOnMount&&(ht=!1),tt.protectedKeys={...A},!tt.isActive&&at===null||!Z&&!tt.prevProp||uh(Z)||typeof Z=="boolean")continue;if(K==="exit"&&tt.isActive&&at!==!0){tt.prevResolvedValues&&(A={...A,...tt.prevResolvedValues});continue}const w=$3(tt.prevProp,Z);let C=w||K===g&&tt.isActive&&!ht&&lt||L>N&&lt,D=!1;const I=Array.isArray(Z)?Z:[Z];let V=I.reduce(a(K),{});at===!1&&(V={});const{prevResolvedValues:j={}}=tt,M={...j,...V},Ut=ot=>{C=!0,S.has(ot)&&(D=!0,S.delete(ot)),tt.needsAnimating[ot]=!0;const dt=n.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in M){const dt=V[ot],ft=j[ot];if(A.hasOwnProperty(ot))continue;let Et=!1;Cm(dt)&&Cm(ft)?Et=!mx(dt,ft):Et=dt!==ft,Et?dt!=null?Ut(ot):S.add(ot):dt!==void 0&&S.has(ot)?Ut(ot):tt.protectedKeys[ot]=!0}tt.prevProp=Z,tt.prevResolvedValues=V,tt.isActive&&(A={...A,...V}),s&&n.blockInitialAnimation&&(C=!1);const ae=ht&&w;C&&(!ae||D)&&_.push(...I.map(ot=>{const dt={type:K};if(typeof ot=="string"&&s&&!ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:ft}=n,Et=po(ft,ot);if(ft.enteringChildren&&Et){const{delayChildren:P}=Et.transition||{};dt.delay=j2(ft.enteringChildren,n,P)}}return{animation:ot,options:dt}}))}if(S.size){const L={};if(typeof m.initial!="boolean"){const K=po(n,Array.isArray(m.initial)?m.initial[0]:m.initial);K&&K.transition&&(L.transition=K.transition)}S.forEach(K=>{const tt=n.getBaseTarget(K),Z=n.getValue(K);Z&&(Z.liveStyle=!0),L[K]=tt??null}),_.push({animation:L})}let B=!!_.length;return s&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(_):Promise.resolve()}function d(g,m){if(e[g].isActive===m)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(g,m)),e[g].isActive=m;const y=u(g);for(const _ in e)e[_].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>e,reset:()=>{e=Fb()}}}function $3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!mx(t,n):!1}function Jr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fb(){return{animate:Jr(!0),whileInView:Jr(),whileHover:Jr(),whileTap:Jr(),whileDrag:Jr(),whileFocus:Jr(),exit:Jr()}}function Hb(n,t){n.min=t.min,n.max=t.max}function yi(n,t){Hb(n.x,t.x),Hb(n.y,t.y)}function qb(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const gx=1e-4,K3=1-gx,Y3=1+gx,yx=.01,Q3=0-yx,X3=0+yx;function _n(n){return n.max-n.min}function Z3(n,t,e){return Math.abs(n-t)<=e}function Gb(n,t,e,s=.5){n.origin=s,n.originPoint=ge(t.min,t.max,n.origin),n.scale=_n(e)/_n(t),n.translate=ge(e.min,e.max,n.origin)-n.originPoint,(n.scale>=K3&&n.scale<=Y3||isNaN(n.scale))&&(n.scale=1),(n.translate>=Q3&&n.translate<=X3||isNaN(n.translate))&&(n.translate=0)}function Jl(n,t,e,s){Gb(n.x,t.x,e.x,s?s.originX:void 0),Gb(n.y,t.y,e.y,s?s.originY:void 0)}function $b(n,t,e){n.min=e.min+t.min,n.max=n.min+_n(t)}function J3(n,t,e){$b(n.x,t.x,e.x),$b(n.y,t.y,e.y)}function Kb(n,t,e){n.min=t.min-e.min,n.max=n.min+_n(t)}function Ff(n,t,e){Kb(n.x,t.x,e.x),Kb(n.y,t.y,e.y)}function Yb(n,t,e,s,a){return n-=t,n=Uf(n,1/e,s),a!==void 0&&(n=Uf(n,1/a,s)),n}function W3(n,t=0,e=1,s=.5,a,l=n,u=n){if(Gi.test(t)&&(t=parseFloat(t),t=ge(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=ge(l.min,l.max,s);n===l&&(d-=t),n.min=Yb(n.min,t,e,d,a),n.max=Yb(n.max,t,e,d,a)}function Qb(n,t,[e,s,a],l,u){W3(n,t[e],t[s],t[a],t.scale,l,u)}const tD=["x","scaleX","originX"],eD=["y","scaleY","originY"];function Xb(n,t,e,s){Qb(n.x,t,tD,e?e.x:void 0,s?s.x:void 0),Qb(n.y,t,eD,e?e.y:void 0,s?s.y:void 0)}function Zb(n){return n.translate===0&&n.scale===1}function vx(n){return Zb(n.x)&&Zb(n.y)}function Jb(n,t){return n.min===t.min&&n.max===t.max}function nD(n,t){return Jb(n.x,t.x)&&Jb(n.y,t.y)}function Wb(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function _x(n,t){return Wb(n.x,t.x)&&Wb(n.y,t.y)}function t1(n){return _n(n.x)/_n(n.y)}function e1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Hi(n){return[n("x"),n("y")]}function iD(n,t,e){let s="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:S,skewX:A,skewY:N}=e;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),A&&(s+=`skewX(${A}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=n.x.scale*t.x,g=n.y.scale*t.y;return(d!==1||g!==1)&&(s+=`scale(${d}, ${g})`),s||"none"}const bx=["TopLeft","TopRight","BottomLeft","BottomRight"],sD=bx.length,n1=n=>typeof n=="string"?parseFloat(n):n,i1=n=>typeof n=="number"||yt.test(n);function rD(n,t,e,s,a,l){a?(n.opacity=ge(0,e.opacity??1,aD(s)),n.opacityExit=ge(t.opacity??1,0,oD(s))):l&&(n.opacity=ge(t.opacity??1,e.opacity??1,s));for(let u=0;u<sD;u++){const d=`border${bx[u]}Radius`;let g=s1(t,d),m=s1(e,d);if(g===void 0&&m===void 0)continue;g||(g=0),m||(m=0),g===0||m===0||i1(g)===i1(m)?(n[d]=Math.max(ge(n1(g),n1(m),s),0),(Gi.test(m)||Gi.test(g))&&(n[d]+="%")):n[d]=m}(t.rotate||e.rotate)&&(n.rotate=ge(t.rotate||0,e.rotate||0,s))}function s1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const aD=Tx(0,.5,d2),oD=Tx(.5,.95,si);function Tx(n,t,e){return s=>s<n?0:s>t?1:e(rc(n,t,s))}function lD(n,t,e){const s=hn(n)?n:bo(n);return s.start(Mg("",s,t,e)),s.animation}function cc(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const cD=(n,t)=>n.depth-t.depth;class uD{constructor(){this.children=[],this.isDirty=!1}add(t){pg(this.children,t),this.isDirty=!0}remove(t){Of(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cD),this.isDirty=!1,this.children.forEach(t)}}function fD(n,t){const e=vn.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(fr(s),n(l-t))};return le.setup(s,!0),()=>fr(s)}function Tf(n){return hn(n)?n.get():n}class hD{constructor(){this.members=[]}add(t){pg(this.members,t);for(let e=this.members.length-1;e>=0;e--){const s=this.members[e];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Of(this.members,s)}t.scheduleRender()}remove(t){if(Of(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const g=s.instance;g&&g.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qp=["","X","Y","Z"],dD=1e3;let pD=0;function Gp(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function xx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=F2(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",le,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&xx(s)}function Sx({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=t?.()){this.id=pD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yD),this.nodes.forEach(TD),this.nodes.forEach(xD),this.nodes.forEach(vD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new uD)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new yg),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const g=this.eventHandlers.get(u);g&&g.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Og(u)&&!g3(u),this.instance=u;const{layoutId:d,layout:g,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||d)&&(this.isLayoutDirty=!0),n){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;le.read(()=>{_=window.innerWidth}),n(u,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=fD(S,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(o1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||RD,{onLayoutAnimationStart:B,onLayoutAnimationComplete:L}=m.getProps(),K=!this.targetLayout||!_x(this.targetLayout,A),tt=!_&&S;if(this.options.layoutRoot||this.resumeFrom||tt||_&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...Dg(N,"layout"),onPlay:B,onComplete:L};(m.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(y,tt)}else _||o1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SD),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(a1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bD),this.nodes.forEach(mD),this.nodes.forEach(gD)):this.nodes.forEach(a1),this.clearAllSnapshots();const d=vn.now();en.delta=Qi(0,1e3/60,d-en.timestamp),en.timestamp=d,en.isProcessing=!0,Op.update.process(en),Op.preRender.process(en),Op.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ig.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_D),this.sharedNodes.forEach(ED)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!vx(this.projectionDelta),g=this.getTransformTemplate(),m=g?g(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Wr(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return u&&(g=this.removeTransform(g)),wD(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Fe();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(DD))){const{scroll:m}=this.root;m&&(uo(d.x,m.offset.x),uo(d.y,m.offset.y))}return d}removeElementScroll(u){const d=Fe();if(yi(d,u),this.scroll?.wasRoot)return d;for(let g=0;g<this.path.length;g++){const m=this.path[g],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&yi(d,u),uo(d.x,y.offset.x),uo(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const g=Fe();yi(g,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fo(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Wr(y.latestValues)&&fo(g,y.latestValues)}return Wr(this.latestValues)&&fo(g,this.latestValues),g}removeTransform(u){const d=Fe();yi(d,u);for(let g=0;g<this.path.length;g++){const m=this.path[g];if(!m.instance||!Wr(m.latestValues))continue;Nm(m.latestValues)&&m.updateSnapshot();const y=Fe(),_=m.measurePageBox();yi(y,_),Xb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Wr(this.latestValues)&&Xb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==d;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=en.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),ax(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Nm(this.parent.latestValues)||rx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Ff(this.relativeTargetOrigin,d,g),yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===en.timestamp&&(g=!1),g)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;R3(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Fe());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qb(this.prevProjectionDelta.x,this.projectionDelta.x),qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Jl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!e1(this.projectionDelta.x,this.prevProjectionDelta.x)||!e1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(u,d=!1){const g=this.snapshot,m=g?g.latestValues:{},y={...this.latestValues},_=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Fe(),A=g?g.source:void 0,N=this.layout?this.layout.source:void 0,B=A!==N,L=this.getStack(),K=!L||L.members.length<=1,tt=!!(B&&!K&&this.options.crossfade===!0&&!this.path.some(AD));this.animationProgress=0;let Z;this.mixTargetDelta=lt=>{const at=lt/1e3;l1(_.x,u.x,at),l1(_.y,u.y,at),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CD(this.relativeTarget,this.relativeTargetOrigin,S,at),Z&&nD(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=Fe()),yi(Z,this.relativeTarget)),B&&(this.animationValues=y,rD(y,m,this.latestValues,at,tt,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bo(0)),this.currentAnimation=lD(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:g,layout:m,latestValues:y}=u;if(!(!d||!g||!m)){if(this!==u&&this.layout&&m&&Ex(this.options.animationType,this.layout.layoutBox,m.layoutBox)){g=this.target||Fe();const _=_n(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+_;const S=_n(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+S}yi(d,g),fo(d,y),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hD),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:g}={}){const m=this.getStack();m&&m.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const m={};g.z&&Gp("z",u,m,this.animationValues);for(let y=0;y<qp.length;y++)Gp(`rotate${qp[y]}`,u,m,this.animationValues),Gp(`skew${qp[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Tf(d?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Tf(d?.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=iD(this.projectionDeltaWithTransform,this.treeScale,y);g&&(_=g(y,_)),u.transform=_;const{x:S,y:A}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Vm){if(y[N]===void 0)continue;const{correct:B,applyTo:L,isCSSVariable:K}=Vm[N],tt=_==="none"?y[N]:B(y[N],m);if(L){const Z=L.length;for(let lt=0;lt<Z;lt++)u[L[lt]]=tt}else K?this.options.visualElement.renderState.vars[N]=tt:u[N]=tt}this.options.layoutId&&(u.pointerEvents=m===this?Tf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(r1),this.root.sharedNodes.clear()}}}function mD(n){n.updateLayout()}function gD(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=_n(_);_.min=e[y].min,_.max=_.min+S}):Ex(a,t.layoutBox,e)&&Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=_n(e[y]);_.max=_.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const u=co();Jl(u,e,t.layoutBox);const d=co();l?Jl(d,n.applyTransform(s,!0),t.measuredBox):Jl(d,e,t.layoutBox);const g=!vx(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const A=Fe();Ff(A,t.layoutBox,_.layoutBox);const N=Fe();Ff(N,e,S.layoutBox),_x(A,N)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function yD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function vD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _D(n){n.clearSnapshot()}function r1(n){n.clearMeasurements()}function a1(n){n.isLayoutDirty=!1}function bD(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function o1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function TD(n){n.resolveTargetDelta()}function xD(n){n.calcProjection()}function SD(n){n.resetSkewAndRotation()}function ED(n){n.removeLeadSnapshot()}function l1(n,t,e){n.translate=ge(t.translate,0,e),n.scale=ge(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function c1(n,t,e,s){n.min=ge(t.min,e.min,s),n.max=ge(t.max,e.max,s)}function CD(n,t,e,s){c1(n.x,t.x,e.x,s),c1(n.y,t.y,e.y,s)}function AD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const RD={duration:.45,ease:[.4,0,.1,1]},u1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),f1=u1("applewebkit/")&&!u1("chrome/")?Math.round:si;function h1(n){n.min=f1(n.min),n.max=f1(n.max)}function wD(n){h1(n.x),h1(n.y)}function Ex(n,t,e){return n==="position"||n==="preserve-aspect"&&!Z3(t1(t),t1(e),.2)}function DD(n){return n!==n.root&&n.scroll?.wasRoot}const MD=Sx({attachResizeListener:(n,t)=>cc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),$p={current:void 0},Cx=Sx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!$p.current){const n=new MD({});n.mount(window),n.setOptions({layoutScroll:!0}),$p.current=n}return $p.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ug=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function d1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function ND(...n){return t=>{let e=!1;const s=n.map(a=>{const l=d1(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():d1(n[a],null)}}}}function kD(...n){return F.useCallback(ND(...n),n)}class VD extends F.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=e.offsetParent,a=Dm(s)&&s.offsetWidth||0,l=Dm(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function ID({children:n,isPresent:t,anchorX:e,anchorY:s,root:a,pop:l}){const u=F.useId(),d=F.useRef(null),g=F.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=F.useContext(Ug),y=n.props?.ref??n?.ref,_=kD(d,y);return F.useInsertionEffect(()=>{const{width:S,height:A,top:N,left:B,right:L,bottom:K}=g.current;if(t||l===!1||!d.current||!S||!A)return;const tt=e==="left"?`left: ${B}`:`right: ${L}`,Z=s==="bottom"?`bottom: ${K}`:`top: ${N}`;d.current.dataset.motionPopId=u;const lt=document.createElement("style");m&&(lt.nonce=m);const at=a??document.head;return at.appendChild(lt),lt.sheet&&lt.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${S}px !important;
            height: ${A}px !important;
            ${tt}px !important;
            ${Z}px !important;
          }
        `),()=>{at.contains(lt)&&at.removeChild(lt)}},[t]),x.jsx(VD,{isPresent:t,childRef:d,sizeRef:g,pop:l,children:l===!1?n:F.cloneElement(n,{ref:_})})}const PD=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:g,root:m})=>{const y=dg(OD),_=F.useId();let S=!0,A=F.useMemo(()=>(S=!1,{id:_,initial:t,isPresent:e,custom:a,onExitComplete:N=>{y.set(N,!0);for(const B of y.values())if(!B)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[e,y,s]);return l&&S&&(A={...A}),F.useMemo(()=>{y.forEach((N,B)=>y.set(B,!1))},[e]),F.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),n=x.jsx(ID,{pop:u==="popLayout",isPresent:e,anchorX:d,anchorY:g,root:m,children:n}),x.jsx(ch.Provider,{value:A,children:n})};function OD(){return new Map}function Ax(n=!0){const t=F.useContext(ch);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=F.useId();F.useEffect(()=>{if(n)return a(l)},[n]);const u=F.useCallback(()=>n&&s&&s(l),[l,s,n]);return!e&&s?[!1,u]:[!0]}const lf=n=>n.key||"";function p1(n){const t=[];return F.Children.forEach(n,e=>{F.isValidElement(e)&&t.push(e)}),t}const ei=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:g="top",root:m})=>{const[y,_]=Ax(u),S=F.useMemo(()=>p1(n),[n]),A=u&&!y?[]:S.map(lf),N=F.useRef(!0),B=F.useRef(S),L=dg(()=>new Map),K=F.useRef(new Set),[tt,Z]=F.useState(S),[lt,at]=F.useState(S);n2(()=>{N.current=!1,B.current=S;for(let C=0;C<lt.length;C++){const D=lf(lt[C]);A.includes(D)?(L.delete(D),K.current.delete(D)):L.get(D)!==!0&&L.set(D,!1)}},[lt,A.length,A.join("-")]);const ht=[];if(S!==tt){let C=[...S];for(let D=0;D<lt.length;D++){const I=lt[D],V=lf(I);A.includes(V)||(C.splice(D,0,I),ht.push(I))}return l==="wait"&&ht.length&&(C=ht),at(p1(C)),Z(S),null}const{forceRender:w}=F.useContext(hg);return x.jsx(x.Fragment,{children:lt.map(C=>{const D=lf(C),I=u&&!y?!1:S===lt||A.includes(D),V=()=>{if(K.current.has(D))return;if(K.current.add(D),L.has(D))L.set(D,!0);else return;let j=!0;L.forEach(M=>{M||(j=!1)}),j&&(w?.(),at(B.current),u&&_?.(),s&&s())};return x.jsx(PD,{isPresent:I,initial:!N.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:I?void 0:V,anchorX:d,anchorY:g,children:C},D)})})},Rx=F.createContext({strict:!1}),m1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let g1=!1;function jD(){if(g1)return;const n={};for(const t in m1)n[t]={isEnabled:e=>m1[t].some(s=>!!e[s])};nx(n),g1=!0}function wx(){return jD(),S3()}function LD(n){const t=wx();for(const e in n)t[e]={...t[e],...n[e]};nx(t)}const BD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Hf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||BD.has(n)}let Dx=n=>!Hf(n);function zD(n){typeof n=="function"&&(Dx=t=>t.startsWith("on")?!Hf(t):n(t))}try{zD(require("@emotion/is-prop-valid").default)}catch{}function UD(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(Dx(a)||e===!0&&Hf(a)||!t&&!Hf(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const hh=F.createContext({});function FD(n,t){if(fh(n)){const{initial:e,animate:s}=n;return{initial:e===!1||lc(e)?e:void 0,animate:lc(s)?s:void 0}}return n.inherit!==!1?t:{}}function HD(n){const{initial:t,animate:e}=FD(n,F.useContext(hh));return F.useMemo(()=>({initial:t,animate:e}),[y1(t),y1(e)])}function y1(n){return Array.isArray(n)?n.join(" "):n}const Fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mx(n,t,e){for(const s in t)!hn(t[s])&&!cx(s,e)&&(n[s]=t[s])}function qD({transformTemplate:n},t){return F.useMemo(()=>{const e=Fg();return Bg(e,t,n),Object.assign({},e.vars,e.style)},[t])}function GD(n,t){const e=n.style||{},s={};return Mx(s,e,n),Object.assign(s,qD(n,t)),s}function $D(n,t){const e={},s=GD(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const Nx=()=>({...Fg(),attrs:{}});function KD(n,t,e,s){const a=F.useMemo(()=>{const l=Nx();return ux(l,t,hx(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};Mx(l,n.style,n),a.style={...l,...a.style}}return a}const YD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hg(n){return typeof n!="string"||n.includes("-")?!1:!!(YD.indexOf(n)>-1||/[A-Z]/u.test(n))}function QD(n,t,e,{latestValues:s},a,l=!1,u){const g=(u??Hg(n)?KD:$D)(t,s,a,n),m=UD(t,typeof n=="string",l),y=n!==F.Fragment?{...m,...g,ref:e}:{},{children:_}=t,S=F.useMemo(()=>hn(_)?_.get():_,[_]);return F.createElement(n,{...y,children:S})}function XD({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:ZD(e,s,a,n),renderState:t()}}function ZD(n,t,e,s){const a={},l=s(n,{});for(const S in l)a[S]=Tf(l[S]);let{initial:u,animate:d}=n;const g=fh(n),m=tx(n);t&&m&&!g&&n.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const _=y?d:u;if(_&&typeof _!="boolean"&&!uh(_)){const S=Array.isArray(_)?_:[_];for(let A=0;A<S.length;A++){const N=Ng(n,S[A]);if(N){const{transitionEnd:B,transition:L,...K}=N;for(const tt in K){let Z=K[tt];if(Array.isArray(Z)){const lt=y?Z.length-1:0;Z=Z[lt]}Z!==null&&(a[tt]=Z)}for(const tt in B)a[tt]=B[tt]}}}return a}const kx=n=>(t,e)=>{const s=F.useContext(hh),a=F.useContext(ch),l=()=>XD(n,t,s,a);return e?l():dg(l)},JD=kx({scrapeMotionValuesFromProps:zg,createRenderState:Fg}),WD=kx({scrapeMotionValuesFromProps:dx,createRenderState:Nx}),t4=Symbol.for("motionComponentSymbol");function e4(n,t,e){const s=F.useRef(e);F.useInsertionEffect(()=>{s.current=e});const a=F.useRef(null);return F.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const Vx=F.createContext({});function no(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function n4(n,t,e,s,a,l){const{visualElement:u}=F.useContext(hh),d=F.useContext(Rx),g=F.useContext(ch),m=F.useContext(Ug),y=m.reducedMotion,_=m.skipAnimations,S=F.useRef(null),A=F.useRef(!1);s=s||d.renderer,!S.current&&s&&(S.current=s(n,{visualState:t,parent:u,props:e,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),A.current&&S.current&&(S.current.manuallyAnimateOnMount=!0));const N=S.current,B=F.useContext(Vx);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&i4(S.current,e,a,B);const L=F.useRef(!1);F.useInsertionEffect(()=>{N&&L.current&&N.update(e,g)});const K=e[U2],tt=F.useRef(!!K&&!window.MotionHandoffIsComplete?.(K)&&window.MotionHasOptimisedAnimation?.(K));return n2(()=>{A.current=!0,N&&(L.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),tt.current&&N.animationState&&N.animationState.animateChanges())}),F.useEffect(()=>{N&&(!tt.current&&N.animationState&&N.animationState.animateChanges(),tt.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(K)}),tt.current=!1),N.enteringChildren=void 0)}),N}function i4(n,t,e,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:g,layoutRoot:m,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:Ix(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&no(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:g,layoutRoot:m})}function Ix(n){if(n)return n.options.allowProjection!==!1?n.projection:Ix(n.parent)}function Kp(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&LD(s);const l=e?e==="svg":Hg(n),u=l?WD:JD;function d(m,y){let _;const S={...F.useContext(Ug),...m,layoutId:s4(m)},{isStatic:A}=S,N=HD(m),B=u(m,A);if(!A&&e2){r4();const L=a4(S);_=L.MeasureLayout,N.visualElement=n4(n,B,S,a,L.ProjectionNode,l)}return x.jsxs(hh.Provider,{value:N,children:[_&&N.visualElement?x.jsx(_,{visualElement:N.visualElement,...S}):null,QD(n,m,e4(B,N.visualElement,y),B,A,t,l)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const g=F.forwardRef(d);return g[t4]=n,g}function s4({layoutId:n}){const t=F.useContext(hg).id;return t&&n!==void 0?t+"-"+n:n}function r4(n,t){F.useContext(Rx).strict}function a4(n){const t=wx(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function o4(n,t){if(typeof Proxy>"u")return Kp;const e=new Map,s=(l,u)=>Kp(l,u,n,t),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(e.has(u)||e.set(u,Kp(u,void 0,n,t)),e.get(u))})}const l4=(n,t)=>t.isSVG??Hg(n)?new z3(t):new I3(t,{allowProjection:n!==F.Fragment});class c4 extends _r{constructor(t){super(t),t.animationState||(t.animationState=G3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let u4=0;class f4 extends _r{constructor(){super(...arguments),this.id=u4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const h4={animation:{Feature:c4},exit:{Feature:f4}};function Ec(n){return{point:{x:n.pageX,y:n.pageY}}}const d4=n=>t=>Pg(t)&&n(t,Ec(t));function Wl(n,t,e,s){return cc(n,t,d4(e),s)}const Px=({current:n})=>n?n.ownerDocument.defaultView:null,v1=(n,t)=>Math.abs(n-t);function p4(n,t){const e=v1(n.x,t.x),s=v1(n.y,t.y);return Math.sqrt(e**2+s**2)}const _1=new Set(["auto","scroll"]);class Ox{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,B=p4(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!B)return;const{point:L}=A,{timestamp:K}=en;this.history.push({...L,timestamp:K});const{onStart:tt,onMove:Z}=this.handlers;N||(tt&&tt(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,A)},this.handlePointerMove=(A,N)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Yp(N,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(A,N)=>{this.end();const{onEnd:B,onSessionEnd:L,resumeAnimation:K}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&K&&K(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const tt=Qp(A.type==="pointercancel"?this.lastMoveEventInfo:Yp(N,this.transformPagePoint),this.history);this.startEvent&&B&&B(A,tt),L&&L(A,tt)},!Pg(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const g=Ec(t),m=Yp(g,this.transformPagePoint),{point:y}=m,{timestamp:_}=en;this.history=[{...y,timestamp:_}];const{onSessionStart:S}=e;S&&S(t,Qp(m,this.history)),this.removeListeners=Tc(Wl(this.contextWindow,"pointermove",this.handlePointerMove),Wl(this.contextWindow,"pointerup",this.handlePointerUp),Wl(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(_1.has(s.overflowX)||_1.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),le.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),fr(this.updatePoint)}}function Yp(n,t){return t?{point:t(n.point)}:n}function b1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Qp({point:n},t){return{point:n,delta:b1(n,jx(t)),offset:b1(n,m4(t)),velocity:g4(t,.1)}}function m4(n){return n[0]}function jx(n){return n[n.length-1]}function g4(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=jx(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>_i(t)));)e--;if(!s)return{x:0,y:0};s===n[0]&&n.length>2&&a.timestamp-s.timestamp>_i(t)*2&&(s=n[1]);const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function y4(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ge(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ge(e,n,s.max):Math.min(n,e)),n}function T1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function v4(n,{top:t,left:e,bottom:s,right:a}){return{x:T1(n.x,e,a),y:T1(n.y,t,s)}}function x1(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function _4(n,t){return{x:x1(n.x,t.x),y:x1(n.y,t.y)}}function b4(n,t){let e=.5;const s=_n(n),a=_n(t);return a>s?e=rc(t.min,t.max-s,n.min):s>a&&(e=rc(n.min,n.max-a,t.min)),Qi(0,1,e)}function T4(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Im=.35;function x4(n=Im){return n===!1?n=0:n===!0&&(n=Im),{x:S1(n,"left","right"),y:S1(n,"top","bottom")}}function S1(n,t,e){return{min:E1(n,t),max:E1(n,e)}}function E1(n,t){return typeof n=="number"?n:n[t]||0}const S4=new WeakMap;class E4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{e&&this.snapToCursor(Ec(_).point),this.stopAnimation()},u=(_,S)=>{const{drag:A,dragPropagation:N,onDragStart:B}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ww(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(K=>{let tt=this.getAxisMotionValue(K).get()||0;if(Gi.test(tt)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const lt=Z.layout.layoutBox[K];lt&&(tt=_n(lt)*(parseFloat(tt)/100))}}this.originPoint[K]=tt}),B&&le.update(()=>B(_,S),!1,!0),Am(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:B,onDrag:L}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:K}=S;if(N&&this.currentDirection===null){this.currentDirection=A4(K),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",S.point,K),this.updateAxis("y",S.point,K),this.visualElement.render(),L&&le.update(()=>L(_,S),!1,!0)},g=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new Ox(t,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:g,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Px(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&le.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!cf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(u=y4(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&no(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=v4(s.layoutBox,t):this.constraints=!1,this.elastic=x4(e),a!==this.constraints&&!no(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Hi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=T4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!no(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=w3(s,a.root,this.visualElement.getTransformPagePoint());let u=_4(a.layout.layoutBox,l);if(e){const d=e(C3(u));this.hasMutatedConstraints=!!d,d&&(u=sx(d))}return u}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},m=Hi(y=>{if(!cf(y,e,this.currentDirection))return;let _=g&&g[y]||{};u&&(_={min:0,max:0});const S=a?200:1e6,A=a?40:1e7,N={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,N)});return Promise.all(m).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Am(this.visualElement,t),s.start(Mg(t,s,0,e,this.visualElement,!1))}stopAnimation(){Hi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hi(e=>{const{drag:s}=this.getProps();if(!cf(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[e],g=l.get()||0;l.set(t[e]-ge(u,d,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!no(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const g=d.get();a[u]=b4({min:g,max:g},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Hi(u=>{if(!cf(u,t,null))return;const d=this.getAxisMotionValue(u),{min:g,max:m}=this.constraints[u];d.set(ge(g,m,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;S4.set(this.visualElement,this);const t=this.visualElement.current,e=Wl(t,"pointerdown",m=>{const{drag:y,dragListener:_=!0}=this.getProps(),S=m.target,A=S!==t&&r3(S);y&&_&&!A&&this.start(m)});let s;const a=()=>{const{dragConstraints:m}=this.getProps();no(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=C4(t,m.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),le.read(a);const d=cc(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Hi(_=>{const S=this.getAxisMotionValue(_);S&&(this.originPoint[_]+=m[_].translate,S.set(S.get()+m[_].translate))}),this.visualElement.render())}));return()=>{d(),e(),u(),g&&g(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Im,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function C1(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function C4(n,t,e){const s=kb(n,C1(e)),a=kb(t,C1(e));return()=>{s(),a()}}function cf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function A4(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class R4 extends _r{constructor(t){super(t),this.removeGroupControls=si,this.removeListeners=si,this.controls=new E4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Xp=n=>(t,e)=>{n&&le.update(()=>n(t,e),!1,!0)};class w4 extends _r{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(t){this.session=new Ox(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Px(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Xp(t),onStart:Xp(e),onMove:Xp(s),onEnd:(l,u)=>{delete this.session,a&&le.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Wl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Zp=!1;class D4 extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),Zp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),Zp=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||le.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ig.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;Zp=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lx(n){const[t,e]=Ax(),s=F.useContext(hg);return x.jsx(D4,{...n,layoutGroup:s,switchLayoutGroup:F.useContext(Vx),isPresent:t,safeToRemove:e})}const M4={pan:{Feature:w4},drag:{Feature:R4,ProjectionNode:Cx,MeasureLayout:Lx}};function A1(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&le.postRender(()=>l(t,Ec(t)))}class N4 extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=e3(t,(e,s)=>(A1(this.node,s,"Start"),a=>A1(this.node,a,"End"))))}unmount(){}}class k4 extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tc(cc(this.node.current,"focus",()=>this.onFocus()),cc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R1(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&le.postRender(()=>l(t,Ec(t)))}class V4 extends _r{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:s}=this.node.props;this.unmount=o3(t,(a,l)=>(R1(this.node,l,"Start"),(u,{success:d})=>R1(this.node,u,d?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:s?.tap===!1})}unmount(){}}const Pm=new WeakMap,Jp=new WeakMap,I4=n=>{const t=Pm.get(n.target);t&&t(n)},P4=n=>{n.forEach(I4)};function O4({root:n,...t}){const e=n||document;Jp.has(e)||Jp.set(e,{});const s=Jp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(P4,{root:n,...t})),s[a]}function j4(n,t,e){const s=O4(t);return Pm.set(n,e),s.observe(n),()=>{Pm.delete(n),s.unobserve(n)}}const L4={some:0,all:1};class B4 extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:L4[a]},d=g=>{const{isIntersecting:m}=g;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=m?y:_;S&&S(g)};return j4(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(z4(t,e))&&this.startObserver()}unmount(){}}function z4({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const U4={inView:{Feature:B4},tap:{Feature:V4},focus:{Feature:k4},hover:{Feature:N4}},F4={layout:{ProjectionNode:Cx,MeasureLayout:Lx}},H4={...h4,...U4,...M4,...F4},fn=o4(H4,l4),q4=({onAuthenticated:n})=>{const[t,e]=F.useState(()=>localStorage.getItem("parallel_secret_pin")),[s,a]=F.useState(!t),[l,u]=F.useState(""),[d,g]=F.useState(!1),[m,y]=F.useState(1),[_,S]=F.useState(""),A=N=>{if(l.length<4){const B=l+N;u(B),navigator.vibrate&&navigator.vibrate(15),B.length===4&&(s?m===1?(navigator.vibrate&&navigator.vibrate(30),S(B),y(2),setTimeout(()=>u(""),300)):B===_?(navigator.vibrate&&navigator.vibrate(30),localStorage.setItem("parallel_secret_pin",B),e(B),a(!1),u(""),S(""),y(1)):(navigator.vibrate&&navigator.vibrate([50,30,50]),g(!0),setTimeout(()=>{u(""),S(""),y(1),g(!1)},500)):B===t?(navigator.vibrate&&navigator.vibrate(30),n()):(navigator.vibrate&&navigator.vibrate([50,30,50]),g(!0),setTimeout(()=>{u(""),g(!1)},500)))}};return F.useEffect(()=>{const N=B=>{B.key>="0"&&B.key<="9"&&A(B.key),B.key==="Backspace"&&u(L=>L.slice(0,-1))};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)}),x.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-8",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(60px) saturate(200%)",WebkitBackdropFilter:"blur(60px) saturate(200%)"},children:[x.jsx("div",{className:`w-16 h-16 rounded-3xl flex items-center justify-center ${s?"mb-4":"mb-8"}`,style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:x.jsx("span",{className:"text-3xl",children:s?"":""})}),s&&x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-lg font-bold",style:{color:"rgba(0,0,0,0.85)"},children:m===1?"Set Parallel PIN":"Confirm PIN"}),x.jsx("p",{className:"text-xs mt-1",style:{color:"rgba(0,0,0,0.5)"},children:m===1?"Choose a 4-digit code for your secure chat":"Enter the code again to verify"})]}),x.jsx("div",{className:"flex gap-5 mb-10",children:[0,1,2,3].map(N=>x.jsx(fn.div,{animate:d?{x:[0,-6,6,-6,6,0]}:{},transition:{duration:.3},className:"w-3.5 h-3.5 rounded-full transition-all duration-200",style:l.length>N?{background:"rgba(0, 0, 0, 0.7)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"}:{background:"rgba(0, 0, 0, 0.12)",border:"1.5px solid rgba(0, 0, 0, 0.2)"}},N))}),x.jsxs("div",{className:"grid grid-cols-3 gap-5 w-72 place-items-center",children:[[1,2,3,4,5,6,7,8,9].map(N=>x.jsx("button",{onClick:()=>A(String(N)),className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-medium active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.8)",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:N},N)),x.jsx("div",{}),x.jsx("button",{onClick:()=>A("0"),className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-medium active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.8)",background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:"0"}),x.jsx("button",{onClick:()=>u(N=>N.slice(0,-1)),className:"w-20 h-20 rounded-full flex items-center justify-center text-xl active:scale-90 transition-all",style:{color:"rgba(0, 0, 0, 0.5)"},children:""})]})]})};class G4{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const e of this._parts)t.push(e);return $4(t).buffer}}function $4(n){let t=0;for(const a of n)t+=a.byteLength;const e=new Uint8Array(t);let s=0;for(const a of n){const l=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);e.set(l,s),s+=a.byteLength}return e}function Bx(n){return new K4(n).unpack()}function zx(n){const t=new Y4,e=t.pack(n);return e instanceof Promise?e.then(()=>t.getBuffer()):t.getBuffer()}class K4{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let e;if((e=t^160)<=15)return this.unpack_raw(e);if((e=t^176)<=15)return this.unpack_string(e);if((e=t^144)<=15)return this.unpack_array(e);if((e=t^128)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),e=(t[0]&255)*256+(t[1]&255);return this.index+=2,e}unpack_uint32(){const t=this.read(4),e=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,e}unpack_uint64(){const t=this.read(8),e=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,e}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e}unpack_string(t){const e=this.read(t);let s=0,a="",l,u;for(;s<t;)l=e[s],l<160?(u=l,s++):(l^192)<32?(u=(l&31)<<6|e[s+1]&63,s+=2):(l^224)<16?(u=(l&15)<<12|(e[s+1]&63)<<6|e[s+2]&63,s+=3):(u=(l&7)<<18|(e[s+1]&63)<<12|(e[s+2]&63)<<6|e[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=t,a}unpack_array(t){const e=new Array(t);for(let s=0;s<t;s++)e[s]=this.unpack();return e}unpack_map(t){const e={};for(let s=0;s<t;s++){const a=this.unpack();e[a]=this.unpack()}return e}unpack_float(){const t=this.unpack_uint32(),e=t>>31,s=(t>>23&255)-127,a=t&8388607|8388608;return(e===0?1:-1)*a*2**(s-23)}unpack_double(){const t=this.unpack_uint32(),e=this.unpack_uint32(),s=t>>31,a=(t>>20&2047)-1023,u=(t&1048575|1048576)*2**(a-20)+e*2**(a-52);return(s===0?1:-1)*u}read(t){const e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")}}class Y4{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const e=t.constructor;if(t instanceof Array){const s=this.pack_array(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const s=t;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(e==Object||e.toString().startsWith("class")){const s=this.pack_object(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${e.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const e=t.length;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this._bufferBuilder.append(218),this.pack_uint16(e);else if(e<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(e);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const e=this._textEncoder.encode(t),s=e.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_array(t){const e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this._bufferBuilder.append(220),this.pack_uint16(e);else if(e<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(e);else throw new Error("Invalid length");const s=a=>{if(a<e){const l=this.pack(t[a]);return l instanceof Promise?l.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let e=0;t<0&&(e=1,t=-t);const s=Math.floor(Math.log(t)/Math.LN2),a=t/2**s-1,l=Math.floor(a*2**52),u=2**32,d=e<<31|s+1023<<20|l/u&1048575,g=l%u;this._bufferBuilder.append(203),this.pack_int32(d),this.pack_int32(g)}pack_object(t){const e=Object.keys(t),s=e.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=l=>{if(l<e.length){const u=e[l];if(t.hasOwnProperty(u)){this.pack(u);const d=this.pack(t[u]);if(d instanceof Promise)return d.then(()=>a(l+1))}return a(l+1)}};return a(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const e=t&4294967295;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_uint64(t){const e=t/4294967296,s=t%2**32;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const e=Math.floor(t/4294967296),s=t%2**32;this._bufferBuilder.append((e&4278190080)>>>24),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new G4,this._textEncoder=new TextEncoder}}let Ux=!0,Fx=!0;function Gl(n,t,e){const s=n.match(t);return s&&s.length>=e&&parseFloat(s[e],10)}function ua(n,t,e){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,d){if(u!==t)return a.apply(this,arguments);const g=m=>{const y=e(m);y&&(d.handleEvent?d.handleEvent(y):d(y))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(d,g),a.apply(this,[u,g])};const l=s.removeEventListener;s.removeEventListener=function(u,d){if(u!==t||!this._eventMap||!this._eventMap[t])return l.apply(this,arguments);if(!this._eventMap[t].has(d))return l.apply(this,arguments);const g=this._eventMap[t].get(d);return this._eventMap[t].delete(d),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[u,g])},Object.defineProperty(s,"on"+t,{get(){return this["_on"+t]},set(u){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),u&&this.addEventListener(t,this["_on"+t]=u)},enumerable:!0,configurable:!0})}function Q4(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(Ux=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function X4(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(Fx=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Hx(){if(typeof window=="object"){if(Ux)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function qg(n,t){Fx&&console.warn(n+" is deprecated, please use "+t+" instead.")}function Z4(n){const t={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:e}=n;if(e.userAgentData&&e.userAgentData.brands){const s=e.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(e.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Gl(e.userAgent,/Firefox\/(\d+)\./,1));else if(e.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Gl(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&e.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Gl(e.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,t._safariVersion=Gl(e.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function w1(n){return Object.prototype.toString.call(n)==="[object Object]"}function qx(n){return w1(n)?Object.keys(n).reduce(function(t,e){const s=w1(n[e]),a=s?qx(n[e]):n[e],l=s&&!Object.keys(a).length;return a===void 0||l?t:Object.assign(t,{[e]:a})},{}):n}function Om(n,t,e){!t||e.has(t.id)||(e.set(t.id,t),Object.keys(t).forEach(s=>{s.endsWith("Id")?Om(n,n.get(t[s]),e):s.endsWith("Ids")&&t[s].forEach(a=>{Om(n,n.get(a),e)})}))}function D1(n,t,e){const s=e?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;const l=[];return n.forEach(u=>{u.type==="track"&&u.trackIdentifier===t.id&&l.push(u)}),l.forEach(u=>{n.forEach(d=>{d.type===s&&d.trackId===u.id&&Om(n,d,a)})}),a}const M1=Hx;function Gx(n,t){const e=n&&n.navigator;if(!e.mediaDevices)return;const s=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const g={};return Object.keys(d).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const y=typeof d[m]=="object"?d[m]:{ideal:d[m]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const _=function(S,A){return S?S+A.charAt(0).toUpperCase()+A.slice(1):A==="deviceId"?"sourceId":A};if(y.ideal!==void 0){g.optional=g.optional||[];let S={};typeof y.ideal=="number"?(S[_("min",m)]=y.ideal,g.optional.push(S),S={},S[_("max",m)]=y.ideal,g.optional.push(S)):(S[_("",m)]=y.ideal,g.optional.push(S))}y.exact!==void 0&&typeof y.exact!="number"?(g.mandatory=g.mandatory||{},g.mandatory[_("",m)]=y.exact):["min","max"].forEach(S=>{y[S]!==void 0&&(g.mandatory=g.mandatory||{},g.mandatory[_(S,m)]=y[S])})}),d.advanced&&(g.optional=(g.optional||[]).concat(d.advanced)),g},a=function(d,g){if(t.version>=61)return g(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const m=function(y,_,S){_ in y&&!(S in y)&&(y[S]=y[_],delete y[_])};d=JSON.parse(JSON.stringify(d)),m(d.audio,"autoGainControl","googAutoGainControl"),m(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=s(d.audio)}if(d&&typeof d.video=="object"){let m=d.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const y=t.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(e.mediaDevices.getSupportedConstraints&&e.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete d.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return e.mediaDevices.enumerateDevices().then(S=>{S=S.filter(N=>N.kind==="videoinput");let A=S.find(N=>_.some(B=>N.label.toLowerCase().includes(B)));return!A&&S.length&&_.includes("back")&&(A=S[S.length-1]),A&&(d.video.deviceId=m.exact?{exact:A.deviceId}:{ideal:A.deviceId}),d.video=s(d.video),M1("chrome: "+JSON.stringify(d)),g(d)})}d.video=s(d.video)}return M1("chrome: "+JSON.stringify(d)),g(d)},l=function(d){return t.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(d,g,m){a(d,y=>{e.webkitGetUserMedia(y,g,_=>{m&&m(l(_))})})};if(e.getUserMedia=u.bind(e),e.mediaDevices.getUserMedia){const d=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(g){return a(g,m=>d(m).then(y=>{if(m.audio&&!y.getAudioTracks().length||m.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(l(y))))}}}function $x(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function Kx(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let l;n.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(d=>d.track&&d.track.id===a.track.id):l={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=l,u.transceiver={receiver:l},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let l;n.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(d=>d.track&&d.track.id===a.id):l={track:a};const u=new Event("track");u.track=a,u.receiver=l,u.transceiver={receiver:l},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ua(n,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Yx(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const t=function(a,l){return{track:l,get dtmf(){return this._dtmf===void 0&&(l.kind==="audio"?this._dtmf=a.createDTMFSender(l):this._dtmf=null),this._dtmf},_pc:a}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,g){let m=a.apply(this,arguments);return m||(m=t(this,d),this._senders.push(m)),m};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){l.apply(this,arguments);const g=this._senders.indexOf(d);g!==-1&&this._senders.splice(g,1)}}const e=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(l){this._senders=this._senders||[],e.apply(this,[l]),l.getTracks().forEach(u=>{this._senders.push(t(this,u))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(l){this._senders=this._senders||[],s.apply(this,[l]),l.getTracks().forEach(u=>{const d=this._senders.find(g=>g.track===u);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const t=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Qx(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=e.apply(this,[]);return l.forEach(u=>u._pc=this),l});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=s.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>D1(u,l.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const a=e.apply(this,[]);return a.forEach(l=>l._pc=this),a}),ua(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(l=>D1(l,a.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const t=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let a,l,u;return this.getSenders().forEach(d=>{d.track===s&&(a?u=!0:a=d)}),this.getReceivers().forEach(d=>(d.track===s&&(l?u=!0:l=d),d.track===s)),u||a&&l?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():l?l.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Xx(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const t=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(u,d){if(!d)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const g=t.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(g)===-1&&this._shimmedLocalStreams[d.id].push(g):this._shimmedLocalStreams[d.id]=[d,g],g};const e=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();e.apply(this,arguments);const g=this.getSenders().filter(m=>d.indexOf(m)===-1);this._shimmedLocalStreams[u.id]=[u].concat(g)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const g=this._shimmedLocalStreams[d].indexOf(u);g!==-1&&this._shimmedLocalStreams[d].splice(g,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),a.apply(this,arguments)}}function Zx(n,t){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Xx(n);const e=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const y=e.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(_=>{if(this.getSenders().find(A=>A.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const _=new n.MediaStream(y.getTracks());this._streams[y.id]=_,this._reverseStreams[_.id]=y,y=_}s.apply(this,[y])};const a=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},n.RTCPeerConnection.prototype.addTrack=function(y,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(B=>B===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(B=>B.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const N=this._streams[_.id];if(N)N.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const B=new n.MediaStream([y]);this._streams[_.id]=B,this._reverseStreams[B.id]=_,this.addStream(B)}return this.getSenders().find(B=>B.track===y)};function l(m,y){let _=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const A=m._reverseStreams[S],N=m._streams[A.id];_=_.replace(new RegExp(N.id,"g"),A.id)}),new RTCSessionDescription({type:y.type,sdp:_})}function u(m,y){let _=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const A=m._reverseStreams[S],N=m._streams[A.id];_=_.replace(new RegExp(A.id,"g"),N.id)}),new RTCSessionDescription({type:y.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const y=n.RTCPeerConnection.prototype[m],_={[m](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[N=>{const B=l(this,N);S[0].apply(null,[B])},N=>{S[1]&&S[1].apply(null,N)},arguments[2]]):y.apply(this,arguments).then(N=>l(this,N))}};n.RTCPeerConnection.prototype[m]=_[m]});const d=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=u(this,arguments[0]),d.apply(this,arguments))};const g=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=g.get.apply(this);return m.type===""?m:l(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(A=>{this._streams[A].getTracks().find(B=>y.track===B)&&(S=this._streams[A])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function jm(n,t){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){const s=n.RTCPeerConnection.prototype[e],a={[e](){return arguments[0]=new(e==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[e]=a[e]})}function Jx(n,t){ua(n,"negotiationneeded",e=>{const s=e.target;if(!((t.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return e})}const N1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Jx,shimAddTrackRemoveTrack:Zx,shimAddTrackRemoveTrackWithNative:Xx,shimGetSendersWithDtmf:Yx,shimGetUserMedia:Gx,shimMediaStream:$x,shimOnTrack:Kx,shimPeerConnection:jm,shimSenderReceiverGetStats:Qx},Symbol.toStringTag,{value:"Module"}));function Wx(n,t){const e=n&&n.navigator,s=n&&n.MediaStreamTrack;if(e.getUserMedia=function(a,l,u){qg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),e.mediaDevices.getUserMedia(a).then(l,u)},!(t.version>55&&"autoGainControl"in e.mediaDevices.getSupportedConstraints())){const a=function(u,d,g){d in u&&!(g in u)&&(u[g]=u[d],delete u[d])},l=e.mediaDevices.getUserMedia.bind(e.mediaDevices);if(e.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),l(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const d=u.apply(this,arguments);return a(d,"mozAutoGainControl","autoGainControl"),a(d,"mozNoiseSuppression","noiseSuppression"),d}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),a(d,"autoGainControl","mozAutoGainControl"),a(d,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[d])}}}}function J4(n,t){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:t}:s.video.mediaSource=t,n.navigator.mediaDevices.getUserMedia(s)})}function tS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Lm(n,t){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const l=n.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};n.RTCPeerConnection.prototype[a]=u[a]});const e={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[l,u,d]=arguments;return s.apply(this,[l||null]).then(g=>{if(t.version<53&&!u)try{g.forEach(m=>{m.type=e[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;g.forEach((y,_)=>{g.set(_,Object.assign({},y,{type:e[y.type]||y.type}))})}return g}).then(u,d)}}function eS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const t=n.RTCPeerConnection.prototype.getSenders;t&&(n.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(l=>l._pc=this),a});const e=n.RTCPeerConnection.prototype.addTrack;e&&(n.RTCPeerConnection.prototype.addTrack=function(){const a=e.apply(this,arguments);return a._pc=this,a}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function nS(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const t=n.RTCPeerConnection.prototype.getReceivers;t&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ua(n,"track",e=>(e.receiver._pc=e.srcElement,e)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function iS(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(e){qg("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&e.getTracks().includes(s.track)&&this.removeTrack(s)})})}function sS(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function rS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const t=n.RTCPeerConnection.prototype.addTransceiver;t&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const l=t.apply(this,arguments);if(a){const{sender:u}=l,d=u.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(d).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return l})}function aS(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const t=n.RTCRtpSender.prototype.getParameters;t&&(n.RTCRtpSender.prototype.getParameters=function(){const s=t.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function oS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const t=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function lS(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const t=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const k1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:rS,shimCreateAnswer:lS,shimCreateOffer:oS,shimGetDisplayMedia:J4,shimGetParameters:aS,shimGetUserMedia:Wx,shimOnTrack:tS,shimPeerConnection:Lm,shimRTCDataChannel:sS,shimReceiverGetStats:nS,shimRemoveStream:iS,shimSenderGetStats:eS},Symbol.toStringTag,{value:"Module"}));function cS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const t=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>t.call(this,a,s)),s.getVideoTracks().forEach(a=>t.call(this,a,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(e);if(s===-1)return;this._localStreams.splice(s,1);const a=e.getTracks();this.getSenders().forEach(l=>{a.includes(l.track)&&this.removeTrack(l)})})}}function uS(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const l=new Event("addstream");l.stream=a,this.dispatchEvent(l)})})}});const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(l=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(l)>=0)return;s._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,s.dispatchEvent(u)})}),t.apply(s,arguments)}}}function fS(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const t=n.RTCPeerConnection.prototype,e=t.createOffer,s=t.createAnswer,a=t.setLocalDescription,l=t.setRemoteDescription,u=t.addIceCandidate;t.createOffer=function(m,y){const _=arguments.length>=2?arguments[2]:arguments[0],S=e.apply(this,[_]);return y?(S.then(m,y),Promise.resolve()):S},t.createAnswer=function(m,y){const _=arguments.length>=2?arguments[2]:arguments[0],S=s.apply(this,[_]);return y?(S.then(m,y),Promise.resolve()):S};let d=function(g,m,y){const _=a.apply(this,[g]);return y?(_.then(m,y),Promise.resolve()):_};t.setLocalDescription=d,d=function(g,m,y){const _=l.apply(this,[g]);return y?(_.then(m,y),Promise.resolve()):_},t.setRemoteDescription=d,d=function(g,m,y){const _=u.apply(this,[g]);return y?(_.then(m,y),Promise.resolve()):_},t.addIceCandidate=d}function hS(n){const t=n&&n.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,s=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=a=>s(dS(a))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(s,a,l){t.mediaDevices.getUserMedia(s).then(a,l)}).bind(t))}function dS(n){return n&&n.video!==void 0?Object.assign({},n,{video:qx(n.video)}):n}function pS(n){if(!n.RTCPeerConnection)return;const t=n.RTCPeerConnection;n.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const l=[];for(let u=0;u<s.iceServers.length;u++){let d=s.iceServers[u];d.urls===void 0&&d.url?(qg("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,l.push(d)):l.push(s.iceServers[u])}s.iceServers=l}return new t(s,a)},n.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function mS(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function gS(n){const t=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const l=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveVideo===!0&&!l&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function yS(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const V1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:yS,shimCallbacksAPI:fS,shimConstraints:dS,shimCreateOfferLegacy:gS,shimGetUserMedia:hS,shimLocalStreamsAPI:cS,shimRTCIceServerUrls:pS,shimRemoteStreamsAPI:uS,shimTrackEventTransceiver:mS},Symbol.toStringTag,{value:"Module"}));var Wp={exports:{}},I1;function W4(){return I1||(I1=1,(function(n){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split(`
`).map(s=>s.trim())},t.splitSections=function(e){return e.split(`
m=`).map((a,l)=>(l>0?"m="+a:a).trim()+`\r
`)},t.getDescription=function(e){const s=t.splitSections(e);return s&&s[0]},t.getMediaSections=function(e){const s=t.splitSections(e);return s.shift(),s},t.matchPrefix=function(e,s){return t.splitLines(e).filter(a=>a.indexOf(s)===0)},t.parseCandidate=function(e){let s;e.indexOf("a=candidate:")===0?s=e.substring(12).split(" "):s=e.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let l=8;l<s.length;l+=2)switch(s[l]){case"raddr":a.relatedAddress=s[l+1];break;case"rport":a.relatedPort=parseInt(s[l+1],10);break;case"tcptype":a.tcpType=s[l+1];break;case"ufrag":a.ufrag=s[l+1],a.usernameFragment=s[l+1];break;default:a[s[l]]===void 0&&(a[s[l]]=s[l+1]);break}return a},t.writeCandidate=function(e){const s=[];s.push(e.foundation);const a=e.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(e.protocol.toUpperCase()),s.push(e.priority),s.push(e.address||e.ip),s.push(e.port);const l=e.type;return s.push("typ"),s.push(l),l!=="host"&&e.relatedAddress&&e.relatedPort&&(s.push("raddr"),s.push(e.relatedAddress),s.push("rport"),s.push(e.relatedPort)),e.tcpType&&e.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(s.push("ufrag"),s.push(e.usernameFragment||e.ufrag)),"candidate:"+s.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let s=e.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},t.writeRtpMap=function(e){let s=e.payloadType;e.preferredPayloadType!==void 0&&(s=e.preferredPayloadType);const a=e.channels||e.numChannels||1;return"a=rtpmap:"+s+" "+e.name+"/"+e.clockRate+(a!==1?"/"+a:"")+`\r
`},t.parseExtmap=function(e){const s=e.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&e.direction!=="sendrecv"?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+`\r
`},t.parseFmtp=function(e){const s={};let a;const l=e.substring(e.indexOf(" ")+1).split(";");for(let u=0;u<l.length;u++)a=l[u].trim().split("="),s[a[0].trim()]=a[1];return s},t.writeFmtp=function(e){let s="",a=e.payloadType;if(e.preferredPayloadType!==void 0&&(a=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const l=[];Object.keys(e.parameters).forEach(u=>{e.parameters[u]!==void 0?l.push(u+"="+e.parameters[u]):l.push(u)}),s+="a=fmtp:"+a+" "+l.join(";")+`\r
`}return s},t.parseRtcpFb=function(e){const s=e.substring(e.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},t.writeRtcpFb=function(e){let s="",a=e.payloadType;return e.preferredPayloadType!==void 0&&(a=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(l=>{s+="a=rtcp-fb:"+a+" "+l.type+(l.parameter&&l.parameter.length?" "+l.parameter:"")+`\r
`}),s},t.parseSsrcMedia=function(e){const s=e.indexOf(" "),a={ssrc:parseInt(e.substring(7,s),10)},l=e.indexOf(":",s);return l>-1?(a.attribute=e.substring(s+1,l),a.value=e.substring(l+1)):a.attribute=e.substring(s+1),a},t.parseSsrcGroup=function(e){const s=e.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},t.getMid=function(e){const s=t.matchPrefix(e,"a=mid:")[0];if(s)return s.substring(6)},t.parseFingerprint=function(e){const s=e.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},t.getDtlsParameters=function(e,s){return{role:"auto",fingerprints:t.matchPrefix(e+s,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,s){let a="a=setup:"+s+`\r
`;return e.fingerprints.forEach(l=>{a+="a=fingerprint:"+l.algorithm+" "+l.value+`\r
`}),a},t.parseCryptoLine=function(e){const s=e.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+(typeof e.keyParams=="object"?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(e){if(e.indexOf("inline:")!==0)return null;const s=e.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,s){return t.matchPrefix(e+s,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,s){const a=t.matchPrefix(e+s,"a=ice-ufrag:")[0],l=t.matchPrefix(e+s,"a=ice-pwd:")[0];return a&&l?{usernameFragment:a.substring(12),password:l.substring(10)}:null},t.writeIceParameters=function(e){let s="a=ice-ufrag:"+e.usernameFragment+`\r
a=ice-pwd:`+e.password+`\r
`;return e.iceLite&&(s+=`a=ice-lite\r
`),s},t.parseRtpParameters=function(e){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},l=t.splitLines(e)[0].split(" ");s.profile=l[2];for(let d=3;d<l.length;d++){const g=l[d],m=t.matchPrefix(e,"a=rtpmap:"+g+" ")[0];if(m){const y=t.parseRtpMap(m),_=t.matchPrefix(e,"a=fmtp:"+g+" ");switch(y.parameters=_.length?t.parseFmtp(_[0]):{},y.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+g+" ").map(t.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}t.matchPrefix(e,"a=extmap:").forEach(d=>{s.headerExtensions.push(t.parseExtmap(d))});const u=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return s.codecs.forEach(d=>{u.forEach(g=>{d.rtcpFeedback.find(y=>y.type===g.type&&y.parameter===g.parameter)||d.rtcpFeedback.push(g)})}),s},t.writeRtpDescription=function(e,s){let a="";a+="m="+e+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=t.writeRtpMap(u),a+=t.writeFmtp(u),a+=t.writeRtcpFb(u)});let l=0;return s.codecs.forEach(u=>{u.maxptime>l&&(l=u.maxptime)}),l>0&&(a+="a=maxptime:"+l+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=t.writeExtmap(u)}),a},t.parseRtpEncodingParameters=function(e){const s=[],a=t.parseRtpParameters(e),l=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,d=t.matchPrefix(e,"a=ssrc:").map(S=>t.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),g=d.length>0&&d[0].ssrc;let m;const y=t.matchPrefix(e,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(N=>parseInt(N,10)));y.length>0&&y[0].length>1&&y[0][0]===g&&(m=y[0][1]),a.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let A={ssrc:g,codecPayloadType:parseInt(S.parameters.apt,10)};g&&m&&(A.rtx={ssrc:m}),s.push(A),l&&(A=JSON.parse(JSON.stringify(A)),A.fec={ssrc:g,mechanism:u?"red+ulpfec":"red"},s.push(A))}}),s.length===0&&g&&s.push({ssrc:g});let _=t.matchPrefix(e,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(S=>{S.maxBitrate=_})),s},t.parseRtcpParameters=function(e){const s={},a=t.matchPrefix(e,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const l=t.matchPrefix(e,"a=rtcp-rsize");s.reducedSize=l.length>0,s.compound=l.length===0;const u=t.matchPrefix(e,"a=rtcp-mux");return s.mux=u.length>0,s},t.writeRtcpParameters=function(e){let s="";return e.reducedSize&&(s+=`a=rtcp-rsize\r
`),e.mux&&(s+=`a=rtcp-mux\r
`),e.ssrc!==void 0&&e.cname&&(s+="a=ssrc:"+e.ssrc+" cname:"+e.cname+`\r
`),s},t.parseMsid=function(e){let s;const a=t.matchPrefix(e,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const l=t.matchPrefix(e,"a=ssrc:").map(u=>t.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(l.length>0)return s=l[0].value.split(" "),{stream:s[0],track:s[1]}},t.parseSctpDescription=function(e){const s=t.parseMLine(e),a=t.matchPrefix(e,"a=max-message-size:");let l;a.length>0&&(l=parseInt(a[0].substring(19),10)),isNaN(l)&&(l=65536);const u=t.matchPrefix(e,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:l};const d=t.matchPrefix(e,"a=sctpmap:");if(d.length>0){const g=d[0].substring(10).split(" ");return{port:parseInt(g[0],10),protocol:g[1],maxMessageSize:l}}},t.writeSctpDescription=function(e,s){let a=[];return e.protocol!=="DTLS/SCTP"?a=["m="+e.kind+" 9 "+e.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+e.kind+" 9 "+e.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,s,a){let l;const u=s!==void 0?s:2;return e?l=e:l=t.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+l+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(e,s){const a=t.splitLines(e);for(let l=0;l<a.length;l++)switch(a[l]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[l].substring(2)}return s?t.getDirection(s):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return e.split(" ",2)[1]==="0"},t.parseMLine=function(e){const a=t.splitLines(e)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},t.parseOLine=function(e){const a=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},t.isValidSDP=function(e){if(typeof e!="string"||e.length===0)return!1;const s=t.splitLines(e);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},n.exports=t})(Wp)),Wp.exports}var vS=W4();const mo=YT(vS),t6=qA({__proto__:null,default:mo},[vS]);function Sf(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const t=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new t(s),l=mo.parseCandidate(s.candidate);for(const u in l)u in a||Object.defineProperty(a,u,{value:l[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(s)},n.RTCIceCandidate.prototype=t.prototype,ua(n,"icecandidate",e=>(e.candidate&&Object.defineProperty(e,"candidate",{value:new n.RTCIceCandidate(e.candidate),writable:"false"}),e))}function Bm(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||ua(n,"icecandidate",t=>{if(t.candidate){const e=mo.parseCandidate(t.candidate.candidate);e.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[e.priority>>24])}return t})}function Ef(n,t){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const e=function(d){if(!d||!d.sdp)return!1;const g=mo.splitSections(d.sdp);return g.shift(),g.some(m=>{const y=mo.parseMLine(m);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(d){const g=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(g===null||g.length<2)return-1;const m=parseInt(g[1],10);return m!==m?-1:m},a=function(d){let g=65536;return t.browser==="firefox"&&(t.version<57?d===-1?g=16384:g=2147483637:t.version<60?g=t.version===57?65535:65536:g=2147483637),g},l=function(d,g){let m=65536;t.browser==="firefox"&&t.version===57&&(m=65535);const y=mo.matchPrefix(d.sdp,"a=max-message-size:");return y.length>0?m=parseInt(y[0].substring(19),10):t.browser==="firefox"&&g!==-1&&(m=2147483637),m},u=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:g}=this.getConfiguration();g==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(e(arguments[0])){const g=s(arguments[0]),m=a(g),y=l(arguments[0],g);let _;m===0&&y===0?_=Number.POSITIVE_INFINITY:m===0||y===0?_=Math.max(m,y):_=Math.min(m,y);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return _}}),this._sctp=S}return u.apply(this,arguments)}}function Cf(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function t(s,a){const l=s.send;s.send=function(){const d=arguments[0],g=d.length||d.size||d.byteLength;if(s.readyState==="open"&&a.sctp&&g>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return l.apply(s,arguments)}}const e=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const a=e.apply(this,arguments);return t(a,this),a},ua(n,"datachannel",s=>(t(s.channel,s.target),s))}function zm(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const t=n.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const s=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const l=a.target;if(l._lastConnectionState!==l.connectionState){l._lastConnectionState=l.connectionState;const u=new Event("connectionstatechange",a);l.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Um(n,t){if(!n.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const l=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&a instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:a.type,sdp:l}):a.sdp=l}return e.apply(this,arguments)}}function Af(n,t){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const e=n.RTCPeerConnection.prototype.addIceCandidate;!e||e.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Rf(n,t){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const e=n.RTCPeerConnection.prototype.setLocalDescription;!e||e.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return e.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?e.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>e.apply(this,[u]))})}const e6=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Um,shimAddIceCandidateNullOrEmpty:Af,shimConnectionState:zm,shimMaxMessageSize:Ef,shimParameterlessSetLocalDescription:Rf,shimRTCIceCandidate:Sf,shimRTCIceCandidateRelayProtocol:Bm,shimSendThrowTypeError:Cf},Symbol.toStringTag,{value:"Module"}));function n6({window:n}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const e=Hx,s=Z4(n),a={browserDetails:s,commonShim:e6,extractVersion:Gl,disableLog:Q4,disableWarnings:X4,sdp:t6};switch(s.browser){case"chrome":if(!N1||!jm||!t.shimChrome)return e("Chrome shim is not included in this adapter release."),a;if(s.version===null)return e("Chrome shim can not determine version, not shimming."),a;e("adapter.js shimming chrome."),a.browserShim=N1,Af(n,s),Rf(n),Gx(n,s),$x(n),jm(n,s),Kx(n),Zx(n,s),Yx(n),Qx(n),Jx(n,s),Sf(n),Bm(n),zm(n),Ef(n,s),Cf(n),Um(n,s);break;case"firefox":if(!k1||!Lm||!t.shimFirefox)return e("Firefox shim is not included in this adapter release."),a;e("adapter.js shimming firefox."),a.browserShim=k1,Af(n,s),Rf(n),Wx(n,s),Lm(n,s),tS(n),iS(n),eS(n),nS(n),sS(n),rS(n),aS(n),oS(n),lS(n),Sf(n),zm(n),Ef(n,s),Cf(n);break;case"safari":if(!V1||!t.shimSafari)return e("Safari shim is not included in this adapter release."),a;e("adapter.js shimming safari."),a.browserShim=V1,Af(n,s),Rf(n),pS(n),gS(n),fS(n),cS(n),uS(n),mS(n),hS(n),yS(n),Sf(n),Bm(n),Ef(n,s),Cf(n),Um(n,s);break;default:e("Unsupported browser!");break}return a}const P1=n6({window:typeof window>"u"?void 0:window});function fa(n,t,e,s){Object.defineProperty(n,t,{get:e,set:s,enumerable:!0,configurable:!0})}class _S{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const e=[],s=t.byteLength,a=Math.ceil(s/this.chunkedMTU);let l=0,u=0;for(;u<s;){const d=Math.min(s,u+this.chunkedMTU),g=t.slice(u,d),m={__peerData:this._dataCount,n:l,data:g,total:a};e.push(m),u=d,l++}return this._dataCount++,e}}}function i6(n){let t=0;for(const a of n)t+=a.byteLength;const e=new Uint8Array(t);let s=0;for(const a of n)e.set(a,s),s+=a.byteLength;return e}const tm=P1.default||P1,Fl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?t>=this.minChromeVersion:n==="firefox"?t>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return tm.browserDetails.browser}getVersion(){return tm.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),t=tm.browserDetails.version||0;if(n==="chrome"&&t<this.minChromeVersion)return!1;if(n==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let e,s=!1;try{e=new RTCPeerConnection,e.addTransceiver("audio"),s=!0}catch{}finally{e&&e.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},s6=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),bS=()=>Math.random().toString(36).slice(2),O1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class r6 extends _S{noop(){}blobToArrayBuffer(t,e){const s=new FileReader;return s.onload=function(a){a.target&&e(a.target.result)},s.readAsArrayBuffer(t),s}binaryStringToArrayBuffer(t){const e=new Uint8Array(t.length);for(let s=0;s<t.length;s++)e[s]=t.charCodeAt(s)&255;return e.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=O1,this.browser=Fl.getBrowser(),this.browserVersion=Fl.getVersion(),this.pack=zx,this.unpack=Bx,this.supports=(function(){const e={browser:Fl.isBrowserSupported(),webRTC:Fl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;let s;try{s=new RTCPeerConnection(O1),e.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!a.ordered;try{a.binaryType="blob",e.binaryBlob=!Fl.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return e})(),this.validateId=s6,this.randomToken=bS}}const wn=new r6,a6="PeerJS: ";class o6{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...e){const s=[a6,...e];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);t>=3?console.log(...s):t>=2?console.warn("WARNING",...s):t>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var _t=new o6,Gg={},l6=Object.prototype.hasOwnProperty,bn="~";function uc(){}Object.create&&(uc.prototype=Object.create(null),new uc().__proto__||(bn=!1));function c6(n,t,e){this.fn=n,this.context=t,this.once=e||!1}function TS(n,t,e,s,a){if(typeof e!="function")throw new TypeError("The listener must be a function");var l=new c6(e,s||n,a),u=bn?bn+t:t;return n._events[u]?n._events[u].fn?n._events[u]=[n._events[u],l]:n._events[u].push(l):(n._events[u]=l,n._eventsCount++),n}function wf(n,t){--n._eventsCount===0?n._events=new uc:delete n._events[t]}function dn(){this._events=new uc,this._eventsCount=0}dn.prototype.eventNames=function(){var t=[],e,s;if(this._eventsCount===0)return t;for(s in e=this._events)l6.call(e,s)&&t.push(bn?s.slice(1):s);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};dn.prototype.listeners=function(t){var e=bn?bn+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,l=s.length,u=new Array(l);a<l;a++)u[a]=s[a].fn;return u};dn.prototype.listenerCount=function(t){var e=bn?bn+t:t,s=this._events[e];return s?s.fn?1:s.length:0};dn.prototype.emit=function(t,e,s,a,l,u){var d=bn?bn+t:t;if(!this._events[d])return!1;var g=this._events[d],m=arguments.length,y,_;if(g.fn){switch(g.once&&this.removeListener(t,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,e),!0;case 3:return g.fn.call(g.context,e,s),!0;case 4:return g.fn.call(g.context,e,s,a),!0;case 5:return g.fn.call(g.context,e,s,a,l),!0;case 6:return g.fn.call(g.context,e,s,a,l,u),!0}for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];g.fn.apply(g.context,y)}else{var S=g.length,A;for(_=0;_<S;_++)switch(g[_].once&&this.removeListener(t,g[_].fn,void 0,!0),m){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,e);break;case 3:g[_].fn.call(g[_].context,e,s);break;case 4:g[_].fn.call(g[_].context,e,s,a);break;default:if(!y)for(A=1,y=new Array(m-1);A<m;A++)y[A-1]=arguments[A];g[_].fn.apply(g[_].context,y)}}return!0};dn.prototype.on=function(t,e,s){return TS(this,t,e,s,!1)};dn.prototype.once=function(t,e,s){return TS(this,t,e,s,!0)};dn.prototype.removeListener=function(t,e,s,a){var l=bn?bn+t:t;if(!this._events[l])return this;if(!e)return wf(this,l),this;var u=this._events[l];if(u.fn)u.fn===e&&(!a||u.once)&&(!s||u.context===s)&&wf(this,l);else{for(var d=0,g=[],m=u.length;d<m;d++)(u[d].fn!==e||a&&!u[d].once||s&&u[d].context!==s)&&g.push(u[d]);g.length?this._events[l]=g.length===1?g[0]:g:wf(this,l)}return this};dn.prototype.removeAllListeners=function(t){var e;return t?(e=bn?bn+t:t,this._events[e]&&wf(this,e)):(this._events=new uc,this._eventsCount=0),this};dn.prototype.off=dn.prototype.removeListener;dn.prototype.addListener=dn.prototype.on;dn.prefixed=bn;dn.EventEmitter=dn;Gg=dn;var ha={};fa(ha,"ConnectionType",()=>ar);fa(ha,"PeerErrorType",()=>Oe);fa(ha,"BaseConnectionErrorType",()=>Fm);fa(ha,"DataConnectionErrorType",()=>$g);fa(ha,"SerializationType",()=>dh);fa(ha,"SocketEventType",()=>sr);fa(ha,"ServerMessageType",()=>cn);var ar=(function(n){return n.Data="data",n.Media="media",n})({}),Oe=(function(n){return n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc",n})({}),Fm=(function(n){return n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed",n})({}),$g=(function(n){return n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big",n})({}),dh=(function(n){return n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw",n})({}),sr=(function(n){return n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close",n})({}),cn=(function(n){return n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE",n})({});const xS="1.5.5";class u6 extends Gg.EventEmitter{constructor(t,e,s,a,l,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const d=t?"wss://":"ws://";this._baseUrl=d+e+":"+s+a+"peerjs?key="+l}start(t,e){this._id=t;const s=`${this._baseUrl}&id=${t}&token=${e}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+xS),this._disconnected=!1,this._socket.onmessage=a=>{let l;try{l=JSON.parse(a.data),_t.log("Server message received:",l)}catch{_t.log("Invalid server message",a.data);return}this.emit(sr.Message,l)},this._socket.onclose=a=>{this._disconnected||(_t.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(sr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),_t.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){_t.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:cn.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const e of t)this.send(e)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(sr.Error,"Invalid message");return}if(!this._wsOpen())return;const e=JSON.stringify(t);this._socket.send(e)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class SS{constructor(t){this.connection=t}startConnection(t){const e=this._startPeerConnection();if(this.connection.peerConnection=e,this.connection.type===ar.Media&&t._stream&&this._addTracksToConnection(t._stream,e),t.originator){const s=this.connection,a={ordered:!!t.reliable},l=e.createDataChannel(s.label,a);s._initializeDataChannel(l),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){_t.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const e=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,l=this.connection.provider;_t.log("Listening for ICE candidates."),t.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(_t.log(`Received ICE candidates for ${e}:`,u.candidate),l.socket.send({type:cn.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:e}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":_t.log("iceConnectionState is failed, closing connections to "+e),this.connection.emitError(Fm.NegotiationFailed,"Negotiation of connection to "+e+" failed."),this.connection.close();break;case"closed":_t.log("iceConnectionState is closed, closing connections to "+e),this.connection.emitError(Fm.ConnectionClosed,"Connection to "+e+" closed."),this.connection.close();break;case"disconnected":_t.log("iceConnectionState changed to disconnected on the connection with "+e);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},_t.log("Listening for data channel"),t.ondatachannel=u=>{_t.log("Received data channel");const d=u.channel;l.getConnection(e,s)._initializeDataChannel(d)},_t.log("Listening for remote stream"),t.ontrack=u=>{_t.log("Received remote stream");const d=u.streams[0],g=l.getConnection(e,s);if(g.type===ar.Media){const m=g;this._addStreamToMediaConnection(d,m)}}}cleanup(){_t.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const e=t.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(e||s)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,e=this.connection.provider;try{const s=await t.createOffer(this.connection.options.constraints);_t.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),_t.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ar.Data){const l=this.connection;a={...a,label:l.label,reliable:l.reliable,serialization:l.serialization}}e.socket.send({type:cn.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(e.emitError(Oe.WebRTC,a),_t.log("Failed to setLocalDescription, ",a))}}catch(s){e.emitError(Oe.WebRTC,s),_t.log("Failed to createOffer, ",s)}}async _makeAnswer(){const t=this.connection.peerConnection,e=this.connection.provider;try{const s=await t.createAnswer();_t.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),_t.log("Set localDescription:",s,`for:${this.connection.peer}`),e.socket.send({type:cn.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){e.emitError(Oe.WebRTC,a),_t.log("Failed to setLocalDescription, ",a)}}catch(s){e.emitError(Oe.WebRTC,s),_t.log("Failed to create answer, ",s)}}async handleSDP(t,e){e=new RTCSessionDescription(e);const s=this.connection.peerConnection,a=this.connection.provider;_t.log("Setting remote description",e);const l=this;try{await s.setRemoteDescription(e),_t.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await l._makeAnswer()}catch(u){a.emitError(Oe.WebRTC,u),_t.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(t){_t.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),_t.log(`Added ICE candidate for:${this.connection.peer}`)}catch(e){this.connection.provider.emitError(Oe.WebRTC,e),_t.log("Failed to handleCandidate, ",e)}}_addTracksToConnection(t,e){if(_t.log(`add tracks from stream ${t.id} to peer connection`),!e.addTrack)return _t.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(s=>{e.addTrack(s,t)})}_addStreamToMediaConnection(t,e){_t.log(`add stream ${t.id} to media connection ${e.connectionId}`),e.addStream(t)}}class ES extends Gg.EventEmitter{emitError(t,e){_t.error("Error:",e),this.emit("error",new f6(`${t}`,e))}}class f6 extends Error{constructor(t,e){typeof e=="string"?super(e):(super(),Object.assign(this,e)),this.type=t}}class CS extends ES{get open(){return this._open}constructor(t,e,s){super(),this.peer=t,this.provider=e,this.options=s,this._open=!1,this.metadata=s.metadata}}class qf extends CS{static#t=this.ID_PREFIX="mc_";get type(){return ar.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,e,s){super(t,e,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||qf.ID_PREFIX+wn.randomToken(),this._negotiator=new SS(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{_t.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{_t.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){_t.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const e=t.type,s=t.payload;switch(t.type){case cn.Answer:this._negotiator.handleSDP(e,s.sdp),this._open=!0;break;case cn.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:_t.warn(`Unrecognized message type:${e} from peer:${this.peer}`);break}}answer(t,e={}){if(this._localStream){_t.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,e&&e.sdpTransform&&(this.options.sdpTransform=e.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class h6{constructor(t){this._options=t}_buildRequest(t){const e=this._options.secure?"https":"http",{host:s,port:a,path:l,key:u}=this._options,d=new URL(`${e}://${s}:${a}${l}${u}/${t}`);return d.searchParams.set("ts",`${Date.now()}${Math.random()}`),d.searchParams.set("version",xS),fetch(d.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){_t.error("Error retrieving ID",t);let e="";throw this._options.path==="/"&&this._options.host!==wn.CLOUD_HOST&&(e=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+e)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let e="";throw this._options.host===wn.CLOUD_HOST?e="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":e="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+e)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw _t.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}class Gf extends CS{static#t=this.ID_PREFIX="dc_";static#e=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ar.Data}constructor(t,e,s){super(t,e,s),this.connectionId=this.options.connectionId||Gf.ID_PREFIX+bS(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new SS(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{_t.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{_t.log(`DC#${this.connectionId} dc onmessage:`,e.data)},this.dataChannel.onclose=()=>{_t.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,e=!1){if(!this.open){this.emitError($g.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,e)}async handleMessage(t){const e=t.payload;switch(t.type){case cn.Answer:await this._negotiator.handleSDP(t.type,e.sdp);break;case cn.Candidate:await this._negotiator.handleCandidate(e.candidate);break;default:_t.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}}class Kg extends Gf{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",e=>this._handleDataMessage(e))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Gf.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(e){return _t.error(`DC#:${this.connectionId} Error when sending:`,e),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class em extends Kg{close(t){super.close(t),this._chunkedData={}}constructor(t,e,s){super(t,e,s),this.chunker=new _S,this.serialization=dh.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const e=Bx(t),s=e.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(e);return}this.emit("data",e)}_handleChunk(t){const e=t.__peerData,s=this._chunkedData[e]||{data:[],count:0,total:t.total};if(s.data[t.n]=new Uint8Array(t.data),s.count++,this._chunkedData[e]=s,s.total===s.count){delete this._chunkedData[e];const a=i6(s.data);this._handleDataMessage({data:a})}}_send(t,e){const s=zx(t);if(s instanceof Promise)return this._send_blob(s);if(!e&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(t){const e=await t;if(e.byteLength>this.chunker.chunkedMTU){this._sendChunks(e);return}this._bufferedSend(e)}_sendChunks(t){const e=this.chunker.chunk(t);_t.log(`DC#${this.connectionId} Try to send ${e.length} chunks...`);for(const s of e)this.send(s,!0)}}class d6 extends Kg{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,e){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=dh.None}}class p6 extends Kg{_handleDataMessage({data:t}){const e=this.parse(this.decoder.decode(t)),s=e.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",e)}_send(t,e){const s=this.encoder.encode(this.stringify(t));if(s.byteLength>=wn.chunkedMTU){this.emitError($g.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...t){super(...t),this.serialization=dh.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Yg extends ES{static#t=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[e,s]of this._connections)t[e]=s;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,e){super(),this._serializers={raw:d6,json:p6,binary:em,"binary-utf8":em,default:em},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(t&&t.constructor==Object?e=t:t&&(s=t.toString()),e={debug:0,host:wn.CLOUD_HOST,port:wn.CLOUD_PORT,path:"/",key:Yg.DEFAULT_KEY,token:wn.randomToken(),config:wn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...e},this._options=e,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==wn.CLOUD_HOST?this._options.secure=wn.isSecure():this._options.host==wn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&_t.setLogFunction(this._options.logFunction),_t.logLevel=this._options.debug||0,this._api=new h6(e),this._socket=this._createServerConnection(),!wn.supports.audioVideo&&!wn.supports.data){this._delayedAbort(Oe.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!wn.validateId(s)){this._delayedAbort(Oe.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(Oe.ServerError,a))}_createServerConnection(){const t=new u6(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(sr.Message,e=>{this._handleMessage(e)}),t.on(sr.Error,e=>{this._abort(Oe.SocketError,e)}),t.on(sr.Disconnected,()=>{this.disconnected||(this.emitError(Oe.Network,"Lost connection to server."),this.disconnect())}),t.on(sr.Close,()=>{this.disconnected||this._abort(Oe.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const e=t.type,s=t.payload,a=t.src;switch(e){case cn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case cn.Error:this._abort(Oe.ServerError,s.msg);break;case cn.IdTaken:this._abort(Oe.UnavailableID,`ID "${this.id}" is taken`);break;case cn.InvalidKey:this._abort(Oe.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case cn.Leave:_t.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case cn.Expire:this.emitError(Oe.PeerUnavailable,`Could not connect to peer ${a}`);break;case cn.Offer:{const l=s.connectionId;let u=this.getConnection(a,l);if(u&&(u.close(),_t.warn(`Offer received for existing Connection ID:${l}`)),s.type===ar.Media){const g=new qf(a,this,{connectionId:l,_payload:s,metadata:s.metadata});u=g,this._addConnection(a,u),this.emit("call",g)}else if(s.type===ar.Data){const g=new this._serializers[s.serialization](a,this,{connectionId:l,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=g,this._addConnection(a,u),this.emit("connection",g)}else{_t.warn(`Received malformed connection type:${s.type}`);return}const d=this._getMessages(l);for(const g of d)u.handleMessage(g);break}default:{if(!s){_t.warn(`You received a malformed message from ${a} of type ${e}`);return}const l=s.connectionId,u=this.getConnection(a,l);u&&u.peerConnection?u.handleMessage(t):l?this._storeMessage(l,t):_t.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,e){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(e)}_getMessages(t){const e=this._lostMessages.get(t);return e?(this._lostMessages.delete(t),e):[]}connect(t,e={}){if(e={serialization:"default",...e},this.disconnected){_t.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Oe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[e.serialization](t,this,e);return this._addConnection(t,s),s}call(t,e,s={}){if(this.disconnected){_t.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Oe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!e){_t.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new qf(t,this,{...s,_stream:e});return this._addConnection(t,a),a}_addConnection(t,e){_t.log(`add connection ${e.type}:${e.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(e)}_removeConnection(t){const e=this._connections.get(t.peer);if(e){const s=e.indexOf(t);s!==-1&&e.splice(s,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,e){const s=this._connections.get(t);if(!s)return null;for(const a of s)if(a.connectionId===e)return a;return null}_delayedAbort(t,e){setTimeout(()=>{this._abort(t,e)},0)}_abort(t,e){_t.error("Aborting!"),this.emitError(t,e),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(_t.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const e=this._connections.get(t);if(e)for(const s of e)s.close()}disconnect(){if(this.disconnected)return;const t=this.id;_t.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)_t.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)_t.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=e=>{}){this._api.listAllPeers().then(e=>t(e)).catch(e=>this._abort(Oe.ServerError,e))}}var m6=Yg;const g6=()=>{};var j1={};const AS=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},y6=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],d=n[e++],g=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const l=n[e++],u=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,g=a+2<n.length,m=g?n[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|m>>6,A=m&63;g||(A=64,u||(S=64)),s.push(e[y],e[_],e[S],e[A])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(AS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):y6(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||_==null)throw new v6;const S=l<<2|d>>4;if(s.push(S),m!==64){const A=d<<4&240|m>>2;if(s.push(A),_!==64){const N=m<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class v6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _6=function(n){const t=AS(n);return RS.encodeByteArray(t,!0)},$f=function(n){return _6(n).replace(/\./g,"")},b6=function(n){try{return RS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function T6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const x6=()=>T6().__FIREBASE_DEFAULTS__,S6=()=>{if(typeof process>"u"||typeof j1>"u")return;const n=j1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},E6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&b6(n[1]);return t&&JSON.parse(t)},Qg=()=>{try{return g6()||x6()||S6()||E6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},C6=n=>Qg()?.emulatorHosts?.[n],A6=n=>{const t=C6(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},wS=()=>Qg()?.config;class R6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Xg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w6(n){return(await fetch(n,{credentials:"include"})).ok}function D6(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$f(JSON.stringify(e)),$f(JSON.stringify(u)),""].join(".")}const tc={};function M6(){const n={prod:[],emulator:[]};for(const t of Object.keys(tc))tc[t]?n.emulator.push(t):n.prod.push(t);return n}function N6(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let L1=!1;function k6(n,t){if(typeof window>"u"||typeof document>"u"||!Xg(window.location.host)||tc[n]===t||tc[n]||L1)return;tc[n]=t;function e(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=M6().prod.length>0;function u(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{L1=!0,u()},S}function y(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=N6(s),A=e("text"),N=document.getElementById(A)||document.createElement("span"),B=e("learnmore"),L=document.getElementById(B)||document.createElement("a"),K=e("preprendIcon"),tt=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;d(Z),y(L,B);const lt=m();g(tt,K),Z.append(tt,N,L,lt),document.body.appendChild(Z)}l?(N.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function V6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I6(){const n=Qg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P6(){return!I6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O6(){try{return typeof indexedDB=="object"}catch{return!1}}function j6(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const L6="FirebaseError";class Mo extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=L6,Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DS.prototype.create)}}class DS{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?B6(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Mo(a,d,s)}}function B6(n,t){return n.replace(z6,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const z6=/\{\$([^}]+)}/g;function Kf(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],u=t[a];if(B1(l)&&B1(u)){if(!Kf(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function B1(n){return n!==null&&typeof n=="object"}function _s(n){return n&&n._delegate?n._delegate:n}class fc{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ta="[DEFAULT]";class U6{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new R6;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(H6(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F6(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F6(n){return n===ta?void 0:n}function H6(n){return n.instantiationMode==="EAGER"}class q6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new U6(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const G6={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},$6=qt.INFO,K6={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},Y6=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=K6[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class MS{constructor(t){this.name=t,this._logLevel=$6,this._logHandler=Y6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?G6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const Q6=(n,t)=>t.some(e=>n instanceof e);let z1,U1;function X6(){return z1||(z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z6(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NS=new WeakMap,Hm=new WeakMap,kS=new WeakMap,nm=new WeakMap,Zg=new WeakMap;function J6(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(or(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&NS.set(e,n)}).catch(()=>{}),Zg.set(t,n),t}function W6(n){if(Hm.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Hm.set(n,t)}let qm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Hm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||kS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function tM(n){qm=n(qm)}function eM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(im(this),t,...e);return kS.set(s,t.sort?t.sort():[t]),or(s)}:Z6().includes(n)?function(...t){return n.apply(im(this),t),or(NS.get(this))}:function(...t){return or(n.apply(im(this),t))}}function nM(n){return typeof n=="function"?eM(n):(n instanceof IDBTransaction&&W6(n),Q6(n,X6())?new Proxy(n,qm):n)}function or(n){if(n instanceof IDBRequest)return J6(n);if(nm.has(n))return nm.get(n);const t=nM(n);return t!==n&&(nm.set(n,t),Zg.set(t,n)),t}const im=n=>Zg.get(n);function iM(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),d=or(u);return s&&u.addEventListener("upgradeneeded",g=>{s(or(u.result),g.oldVersion,g.newVersion,or(u.transaction),g)}),e&&u.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const sM=["get","getKey","getAll","getAllKeys","count"],rM=["put","add","delete","clear"],sm=new Map;function F1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=rM.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||sM.includes(e)))return;const l=async function(u,...d){const g=this.transaction(u,a?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[e](...d),a&&g.done]))[0]};return sm.set(t,l),l}tM(n=>({...n,get:(t,e,s)=>F1(t,e)||n.get(t,e,s),has:(t,e)=>!!F1(t,e)||n.has(t,e)}));class aM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(oM(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function oM(n){return n.getComponent()?.type==="VERSION"}const Gm="@firebase/app",H1="0.14.8";const bs=new MS("@firebase/app"),lM="@firebase/app-compat",cM="@firebase/analytics-compat",uM="@firebase/analytics",fM="@firebase/app-check-compat",hM="@firebase/app-check",dM="@firebase/auth",pM="@firebase/auth-compat",mM="@firebase/database",gM="@firebase/data-connect",yM="@firebase/database-compat",vM="@firebase/functions",_M="@firebase/functions-compat",bM="@firebase/installations",TM="@firebase/installations-compat",xM="@firebase/messaging",SM="@firebase/messaging-compat",EM="@firebase/performance",CM="@firebase/performance-compat",AM="@firebase/remote-config",RM="@firebase/remote-config-compat",wM="@firebase/storage",DM="@firebase/storage-compat",MM="@firebase/firestore",NM="@firebase/ai",kM="@firebase/firestore-compat",VM="firebase",IM="12.9.0";const $m="[DEFAULT]",PM={[Gm]:"fire-core",[lM]:"fire-core-compat",[uM]:"fire-analytics",[cM]:"fire-analytics-compat",[hM]:"fire-app-check",[fM]:"fire-app-check-compat",[dM]:"fire-auth",[pM]:"fire-auth-compat",[mM]:"fire-rtdb",[gM]:"fire-data-connect",[yM]:"fire-rtdb-compat",[vM]:"fire-fn",[_M]:"fire-fn-compat",[bM]:"fire-iid",[TM]:"fire-iid-compat",[xM]:"fire-fcm",[SM]:"fire-fcm-compat",[EM]:"fire-perf",[CM]:"fire-perf-compat",[AM]:"fire-rc",[RM]:"fire-rc-compat",[wM]:"fire-gcs",[DM]:"fire-gcs-compat",[MM]:"fire-fst",[kM]:"fire-fst-compat",[NM]:"fire-vertex","fire-js":"fire-js",[VM]:"fire-js-all"};const Yf=new Map,OM=new Map,Km=new Map;function q1(n,t){try{n.container.addComponent(t)}catch(e){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Qf(n){const t=n.name;if(Km.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;Km.set(t,n);for(const e of Yf.values())q1(e,n);for(const e of OM.values())q1(e,n);return!0}function jM(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function LM(n){return n==null?!1:n.settings!==void 0}const BM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new DS("app","Firebase",BM);class zM{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const UM=IM;function VS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:$m,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw lr.create("bad-app-name",{appName:String(a)});if(e||(e=wS()),!e)throw lr.create("no-options");const l=Yf.get(a);if(l){if(Kf(e,l.options)&&Kf(s,l.config))return l;throw lr.create("duplicate-app",{appName:a})}const u=new q6(a);for(const g of Km.values())u.addComponent(g);const d=new zM(e,s,u);return Yf.set(a,d),d}function FM(n=$m){const t=Yf.get(n);if(!t&&n===$m&&wS())return VS();if(!t)throw lr.create("no-app",{appName:n});return t}function go(n,t,e){let s=PM[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${t}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}Qf(new fc(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const HM="firebase-heartbeat-database",qM=1,hc="firebase-heartbeat-store";let rm=null;function IS(){return rm||(rm=iM(HM,qM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(hc)}catch(e){console.warn(e)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),rm}async function GM(n){try{const e=(await IS()).transaction(hc),s=await e.objectStore(hc).get(PS(n));return await e.done,s}catch(t){if(t instanceof Mo)bs.warn(t.message);else{const e=lr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(e.message)}}}async function G1(n,t){try{const s=(await IS()).transaction(hc,"readwrite");await s.objectStore(hc).put(t,PS(n)),await s.done}catch(e){if(e instanceof Mo)bs.warn(e.message);else{const s=lr.create("idb-set",{originalErrorMessage:e?.message});bs.warn(s.message)}}}function PS(n){return`${n.name}!${n.options.appId}`}const $M=1024,KM=30;class YM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new XM(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>KM){const a=ZM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$1(),{heartbeatsToSend:e,unsentEntries:s}=QM(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return bs.warn(t),""}}}function $1(){return new Date().toISOString().substring(0,10)}function QM(n,t=$M){const e=[];let s=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),K1(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),K1(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class XM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O6()?j6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return G1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return G1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function K1(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function ZM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function JM(n){Qf(new fc("platform-logger",t=>new aM(t),"PRIVATE")),Qf(new fc("heartbeat",t=>new YM(t),"PRIVATE")),go(Gm,H1,n),go(Gm,H1,"esm2020"),go("fire-js","")}JM("");var WM="firebase",tN="12.9.0";go(WM,tN,"app");var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,OS;(function(){var n;function t(w,C){function D(){}D.prototype=C.prototype,w.F=C.prototype,w.prototype=new D,w.prototype.constructor=w,w.D=function(I,V,j){for(var M=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)M[Ut-2]=arguments[Ut];return C.prototype[V].apply(I,M)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(w,C,D){D||(D=0);const I=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)I[V]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(V=0;V<16;++V)I[V]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=w.g[0],D=w.g[1],V=w.g[2];let j=w.g[3],M;M=C+(j^D&(V^j))+I[0]+3614090360&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(V^C&(D^V))+I[1]+3905402710&4294967295,j=C+(M<<12&4294967295|M>>>20),M=V+(D^j&(C^D))+I[2]+606105819&4294967295,V=j+(M<<17&4294967295|M>>>15),M=D+(C^V&(j^C))+I[3]+3250441966&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(j^D&(V^j))+I[4]+4118548399&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(V^C&(D^V))+I[5]+1200080426&4294967295,j=C+(M<<12&4294967295|M>>>20),M=V+(D^j&(C^D))+I[6]+2821735955&4294967295,V=j+(M<<17&4294967295|M>>>15),M=D+(C^V&(j^C))+I[7]+4249261313&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(j^D&(V^j))+I[8]+1770035416&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(V^C&(D^V))+I[9]+2336552879&4294967295,j=C+(M<<12&4294967295|M>>>20),M=V+(D^j&(C^D))+I[10]+4294925233&4294967295,V=j+(M<<17&4294967295|M>>>15),M=D+(C^V&(j^C))+I[11]+2304563134&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(j^D&(V^j))+I[12]+1804603682&4294967295,C=D+(M<<7&4294967295|M>>>25),M=j+(V^C&(D^V))+I[13]+4254626195&4294967295,j=C+(M<<12&4294967295|M>>>20),M=V+(D^j&(C^D))+I[14]+2792965006&4294967295,V=j+(M<<17&4294967295|M>>>15),M=D+(C^V&(j^C))+I[15]+1236535329&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(V^j&(D^V))+I[1]+4129170786&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^V&(C^D))+I[6]+3225465664&4294967295,j=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(j^C))+I[11]+643717713&4294967295,V=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(V^j))+I[0]+3921069994&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^j&(D^V))+I[5]+3593408605&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^V&(C^D))+I[10]+38016083&4294967295,j=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(j^C))+I[15]+3634488961&4294967295,V=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(V^j))+I[4]+3889429448&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^j&(D^V))+I[9]+568446438&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^V&(C^D))+I[14]+3275163606&4294967295,j=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(j^C))+I[3]+4107603335&4294967295,V=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(V^j))+I[8]+1163531501&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^j&(D^V))+I[13]+2850285829&4294967295,C=D+(M<<5&4294967295|M>>>27),M=j+(D^V&(C^D))+I[2]+4243563512&4294967295,j=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(j^C))+I[7]+1735328473&4294967295,V=j+(M<<14&4294967295|M>>>18),M=D+(j^C&(V^j))+I[12]+2368359562&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(D^V^j)+I[5]+4294588738&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^V)+I[8]+2272392833&4294967295,j=C+(M<<11&4294967295|M>>>21),M=V+(j^C^D)+I[11]+1839030562&4294967295,V=j+(M<<16&4294967295|M>>>16),M=D+(V^j^C)+I[14]+4259657740&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^j)+I[1]+2763975236&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^V)+I[4]+1272893353&4294967295,j=C+(M<<11&4294967295|M>>>21),M=V+(j^C^D)+I[7]+4139469664&4294967295,V=j+(M<<16&4294967295|M>>>16),M=D+(V^j^C)+I[10]+3200236656&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^j)+I[13]+681279174&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^V)+I[0]+3936430074&4294967295,j=C+(M<<11&4294967295|M>>>21),M=V+(j^C^D)+I[3]+3572445317&4294967295,V=j+(M<<16&4294967295|M>>>16),M=D+(V^j^C)+I[6]+76029189&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^j)+I[9]+3654602809&4294967295,C=D+(M<<4&4294967295|M>>>28),M=j+(C^D^V)+I[12]+3873151461&4294967295,j=C+(M<<11&4294967295|M>>>21),M=V+(j^C^D)+I[15]+530742520&4294967295,V=j+(M<<16&4294967295|M>>>16),M=D+(V^j^C)+I[2]+3299628645&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(V^(D|~j))+I[0]+4096336452&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~V))+I[7]+1126891415&4294967295,j=C+(M<<10&4294967295|M>>>22),M=V+(C^(j|~D))+I[14]+2878612391&4294967295,V=j+(M<<15&4294967295|M>>>17),M=D+(j^(V|~C))+I[5]+4237533241&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~j))+I[12]+1700485571&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~V))+I[3]+2399980690&4294967295,j=C+(M<<10&4294967295|M>>>22),M=V+(C^(j|~D))+I[10]+4293915773&4294967295,V=j+(M<<15&4294967295|M>>>17),M=D+(j^(V|~C))+I[1]+2240044497&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~j))+I[8]+1873313359&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~V))+I[15]+4264355552&4294967295,j=C+(M<<10&4294967295|M>>>22),M=V+(C^(j|~D))+I[6]+2734768916&4294967295,V=j+(M<<15&4294967295|M>>>17),M=D+(j^(V|~C))+I[13]+1309151649&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~j))+I[4]+4149444226&4294967295,C=D+(M<<6&4294967295|M>>>26),M=j+(D^(C|~V))+I[11]+3174756917&4294967295,j=C+(M<<10&4294967295|M>>>22),M=V+(C^(j|~D))+I[2]+718787259&4294967295,V=j+(M<<15&4294967295|M>>>17),M=D+(j^(V|~C))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+C&4294967295,w.g[1]=w.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+V&4294967295,w.g[3]=w.g[3]+j&4294967295}s.prototype.v=function(w,C){C===void 0&&(C=w.length);const D=C-this.blockSize,I=this.C;let V=this.h,j=0;for(;j<C;){if(V==0)for(;j<=D;)a(this,w,j),j+=this.blockSize;if(typeof w=="string"){for(;j<C;)if(I[V++]=w.charCodeAt(j++),V==this.blockSize){a(this,I),V=0;break}}else for(;j<C;)if(I[V++]=w[j++],V==this.blockSize){a(this,I),V=0;break}}this.h=V,this.o+=C},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var C=1;C<w.length-8;++C)w[C]=0;C=this.o*8;for(var D=w.length-8;D<w.length;++D)w[D]=C&255,C/=256;for(this.v(w),w=Array(16),C=0,D=0;D<4;++D)for(let I=0;I<32;I+=8)w[C++]=this.g[D]>>>I&255;return w};function l(w,C){var D=d;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=C(w)}function u(w,C){this.h=C;const D=[];let I=!0;for(let V=w.length-1;V>=0;V--){const j=w[V]|0;I&&j==C||(D[V]=j,I=!1)}this.g=D}var d={};function g(w){return-128<=w&&w<128?l(w,function(C){return new u([C|0],C<0?-1:0)}):new u([w|0],w<0?-1:0)}function m(w){if(isNaN(w)||!isFinite(w))return _;if(w<0)return L(m(-w));const C=[];let D=1;for(let I=0;w>=D;I++)C[I]=w/D|0,D*=4294967296;return new u(C,0)}function y(w,C){if(w.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w.charAt(0)=="-")return L(y(w.substring(1),C));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(C,8));let I=_;for(let j=0;j<w.length;j+=8){var V=Math.min(8,w.length-j);const M=parseInt(w.substring(j,j+V),C);V<8?(V=m(Math.pow(C,V)),I=I.j(V).add(m(M))):(I=I.j(D),I=I.add(m(M)))}return I}var _=g(0),S=g(1),A=g(16777216);n=u.prototype,n.m=function(){if(B(this))return-L(this).m();let w=0,C=1;for(let D=0;D<this.g.length;D++){const I=this.i(D);w+=(I>=0?I:4294967296+I)*C,C*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N(this))return"0";if(B(this))return"-"+L(this).toString(w);const C=m(Math.pow(w,6));var D=this;let I="";for(;;){const V=lt(D,C).g;D=K(D,V.j(C));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(w);if(D=V,N(D))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function N(w){if(w.h!=0)return!1;for(let C=0;C<w.g.length;C++)if(w.g[C]!=0)return!1;return!0}function B(w){return w.h==-1}n.l=function(w){return w=K(this,w),B(w)?-1:N(w)?0:1};function L(w){const C=w.g.length,D=[];for(let I=0;I<C;I++)D[I]=~w.g[I];return new u(D,~w.h).add(S)}n.abs=function(){return B(this)?L(this):this},n.add=function(w){const C=Math.max(this.g.length,w.g.length),D=[];let I=0;for(let V=0;V<=C;V++){let j=I+(this.i(V)&65535)+(w.i(V)&65535),M=(j>>>16)+(this.i(V)>>>16)+(w.i(V)>>>16);I=M>>>16,j&=65535,M&=65535,D[V]=M<<16|j}return new u(D,D[D.length-1]&-2147483648?-1:0)};function K(w,C){return w.add(L(C))}n.j=function(w){if(N(this)||N(w))return _;if(B(this))return B(w)?L(this).j(L(w)):L(L(this).j(w));if(B(w))return L(this.j(L(w)));if(this.l(A)<0&&w.l(A)<0)return m(this.m()*w.m());const C=this.g.length+w.g.length,D=[];for(var I=0;I<2*C;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<w.g.length;V++){const j=this.i(I)>>>16,M=this.i(I)&65535,Ut=w.i(V)>>>16,ae=w.i(V)&65535;D[2*I+2*V]+=M*ae,tt(D,2*I+2*V),D[2*I+2*V+1]+=j*ae,tt(D,2*I+2*V+1),D[2*I+2*V+1]+=M*Ut,tt(D,2*I+2*V+1),D[2*I+2*V+2]+=j*Ut,tt(D,2*I+2*V+2)}for(w=0;w<C;w++)D[w]=D[2*w+1]<<16|D[2*w];for(w=C;w<2*C;w++)D[w]=0;return new u(D,0)};function tt(w,C){for(;(w[C]&65535)!=w[C];)w[C+1]+=w[C]>>>16,w[C]&=65535,C++}function Z(w,C){this.g=w,this.h=C}function lt(w,C){if(N(C))throw Error("division by zero");if(N(w))return new Z(_,_);if(B(w))return C=lt(L(w),C),new Z(L(C.g),L(C.h));if(B(C))return C=lt(w,L(C)),new Z(L(C.g),C.h);if(w.g.length>30){if(B(w)||B(C))throw Error("slowDivide_ only works with positive integers.");for(var D=S,I=C;I.l(w)<=0;)D=at(D),I=at(I);var V=ht(D,1),j=ht(I,1);for(I=ht(I,2),D=ht(D,2);!N(I);){var M=j.add(I);M.l(w)<=0&&(V=V.add(D),j=M),I=ht(I,1),D=ht(D,1)}return C=K(w,V.j(C)),new Z(V,C)}for(V=_;w.l(C)>=0;){for(D=Math.max(1,Math.floor(w.m()/C.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=m(D),M=j.j(C);B(M)||M.l(w)>0;)D-=I,j=m(D),M=j.j(C);N(j)&&(j=S),V=V.add(j),w=K(w,M)}return new Z(V,w)}n.B=function(w){return lt(this,w).h},n.and=function(w){const C=Math.max(this.g.length,w.g.length),D=[];for(let I=0;I<C;I++)D[I]=this.i(I)&w.i(I);return new u(D,this.h&w.h)},n.or=function(w){const C=Math.max(this.g.length,w.g.length),D=[];for(let I=0;I<C;I++)D[I]=this.i(I)|w.i(I);return new u(D,this.h|w.h)},n.xor=function(w){const C=Math.max(this.g.length,w.g.length),D=[];for(let I=0;I<C;I++)D[I]=this.i(I)^w.i(I);return new u(D,this.h^w.h)};function at(w){const C=w.g.length+1,D=[];for(let I=0;I<C;I++)D[I]=w.i(I)<<1|w.i(I-1)>>>31;return new u(D,w.h)}function ht(w,C){const D=C>>5;C%=32;const I=w.g.length-D,V=[];for(let j=0;j<I;j++)V[j]=C>0?w.i(j+D)>>>C|w.i(j+D+1)<<32-C:w.i(j+D);return new u(V,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,OS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,cr=u}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jS,$l,LS,Df,Ym,BS,zS,US;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=e(this);function a(f,v){if(v)t:{var T=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var U=f[R];if(!(U in T))break t;T=T[U]}f=f[f.length-1],R=T[f],v=v(R),v!=R&&v!=null&&t(T,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});var l=l||{},u=this||self;function d(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function g(f,v,T){return f.call.apply(f.bind,arguments)}function m(f,v,T){return m=g,m.apply(null,arguments)}function y(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function _(f,v){function T(){}T.prototype=v.prototype,f.Z=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(R,U,Y){for(var ct=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)ct[Nt-2]=arguments[Nt];return v.prototype[U].apply(R,ct)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const v=f.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=f[R];return T}return[]}function N(f,v){for(let R=1;R<arguments.length;R++){const U=arguments[R];var T=typeof U;if(T=T!="object"?T:U?Array.isArray(U)?"array":T:"null",T=="array"||T=="object"&&typeof U.length=="number"){T=f.length||0;const Y=U.length||0;f.length=T+Y;for(let ct=0;ct<Y;ct++)f[T+ct]=U[ct]}else f.push(U)}}class B{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){u.setTimeout(()=>{throw f},0)}function K(){var f=w;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class tt{constructor(){this.h=this.g=null}add(v,T){const R=Z.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Z=new B(()=>new lt,f=>f.reset());class lt{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,w=new tt,C=()=>{const f=Promise.resolve(void 0);at=()=>{f.then(D)}};function D(){for(var f;f=K();){try{f.h.call(f.g)}catch(T){L(T)}var v=Z;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}ht=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Ut(f,v){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}_(Ut,V),Ut.prototype.init=function(f,v){const T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ut.Z.h.call(this)},Ut.prototype.h=function(){Ut.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(f,v,T,R,U){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=U,this.key=++X,this.da=this.fa=!1}function dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ft(f,v,T){for(const R in f)v.call(T,f[R],R,f)}function Et(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function P(f){const v={};for(const T in f)v[T]=f[T];return v}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(f,v){let T,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(T in R)f[T]=R[T];for(let Y=0;Y<H.length;Y++)T=H[Y],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function it(f){this.src=f,this.g={},this.h=0}it.prototype.add=function(f,v,T,R,U){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const ct=pt(f,v,R,U);return ct>-1?(v=f[ct],T||(v.fa=!1)):(v=new ot(v,this.src,Y,!!R,U),v.fa=T,f.push(v)),v};function ut(f,v){const T=v.type;if(T in f.g){var R=f.g[T],U=Array.prototype.indexOf.call(R,v,void 0),Y;(Y=U>=0)&&Array.prototype.splice.call(R,U,1),Y&&(dt(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function pt(f,v,T,R){for(let U=0;U<f.length;++U){const Y=f[U];if(!Y.da&&Y.listener==v&&Y.capture==!!T&&Y.ha==R)return U}return-1}var vt="closure_lm_"+(Math.random()*1e6|0),It={};function Tt(f,v,T,R,U){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)Tt(f,v[Y],T,R,U);return null}return T=jo(T),f&&f[ae]?f.J(v,T,d(R)?!!R.capture:!1,U):Gt(f,v,T,!1,R,U)}function Gt(f,v,T,R,U,Y){if(!v)throw Error("Invalid event type");const ct=d(U)?!!U.capture:!!U;let Nt=xr(f);if(Nt||(f[vt]=Nt=new it(f)),T=Nt.add(v,T,R,ct,Y),T.proxy)return T;if(R=Xt(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)j||(U=ct),U===void 0&&(U=!1),f.addEventListener(v.toString(),R,U);else if(f.attachEvent)f.attachEvent(Un(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Xt(){function f(T){return v.call(f.src,f.listener,T)}const v=Po;return f}function de(f,v,T,R,U){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)de(f,v[Y],T,R,U);else R=d(R)?!!R.capture:!!R,T=jo(T),f&&f[ae]?(f=f.i,Y=String(v).toString(),Y in f.g&&(v=f.g[Y],T=pt(v,T,R,U),T>-1&&(dt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete f.g[Y],f.h--)))):f&&(f=xr(f))&&(v=f.g[v.toString()],f=-1,v&&(f=pt(v,T,R,U)),(T=f>-1?v[f]:null)&&pn(T))}function pn(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ae])ut(v.i,f);else{var T=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(T,R,f.capture):v.detachEvent?v.detachEvent(Un(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=xr(v))?(ut(T,f),T.h==0&&(T.src=null,v[vt]=null)):dt(f)}}}function Un(f){return f in It?It[f]:It[f]="on"+f}function Po(f,v){if(f.da)f=!0;else{v=new Ut(v,this);const T=f.listener,R=f.ha||f.src;f.fa&&pn(f),f=T.call(R,v)}return f}function xr(f){return f=f[vt],f instanceof it?f:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function jo(f){return typeof f=="function"?f:(f[Oo]||(f[Oo]=function(v){return f.handleEvent(v)}),f[Oo])}function Ae(){I.call(this),this.i=new it(this),this.M=this,this.G=null}_(Ae,I),Ae.prototype[ae]=!0,Ae.prototype.removeEventListener=function(f,v,T,R){de(this,f,v,T,R)};function ze(f,v){var T,R=f.G;if(R)for(T=[];R;R=R.G)T.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new V(v,f);else if(v instanceof V)v.target=v.target||f;else{var U=v;v=new V(R,f),J(v,U)}U=!0;let Y,ct;if(T)for(ct=T.length-1;ct>=0;ct--)Y=v.g=T[ct],U=Ss(Y,R,!0,v)&&U;if(Y=v.g=f,U=Ss(Y,R,!0,v)&&U,U=Ss(Y,R,!1,v)&&U,T)for(ct=0;ct<T.length;ct++)Y=v.g=T[ct],U=Ss(Y,R,!1,v)&&U}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const T=f.g[v];for(let R=0;R<T.length;R++)dt(T[R]);delete f.g[v],f.h--}}this.G=null},Ae.prototype.J=function(f,v,T,R){return this.i.add(String(f),v,!1,T,R)},Ae.prototype.K=function(f,v,T,R){return this.i.add(String(f),v,!0,T,R)};function Ss(f,v,T,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let Y=0;Y<v.length;++Y){const ct=v[Y];if(ct&&!ct.da&&ct.capture==T){const Nt=ct.listener,xe=ct.ha||ct.src;ct.fa&&ut(f.i,ct),U=Nt.call(xe,R)!==!1&&U}}return U&&!R.defaultPrevented}function kh(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(f,v||0)}function Mc(f){f.g=kh(()=>{f.g=null,f.i&&(f.i=!1,Mc(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class mn extends I{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Mc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(f){I.call(this),this.h=f,this.g={}}_(Sr,I);var Lo=[];function Bo(f){ft(f.g,function(v,T){this.g.hasOwnProperty(T)&&pn(v)},f),f.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Bo(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=u.JSON.stringify,Vh=u.JSON.parse,Nc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function kc(){}function Vc(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){V.call(this,"d")}_(Qe,V);function Fn(){V.call(this,"c")}_(Fn,V);var Te={},Ic=null;function ma(){return Ic=Ic||new Ae}Te.Ia="serverreachability";function Pc(f){V.call(this,Te.Ia,f)}_(Pc,V);function xi(f){const v=ma();ze(v,new Pc(v))}Te.STAT_EVENT="statevent";function Er(f,v){V.call(this,Te.STAT_EVENT,f),this.stat=v}_(Er,V);function Re(f){const v=ma();ze(v,new Er(v,f))}Te.Ja="timingevent";function Si(f,v){V.call(this,Te.Ja,f),this.size=v}_(Si,V);function Ei(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Ih(f,v,T,R,U,Y){f.info(function(){if(f.g)if(Y){var ct="",Nt=Y.split("&");for(let Yt=0;Yt<Nt.length;Yt++){var xe=Nt[Yt].split("=");if(xe.length>1){const pe=xe[0];xe=xe[1];const $n=pe.split("_");ct=$n.length>=2&&$n[1]=="type"?ct+(pe+"="+xe+"&"):ct+(pe+"=redacted&")}}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+v+`
`+T+`
`+ct})}function Oc(f,v,T,R,U,Y,ct){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+v+`
`+T+`
`+Y+" "+ct})}function Ci(f,v,T,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ph(f,T)+(R?" "+R:"")})}function Cr(f,v){f.info(function(){return"TIMEOUT: "+v})}ai.prototype.info=function(){};function Ph(f,v){if(!f.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var T=Y[f];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var U=R[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ct=1;ct<R.length;ct++)R[ct]=""}}}}return Es(Y)}catch{return v}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Rr(){}_(Rr,kc),Rr.prototype.g=function(){return new XMLHttpRequest},Uo=new Rr;function Ji(f){return encodeURIComponent(String(f))}function jc(f){var v=1;f=f.split(":");const T=[];for(;v>0&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function oi(f,v,T,R){this.j=f,this.i=v,this.l=T,this.S=R||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var we={},Ge={};function Ai(f,v,T){f.M=1,f.A=wr(Me(v)),f.u=T,f.R=!0,ga(f,null)}function ga(f,v){f.F=Date.now(),Ri(f),f.B=Me(f.A);var T=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),ba(T.i,"t",R),f.C=0,T=f.j.L,f.h=new li,f.g=Jc(f.j,T?v:null,!f.u),f.P>0&&(f.O=new mn(m(f.Y,f,f.g),f.P)),v=f.V,T=f.g,R=f.ba;var U="readystatechange";Array.isArray(U)||(U&&(Lo[0]=U.toString()),U=Lo);for(let Y=0;Y<U.length;Y++){const ct=Tt(T,U[Y],R||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),xi(),Ih(f.i,f.v,f.B,f.l,f.S,f.u)}oi.prototype.ba=function(f){f=f.target;const v=this.O;v&&fi(f)==3?v.j():this.Y(f)},oi.prototype.Y=function(f){try{if(f==this.g)t:{const Nt=fi(this.g),xe=this.g.ya(),Yt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Nt!=4||xe==7||(xe==8||Yt<=0?xi(3):xi(2)),wi(this);var v=this.g.ca();this.X=v;var T=Oh(this);if(this.o=v==200,Oc(this.i,this.v,this.B,this.l,this.S,Nt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var R,U=this.g;if((R=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Y=R;break e}}Y=null}if(f=Y)Ci(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,f);else{this.o=!1,this.m=3,Re(12),Nn(this),Hn(this);break t}}if(this.R){f=!0;let pe;for(;!this.K&&this.C<T.length;)if(pe=Bc(this,T),pe==Ge){Nt==4&&(this.m=4,Re(14),f=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==we){this.m=4,Re(15),Ci(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Ci(this.i,this.l,pe,null),Di(this,pe);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||T.length!=0||this.h.h||(this.m=1,Re(16),f=!1),this.o=this.o&&f,!f)Ci(this.i,this.l,T,"[Invalid Chunked Response]"),Nn(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),nl(ct),ct.P=!0,Re(11))}}else Ci(this.i,this.l,T,null),Di(this,T);Nt==4&&Nn(this),this.o&&!this.K&&(Nt==4?Yc(this.j,this):(this.o=!1,Ri(this)))}else ts(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Nn(this),Hn(this)}}}catch{}};function Oh(f){if(!Lc(f))return f.g.la();const v=Xe(f.g);if(v==="")return"";let T="";const R=v.length,U=fi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Nn(f),Hn(f),"";f.h.i=new u.TextDecoder}for(let Y=0;Y<R;Y++)f.h.h=!0,T+=f.h.i.decode(v[Y],{stream:!(U&&Y==R-1)});return v.length=0,f.h.g+=T,f.C=0,f.h.g}function Lc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Bc(f,v){var T=f.C,R=v.indexOf(`
`,T);return R==-1?Ge:(T=Number(v.substring(T,R)),isNaN(T)?we:(R+=1,R+T>v.length?Ge:(v=v.slice(R,R+T),f.C=R+T,v)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function Ri(f){f.T=Date.now()+f.H,ya(f,f.H)}function ya(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ei(m(f.aa,f),v)}function wi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}oi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(xi(),Re(17)),Nn(this),this.m=2,Hn(this)):ya(this,this.T-f)};function Hn(f){f.j.I==0||f.K||Yc(f.j,f)}function Nn(f){wi(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Bo(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Di(f,v){try{var T=f.j;if(T.I!=0&&(T.g==f||Ni(T.h,f))){if(!f.L&&Ni(T.h,f)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Ca(T),ks(T);else break t;Pr(T),Re(18)}}else T.xa=U[1],0<T.xa-T.K&&U[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ei(m(T.Va,T),6e3));Mi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ji(T,11)}else if((f.L||T.g==f)&&Ca(T),!M(v))for(U=T.Ba.g.parse(v),v=0;v<U.length;v++){let Yt=U[v];const pe=Yt[0];if(!(pe<=T.K))if(T.K=pe,Yt=Yt[1],T.I==2)if(Yt[0]=="c"){T.M=Yt[1],T.ba=Yt[2];const $n=Yt[3];$n!=null&&(T.ka=$n,T.j.info("VER="+T.ka));const Li=Yt[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const hi=Yt[5];hi!=null&&typeof hi=="number"&&hi>0&&(R=1.5*hi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const di=f.g;if(di){const Or=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var Y=R.h;Y.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(qo(Y,Y.h),Y.h=null))}if(R.G){const Aa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(R.wa=Aa,Jt(R.J,R.G,Aa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ct=f;if(R.na=Zc(R,R.L?R.ba:null,R.W),ct.L){Go(R.h,ct);var Nt=ct,xe=R.O;xe&&(Nt.H=xe),Nt.D&&(wi(Nt),Ri(Nt)),R.g=ct}else $c(R);T.i.length>0&&Oi(T)}else Yt[0]!="stop"&&Yt[0]!="close"||ji(T,7);else T.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?ji(T,7):tl(T):Yt[0]!="noop"&&T.l&&T.l.qa(Yt),T.A=0)}}xi(4)}catch{}}var De=class{constructor(f,v){this.g=f,this.map=v}};function Fo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Mi(f){return f.h?1:f.g?f.g.size:0}function Ni(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function qo(f,v){f.g?f.g.add(v):f.h=v}function Go(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Fo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $o(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.G);return v}return A(f.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(f,v){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const R=f[T].indexOf("=");let U,Y=null;R>=0?(U=f[T].substring(0,R),Y=f[T].substring(R+1)):U=f[T],v(U,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function kn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof kn?(this.l=f.l,$e(this,f.j),this.o=f.o,this.g=f.g,Cs(this,f.u),this.h=f.h,Ko(this,qc(f.i)),this.m=f.m):f&&(v=String(f).match(zc))?(this.l=!1,$e(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),Cs(this,v[4]),this.h=ki(v[5]||"",!0),Ko(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}kn.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(Dr(v,_a,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Dr(v,_a,!0),"@"),f.push(Ji(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Dr(T,T.charAt(0)=="/"?Yo:Uc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Dr(T,Fc)),f.join("")},kn.prototype.resolve=function(f){const v=Me(this);let T=!!f.j;T?$e(v,f.j):T=!!f.o,T?v.o=f.o:T=!!f.g,T?v.g=f.g:T=f.u!=null;var R=f.h;if(T)Cs(v,f.u);else if(T=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var U=v.h.lastIndexOf("/");U!=-1&&(R=v.h.slice(0,U+1)+R)}if(U=R,U==".."||U==".")R="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){R=U.lastIndexOf("/",0)==0,U=U.split("/");const Y=[];for(let ct=0;ct<U.length;){const Nt=U[ct++];Nt=="."?R&&ct==U.length&&Y.push(""):Nt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&ct==U.length&&Y.push("")):(Y.push(Nt),R=!0)}R=Y.join("/")}else R=U}return T?v.h=R:T=f.i.toString()!=="",T?Ko(v,qc(f.i)):T=!!f.m,T&&(v.m=f.m),v};function Me(f){return new kn(f)}function $e(f,v,T){f.j=T?ki(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Cs(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function Ko(f,v,T){v instanceof Rs?(f.i=v,Ta(f.i,f.l)):(T||(v=Dr(v,As)),f.i=new Rs(v,f.l))}function Jt(f,v,T){f.i.set(v,T)}function wr(f){return Jt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ki(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Dr(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Tn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Tn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _a=/[#\/\?@]/g,Uc=/[#\?:]/g,Yo=/[#\?]/g,As=/[#\?@]/g,Fc=/#/g;function Rs(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function xn(f){f.g||(f.g=new Map,f.h=0,f.i&&va(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Rs.prototype,n.add=function(f,v){xn(this),this.i=null,f=ws(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function Hc(f,v){xn(f),v=ws(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Qo(f,v){return xn(f),v=ws(f,v),f.g.has(v)}n.forEach=function(f,v){xn(this),this.g.forEach(function(T,R){T.forEach(function(U){f.call(v,U,R,this)},this)},this)};function Xo(f,v){xn(f);let T=[];if(typeof v=="string")Qo(f,v)&&(T=T.concat(f.g.get(ws(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)T=T.concat(f[v]);return T}n.set=function(f,v){return xn(this),this.i=null,f=ws(this,f),Qo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=Xo(this,f),f.length>0?String(f[0]):v):v};function ba(f,v,T){Hc(f,v),T.length>0&&(f.i=null,f.g.set(ws(f,v),A(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const U=Ji(T);T=Xo(this,T);for(let Y=0;Y<T.length;Y++){let ct=U;T[Y]!==""&&(ct+="="+Ji(T[Y])),f.push(ct)}}return this.i=f.join("&")};function qc(f){const v=new Rs;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function ws(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ta(f,v){v&&!f.j&&(xn(f),f.i=null,f.g.forEach(function(T,R){const U=R.toLowerCase();R!=U&&(Hc(this,R),ba(this,U,T))},f)),f.j=v}function ci(f,v){const T=new ai;if(u.Image){const R=new Image;R.onload=y(qn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=y(qn,T,"TestLoadImage: error",!1,v,R),R.onabort=y(qn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(qn,T,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Zo(f,v){const T=new ai,R=new AbortController,U=setTimeout(()=>{R.abort(),qn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(Y=>{clearTimeout(U),Y.ok?qn(T,"TestPingServer: ok",!0,v):qn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),qn(T,"TestPingServer: error",!1,v)})}function qn(f,v,T,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(T)}catch{}}function Ds(){this.g=new Nc}function Vi(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Vi,kc),Vi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(f,v){Ae.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Mr,Ae),n=Mr.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,ui(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Ms(this):ui(this),this.readyState==3&&xa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ms(this))},n.Na=function(f){this.g&&(this.response=f,Ms(this))},n.ga=function(){this.g&&Ms(this)};function Ms(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ui(f)}n.setRequestHeader=function(f,v){this.A.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function ui(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gn(f){let v="";return ft(f,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Nr(f,v,T){t:{for(R in T){var R=!1;break t}R=!0}R||(T=Gn(T),typeof f=="string"?T!=null&&Ji(T):Jt(f,v,T))}function ee(f){Ae.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ee,Ae);var Ii=/^https?$/i,Jo=["POST","PUT"];n=ee.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=S(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Y){kr(this,Y);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)T.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())T.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Jo,v,void 0)>=0)||R||U||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of T)this.g.setRequestHeader(Y,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){kr(this,Y)}};function kr(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,Wo(f),Wi(f)}function Wo(f){f.A||(f.A=!0,ze(f,"complete"),ze(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,ze(this,"complete"),ze(this,"abort"),Wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},n.Xa=function(){Vr(this)};function Vr(f){if(f.h&&typeof l<"u"){if(f.v&&fi(f)==4)setTimeout(f.Ca.bind(f),0);else if(ze(f,"readystatechange"),fi(f)==4){f.h=!1;try{const Y=f.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var R;if(R=Y===0){let ct=String(f.D).match(zc)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),R=!Ii.test(ct?ct.toLowerCase():"")}T=R}if(T)ze(f,"complete"),ze(f,"success");else{f.o=6;try{var U=fi(f)>2?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.ca()+"]",Wo(f)}}finally{Wi(f)}}}}function Wi(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,v||ze(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Vh(v)}};function Xe(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(f){const v={};f=(f.g&&fi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(M(f[R]))continue;var T=jc(f[R]);const U=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=v[U]||[];v[U]=Y,Y.push(T)}Et(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function Ns(f){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,f),this.Za=Pi("retryDelaySeedMs",1e4,f),this.Ta=Pi("forwardChannelMaxRetries",2,f),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(f&&f.concurrentRequestLimit),this.Ba=new Ds,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ns.prototype,n.ka=8,n.I=1,n.connect=function(f,v,T,R){Re(0),this.W=f,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Zc(this,null,this.W),Oi(this)};function tl(f){if(Sa(f),f.I==3){var v=f.V++,T=Me(f.J);if(Jt(T,"SID",f.M),Jt(T,"RID",v),Jt(T,"TYPE","terminate"),Ir(f,T),v=new oi(f,f.j,v),v.M=2,v.A=wr(Me(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=Jc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ri(v)}Xc(f)}function ks(f){f.g&&(nl(f),f.g.cancel(),f.g=null)}function Sa(f){ks(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ca(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Oi(f){if(!Ho(f.h)&&!f.m){f.m=!0;var v=f.Ea;at||C(),ht||(at(),ht=!0),w.add(v,f),f.D=0}}function Ea(f,v){return Mi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ei(m(f.Ea,f,v),Qc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const U=new oi(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=P(Y),J(Y,this.U)):Y=this.U),this.u!==null||this.R||(U.J=Y,Y=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Gc(this,U,v),T=Me(this.J),Jt(T,"RID",f),Jt(T,"CVER",22),this.G&&Jt(T,"X-HTTP-Session-Id",this.G),Ir(this,T),Y&&(this.R?v="headers="+Ji(Gn(Y))+"&"+v:this.u&&Nr(T,this.u,Y)),qo(this.h,U),this.Ra&&Jt(T,"TYPE","init"),this.S?(Jt(T,"$req",v),Jt(T,"SID","null"),U.U=!0,Ai(U,T,null)):Ai(U,T,v),this.I=2}}else this.I==3&&(f?el(this,f):this.i.length==0||Ho(this.h)||el(this))};function el(f,v){var T;v?T=v.l:T=f.V++;const R=Me(f.J);Jt(R,"SID",f.M),Jt(R,"RID",T),Jt(R,"AID",f.K),Ir(f,R),f.u&&f.o&&Nr(R,f.u,f.o),T=new oi(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Gc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),qo(f.h,T),Ai(T,R,v)}function Ir(f,v){f.H&&ft(f.H,function(T,R){Jt(v,R,T)}),f.l&&ft({},function(T,R){Jt(v,R,T)})}function Gc(f,v,T){T=Math.min(f.i.length,T);const R=f.l?m(f.l.Ka,f.l,f):null;t:{var U=f.i;let Nt=-1;for(;;){const xe=["count="+T];Nt==-1?T>0?(Nt=U[0].g,xe.push("ofs="+Nt)):Nt=0:xe.push("ofs="+Nt);let Yt=!0;for(let pe=0;pe<T;pe++){var Y=U[pe].g;const $n=U[pe].map;if(Y-=Nt,Y<0)Nt=Math.max(0,U[pe].g-100),Yt=!1;else try{Y="req"+Y+"_"||"";try{var ct=$n instanceof Map?$n:Object.entries($n);for(const[Li,hi]of ct){let di=hi;d(hi)&&(di=Es(hi)),xe.push(Y+Li+"="+encodeURIComponent(di))}}catch(Li){throw xe.push(Y+"type="+encodeURIComponent("_badmap")),Li}}catch{R&&R($n)}}if(Yt){ct=xe.join("&");break t}}ct=void 0}return f=f.i.splice(0,T),v.G=f,ct}function $c(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;at||C(),ht||(at(),ht=!0),w.add(v,f),f.A=0}}function Pr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ei(m(f.Da,f),Qc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ei(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),ks(this),Kc(this))};function nl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Kc(f){f.g=new oi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Me(f.na);Jt(v,"RID","rpc"),Jt(v,"SID",f.M),Jt(v,"AID",f.K),Jt(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&Jt(v,"TO",f.ia),Jt(v,"TYPE","xmlhttp"),Ir(f,v),f.u&&f.o&&Nr(v,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=wr(Me(v)),T.u=null,T.R=!0,ga(T,f)}n.Va=function(){this.C!=null&&(this.C=null,ks(this),Pr(this),Re(19))};function Ca(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Yc(f,v){var T=null;if(f.g==v){Ca(f),nl(f),f.g=null;var R=2}else if(Ni(f.h,v))T=v.G,Go(f.h,v),R=1;else return;if(f.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var U=f.D;R=ma(),ze(R,new Si(R,T)),Oi(f)}else $c(f);else if(U=v.m,U==3||U==0&&v.X>0||!(R==1&&Ea(f,v)||R==2&&Pr(f)))switch(T&&T.length>0&&(v=f.h,v.i=v.i.concat(T)),U){case 1:ji(f,5);break;case 4:ji(f,10);break;case 3:ji(f,6);break;default:ji(f,2)}}}function Qc(f,v){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*v}function ji(f,v){if(f.j.info("Error code "+v),v==2){var T=m(f.bb,f),R=f.Ua;const U=!R;R=new kn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$e(R,"https"),wr(R),U?ci(R.toString(),T):Zo(R.toString(),T)}else Re(2);f.I=0,f.l&&f.l.pa(v),Xc(f),Sa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Xc(f){if(f.I=0,f.ja=[],f.l){const v=$o(f.h);(v.length!=0||f.i.length!=0)&&(N(f.ja,v),N(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Zc(f,v,T){var R=T instanceof kn?Me(T):new kn(T);if(R.g!="")v&&(R.g=v+"."+R.g),Cs(R,R.u);else{var U=u.location;R=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const Y=new kn(null);R&&$e(Y,R),v&&(Y.g=v),U&&Cs(Y,U),T&&(Y.h=T),R=Y}return T=f.G,v=f.wa,T&&v&&Jt(R,T,v),Jt(R,"VER",f.ka),Ir(f,R),R}function Jc(f,v,T){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new ee(new Vi({ab:T})):new ee(f.ma),v.Fa(f.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}n=Wc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vs(){}Vs.prototype.g=function(f,v){return new gn(f,v)};function gn(f,v){Ae.call(this),this.g=new Ns(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!M(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new es(this)}_(gn,Ae),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){tl(this.g)},gn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Es(f),f=T);v.i.push(new De(v.Ya++,f)),v.I==3&&Oi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,gn.Z.N.call(this)};function tu(f){Qe.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const T in v){f=T;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}_(tu,Qe);function eu(){Fn.call(this),this.status=1}_(eu,Fn);function es(f){this.g=f}_(es,Wc),es.prototype.ra=function(){ze(this.g,"a")},es.prototype.qa=function(f){ze(this.g,new tu(f))},es.prototype.pa=function(f){ze(this.g,new eu)},es.prototype.oa=function(){ze(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,US=function(){return new Vs},zS=function(){return ma()},BS=Te,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Df=Ar,zo.COMPLETE="complete",LS=zo,Vc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,$l=Vc,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,jS=ee}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let No="12.9.0";function eN(n){No=n}const oa=new MS("@firebase/firestore");function io(){return oa.logLevel}function mt(n,...t){if(oa.logLevel<=qt.DEBUG){const e=t.map(Jg);oa.debug(`Firestore (${No}): ${n}`,...e)}}function Ts(n,...t){if(oa.logLevel<=qt.ERROR){const e=t.map(Jg);oa.error(`Firestore (${No}): ${n}`,...e)}}function la(n,...t){if(oa.logLevel<=qt.WARN){const e=t.map(Jg);oa.warn(`Firestore (${No}): ${n}`,...e)}}function Jg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,FS(n,s,e)}function FS(n,t,e){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ts(s),new Error(s)}function Zt(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||FS(t,a,s)}function Mt(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Mo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class HS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ln.UNAUTHENTICATED)))}shutdown(){}}class iN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Zt(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,e(g)):Promise.resolve();let l=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ra,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const g=l;t.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},d=g=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ra)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zt(typeof s.accessToken=="string",31837,{l:s}),new HS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class rN{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aN{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new rN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LM(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Zt(this.o===void 0,3512);const s=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Zt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Q1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class Wg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=lN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function Bt(n,t){return n<t?-1:n>t?1:0}function Qm(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),l=t.charAt(s);if(a!==l)return am(a)===am(l)?Bt(a,l):am(a)?1:-1}return Bt(n.length,t.length)}const cN=55296,uN=57343;function am(n){const t=n.charCodeAt(0);return t>=cN&&t<=uN}function To(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}const X1="__name__";class qi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Rt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=qi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Bt(t.length,e.length)}static compareSegments(t,e){const s=qi.isNumericId(t),a=qi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(t).compare(qi.extractNumericId(e)):Qm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class fe extends qi{construct(t,e,s){return new fe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new xt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new fe(e)}static emptyPath(){return new fe([])}}const fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends qi{construct(t,e,s){return new sn(t,e,s)}static isValidIdentifier(t){return fN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X1}static keyField(){return new sn([X1])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new xt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new xt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new xt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new xt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(e)}static emptyPath(){return new sn([])}}class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(fe.fromString(t))}static fromName(t){return new Ct(fe.fromString(t).popFirst(5))}static empty(){return new Ct(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new fe(t.slice()))}}function qS(n,t,e){if(!e)throw new xt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function hN(n,t,e,s){if(t===!0&&s===!0)throw new xt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Z1(n){if(!Ct.isDocumentKey(n))throw new xt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J1(n){if(Ct.isDocumentKey(n))throw new xt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ty(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function ys(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ty(n);throw new xt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Le(n,t){const e={typeString:n};return t&&(e.value=t),e}function Cc(n,t){if(!GS(n))throw new xt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new xt(rt.INVALID_ARGUMENT,e);return!0}const W1=-62135596800,tT=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*tT);return new he(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<W1)throw new xt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tT}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Cc(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-W1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Le("string",he._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new he(0,0))}static max(){return new wt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dc=-1;function dN(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new he(e+1,0):new he(e,s));return new dr(a,Ct.empty(),t)}function pN(n){return new dr(n.readTime,n.key,dc)}class dr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new dr(wt.min(),Ct.empty(),dc)}static max(){return new dr(wt.max(),Ct.empty(),dc)}}function mN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ct.comparator(n.documentKey,t.documentKey),e!==0?e:Bt(n.largestBatchId,t.largestBatchId))}const gN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ko(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==gN)throw n;mt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,s)=>{e(t)}))}static reject(t){return new st(((e,s)=>{s(t)}))}static waitFor(t){return new st(((e,s)=>{let a=0,l=0,u=!1;t.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&e()}),(g=>s(g)))})),u=!0,l===a&&e()}))}static or(t){let e=st.resolve(!1);for(const s of t)e=e.next((a=>a?st.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,l)=>{s.push(e.call(this,a,l))})),this.waitFor(s)}static mapArray(t,e){return new st(((s,a)=>{const l=t.length,u=new Array(l);let d=0;for(let g=0;g<l;g++){const m=g;e(t[m]).next((y=>{u[m]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new st(((s,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):s()};l()}))}}function vN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vo(n){return n.name==="IndexedDbTransactionError"}class ph{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const ey=-1;function mh(n){return n==null}function Xf(n){return n===0&&1/n==-1/0}function _N(n){return typeof n=="number"&&Number.isInteger(n)&&!Xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $S="";function bN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=eT(t)),t=TN(n.get(e),t);return eT(t)}function TN(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case $S:e+="";break;default:e+=l}}return e}function eT(n){return n+$S+""}function nT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function br(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function KS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ff(this.root,t,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ff(this.root,t,this.comparator,!0)}}class ff{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new nn(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(t){return new iT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new qe(this.comparator);return e.data=t,e}}class iT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new zn([])}unionWith(t){let e=new qe(sn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new zn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YS("Invalid base64 string: "+l):l}})(t);return new rn(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new rn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Zt(!!n,39018),typeof n=="string"){let t=0;const e=xN.exec(n);if(Zt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}const QS="server_timestamp",XS="__type__",ZS="__previous_value__",JS="__local_write_time__";function ny(n){return(n?.mapValue?.fields||{})[XS]?.stringValue===QS}function gh(n){const t=n.mapValue.fields[ZS];return ny(t)?gh(t):t}function pc(n){const t=pr(n.mapValue.fields[JS].timestampValue);return new he(t.seconds,t.nanos)}class SN{constructor(t,e,s,a,l,u,d,g,m,y,_){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const Zf="(default)";class mc{constructor(t,e){this.projectId=t,this.database=e||Zf}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(t){return t instanceof mc&&t.projectId===this.projectId&&t.database===this.database}}function EN(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new xt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(n.options.projectId,t)}const WS="__type__",CN="__max__",hf={mapValue:{}},tE="__vector__",Jf="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:RN(n)?9007199254740991:AN(n)?10:11:Rt(28295,{value:n})}function Xi(n,t){if(n===t)return!0;const e=gr(n);if(e!==gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pc(n).isEqual(pc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pr(a.timestampValue),d=pr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return mr(a.bytesValue).isEqual(mr(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ce(a.geoPointValue.latitude)===Ce(l.geoPointValue.latitude)&&Ce(a.geoPointValue.longitude)===Ce(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ce(a.integerValue)===Ce(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ce(a.doubleValue),d=Ce(l.doubleValue);return u===d?Xf(u)===Xf(d):isNaN(u)&&isNaN(d)}return!1})(n,t);case 9:return To(n.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(nT(u)!==nT(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(d[g]===void 0||!Xi(u[g],d[g])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function gc(n,t){return(n.values||[]).find((e=>Xi(e,t)))!==void 0}function xo(n,t){if(n===t)return 0;const e=gr(n),s=gr(t);if(e!==s)return Bt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const d=Ce(l.integerValue||l.doubleValue),g=Ce(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(n,t);case 3:return sT(n.timestampValue,t.timestampValue);case 4:return sT(pc(n),pc(t));case 5:return Qm(n.stringValue,t.stringValue);case 6:return(function(l,u){const d=mr(l),g=mr(u);return d.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const d=l.split("/"),g=u.split("/");for(let m=0;m<d.length&&m<g.length;m++){const y=Bt(d[m],g[m]);if(y!==0)return y}return Bt(d.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const d=Bt(Ce(l.latitude),Ce(u.latitude));return d!==0?d:Bt(Ce(l.longitude),Ce(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return rT(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const d=l.fields||{},g=u.fields||{},m=d[Jf]?.arrayValue,y=g[Jf]?.arrayValue,_=Bt(m?.values?.length||0,y?.values?.length||0);return _!==0?_:rT(m,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===hf.mapValue&&u===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),m=u.fields||{},y=Object.keys(m);g.sort(),y.sort();for(let _=0;_<g.length&&_<y.length;++_){const S=Qm(g[_],y[_]);if(S!==0)return S;const A=xo(d[g[_]],m[y[_]]);if(A!==0)return A}return Bt(g.length,y.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function sT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Bt(n,t);const e=pr(n),s=pr(t),a=Bt(e.seconds,s.seconds);return a!==0?a:Bt(e.nanos,s.nanos)}function rT(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=xo(e[a],s[a]);if(l)return l}return Bt(e.length,s.length)}function So(n){return Xm(n)}function Xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=pr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return mr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ct.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=Xm(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Xm(e.fields[u])}`;return a+"}"})(n.mapValue):Rt(61005,{value:n})}function Mf(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(n);return t?16+Mf(t):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Mf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return br(s.fields,((l,u)=>{a+=l.length+Mf(u)})),a})(n.mapValue);default:throw Rt(13486,{value:n})}}function Zm(n){return!!n&&"integerValue"in n}function iy(n){return!!n&&"arrayValue"in n}function aT(n){return!!n&&"nullValue"in n}function oT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function AN(n){return(n?.mapValue?.fields||{})[WS]?.stringValue===tE}function ec(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return br(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=ec(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ec(n.arrayValue.values[e]);return t}return{...n}}function RN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CN}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Nf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ec(e)}setAll(t){let e=sn.emptyPath(),s={},a=[];t.forEach(((u,d)=>{if(!e.isImmediateParentOf(d)){const g=this.getFieldsMap(e);this.applyChanges(g,s,a),s={},a=[],e=d.popLast()}u?s[d.lastSegment()]=ec(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());Nf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){br(e,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Mn(ec(this.value))}}function eE(n){const t=[];return br(n.fields,((e,s)=>{const a=new sn([e]);if(Nf(s)){const l=eE(s.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new zn(t)}class un{constructor(t,e,s,a,l,u,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(t){return new un(t,0,wt.min(),wt.min(),wt.min(),Mn.empty(),0)}static newFoundDocument(t,e,s,a){return new un(t,1,e,wt.min(),s,a,0)}static newNoDocument(t,e){return new un(t,2,e,wt.min(),wt.min(),Mn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,wt.min(),wt.min(),Mn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(t,e){this.position=t,this.inclusive=e}}function lT(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?s=Ct.comparator(Ct.fromName(u.referenceValue),e.key):s=xo(u,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function cT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xi(n.position[e],t.position[e]))return!1;return!0}class th{constructor(t,e="asc"){this.field=t,this.dir=e}}function wN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class nE{}class He extends nE{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new MN(t,e,s):e==="array-contains"?new VN(t,s):e==="in"?new IN(t,s):e==="not-in"?new PN(t,s):e==="array-contains-any"?new ON(t,s):new He(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new NN(t,s):new kN(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(xo(e,this.value)):e!==null&&gr(this.value)===gr(e)&&this.matchesComparison(xo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends nE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Zi(t,e)}matches(t){return iE(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(n){return n.op==="and"}function sE(n){return DN(n)&&iE(n)}function DN(n){for(const t of n.filters)if(t instanceof Zi)return!1;return!0}function Jm(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+So(n.value);if(sE(n))return n.filters.map((t=>Jm(t))).join(",");{const t=n.filters.map((e=>Jm(e))).join(",");return`${n.op}(${t})`}}function rE(n,t){return n instanceof He?(function(s,a){return a instanceof He&&s.op===a.op&&s.field.isEqual(a.field)&&Xi(s.value,a.value)})(n,t):n instanceof Zi?(function(s,a){return a instanceof Zi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&rE(u,a.filters[d])),!0):!1})(n,t):void Rt(19439)}function aE(n){return n instanceof He?(function(e){return`${e.field.canonicalString()} ${e.op} ${So(e.value)}`})(n):n instanceof Zi?(function(e){return e.op.toString()+" {"+e.getFilters().map(aE).join(" ,")+"}"})(n):"Filter"}class MN extends He{constructor(t,e,s){super(t,e,s),this.key=Ct.fromName(s.referenceValue)}matches(t){const e=Ct.comparator(t.key,this.key);return this.matchesComparison(e)}}class NN extends He{constructor(t,e){super(t,"in",e),this.keys=oE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class kN extends He{constructor(t,e){super(t,"not-in",e),this.keys=oE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function oE(n,t){return(t.arrayValue?.values||[]).map((e=>Ct.fromName(e.referenceValue)))}class VN extends He{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return iy(e)&&gc(e.arrayValue,this.value)}}class IN extends He{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&gc(this.value.arrayValue,e)}}class PN extends He{constructor(t,e){super(t,"not-in",e)}matches(t){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!gc(this.value.arrayValue,e)}}class ON extends He{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!iy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>gc(this.value.arrayValue,s)))}}class jN{constructor(t,e=null,s=[],a=[],l=null,u=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function uT(n,t=null,e=[],s=[],a=null,l=null,u=null){return new jN(n,t,e,s,a,l,u)}function sy(n){const t=Mt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Jm(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),mh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>So(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>So(s))).join(",")),t.Te=e}return t.Te}function ry(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!wN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!rE(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!cT(n.startAt,t.startAt)&&cT(n.endAt,t.endAt)}function Wm(n){return Ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class yh{constructor(t,e=null,s=[],a=[],l=null,u="F",d=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LN(n,t,e,s,a,l,u,d){return new yh(n,t,e,s,a,l,u,d)}function ay(n){return new yh(n)}function fT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BN(n){return Ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function zN(n){return n.collectionGroup!==null}function nc(n){const t=Mt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new qe(sn.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new th(l,s))})),e.has(sn.keyField().canonicalString())||t.Ie.push(new th(sn.keyField(),s))}return t.Ie}function $i(n){const t=Mt(n);return t.Ee||(t.Ee=UN(t,nc(n))),t.Ee}function UN(n,t){if(n.limitType==="F")return uT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new th(a.field,l)}));const e=n.endAt?new Wf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Wf(n.startAt.position,n.startAt.inclusive):null;return uT(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function tg(n,t,e){return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function vh(n,t){return ry($i(n),$i(t))&&n.limitType===t.limitType}function lE(n){return`${sy($i(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>aE(a))).join(", ")}]`),mh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>So(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>So(a))).join(",")),`Target(${s})`})($i(n))}; limitType=${n.limitType})`}function _h(n,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ct.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,a){for(const l of nc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(u,d,g){const m=lT(u,d,g);return u.inclusive?m<=0:m<0})(s.startAt,nc(s),a)||s.endAt&&!(function(u,d,g){const m=lT(u,d,g);return u.inclusive?m>=0:m>0})(s.endAt,nc(s),a))})(n,t)}function FN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cE(n){return(t,e)=>{let s=!1;for(const a of nc(n)){const l=HN(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function HN(n,t,e){const s=n.field.isKeyField()?Ct.comparator(t.key,e.key):(function(l,u,d){const g=u.data.field(l),m=d.data.field(l);return g!==null&&m!==null?xo(g,m):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Rt(19790,{direction:n.dir})}}class da{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){br(this.inner,((e,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}const qN=new ye(Ct.comparator);function xs(){return qN}const uE=new ye(Ct.comparator);function Kl(...n){let t=uE;for(const e of n)t=t.insert(e.key,e);return t}function fE(n){let t=uE;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ia(){return ic()}function hE(){return ic()}function ic(){return new da((n=>n.toString()),((n,t)=>n.isEqual(t)))}const GN=new ye(Ct.comparator),$N=new qe(Ct.comparator);function zt(...n){let t=$N;for(const e of n)t=t.add(e);return t}const KN=new qe(Bt);function YN(){return KN}function oy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(t)?"-0":t}}function dE(n){return{integerValue:""+n}}function QN(n,t){return _N(t)?dE(t):oy(n,t)}class bh{constructor(){this._=void 0}}function XN(n,t,e){return n instanceof yc?(function(a,l){const u={fields:{[XS]:{stringValue:QS},[JS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ny(l)&&(l=gh(l)),l&&(u.fields[ZS]=l),{mapValue:u}})(e,t):n instanceof vc?mE(n,t):n instanceof _c?gE(n,t):(function(a,l){const u=pE(a,l),d=hT(u)+hT(a.Ae);return Zm(u)&&Zm(a.Ae)?dE(d):oy(a.serializer,d)})(n,t)}function ZN(n,t,e){return n instanceof vc?mE(n,t):n instanceof _c?gE(n,t):e}function pE(n,t){return n instanceof eh?(function(s){return Zm(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class yc extends bh{}class vc extends bh{constructor(t){super(),this.elements=t}}function mE(n,t){const e=yE(t);for(const s of n.elements)e.some((a=>Xi(a,s)))||e.push(s);return{arrayValue:{values:e}}}class _c extends bh{constructor(t){super(),this.elements=t}}function gE(n,t){let e=yE(t);for(const s of n.elements)e=e.filter((a=>!Xi(a,s)));return{arrayValue:{values:e}}}class eh extends bh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function hT(n){return Ce(n.integerValue||n.doubleValue)}function yE(n){return iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class JN{constructor(t,e){this.field=t,this.transform=e}}function WN(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof vc&&a instanceof vc||s instanceof _c&&a instanceof _c?To(s.elements,a.elements,Xi):s instanceof eh&&a instanceof eh?Xi(s.Ae,a.Ae):s instanceof yc&&a instanceof yc})(n.transform,t.transform)}class tk{constructor(t,e){this.version=t,this.transformResults=e}}class bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Th{}function vE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ly(n.key,bi.none()):new Ac(n.key,n.data,bi.none());{const e=n.data,s=Mn.empty();let a=new qe(sn.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Tr(n.key,s,new zn(a.toArray()),bi.none())}}function ek(n,t,e){n instanceof Ac?(function(a,l,u){const d=a.value.clone(),g=pT(a.fieldTransforms,l,u.transformResults);d.setAll(g),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):n instanceof Tr?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=pT(a.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(_E(a)),g.setAll(d),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function sc(n,t,e,s){return n instanceof Ac?(function(l,u,d,g){if(!kf(l.precondition,u))return d;const m=l.value.clone(),y=mT(l.fieldTransforms,g,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,t,e,s):n instanceof Tr?(function(l,u,d,g){if(!kf(l.precondition,u))return d;const m=mT(l.fieldTransforms,g,u),y=u.data;return y.setAll(_E(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,t,e,s):(function(l,u,d){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,t,e)}function nk(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=pE(s.transform,a||null);l!=null&&(e===null&&(e=Mn.empty()),e.set(s.field,l))}return e||null}function dT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&To(s,a,((l,u)=>WN(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ac extends Th{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Tr extends Th{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function pT(n,t,e){const s=new Map;Zt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,d=t.data.field(l.field);s.set(l.field,ZN(u,d,e[a]))}return s}function mT(n,t,e){const s=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);s.set(a.field,XN(l,u,t))}return s}class ly extends Th{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ik extends Th{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sk{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&ek(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=sc(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=sc(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=hE();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=e.has(a.key)?null:d;const g=vE(u,d);g!==null&&s.set(a.key,g),u.isValidDocument()||u.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),zt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,((e,s)=>dT(e,s)))&&To(this.baseMutations,t.baseMutations,((e,s)=>dT(e,s)))}}class cy{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Zt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return GN})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new cy(t,e,s,a)}}class rk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ak{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pe,Ht;function ok(n){switch(n){case rt.OK:return Rt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function bE(n){if(n===void 0)return Ts("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Pe.OK:return rt.OK;case Pe.CANCELLED:return rt.CANCELLED;case Pe.UNKNOWN:return rt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return rt.INTERNAL;case Pe.UNAVAILABLE:return rt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return rt.NOT_FOUND;case Pe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Pe.ABORTED:return rt.ABORTED;case Pe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Pe.DATA_LOSS:return rt.DATA_LOSS;default:return Rt(39323,{code:n})}}(Ht=Pe||(Pe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function lk(){return new TextEncoder}const ck=new cr([4294967295,4294967295],0);function gT(n){const t=lk().encode(n),e=new OS;return e.update(t),new Uint8Array(e.digest())}function yT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new cr([e,s],0),new cr([a,l],0)]}class uy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Yl(`Invalid padding: ${e}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=cr.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(cr.fromNumber(s)));return a.compare(ck)===1&&(a=new cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=gT(t),[s,a]=yT(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new uy(l,a,e);return s.forEach((d=>u.insert(d))),u}insert(t){if(this.ge===0)return;const e=gT(t),[s,a]=yT(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,Rc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new xh(wt.min(),a,new ye(Bt),xs(),zt())}}class Rc{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Rc(s,e,zt(),zt(),zt())}}class Vf{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=a}}class TE{constructor(t,e){this.targetId=t,this.Ce=e}}class xE{constructor(t,e,s=rn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class vT{constructor(){this.ve=0,this.Fe=_T(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),e=zt(),s=zt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:Rt(38017,{changeType:l})}})),new Rc(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=_T()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uk{constructor(t){this.Ge=t,this.ze=new Map,this.je=xs(),this.He=df(),this.Je=df(),this.Ze=new ye(Bt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Wm(l))if(s===0){const u=new Ct(l.path);this.et(e,u,un.newNoDocument(u,wt.min()))}else Zt(s===1,20013,{expectedCount:s});else{const u=this._t(e);if(u!==s){const d=this.ut(t),g=d?this.ct(d,t,u):1;if(g!==0){this.it(e);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let u,d;try{u=mr(s).toUint8Array()}catch(g){if(g instanceof YS)return la("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new uy(u,a,l)}catch(g){return la(g instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Wm(d.target)){const g=new Ct(d.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,un.newNoDocument(g,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let s=zt();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new xh(t,e,this.Ze,this.je,s);return this.je=xs(),this.He=df(),this.Je=df(),this.Ze=new ye(Bt),a}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new vT,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new qe(Bt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new qe(Bt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new vT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function df(){return new ye(Ct.comparator)}function _T(){return new ye(Ct.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dk={and:"AND",or:"OR"};class pk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function eg(n,t){return n.useProto3Json||mh(t)?t:{value:t}}function nh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SE(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function mk(n,t){return nh(n,t.toTimestamp())}function Ki(n){return Zt(!!n,49232),wt.fromTimestamp((function(e){const s=pr(e);return new he(s.seconds,s.nanos)})(n))}function fy(n,t){return ng(n,t).canonicalString()}function ng(n,t){const e=(function(a){return new fe(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function EE(n){const t=fe.fromString(n);return Zt(DE(t),10190,{key:t.toString()}),t}function ig(n,t){return fy(n.databaseId,t.path)}function om(n,t){const e=EE(t);if(e.get(1)!==n.databaseId.projectId)throw new xt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ct(AE(e))}function CE(n,t){return fy(n.databaseId,t)}function gk(n){const t=EE(n);return t.length===4?fe.emptyPath():AE(t)}function sg(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AE(n){return Zt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bT(n,t,e){return{name:ig(n,t),fields:e.value.mapValue.fields}}function yk(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Rt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Zt(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Zt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,d=u&&(function(m){const y=m.code===void 0?rt.UNKNOWN:bE(m.code);return new xt(y,m.message||"")})(u);e=new xE(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=om(n,s.document.name),l=Ki(s.document.updateTime),u=s.document.createTime?Ki(s.document.createTime):wt.min(),d=new Mn({mapValue:{fields:s.document.fields}}),g=un.newFoundDocument(a,l,u,d),m=s.targetIds||[],y=s.removedTargetIds||[];e=new Vf(m,y,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=om(n,s.document),l=s.readTime?Ki(s.readTime):wt.min(),u=un.newNoDocument(a,l),d=s.removedTargetIds||[];e=new Vf([],d,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=om(n,s.document),l=s.removedTargetIds||[];e=new Vf([],l,a,null)}else{if(!("filter"in t))return Rt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new ak(a,l),d=s.targetId;e=new TE(d,u)}}return e}function vk(n,t){let e;if(t instanceof Ac)e={update:bT(n,t.key,t.value)};else if(t instanceof ly)e={delete:ig(n,t.key)};else if(t instanceof Tr)e={update:bT(n,t.key,t.data),updateMask:Rk(t.fieldMask)};else{if(!(t instanceof ik))return Rt(16599,{dt:t.type});e={verify:ig(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof yc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof eh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Rt(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:mk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Rt(27497)})(n,t.precondition)),e}function _k(n,t){return n&&n.length>0?(Zt(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?Ki(a.updateTime):Ki(l);return u.isEqual(wt.min())&&(u=Ki(l)),new tk(u,a.transformResults||[])})(e,t)))):[]}function bk(n,t){return{documents:[CE(n,t.path)]}}function Tk(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=CE(n,a);const l=(function(m){if(m.length!==0)return wE(Zi.create(m,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(S){return{field:ro(S.field),direction:Ek(S.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const d=eg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function xk(n){let t=gk(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Zt(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(_){const S=RE(_);return S instanceof Zi&&sE(S)?S.getFilters():[S]})(e.where));let u=[];e.orderBy&&(u=(function(_){return _.map((S=>(function(N){return new th(ao(N.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(e.orderBy));let d=null;e.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,mh(S)?null:S})(e.limit));let g=null;e.startAt&&(g=(function(_){const S=!!_.before,A=_.values||[];return new Wf(A,S)})(e.startAt));let m=null;return e.endAt&&(m=(function(_){const S=!_.before,A=_.values||[];return new Wf(A,S)})(e.endAt)),LN(t,a,u,l,d,"F",g,m)}function Sk(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function RE(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=ao(e.unaryFilter.field);return He.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ao(e.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ao(e.unaryFilter.field);return He.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ao(e.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return He.create(ao(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Zi.create(e.compositeFilter.filters.map((s=>RE(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function Ek(n){return fk[n]}function Ck(n){return hk[n]}function Ak(n){return dk[n]}function ro(n){return{fieldPath:n.canonicalString()}}function ao(n){return sn.fromServerFormat(n.fieldPath)}function wE(n){return n instanceof He?(function(e){if(e.op==="=="){if(oT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(aT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(oT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(aT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:Ck(e.op),value:e.value}}})(n):n instanceof Zi?(function(e){const s=e.getFilters().map((a=>wE(a)));return s.length===1?s[0]:{compositeFilter:{op:Ak(e.op),filters:s}}})(n):Rt(54877,{filter:n})}function Rk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function DE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function ME(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class rr{constructor(t,e,s,a,l=wt.min(),u=wt.min(),d=rn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wk{constructor(t){this.yt=t}}function Dk(n){const t=xk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tg(t,t.limit,"L"):t}class Mk{constructor(){this.Sn=new Nk}addToCollectionParentIndex(t,e){return this.Sn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(dr.min())}updateCollectionGroup(t,e,s){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class Nk{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new qe(fe.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new qe(fe.comparator)).toArray()}}const TT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NE=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(NE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Eo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}const xT="LruGarbageCollector",kk=1048576;function ST([n,t],[e,s]){const a=Bt(n,e);return a===0?Bt(t,s):a}class Vk{constructor(t){this.Pr=t,this.buffer=new qe(ST),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();ST(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Ik{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(xT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vo(e)?mt(xT,"Ignoring IndexedDB error during garbage collection: ",e):await ko(e)}await this.Ar(3e5)}))}}class Pk{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(ph.ce);const s=new Vk(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(TT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TT):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,a,l,u,d,g,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,e)))).next((_=>(l=_,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(m=Date.now(),io()<=qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${_} documents in `+(m-g)+`ms
Total Duration: ${m-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Ok(n,t){return new Pk(n,t)}class jk{constructor(){this.changes=new da((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?st.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Lk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Bk{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&sc(s.mutation,a,zn.empty(),he.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=zt()){const a=ia();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((l=>{let u=Kl();return l.forEach(((d,g)=>{u=u.insert(d,g.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const s=ia();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,zt())))}populateOverlays(t,e,s){const a=[];return s.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,d)=>{e.set(u,d)}))}))}computeViews(t,e,s,a){let l=xs();const u=ic(),d=(function(){return ic()})();return e.forEach(((g,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Tr)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),sc(y.mutation,m,y.mutation.getFieldMask(),he.now())):u.set(m.key,zn.empty())})),this.recalculateAndSaveOverlays(t,l).next((g=>(g.forEach(((m,y)=>u.set(m,y))),e.forEach(((m,y)=>d.set(m,new Lk(y,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=ic();let a=new ye(((u,d)=>u-d)),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const d of u)d.keys().forEach((g=>{const m=e.get(g);if(m===null)return;let y=s.get(g)||zn.empty();y=d.applyToLocalView(m,y),s.set(g,y);const _=(a.get(d.batchId)||zt()).add(g);a=a.insert(d.batchId,_)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),m=g.key,y=g.value,_=hE();y.forEach((S=>{if(!l.has(S)){const A=vE(e.get(S),s.get(S));A!==null&&_.set(S,A),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(t,m,_))}return st.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return BN(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):zN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):st.resolve(ia());let d=dc,g=l;return u.next((m=>st.forEach(m,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{g=g.insert(y,S)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,g,m,zt()))).next((y=>({batchId:d,changes:fE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ct(e)).next((s=>{let a=Kl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let u=Kl();return this.indexManager.getCollectionParents(t,l).next((d=>st.forEach(d,(g=>{const m=(function(_,S){return new yh(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,s,a).next((y=>{y.forEach(((_,S)=>{u=u.insert(_,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a)))).next((u=>{l.forEach(((g,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,un.newInvalidDocument(y)))}));let d=Kl();return u.forEach(((g,m)=>{const y=l.get(g);y!==void 0&&sc(y.mutation,m,zn.empty(),he.now()),_h(e,m)&&(d=d.insert(g,m))})),d}))}}class zk{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return st.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Ki(a.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:Dk(a.bundledQuery),readTime:Ki(a.readTime)}})(e)),st.resolve()}}class Uk{constructor(){this.overlays=new ye(Ct.comparator),this.Lr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ia();return st.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,l)=>{this.bt(t,e,l)})),st.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),st.resolve()}getOverlaysForCollection(t,e,s){const a=ia(),l=e.length+1,u=new Ct(e.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const g=d.getNext().value,m=g.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return st.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new ye(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=ia(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=ia(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=a)););return st.resolve(d)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new rk(e,s));let l=this.Lr.get(e);l===void 0&&(l=zt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(s.key))}}class Fk{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class hy{constructor(){this.kr=new qe(Ye.Kr),this.qr=new qe(Ye.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Ye(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Ye(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new Ct(new fe([])),s=new Ye(e,t),a=new Ye(e,t+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Ct(new fe([])),s=new Ye(e,t),a=new Ye(e,t+1);let l=zt();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new Ye(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Ct.comparator(t.key,e.key)||Bt(t.Hr,e.Hr)}static Ur(t,e){return Bt(t.Hr,e.Hr)||Ct.comparator(t.key,e.key)}}class Hk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Ye.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new sk(l,e,s,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Ye(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return st.resolve(u)}lookupMutationBatch(t,e){return st.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),l=a<0?0:a;return st.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?ey:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ye(e,0),a=new Ye(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),st.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new qe(Bt);return e.forEach((a=>{const l=new Ye(a,0),u=new Ye(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{s=s.add(d.Hr)}))})),st.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;Ct.isDocumentKey(l)||(l=l.child(""));const u=new Ye(new Ct(l),0);let d=new qe(Bt);return this.Jr.forEachWhile((g=>{const m=g.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(g.Hr)),!0)}),u),st.resolve(this.Yr(d))}Yr(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Zt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return st.forEach(e.mutations,(a=>{const l=new Ye(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Ye(e,0),a=this.Jr.firstAfterOrEqual(s);return st.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class qk{constructor(t){this.ti=t,this.docs=(function(){return new ye(Ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return st.resolve(s?s.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let s=xs();return e.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),st.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=xs();const u=e.path,d=new Ct(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:m,value:{document:y}}=g.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||mN(pN(y),s)<=0||(a.has(y.key)||_h(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(t,e,s,a){Rt(9500)}ni(t,e){return st.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new Gk(this)}getSize(t){return st.resolve(this.size)}}class Gk extends jk{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),st.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class $k{constructor(t){this.persistence=t,this.ri=new da((e=>sy(e)),ry),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new hy,this.targetCount=0,this.oi=Eo._r()}forEachTarget(t,e){return this.ri.forEach(((s,a)=>e(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),st.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Eo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.lr(e),st.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),st.waitFor(l).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return st.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),st.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),st.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return st.resolve(s)}containsKey(t,e){return st.resolve(this.si.containsKey(e))}}class kE{constructor(t,e){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new Fk,this.referenceDelegate=t(this),this.li=new $k(this),this.indexManager=new Mk,this.remoteDocumentCache=(function(a){return new qk(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new wk(e),this.Pi=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Uk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new Hk(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){mt("MemoryPersistence","Starting transaction:",t);const a=new Kk(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return st.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class Kk extends yN{constructor(t){super(),this.currentSequenceNumber=t}}class dy{constructor(t){this.persistence=t,this.Ri=new hy,this.Ai=null}static Vi(t){return new dy(t)}get di(){if(this.Ai)return this.Ai;throw Rt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),st.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(s=>{const a=Ct.fromPath(s);return this.mi(t,a).next((l=>{l||e.removeEntry(a,wt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class ih{constructor(t,e){this.persistence=t,this.fi=new da((s=>bN(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Ok(this,e)}static Vi(t,e){return new ih(t,e)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return st.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?st.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((d=>{d||(s++,l.removeEntry(u,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Mf(t.data.value)),e}wr(t,e,s){return st.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return st.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class py{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=a}static Es(t,e){let s=zt(),a=zt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new py(t,e.fromCache,s,a)}}class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Qk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return P6()?8:vN(V6())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Yk;return this.ys(t,e,u).next((d=>{if(l.result=d,this.As)return this.ws(t,e,u,d.size)}))})).next((()=>l.result))}ws(t,e,s,a){return s.documentReadCount<this.Vs?(io()<=qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",so(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(io()<=qt.DEBUG&&mt("QueryEngine","Query:",so(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(io()<=qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",so(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(e))):st.resolve())}gs(t,e){if(fT(e))return st.resolve(null);let s=$i(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=tg(e,null,"F"),s=$i(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const u=zt(...l);return this.fs.getDocuments(t,u).next((d=>this.indexManager.getMinOffset(t,s).next((g=>{const m=this.bs(e,d);return this.Ss(e,m,u,g.readTime)?this.gs(t,tg(e,null,"F")):this.Ds(t,m,e,g)}))))})))))}ps(t,e,s,a){return fT(e)||a.isEqual(wt.min())?st.resolve(null):this.fs.getDocuments(t,s).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,s,a)?st.resolve(null):(io()<=qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),so(e)),this.Ds(t,u,e,dN(a,dc)).next((d=>d)))}))}bs(t,e){let s=new qe(cE(t));return e.forEach(((a,l)=>{_h(t,l)&&(s=s.add(l))})),s}Ss(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,s){return io()<=qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",so(e)),this.fs.getDocumentsMatchingQuery(t,e,dr.min(),s)}Ds(t,e,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const my="LocalStore",Xk=3e8;class Zk{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ye(Bt),this.Fs=new da((l=>sy(l)),ry),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function Jk(n,t,e,s){return new Zk(n,t,e,s)}async function VE(n,t){const e=Mt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let g=zt();for(const m of a){u.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)g=g.add(y.key)}return e.localDocuments.getDocuments(s,g).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function Wk(n,t){const e=Mt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,m,y){const _=m.batch,S=_.keys();let A=st.resolve();return S.forEach((N=>{A=A.next((()=>y.getEntry(g,N))).next((B=>{const L=m.docVersions.get(N);Zt(L!==null,48541),B.version.compareTo(L)<0&&(_.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),y.addEntry(B)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(g,_)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let g=zt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(g=g.add(d.batch.mutations[m].key));return g})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function IE(n){const t=Mt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function tV(n,t){const e=Mt(n),s=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const S=a.get(_);if(!S)return;d.push(e.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,_))));let A=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(rn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),(function(B,L,K){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Xk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,A,y)&&d.push(e.li.updateTargetData(l,A))}));let g=xs(),m=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(eV(l,u,t.documentUpdates).next((y=>{g=y.Bs,m=y.Ls}))),!s.isEqual(wt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((_=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return st.waitFor(d).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,g,m))).next((()=>g))})).then((l=>(e.vs=a,l)))}function eV(n,t,e){let s=zt(),a=zt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let u=xs();return e.forEach(((d,g)=>{const m=l.get(d);g.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(wt.min())?(t.removeEntry(d,g.readTime),u=u.insert(d,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(g),u=u.insert(d,g)):mt(my,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",g.version)})),{Bs:u,Ls:a}}))}function nV(n,t){const e=Mt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ey),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function iV(n,t){const e=Mt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.li.getTargetData(s,t).next((l=>l?(a=l,st.resolve(a)):e.li.allocateTargetId(s).next((u=>(a=new rr(t,u,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function rg(n,t,e){const s=Mt(n),a=s.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vo(u))throw u;mt(my,`Failed to update sequence numbers for target ${t}: ${u}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function ET(n,t,e){const s=Mt(n);let a=wt.min(),l=zt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,m,y){const _=Mt(g),S=_.Fs.get(y);return S!==void 0?st.resolve(_.vs.get(S)):_.li.getTargetData(m,y)})(s,u,$i(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,d.targetId).next((g=>{l=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,t,e?a:wt.min(),e?l:zt()))).next((d=>(sV(s,FN(t),d),{documents:d,ks:l})))))}function sV(n,t,e){let s=n.Ms.get(t)||wt.min();e.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(t,s)}class CT{constructor(){this.activeTargetIds=YN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rV{constructor(){this.vo=new CT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new CT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class aV{Mo(t){}shutdown(){}}const AT="ConnectivityMonitor";class RT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(AT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(AT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pf=null;function ag(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}const lm="RestConnection",oV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lV{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Zf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,l){const u=ag(),d=this.Qo(t,e.toUriEncodedString());mt(lm,`Sending RPC '${t}' ${u}:`,d,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,l);const{host:m}=new URL(d),y=Xg(m);return this.zo(t,d,g,s,y).then((_=>(mt(lm,`Received RPC '${t}' ${u}: `,_),_)),(_=>{throw la(lm,`RPC '${t}' ${u} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,e,s,a,l,u){return this.Wo(t,e,s,a,l)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const s=oV[t];let a=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class cV{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const on="WebChannelConnection",Hl=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class yo extends lV{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!yo.c_){const t=zS();Hl(t,BS.STAT_EVENT,(e=>{e.stat===Ym.PROXY?mt(on,"STAT_EVENT: detected buffering proxy"):e.stat===Ym.NOPROXY&&mt(on,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(t,e,s,a,l){const u=ag();return new Promise(((d,g)=>{const m=new jS;m.setWithCredentials(!0),m.listenOnce(LS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Df.NO_ERROR:const _=m.getResponseJson();mt(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),d(_);break;case Df.TIMEOUT:mt(on,`RPC '${t}' ${u} timed out`),g(new xt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const S=m.getStatus();if(mt(on,`RPC '${t}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A?.error;if(N&&N.status&&N.message){const B=(function(K){const tt=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(tt)>=0?tt:rt.UNKNOWN})(N.status);g(new xt(B,N.message))}else g(new xt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new xt(rt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{mt(on,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);mt(on,`RPC '${t}' ${u} sending request:`,a),m.send(e,"POST",y,s,15)}))}T_(t,e,s){const a=ag(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,e,s),d.encodeInitMessageHeaders=!0;const m=l.join("");mt(on,`Creating RPC '${t}' stream ${a}: ${m}`,d);const y=u.createWebChannel(m,d);this.I_(y);let _=!1,S=!1;const A=new cV({Ho:N=>{S?mt(on,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(_||(mt(on,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),mt(on,`RPC '${t}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return Hl(y,$l.EventType.OPEN,(()=>{S||(mt(on,`RPC '${t}' stream ${a} transport opened.`),A.i_())})),Hl(y,$l.EventType.CLOSE,(()=>{S||(S=!0,mt(on,`RPC '${t}' stream ${a} transport closed`),A.o_(),this.E_(y))})),Hl(y,$l.EventType.ERROR,(N=>{S||(S=!0,la(on,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),A.o_(new xt(rt.UNAVAILABLE,"The operation could not be completed")))})),Hl(y,$l.EventType.MESSAGE,(N=>{if(!S){const B=N.data[0];Zt(!!B,16349);const L=B,K=L?.error||L[0]?.error;if(K){mt(on,`RPC '${t}' stream ${a} received error:`,K);const tt=K.status;let Z=(function(ht){const w=Pe[ht];if(w!==void 0)return bE(w)})(tt),lt=K.message;tt==="NOT_FOUND"&&lt.includes("database")&&lt.includes("does not exist")&&lt.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=rt.INTERNAL,lt="Unknown error status: "+tt+" with message "+K.message),S=!0,A.o_(new xt(Z,lt)),y.close()}else mt(on,`RPC '${t}' stream ${a} received:`,B),A.__(B)}})),yo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return US()}}function uV(n){return new yo(n)}function cm(){return typeof document<"u"?document:null}function Sh(n){return new pk(n,!0)}yo.c_=!1;class PE{constructor(t,e,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const wT="PersistentStream";class OE{constructor(t,e,s,a,l,u,d,g){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PE(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new xt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(wT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(mt(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fV extends OE{constructor(t,e,s,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=yk(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Ki(u.readTime):wt.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=sg(this.serializer),e.addTarget=(function(l,u){let d;const g=u.target;if(d=Wm(g)?{documents:bk(l,g)}:{query:Tk(l,g).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=SE(l,u.resumeToken);const m=eg(l,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(wt.min())>0){d.readTime=nh(l,u.snapshotVersion.toTimestamp());const m=eg(l,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,t);const s=Sk(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=sg(this.serializer),e.removeTarget=t,this.K_(e)}}class hV extends OE{constructor(t,e,s,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=_k(t.writeResults,t.commitTime),s=Ki(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=sg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>vk(this.serializer,s)))};this.K_(e)}}class dV{}class pV extends dV{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new xt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,ng(e,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xt(rt.UNKNOWN,l.toString())}))}jo(t,e,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(t,ng(e,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(rt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mV(n,t,e,s){return new pV(n,t,e,s)}class gV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(e),this.aa=!1):mt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class yV{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{pa(this)&&(mt(ca,"Restarting streams for network reachability change."),await(async function(g){const m=Mt(g);m.Ea.add(4),await wc(m),m.Va.set("Unknown"),m.Ea.delete(4),await Eh(m)})(this))}))})),this.Va=new gV(s,a)}}async function Eh(n){if(pa(n))for(const t of n.Ra)await t(!0)}async function wc(n){for(const t of n.Ra)await t(!1)}function jE(n,t){const e=Mt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),_y(e)?vy(e):Io(e).O_()&&yy(e,t))}function gy(n,t){const e=Mt(n),s=Io(e);e.Ia.delete(t),s.O_()&&LE(e,t),e.Ia.size===0&&(s.O_()?s.L_():pa(e)&&e.Va.set("Unknown"))}function yy(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Io(n).Z_(t)}function LE(n,t){n.da.$e(t),Io(n).X_(t)}function vy(n){n.da=new uk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Io(n).start(),n.Va.ua()}function _y(n){return pa(n)&&!Io(n).x_()&&n.Ia.size>0}function pa(n){return Mt(n).Ea.size===0}function BE(n){n.da=void 0}async function vV(n){n.Va.set("Online")}async function _V(n){n.Ia.forEach(((t,e)=>{yy(n,t)}))}async function bV(n,t){BE(n),_y(n)?(n.Va.ha(t),vy(n)):n.Va.set("Unknown")}async function TV(n,t,e){if(n.Va.set("Online"),t instanceof xE&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(n,t)}catch(s){mt(ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sh(n,s)}else if(t instanceof Vf?n.da.Xe(t):t instanceof TE?n.da.st(t):n.da.tt(t),!e.isEqual(wt.min()))try{const s=await IE(n.localStore);e.compareTo(s)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(g.resumeToken,u))}})),d.targetMismatches.forEach(((g,m)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),LE(l,g);const _=new rr(y.target,g,m,y.sequenceNumber);yy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){mt(ca,"Failed to raise snapshot:",s),await sh(n,s)}}async function sh(n,t,e){if(!Vo(t))throw t;n.Ea.add(1),await wc(n),n.Va.set("Offline"),e||(e=()=>IE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(ca,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Eh(n)}))}function zE(n,t){return t().catch((e=>sh(n,e,t)))}async function Ch(n){const t=Mt(n),e=yr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ey;for(;xV(t);)try{const a=await nV(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,SV(t,a)}catch(a){await sh(t,a)}UE(t)&&FE(t)}function xV(n){return pa(n)&&n.Ta.length<10}function SV(n,t){n.Ta.push(t);const e=yr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function UE(n){return pa(n)&&!yr(n).x_()&&n.Ta.length>0}function FE(n){yr(n).start()}async function EV(n){yr(n).ra()}async function CV(n){const t=yr(n);for(const e of n.Ta)t.ea(e.mutations)}async function AV(n,t,e){const s=n.Ta.shift(),a=cy.from(s,t,e);await zE(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ch(n)}async function RV(n,t){t&&yr(n).Y_&&await(async function(s,a){if((function(u){return ok(u)&&u!==rt.ABORTED})(a.code)){const l=s.Ta.shift();yr(s).B_(),await zE(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ch(s)}})(n,t),UE(n)&&FE(n)}async function DT(n,t){const e=Mt(n);e.asyncQueue.verifyOperationInProgress(),mt(ca,"RemoteStore received new credentials");const s=pa(e);e.Ea.add(3),await wc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Eh(e)}async function wV(n,t){const e=Mt(n);t?(e.Ea.delete(2),await Eh(e)):t||(e.Ea.add(2),await wc(e),e.Va.set("Unknown"))}function Io(n){return n.ma||(n.ma=(function(e,s,a){const l=Mt(e);return l.sa(),new fV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:vV.bind(null,n),Yo:_V.bind(null,n),t_:bV.bind(null,n),J_:TV.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),_y(n)?vy(n):n.Va.set("Unknown")):(await n.ma.stop(),BE(n))}))),n.ma}function yr(n){return n.fa||(n.fa=(function(e,s,a){const l=Mt(e);return l.sa(),new hV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:EV.bind(null,n),t_:RV.bind(null,n),ta:CV.bind(null,n),na:AV.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Ch(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class by{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const u=Date.now()+s,d=new by(t,e,u,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),Vo(n))return new xt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class vo{static emptySet(t){return new vo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Ct.comparator(e.key,s.key):(e,s)=>Ct.comparator(e.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new vo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class MT{constructor(){this.ga=new ye(Ct.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Co{constructor(t,e,s,a,l,u,d,g,m){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(t,e,s,a,l){const u=[];return e.forEach((d=>{u.push({type:0,doc:d})})),new Co(t,e,vo.emptySet(e),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class DV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class MV{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Mt(e),l=a.queries;a.queries=NT(),l.forEach(((u,d)=>{for(const g of d.ba)g.onError(s)}))})(this,new xt(rt.ABORTED,"Firestore shutting down"))}}function NT(){return new da((n=>lE(n)),vh)}async function NV(n,t){const e=Mt(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new DV,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const d=Ty(u,`Initialization of query '${so(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&xy(e)}async function kV(n,t){const e=Mt(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function VV(n,t){const e=Mt(n);let s=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(s=!0);u.wa=a}}s&&xy(e)}function IV(n,t,e){const s=Mt(n),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(e);s.queries.delete(t)}function xy(n){n.Ca.forEach((t=>{t.next()}))}var og,kT;(kT=og||(og={})).Ma="default",kT.Cache="cache";class PV{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==og.Cache}}class HE{constructor(t){this.key=t}}class qE{constructor(t){this.key=t}}class OV{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=cE(t),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new MT,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const S=a.get(y),A=_h(this.query,_)?_:null,N=!!S&&this.mutatedKeys.has(S.key),B=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;S&&A?S.data.isEqual(A.data)?N!==B&&(s.track({type:3,doc:A}),L=!0):this.su(S,A)||(s.track({type:2,doc:A}),L=!0,(g&&this.eu(A,g)>0||m&&this.eu(A,m)<0)&&(d=!0)):!S&&A?(s.track({type:0,doc:A}),L=!0):S&&!A&&(s.track({type:1,doc:S}),L=!0,(g||m)&&(d=!0)),L&&(A?(u=u.add(A),l=B?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:d,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,_)=>(function(A,N){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Vt:L})}};return B(A)-B(N)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=e&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,m=g!==this.Xa;return this.Xa=g,u.length!==0||m?{snapshot:new Co(this.query,t.tu,l,u,t.mutatedKeys,g===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new qE(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new HE(s))})),e}cu(t){this.Za=t.ks,this.Ya=zt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sy="SyncEngine";class jV{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class LV{constructor(t){this.key=t,this.hu=!1}}class BV{constructor(t,e,s,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new da((d=>lE(d)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(Ct.comparator),this.Au=new Map,this.Vu=new hy,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zV(n,t,e=!0){const s=XE(n);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await GE(s,t,e,!0),a}async function UV(n,t){const e=XE(n);await GE(e,t,!0,!1)}async function GE(n,t,e,s){const a=await iV(n.localStore,$i(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await FV(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&jE(n.remoteStore,a),d}async function FV(n,t,e,s,a){n.pu=(_,S,A)=>(async function(B,L,K,tt){let Z=L.view.ru(K);Z.Ss&&(Z=await ET(B.localStore,L.query,!1).then((({documents:w})=>L.view.ru(w,Z))));const lt=tt&&tt.targetChanges.get(L.targetId),at=tt&&tt.targetMismatches.get(L.targetId)!=null,ht=L.view.applyChanges(Z,B.isPrimaryClient,lt,at);return IT(B,L.targetId,ht.au),ht.snapshot})(n,_,S,A);const l=await ET(n.localStore,t,!0),u=new OV(t,l.ks),d=u.ru(l.documents),g=Rc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),m=u.applyChanges(d,n.isPrimaryClient,g);IT(n,e,m.au);const y=new jV(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function HV(n,t,e){const s=Mt(n),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!vh(u,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await rg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&gy(s.remoteStore,a.targetId),lg(s,a.targetId)})).catch(ko)):(lg(s,a.targetId),await rg(s.localStore,a.targetId,!0))}async function qV(n,t){const e=Mt(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),gy(e.remoteStore,s.targetId))}async function GV(n,t,e){const s=JV(n);try{const a=await(function(u,d){const g=Mt(u),m=he.now(),y=d.reduce(((A,N)=>A.add(N.key)),zt());let _,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=xs(),B=zt();return g.xs.getEntries(A,y).next((L=>{N=L,N.forEach(((K,tt)=>{tt.isValidDocument()||(B=B.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(A,N))).next((L=>{_=L;const K=[];for(const tt of d){const Z=nk(tt,_.get(tt.key).overlayedDocument);Z!=null&&K.push(new Tr(tt.key,Z,eE(Z.value.mapValue),bi.exists(!0)))}return g.mutationQueue.addMutationBatch(A,m,K,d)})).next((L=>{S=L;const K=L.applyToLocalDocumentSet(_,B);return g.documentOverlayCache.saveOverlays(A,L.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:fE(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,g){let m=u.du[u.currentUser.toKey()];m||(m=new ye(Bt)),m=m.insert(d,g),u.du[u.currentUser.toKey()]=m})(s,a.batchId,e),await Dc(s,a.changes),await Ch(s.remoteStore)}catch(a){const l=Ty(a,"Failed to persist write");e.reject(l)}}async function $E(n,t){const e=Mt(n);try{const s=await tV(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(Zt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Zt(u.hu,14607):a.removedDocuments.size>0&&(Zt(u.hu,42227),u.hu=!1))})),await Dc(e,s,t)}catch(s){await ko(s)}}function VT(n,t,e){const s=Mt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const g=Mt(u);g.onlineState=d;let m=!1;g.queries.forEach(((y,_)=>{for(const S of _.ba)S.va(d)&&(m=!0)})),m&&xy(g)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function $V(n,t,e){const s=Mt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),l=a&&a.key;if(l){let u=new ye(Ct.comparator);u=u.insert(l,un.newNoDocument(l,wt.min()));const d=zt().add(l),g=new xh(wt.min(),new Map,new ye(Bt),u,d);await $E(s,g),s.Ru=s.Ru.remove(l),s.Au.delete(t),Ey(s)}else await rg(s.localStore,t,!1).then((()=>lg(s,t,e))).catch(ko)}async function KV(n,t){const e=Mt(n),s=t.batch.batchId;try{const a=await Wk(e.localStore,t);YE(e,s,null),KE(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Dc(e,a)}catch(a){await ko(a)}}async function YV(n,t,e){const s=Mt(n);try{const a=await(function(u,d){const g=Mt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return g.mutationQueue.lookupMutationBatch(m,d).next((_=>(Zt(_!==null,37113),y=_.keys(),g.mutationQueue.removeMutationBatch(m,_)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>g.localDocuments.getDocuments(m,y)))}))})(s.localStore,t);YE(s,t,e),KE(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Dc(s,a)}catch(a){await ko(a)}}function KE(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function YE(n,t,e){const s=Mt(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function lg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||QE(n,s)}))}function QE(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(gy(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Ey(n))}function IT(n,t,e){for(const s of e)s instanceof HE?(n.Vu.addReference(s.key,t),QV(n,s)):s instanceof qE?(mt(Sy,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||QE(n,s.key)):Rt(19791,{wu:s})}function QV(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(mt(Sy,"New document in limbo: "+e),n.Eu.add(s),Ey(n))}function Ey(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Ct(fe.fromString(t)),s=n.fu.next();n.Au.set(s,new LV(e)),n.Ru=n.Ru.insert(e,s),jE(n.remoteStore,new rr($i(ay(e.path)),s,"TargetPurposeLimboResolution",ph.ce))}}async function Dc(n,t,e){const s=Mt(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,g)=>{u.push(s.pu(g,t,e).then((m=>{if((m||e)&&s.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(m){a.push(m);const y=py.Es(g.targetId,m);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(g,m){const y=Mt(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(m,(S=>st.forEach(S.Ts,(A=>y.persistence.referenceDelegate.addReference(_,S.targetId,A))).next((()=>st.forEach(S.Is,(A=>y.persistence.referenceDelegate.removeReference(_,S.targetId,A)))))))))}catch(_){if(!Vo(_))throw _;mt(my,"Failed to update sequence numbers: "+_)}for(const _ of m){const S=_.targetId;if(!_.fromCache){const A=y.vs.get(S),N=A.snapshotVersion,B=A.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(S,B)}}})(s.localStore,l))}async function XV(n,t){const e=Mt(n);if(!e.currentUser.isEqual(t)){mt(Sy,"User change. New user:",t.toKey());const s=await VE(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new xt(rt.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Dc(e,s.Ns)}}function ZV(n,t){const e=Mt(n),s=e.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let a=zt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const d=e.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function XE(n){const t=Mt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$V.bind(null,t),t.Pu.J_=VV.bind(null,t.eventManager),t.Pu.yu=IV.bind(null,t.eventManager),t}function JV(n){const t=Mt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YV.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Jk(this.persistence,new Qk,t.initialUser,this.serializer)}Cu(t){return new kE(dy.Vi,this.serializer)}Du(t){return new rV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class WV extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Zt(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ik(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new kE((s=>ih.Vi(s,e)),this.serializer)}}class cg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>VT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XV.bind(null,this.syncEngine),await wV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MV})()}createDatastore(t){const e=Sh(t.databaseInfo.databaseId),s=uV(t.databaseInfo);return mV(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,l,u,d){return new yV(s,a,l,u,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>VT(this.syncEngine,e,0)),(function(){return RT.v()?new RT:new aV})())}createSyncEngine(t,e){return(function(a,l,u,d,g,m,y){const _=new BV(a,l,u,d,g,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Mt(e);mt(ca,"RemoteStore shutting down."),s.Ea.add(5),await wc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cg.provider={build:()=>new cg};class tI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const vr="FirestoreClient";class eI{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{mt(vr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(mt(vr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Ty(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function um(n,t){n.asyncQueue.verifyOperationInProgress(),mt(vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await VE(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function PT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await nI(n);mt(vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>DT(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>DT(t.remoteStore,a))),n._onlineComponents=t}async function nI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(vr,"Using user provided OfflineComponentProvider");try{await um(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;la("Error using user provided cache. Falling back to memory cache: "+e),await um(n,new rh)}}else mt(vr,"Using default OfflineComponentProvider"),await um(n,new WV(void 0));return n._offlineComponents}async function ZE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(vr,"Using user provided OnlineComponentProvider"),await PT(n,n._uninitializedComponentsProvider._online)):(mt(vr,"Using default OnlineComponentProvider"),await PT(n,new cg))),n._onlineComponents}function iI(n){return ZE(n).then((t=>t.syncEngine))}async function OT(n){const t=await ZE(n),e=t.eventManager;return e.onListen=zV.bind(null,t.syncEngine),e.onUnlisten=HV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=UV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=qV.bind(null,t.syncEngine),e}function sI(n,t,e,s){const a=new tI(s),l=new PV(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>NV(await OT(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>kV(await OT(n),l)))}}function rI(n,t){const e=new ra;return n.asyncQueue.enqueueAndForget((async()=>GV(await iI(n),t,e))),e.promise}function JE(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const aI="ComponentProvider",jT=new Map;function oI(n,t,e,s,a){return new SN(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,JE(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const WE="firestore.googleapis.com",LT=!0;class BT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=LT}else this.host=t.host,this.ssl=t.ssl??LT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kk)throw new xt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nN;switch(s.type){case"firstParty":return new aN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=jT.get(e);s&&(mt(aI,"Removing Datastore"),jT.delete(e),s.terminate())})(this),Promise.resolve()}}function lI(n,t,e,s={}){n=ys(n,Ah);const a=Xg(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;a&&(w6(`https://${d}`),k6("Firestore",!0)),l.host!==WE&&l.host!==d&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:a,emulatorOptions:s};if(!Kf(g,u)&&(n._setSettings(g),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=ln.MOCK_USER;else{m=D6(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new xt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(_)}n._authCredentials=new iN(new HS(m,y))}}class Rh{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Be{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Cc(e,Be._jsonSchema))return new Be(t,s||null,new Ct(fe.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Le("string",Be._jsonSchemaVersion),referencePath:Le("string")};class ur extends Rh{constructor(t,e,s){super(t,e,ay(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new Ct(t))}withConverter(t){return new ur(this.firestore,t,this._path)}}function cI(n,t,...e){if(n=_s(n),qS("collection","path",t),n instanceof Ah){const s=fe.fromString(t,...e);return J1(s),new ur(n,null,s)}{if(!(n instanceof Be||n instanceof ur))throw new xt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(fe.fromString(t,...e));return J1(s),new ur(n.firestore,null,s)}}function Cy(n,t,...e){if(n=_s(n),arguments.length===1&&(t=Wg.newId()),qS("doc","path",t),n instanceof Ah){const s=fe.fromString(t,...e);return Z1(s),new Be(n,null,new Ct(s))}{if(!(n instanceof Be||n instanceof ur))throw new xt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(fe.fromString(t,...e));return Z1(s),new Be(n.firestore,n instanceof ur?n.converter:null,new Ct(s))}}const zT="AsyncQueue";class UT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PE(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&mt(zT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=cm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=cm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Vo(t))throw t;mt(zT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",FT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=by.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Rt(47125,{Pc:FT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function FT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ao extends Ah{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new UT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UT(t),this._firestoreClient=void 0,await t}}}function uI(n,t){const e=typeof n=="object"?n:FM(),s=typeof n=="string"?n:Zf,a=jM(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=A6("firestore");l&&lI(a,...l)}return a}function tC(n){if(n._terminated)throw new xt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fI(n),n._firestoreClient}function fI(n){const t=n._freezeSettings(),e=oI(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new eI(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ni{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ni(rn.fromBase64String(t))}catch(e){throw new xt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ni(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Cc(t,ni._jsonSchema))return ni.fromBase64String(t.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Le("string",ni._jsonSchemaVersion),bytes:Le("string")};class Ay{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new xt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Yi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(Cc(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Le("string",Yi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Ti{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Cc(t,Ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ti(t.vectorValues);throw new xt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Le("string",Ti._jsonSchemaVersion),vectorValues:Le("object")};const hI=/^__.*__$/;class dI{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Tr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ac(t,this.data,e,this.fieldTransforms)}}class eC{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Tr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function nC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{dataSource:n})}}class Ry{constructor(t,e,s,a,l,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ry({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(nC(this.dataSource)&&hI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class pI{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Sh(t)}createContext(t,e,s,a=!1){return new Ry({dataSource:t,methodName:e,targetDoc:s,path:sn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iC(n){const t=n._freezeSettings(),e=Sh(n._databaseId);return new pI(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mI(n,t,e,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);Dy("Data must be an object, but it was:",u,s);const d=sC(s,u);let g,m;if(l.merge)g=new zn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=bc(t,_,e);if(!u.contains(S))throw new xt(rt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);oC(y,S)||y.push(S)}g=new zn(y),m=u.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,m=u.fieldTransforms;return new dI(new Mn(d),g,m)}class Dh extends wh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}class wy extends wh{_toFieldTransform(t){return new JN(t.path,new yc)}isEqual(t){return t instanceof wy}}function gI(n,t,e,s){const a=n.createContext(1,t,e);Dy("Data must be an object, but it was:",a,s);const l=[],u=Mn.empty();br(s,((g,m)=>{const y=aC(t,g,e);m=_s(m);const _=a.childContextForFieldPath(y);if(m instanceof Dh)l.push(y);else{const S=Mh(m,_);S!=null&&(l.push(y),u.set(y,S))}}));const d=new zn(l);return new eC(u,d,a.fieldTransforms)}function yI(n,t,e,s,a,l){const u=n.createContext(1,t,e),d=[bc(t,s,e)],g=[a];if(l.length%2!=0)throw new xt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(bc(t,l[S])),g.push(l[S+1]);const m=[],y=Mn.empty();for(let S=d.length-1;S>=0;--S)if(!oC(m,d[S])){const A=d[S];let N=g[S];N=_s(N);const B=u.childContextForFieldPath(A);if(N instanceof Dh)m.push(A);else{const L=Mh(N,B);L!=null&&(m.push(A),y.set(A,L))}}const _=new zn(m);return new eC(y,_,u.fieldTransforms)}function Mh(n,t){if(rC(n=_s(n)))return Dy("Unsupported field value:",t,n),sC(n,t);if(n instanceof wh)return(function(s,a){if(!nC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let g=Mh(d,a.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(n,t)}return(function(s,a){if((s=_s(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=he.fromDate(s);return{timestampValue:nh(a.serializer,l)}}if(s instanceof he){const l=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(a.serializer,l)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:SE(a.serializer,s._byteString)};if(s instanceof Be){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ti)return(function(u,d){const g=u instanceof Ti?u.toArray():u;return{mapValue:{fields:{[WS]:{stringValue:tE},[Jf]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return oy(d.serializer,y)}))}}}}}})(s,a);if(ME(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ty(s)}`)})(n,t)}function sC(n,t){const e={};return KS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):br(n,((s,a)=>{const l=Mh(a,t.childContextForField(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function rC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Yi||n instanceof ni||n instanceof Be||n instanceof wh||n instanceof Ti||ME(n))}function Dy(n,t,e){if(!rC(e)||!GS(e)){const s=ty(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function bc(n,t,e){if((t=_s(t))instanceof Ay)return t._internalPath;if(typeof t=="string")return aC(n,t);throw ah("Field path arguments must be of type string or ",n,!1,void 0,e)}const vI=new RegExp("[~\\*/\\[\\]]");function aC(n,t,e){if(t.search(vI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ay(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ah(n,t,e,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${s}`),u&&(g+=` in document ${a}`),g+=")"),new xt(rt.INVALID_ARGUMENT,d+n+g)}function oC(n,t){return n.some((e=>e.isEqual(t)))}class _I{convertValue(t,e="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return br(t,((a,l)=>{s[a]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[Jf].arrayValue?.values?.map((s=>Ce(s.doubleValue)));return new Ti(e)}convertGeoPoint(t){return new Yi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(pc(t));default:return null}}convertTimestamp(t){const e=pr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=fe.fromString(t);Zt(DE(s),9688,{name:t});const a=new mc(s.get(1),s.get(3)),l=new Ct(s.popFirst(5));return a.isEqual(e)||Ts(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class lC extends _I{constructor(t){super(),this.firestore=t}convertBytes(t){return new ni(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function cC(){return new wy("serverTimestamp")}const HT="@firebase/firestore",qT="4.11.0";function GT(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class uC{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(bc("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class bI extends uC{data(){return super.data()}}function TI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function xI(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class Ql{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aa extends uC{constructor(t,e,s,a,l,u){super(t,e,s,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(bc("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=aa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Le("string",aa._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class If extends aa{data(t={}){return super.data(t)}}class _o{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Ql(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new If(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const g=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ql(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ql(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:SI(d.type),doc:g,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_o._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function SI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Le("string",_o._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};function EI(n,t,e){n=ys(n,Be);const s=ys(n.firestore,Ao),a=xI(n.converter,t),l=iC(s);return My(s,[mI(l,"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,bi.none())])}function CI(n,t,e,...s){n=ys(n,Be);const a=ys(n.firestore,Ao),l=iC(a);let u;return u=typeof(t=_s(t))=="string"||t instanceof Ay?yI(l,"updateDoc",n._key,t,e,s):gI(l,"updateDoc",n._key,t),My(a,[u.toMutation(n._key,bi.exists(!0))])}function AI(n){return My(ys(n.firestore,Ao),[new ly(n._key,bi.none())])}function RI(n,...t){n=_s(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||GT(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(GT(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,u,d;if(n instanceof Be)u=ys(n.firestore,Ao),d=ay(n._key.path),l={next:m=>{t[s]&&t[s](wI(u,n,m))},error:t[s+1],complete:t[s+2]};else{const m=ys(n,Rh);u=ys(m.firestore,Ao),d=m._query;const y=new lC(u);l={next:_=>{t[s]&&t[s](new _o(u,y,m,_))},error:t[s+1],complete:t[s+2]},TI(n._query)}const g=tC(u);return sI(g,d,a,l)}function My(n,t){const e=tC(n);return rI(e,t)}function wI(n,t,e){const s=e.docs.get(t._key),a=new lC(n);return new aa(n,a,t._key,s,new Ql(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){eN(UM),Qf(new fc("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Ao(new sN(s.getProvider("auth-internal")),new oN(u,s.getProvider("app-check-internal")),EN(u,a),u);return l={useFetchStreams:e,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),go(HT,qT,t),go(HT,qT,"esm2020")})();const DI={apiKey:"AIzaSyBQDdzlJemo4Cbw3SKcTDX_YjQ27eCp5ug",authDomain:"ghost-chatamd.firebaseapp.com",projectId:"ghost-chatamd",storageBucket:"ghost-chatamd.appspot.com",messagingSenderId:"100973455099363666904",appId:"1:100973455099363666904:web:abcdef123456"},MI=VS(DI),Nh=uI(MI),NI=async(n,t,e)=>{const s=Cy(Nh,"parallel_rooms",n,"peers",t);await EI(s,{...e,lastSeen:cC()})},kI=async(n,t)=>{try{const e=Cy(Nh,"parallel_rooms",n,"peers",t);await CI(e,{lastSeen:cC()})}catch{}},$T=async(n,t)=>{try{const e=Cy(Nh,"parallel_rooms",n,"peers",t);await AI(e)}catch{}},VI=(n,t)=>{const e=cI(Nh,"parallel_rooms",n,"peers");return RI(e,s=>{const a=[],l=Date.now();s.forEach(u=>{const d=u.data();let g=!0;if(d.lastSeen){const m=d.lastSeen.toMillis?d.lastSeen.toMillis():Date.now();l-m>6e4&&(g=!1)}g&&a.push({id:u.id,...d})}),t(a)})},fC={name:"ECDH",namedCurve:"P-256"},II={name:"AES-GCM",length:256};async function PI(){return window.crypto.subtle.generateKey(fC,!0,["deriveKey","deriveBits"])}async function OI(n){return window.crypto.subtle.exportKey("jwk",n)}async function mf(n){return window.crypto.subtle.importKey("jwk",n,fC,!0,[])}async function fm(n,t){return window.crypto.subtle.deriveKey({name:"ECDH",public:t},n,II,!1,["encrypt","decrypt"])}async function KT(n,t){const e=new TextEncoder,s=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},t,e.encode(n));return JSON.stringify({iv:Array.from(s),data:Array.from(new Uint8Array(a))})}async function jI(n,t){try{const e=JSON.parse(n),s=new Uint8Array(e.iv),a=new Uint8Array(e.data),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,a);return new TextDecoder().decode(l)}catch{return null}}const LI=(n,t)=>{const[e,s]=F.useState("disconnected"),[a,l]=F.useState([]),[u,d]=F.useState([]),[g,m]=F.useState(null),[y,_]=F.useState(!1),[S,A]=F.useState({}),N=H=>{_(H)};F.useEffect(()=>{if(!y)return;const H=setInterval(()=>{const J=Date.now(),it=1440*60*1e3;d(ut=>{const pt=ut.filter(vt=>J-vt.timestamp<it);return pt.length!==ut.length?pt:ut})},60*1e3);return()=>clearInterval(H)},[y]);const[B,L]=F.useState(null),[K,tt]=F.useState(null),[Z,lt]=F.useState(null),at=(H,J)=>{if(!I.current)return;const it=I.current.call(H,J);it&&(it.on("stream",ut=>{lt(ut)}),it.on("close",()=>w()),it.on("error",()=>{}),tt({call:it,stream:J}))},ht=H=>{if(!B)return;const{call:J}=B;J.answer(H),J.on("stream",it=>{lt(it)}),J.on("close",()=>w()),tt({call:J,stream:H}),L(null)},w=()=>{K&&(K.call.close(),K.stream?.getTracks().forEach(H=>H.stop())),B&&B.call.close(),tt(null),L(null),lt(null)},C=F.useRef({}),D=F.useRef(null),I=F.useRef(null),V=F.useRef([]),j=F.useRef(null),M=F.useRef(null),Ut=F.useRef(null),ae=F.useCallback(H=>{d(J=>J.some(it=>it.id===H.id)?J:[...J,H].sort((it,ut)=>it.timestamp-ut.timestamp))},[]),X=async(H,J,it)=>{const ut=()=>{console.log(`[P2P] Connection OPEN with ${it}`)};if(H.open?ut():H.on("open",ut),C.current[it]={conn:H},J)try{C.current[it].sharedSecret=await fm(D.current.privateKey,J)}catch(pt){console.error(`[P2P] Failed to derive shared secret for ${it}:`,pt)}H.on("data",async pt=>{if(pt.type==="typing"){A(vt=>({...vt,[it]:Date.now()}));return}if(pt.type==="delivered"){d(vt=>vt.map(It=>It.id===pt.msgId?{...It,status:"delivered"}:It));return}if(pt.payload){const vt=C.current[it];if(!vt)return;if(!vt.sharedSecret){const Tt=V.current.find(Gt=>Gt.id===it);if(Tt)try{const Gt=await mf(JSON.parse(Tt.key));vt.sharedSecret=await fm(D.current.privateKey,Gt)}catch(Gt){console.error(`[P2P] Key derivation failed for ${it}:`,Gt)}}if(!vt.sharedSecret){console.warn(`[P2P] No shared secret for ${it}, dropping message`);return}const It=await jI(pt.payload,vt.sharedSecret);if(It)try{const Tt=JSON.parse(It);ae({...Tt,peerId:it,isMe:!1,status:"delivered"}),vt.conn&&vt.conn.open&&vt.conn.send({type:"delivered",msgId:Tt.id})}catch(Tt){console.error("[P2P] Failed to parse decrypted message:",Tt)}}}),H.on("close",()=>{console.log(`[P2P] Connection CLOSED with ${it}`),delete C.current[it]}),H.on("error",pt=>{console.error(`[P2P] Connection ERROR with ${it}:`,pt),delete C.current[it]})},ot=async H=>{const J=H.peer;if(console.log(`[P2P] Incoming connection from ${J}`),C.current[J]){console.log(`[P2P] Replacing existing connection to ${J}`);try{C.current[J].conn.close()}catch{}delete C.current[J]}const it=V.current.find(pt=>pt.id===J);let ut=null;if(it)try{ut=await mf(JSON.parse(it.key))}catch{}X(H,ut,J)},dt=async H=>{const J=I.current;if(!J||J.destroyed)return;const it=C.current[H.id];if(!(it&&it.conn&&it.conn.open)){if(it){try{it.conn.close()}catch{}delete C.current[H.id]}try{console.log(`[P2P] Connecting to peer ${H.id}...`);const ut=J.connect(H.id,{metadata:{user:t},reliable:!0});if(!ut){console.error(`[P2P] peer.connect returned null for ${H.id}`);return}const pt=await mf(JSON.parse(H.key));await X(ut,pt,H.id)}catch(ut){console.error(`[P2P] Failed to connect to ${H.id}:`,ut)}}};F.useEffect(()=>{if(!n||!t)return;let H=()=>{},J=!1;M.current=n,typeof window<"u"&&(async()=>{s("connecting"),D.current=await PI();const pt=await OI(D.current.publicKey),vt=`parallel_${n}_${t}_${Date.now().toString(36)}`;m(vt),Ut.current=vt;const It=new m6(vt,{debug:0,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]}});I.current=It,V.current=[],It.on("open",async Tt=>{J||(console.log(`[P2P] PeerJS OPEN: ${Tt}`),s("connected"),await NI(n,Tt,{user:t,key:JSON.stringify(pt)}),j.current&&clearInterval(j.current),j.current=setInterval(()=>{J||kI(n,Tt)},1e4),H=VI(n,Gt=>{if(J)return;const Xt=Gt.filter(de=>de.id!==Tt);l(Xt),V.current=Xt,Xt.forEach(de=>{const pn=C.current[de.id];!pn||!pn.conn||!pn.conn.open?dt(de):pn&&!pn.sharedSecret&&(async()=>{try{const Un=await mf(JSON.parse(de.key));pn.sharedSecret=await fm(D.current.privateKey,Un)}catch{}})()})}))}),It.on("connection",Tt=>ot(Tt)),It.on("call",Tt=>{J||L({call:Tt})}),It.on("error",Tt=>{console.error("[P2P] PeerJS error:",Tt),Tt.type==="unavailable-id"?(console.log("[P2P] ID taken, will retry with new ID on next init"),s("error")):Tt.type==="peer-unavailable"?console.warn("[P2P] Peer unavailable (may be offline):",Tt.message):s("error")}),It.on("disconnected",()=>{if(!J){console.log("[P2P] PeerJS disconnected, attempting reconnect..."),s("connecting");try{It.reconnect()}catch{s("error")}}})})();const ut=()=>{Ut.current&&M.current&&$T(M.current,Ut.current)};return window.addEventListener("beforeunload",ut),()=>{if(J=!0,j.current&&(clearInterval(j.current),j.current=null),H(),Object.values(C.current).forEach(pt=>{try{pt.conn.close()}catch{}}),C.current={},I.current){try{I.current.destroy()}catch{}I.current=null}Ut.current&&M.current&&$T(M.current,Ut.current),window.removeEventListener("beforeunload",ut)}},[n,t]);const ft=async(H,J,it="text")=>{const ut={id:Date.now()+Math.random(),user:t,text:H,type:it,timestamp:Date.now()},pt={...ut,isMe:!0,peerId:J||"broadcast",status:"sending"};ae(pt);const vt=Tt=>{d(Gt=>Gt.map(Xt=>Xt.id===ut.id?{...Xt,status:Tt}:Xt))},It=async Tt=>{let Gt=C.current[Tt];if(!Gt||!Gt.conn||!Gt.conn.open){const Xt=V.current.find(de=>de.id===Tt);Xt&&(await dt(Xt),await new Promise(de=>setTimeout(de,1500)),Gt=C.current[Tt])}if(Gt&&Gt.conn&&Gt.conn.open&&Gt.sharedSecret)try{const Xt=await KT(JSON.stringify(ut),Gt.sharedSecret);return Gt.conn.send({payload:Xt}),!0}catch(Xt){return console.error("[P2P] Encryption/send failed:",Xt),!1}return console.warn(`[P2P] Failed to send to ${Tt}`),!1};if(J){const Tt=await It(J);vt(Tt?"sent":"failed")}else{const Tt=Object.entries(C.current);for(const[Gt,Xt]of Tt)if(Xt.conn&&Xt.conn.open&&Xt.sharedSecret)try{const de=await KT(JSON.stringify(ut),Xt.sharedSecret);Xt.conn.send({payload:de})}catch(de){console.error(`[P2P] Broadcast send failed to ${Gt}:`,de)}vt("sent")}},Et=H=>{const J=C.current[H];if(J&&J.conn&&J.conn.open)try{J.conn.send({type:"typing"})}catch{}},P=()=>{d([]),navigator.vibrate&&navigator.vibrate([100,50,100,50,200])};return F.useEffect(()=>{const H=setInterval(()=>{const J=Date.now();A(it=>{const ut={};for(const[pt,vt]of Object.entries(it))J-vt<3e3&&(ut[pt]=vt);return Object.keys(ut).length!==Object.keys(it).length?ut:it})},1e3);return()=>clearInterval(H)},[]),{status:e,peers:a,messages:u,sendMessage:ft,myPeerId:g,callPeer:at,incomingCall:B,answerCall:ht,endCall:w,activeCall:K,remoteStream:Z,retentionEnabled:y,toggleRetention:N,typingPeers:S,sendTyping:Et,panicWipe:P}},hC=F.createContext(),BI=({children:n})=>{const[t,e]=F.useState(()=>localStorage.getItem("parallel_premium_unlocked")==="true"),s=()=>{localStorage.setItem("parallel_premium_unlocked","true"),e(!0),window.dispatchEvent(new Event("storage"))};return x.jsx(hC.Provider,{value:{isPremium:t,unlockPremium:s},children:n})},Ny=()=>F.useContext(hC),zI=({onClose:n,onSuccess:t})=>{const{unlockPremium:e}=Ny(),[s,a]=F.useState("form"),[l,u]=F.useState(""),[d,g]=F.useState(""),[m,y]=F.useState(""),_=A=>{A.preventDefault(),a("processing"),setTimeout(()=>{a("success"),e(),setTimeout(()=>{t?t():n()},2e3)},1500)},S=A=>{const N=A.target.value.replace(/\s+/g,"").replace(/[^0-9]/gi,""),B=N.match(/\d{4,16}/g),L=B&&B[0]||"",K=[];for(let tt=0,Z=L.length;tt<Z;tt+=4)K.push(L.substring(tt,tt+4));K.length?u(K.join(" ")):u(N)};return x.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-4",style:{background:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)"},children:x.jsx(motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:25,stiffness:300},className:"w-full max-w-md rounded-3xl shadow-2xl overflow-hidden",style:{background:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.8)",backdropFilter:"blur(30px)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.08)"},children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:[x.jsx(ub,{size:20,className:"text-green-500"}),"Secure Checkout"]}),x.jsx("button",{onClick:n,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:x.jsx(fg,{size:20})})]}),x.jsxs(ei,{mode:"wait",children:[s==="form"&&x.jsxs(motion.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onSubmit:_,className:"space-y-4",children:[x.jsxs("div",{className:"p-4 rounded-xl mb-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.06))",border:"1px solid rgba(255, 255, 255, 0.6)"},children:[x.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-[0.06]",children:x.jsx(cb,{size:120,style:{color:"rgba(0,0,0,1)"}})}),x.jsxs("div",{className:"relative z-10",children:[x.jsx("div",{className:"text-xs uppercase mb-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Card Number"}),x.jsx("div",{className:"text-xl font-mono mb-4 tracking-wider",style:{color:"rgba(0, 0, 0, 0.7)"},children:l||"0000 0000 0000 0000"}),x.jsxs("div",{className:"flex justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[10px] uppercase",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Card Holder"}),x.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.6)"},children:"PARALLEL USER"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[10px] uppercase",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Expires"}),x.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.6)"},children:d||"MM/YY"})]})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Card Number"}),x.jsxs("div",{className:"relative",children:[x.jsx(cb,{className:"absolute left-3 top-3",size:18,style:{color:"rgba(0, 0, 0, 0.3)"}}),x.jsx("input",{type:"text",value:l,onChange:S,className:"w-full rounded-xl py-2.5 pl-10 pr-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},placeholder:"0000 0000 0000 0000",required:!0})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Expiry Date"}),x.jsx("input",{type:"text",value:d,onChange:A=>g(A.target.value.replace(/[^0-9/]/g,"").slice(0,5)),placeholder:"MM/YY",maxLength:5,className:"w-full rounded-xl py-2.5 px-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all text-center font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm mb-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:"CVC"}),x.jsx("input",{type:"text",value:m,onChange:A=>y(A.target.value.replace(/[^0-9]/g,"").slice(0,3)),placeholder:"123",maxLength:3,className:"w-full rounded-xl py-2.5 px-4 focus:ring-2 focus:ring-blue-500/30 outline-none transition-all text-center font-mono",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)"},required:!0})]})]})]}),x.jsx("button",{type:"submit",className:"w-full text-white font-bold py-3.5 rounded-xl active:scale-95 transition-all mt-4 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)"},children:"Pay $4.99"}),x.jsxs("p",{className:"text-xs text-center mt-4 flex items-center justify-center gap-1",style:{color:"rgba(0, 0, 0, 0.35)"},children:[x.jsx(ub,{size:10})," Encrypted by Stripe (Mock)"]})]},"form"),s==="processing"&&x.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-12",children:[x.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:x.jsx(R5,{size:48,className:"text-blue-500 mb-4"})}),x.jsx("h4",{className:"text-lg font-medium",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Processing Payment..."}),x.jsx("p",{className:"text-sm",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Confirming with bank"})]},"processing"),s==="success"&&x.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-8",children:[x.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"bg-green-500/15 p-4 rounded-full mb-4",children:x.jsx(y5,{size:64,className:"text-green-500"})}),x.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Payment Successful!"}),x.jsxs("p",{className:"text-center mb-6",style:{color:"rgba(0, 0, 0, 0.45)"},children:["Welcome to Parallel Premium.",x.jsx("br",{}),"All features are now unlocked."]}),x.jsx("div",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.25)"},children:"Redirecting..."})]},"success")]})]})})})},UI=({onClose:n})=>{const{isPremium:t}=Ny(),[e,s]=F.useState(!1),a=[{icon:x.jsx(lh,{className:"text-blue-500",size:24}),title:"HD Video Calls",desc:"Encrypted peer-to-peer video calls."},{icon:x.jsx(JT,{className:"text-cyan-500",size:24}),title:"Image Sharing",desc:"Send encrypted photos directly via P2P."},{icon:x.jsx(F5,{className:"text-amber-500",size:24}),title:"288 Stickers",desc:"12 packs of expressive emoji stickers."},{icon:x.jsx(ho,{className:"text-purple-500",size:24}),title:"Priority Features",desc:"Early access to new Parallel features."}];return x.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex flex-col overflow-hidden",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)"},children:[x.jsxs("div",{className:"p-4 flex justify-between items-center z-10",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:x.jsx(ho,{size:18,className:"text-white fill-current"})}),x.jsx("span",{className:"font-bold text-lg tracking-wide text-transparent bg-clip-text",style:{backgroundImage:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:"PARALLEL PREMIUM"})]}),x.jsx("button",{onClick:n,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:x.jsx(fg,{size:20})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsxs("h1",{className:"text-4xl font-black mb-2 tracking-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:["Unlock the ",x.jsx("span",{className:"text-blue-500",children:"Full Power"})]}),x.jsx("p",{className:"max-w-xs mx-auto",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Get the ultimate privacy experience with unlimited access to all features."})]}),x.jsx("div",{className:"grid grid-cols-1 gap-3 mb-8",children:a.map((l,u)=>x.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:u*.08},className:"p-4 rounded-2xl flex items-center gap-4",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",boxShadow:"0 4px 16px rgba(0,0,0,0.04)"},children:[x.jsx("div",{className:"p-3 rounded-xl",style:{background:"rgba(59, 130, 246, 0.06)"},children:l.icon}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:l.title}),x.jsx("p",{className:"text-sm",style:{color:"rgba(0, 0, 0, 0.4)"},children:l.desc})]})]},u))}),x.jsxs("div",{className:"p-6 rounded-3xl relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.06))",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(20px)"},children:[x.jsx("div",{className:"absolute top-0 right-0 text-xs font-bold text-white px-3 py-1 rounded-bl-xl",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)"},children:"BEST VALUE"}),x.jsx("div",{className:"flex justify-between items-end mb-4",children:x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"rgba(0, 0, 0, 0.45)"},children:"Monthly Plan"}),x.jsxs("div",{className:"flex items-baseline gap-1",children:[x.jsx("span",{className:"text-3xl font-black",style:{color:"rgba(0, 0, 0, 0.85)"},children:"$4.99"}),x.jsx("span",{className:"text-sm line-through",style:{color:"rgba(0, 0, 0, 0.3)"},children:"$9.99"})]})]})}),x.jsx("ul",{className:"space-y-2 mb-6",children:["Ad-free experience","Priority support","Early access to features"].map((l,u)=>x.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"rgba(0, 0, 0, 0.6)"},children:[x.jsx(ZT,{size:14,className:"text-green-500"})," ",l]},u))})]})]}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.85) 60%, transparent 100%)"},children:[x.jsxs("button",{onClick:()=>s(!0),className:"w-full text-white font-bold py-4 rounded-2xl active:scale-95 transition-all flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)"},children:[x.jsx(ho,{size:20,className:"fill-current"}),t?"You are Premium!":"Upgrade Now"]}),x.jsx("div",{className:"text-center mt-3",children:x.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.3)"},children:"Cancel anytime. Secure payment via Stripe."})})]}),x.jsx(ei,{children:e&&x.jsx(zI,{onClose:()=>{s(!1)},onSuccess:()=>{s(!1),setTimeout(n,500)}})})]})},FI="https://cdn.jsdelivr.net/gh/jdecked/twemoji@latest/assets/svg",oh=n=>{const t=[];for(const e of n){const s=e.codePointAt(0);s===65039||s===65038||t.push(s.toString(16))}return`${FI}/${t.join("-")}.svg`},hm=[{name:"Love",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Reactions",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Dark",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Street",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Money",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Hands",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Animals",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Fun",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Food",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Weather",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Flags",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"Symbols",icon:"",stickers:["","","","","","","","","","","","","","","","","","","","","","","",""]}],HI=({onSelect:n,onClose:t})=>{const[e,s]=F.useState(0);return x.jsxs(fn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[55vh] rounded-t-3xl shadow-2xl z-40 flex flex-col overflow-hidden",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 -10px 40px rgba(0, 0, 0, 0.06)"},children:[x.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[x.jsx("span",{className:"font-medium text-sm",style:{color:"rgba(0, 0, 0, 0.5)"},children:hm[e].name}),x.jsx("button",{onClick:t,className:"p-2 rounded-full transition-colors",style:{background:"rgba(0,0,0,0.05)",color:"rgba(0, 0, 0, 0.4)"},children:x.jsx(fg,{size:18})})]}),x.jsx("div",{className:"flex overflow-x-auto scrollbar-hide px-2 py-2 gap-1 flex-shrink-0",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.4)"},children:hm.map((a,l)=>x.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all",style:e===l?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.15))",border:"1px solid rgba(59, 130, 246, 0.3)",transform:"scale(1.1)",boxShadow:"0 4px 15px rgba(59, 130, 246, 0.12)"}:{background:"rgba(255,255,255,0.3)",border:"1px solid transparent"},title:a.name,children:x.jsx("img",{src:oh(a.icon),alt:a.name,width:22,height:22,loading:"lazy"})},a.name))}),x.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:x.jsx(ei,{mode:"wait",children:x.jsx(fn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},className:"grid grid-cols-6 gap-2",children:hm[e].stickers.map((a,l)=>x.jsx(fn.button,{whileHover:{scale:1.15},whileTap:{scale:.85},onClick:()=>n(a),className:"aspect-square flex items-center justify-center rounded-xl transition-colors active:opacity-70 p-1.5",style:{background:"transparent"},onMouseEnter:u=>u.currentTarget.style.background="rgba(0,0,0,0.04)",onMouseLeave:u=>u.currentTarget.style.background="transparent",children:x.jsx("img",{src:oh(a),alt:a,width:42,height:42,loading:"lazy",draggable:!1,style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.15))"}})},l))},e)})})]})},qI={lower:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["SHIFT","z","x","c","v","b","n","m","BACK"],["NUM","SPACE","ENTER"]],upper:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["SHIFT","Z","X","C","V","B","N","M","BACK"],["NUM","SPACE","ENTER"]],num:[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["SYM",".",",","?","!","'","BACK"],["ABC","SPACE","ENTER"]],sym:[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","","","",""],["NUM",".",",","?","!","'","BACK"],["ABC","SPACE","ENTER"]]},dC=F.memo(({onKeyPress:n,onBackspace:t,onEnter:e,visible:s})=>{const[a,l]=F.useState("lower"),[u,d]=F.useState(!1),g=F.useRef(null),m=F.useRef(null),y=F.useCallback(L=>{switch(navigator.vibrate&&navigator.vibrate(5),L){case"SHIFT":a==="lower"?l("upper"):a==="upper"&&(u?(d(!1),l("lower")):d(!0));break;case"BACK":t();break;case"ENTER":e();break;case"SPACE":n(" ");break;case"NUM":l("num");break;case"SYM":l("sym");break;case"ABC":l(u?"upper":"lower");break;default:n(L),a==="upper"&&!u&&l("lower");break}},[a,u,n,t,e]),_=F.useCallback(()=>{g.current=setTimeout(()=>{m.current=setInterval(()=>{t(),navigator.vibrate&&navigator.vibrate(3)},60)},400)},[t]),S=F.useCallback(()=>{clearTimeout(g.current),clearInterval(m.current)},[]),A=L=>{switch(L){case"SPACE":return"flex-[3]";case"ENTER":return"flex-[1.5]";case"SHIFT":return"flex-[1.3]";case"BACK":return"flex-[1.3]";case"NUM":case"SYM":case"ABC":return"flex-[1.2]";default:return"flex-1"}},N=L=>{const K=["SHIFT","BACK","ENTER","NUM","SYM","ABC","SPACE"].includes(L),tt=a==="upper",Z=(()=>{switch(L){case"SHIFT":return x.jsx(o5,{size:20,fill:u?"currentColor":"none",strokeWidth:u?2.5:1.5});case"BACK":return x.jsx(x5,{size:20,strokeWidth:1.5});case"ENTER":return x.jsx("span",{className:"text-xs font-semibold tracking-wide",children:"Send"});case"SPACE":return x.jsx("span",{className:"text-xs tracking-wider",style:{color:"rgba(0,0,0,0.3)"},children:"incognito"});case"NUM":return x.jsx("span",{className:"text-xs font-semibold",children:"123"});case"SYM":return x.jsx("span",{className:"text-xs font-semibold",children:"#+="});case"ABC":return x.jsx("span",{className:"text-xs font-semibold",children:"ABC"});default:return x.jsx("span",{className:"text-[17px] font-normal",children:L})}})(),lt=L==="ENTER"?"linear-gradient(135deg, #3b82f6, #6366f1)":tt&&L==="SHIFT"?"rgba(255, 255, 255, 0.75)":"rgba(0, 0, 0, 0.04)",at=L==="ENTER"?"white":"rgba(0, 0, 0, 0.65)";return x.jsx("button",{onTouchStart:L==="BACK"?_:void 0,onTouchEnd:L==="BACK"?S:void 0,onMouseDown:L==="BACK"?_:void 0,onMouseUp:L==="BACK"?S:void 0,onMouseLeave:L==="BACK"?S:void 0,onClick:()=>y(L),className:`h-[42px] rounded-lg flex items-center justify-center active:scale-[0.92] active:opacity-70 transition-all select-none ${A(L)}`,style:{background:K?lt:"rgba(255, 255, 255, 0.65)",color:K?at:"rgba(0, 0, 0, 0.85)",border:L==="ENTER"?"none":"1px solid rgba(255, 255, 255, 0.5)",boxShadow:K?"none":"0 1px 3px rgba(0,0,0,0.06)",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:Z},L)};if(!s)return null;const B=qI[a];return x.jsxs(fn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:28,stiffness:350},className:"w-full flex-shrink-0",style:{background:"rgba(210, 215, 225, 0.85)",backdropFilter:"blur(30px) saturate(180%)",WebkitBackdropFilter:"blur(30px) saturate(180%)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",paddingBottom:"env(safe-area-inset-bottom, 8px)"},children:[x.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1.5",children:[x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),x.jsx("span",{className:"text-[9px] font-bold uppercase tracking-[0.15em]",style:{color:"rgba(0, 0, 0, 0.25)"},children:"Incognito Keyboard  No Data Leaves This App"})]}),x.jsx("div",{className:"px-1.5 pb-2 space-y-[5px]",children:B.map((L,K)=>x.jsx("div",{className:"flex gap-[5px] justify-center px-0.5",children:L.map(tt=>N(tt))},K))})]})});dC.displayName="IncognitoKeyboard";const GI=({onLock:n})=>{const[t,e]=F.useState(null),[s,a]=F.useState(!0),[l,u]=F.useState(""),[d,g]=F.useState(!1),[m,y]=F.useState(""),_=LI(s?null:l,s?null:m);F.useEffect(()=>{const A=N=>{N.key==="PrintScreen"&&alert(" Security Warning: Screenshots are discouraged in Parallel.")};return window.addEventListener("keyup",A),()=>window.removeEventListener("keyup",A)},[]);const S=A=>{A.preventDefault(),l&&m&&a(!1)};return s?x.jsxs("div",{className:"h-[100dvh] flex flex-col items-center justify-center p-8 font-sans overflow-hidden",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(60px) saturate(200%)",WebkitBackdropFilter:"blur(60px) saturate(200%)"},children:[x.jsxs("div",{className:"mb-12 relative flex flex-col items-center",children:[x.jsx("button",{onClick:n,className:"absolute -top-8 left-0 transition-colors",style:{color:"rgba(0, 0, 0, 0.4)"},children:x.jsx(Pf,{size:24})}),x.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("defs",{children:x.jsx("clipPath",{id:"roundedBox",children:x.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25"})})}),x.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25",stroke:"rgba(0,0,0,0.7)",strokeWidth:"3",fill:"rgba(255,255,255,0.3)"}),x.jsxs("g",{clipPath:"url(#roundedBox)",children:[x.jsx("line",{x1:"38",y1:"0",x2:"38",y2:"100",stroke:"rgba(0,0,0,0.7)",strokeWidth:"4"}),x.jsx("line",{x1:"62",y1:"0",x2:"62",y2:"100",stroke:"rgba(0,0,0,0.7)",strokeWidth:"4"})]})]}),x.jsx("h1",{className:"text-2xl font-light tracking-[0.3em] mt-6",style:{fontFamily:"Inter, sans-serif",color:"rgba(0, 0, 0, 0.8)"},children:"PARALLEL"})]}),x.jsxs("form",{onSubmit:S,className:"w-full max-w-sm space-y-4",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{value:m,onChange:A=>y(A.target.value),placeholder:"Username",className:"w-full p-4 rounded-2xl outline-none text-base transition-colors",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},autoFocus:!0}),x.jsx("input",{value:l,onChange:A=>u(A.target.value),placeholder:"Room Key",className:"w-full p-4 rounded-2xl outline-none text-base transition-colors",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",color:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}})]}),x.jsxs("button",{type:"submit",className:"w-full p-4 rounded-2xl font-semibold text-base transition-all flex items-center justify-center gap-2 active:scale-[0.98]",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",color:"white",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.25)"},children:[x.jsx("span",{children:"Enter Parallel"}),x.jsx(Pf,{className:"rotate-180",size:18})]})]}),x.jsx("div",{className:"mt-auto mb-4 text-xs font-medium tracking-widest text-center",style:{color:"rgba(0, 0, 0, 0.3)"},children:"ENCRYPTED P2P MESSENGER"})]}):x.jsxs("div",{className:"h-[100dvh] w-full flex flex-col font-sans overflow-hidden relative",children:[x.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 opacity-[0.02] overflow-hidden flex flex-wrap content-center justify-center select-none",children:Array.from({length:12}).map((A,N)=>x.jsx("div",{className:"w-64 h-64 flex items-center justify-center transform -rotate-45",children:x.jsx("span",{className:"text-2xl font-black whitespace-nowrap",style:{color:"rgba(0, 0, 0, 0.5)"},children:"PARALLEL SECURE"})},N))}),x.jsx(ei,{initial:!1,mode:"wait",children:t?x.jsx(ZI,{chat:t,messages:_.messages.filter(A=>A.peerId===t.id),onSendMessage:(A,N)=>_.sendMessage(A,t.id,N),onVideoCall:A=>_.callPeer(t.id,A),onBack:()=>e(null),isTyping:!!_.typingPeers[t.id],onTyping:()=>_.sendTyping(t.id),onOpenStore:()=>g(!0),onWipeAndLock:()=>{_.panicWipe(),n()}},"conversation"):x.jsx($I,{peers:_.peers,onLock:n,onSelectChat:A=>e(A),status:_.status,currentUser:m,retentionEnabled:_.retentionEnabled,onToggleRetention:_.toggleRetention,onPanicWipe:()=>{_.panicWipe(),n()},onOpenStore:()=>g(!0)},"list")}),_.incomingCall&&x.jsx(JI,{call:_.incomingCall,onAnswer:()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(A=>{_.answerCall(A)}).catch(()=>{})},onReject:()=>_.endCall()}),_.activeCall&&x.jsx(WI,{call:_.activeCall,remoteStream:_.remoteStream,onEnd:()=>_.endCall()}),x.jsx(ei,{children:d&&x.jsx(UI,{onClose:()=>g(!1)})})]})},$I=F.memo(({onLock:n,onSelectChat:t,peers:e,status:s,currentUser:a,retentionEnabled:l,onToggleRetention:u,onPanicWipe:d,onOpenStore:g})=>x.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full",children:[x.jsxs("header",{className:"px-4 py-3 flex justify-between items-center sticky top-0 z-10",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:n,style:{color:"rgba(0, 0, 0, 0.7)"},children:x.jsx(Pf,{size:24,strokeWidth:2})}),x.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",children:[x.jsx("h1",{className:"text-xl font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:a}),x.jsx("span",{className:"text-[10px] mt-1",style:{color:"rgba(0, 0, 0, 0.3)"},children:""})]})]}),x.jsxs("div",{className:"flex gap-5 items-center",children:[x.jsx("button",{onClick:g,className:"text-amber-500 hover:text-amber-400 active:scale-95 transition-all",title:"Premium Store",children:x.jsx(ho,{size:22,className:"fill-current"})}),x.jsx("button",{onClick:d,className:"relative active:scale-90 transition-all",title:"Panic Wipe  Erase All Messages",children:x.jsx("div",{className:"p-1.5 rounded-lg",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:x.jsx(q5,{size:16,className:"text-red-500",strokeWidth:2})})}),x.jsxs("button",{onClick:()=>u(!l),className:`relative transition-all ${l?"text-blue-500":""}`,style:l?{}:{color:"rgba(0, 0, 0, 0.3)"},title:l?"24h Retention ON":"24h Retention OFF",children:[x.jsx(_5,{size:22,strokeWidth:1.5}),l&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute -top-1.5 -right-2.5 bg-blue-500 text-[7px] font-black text-white px-1 py-0.5 rounded-md leading-none tracking-tight",style:{boxShadow:"0 0 8px rgba(59, 130, 246, 0.5)"},children:"24H"}),x.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-20 bg-blue-400",style:{animationDuration:"2s"}})]})]}),x.jsxs("div",{className:"relative",children:[x.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 100 100",fill:"none",children:[x.jsx("rect",{x:"10",y:"10",width:"80",height:"80",rx:"22",stroke:"rgba(0,0,0,0.15)",strokeWidth:"4",fill:"rgba(255,255,255,0.35)"}),x.jsx("line",{x1:"40",y1:"22",x2:"40",y2:"78",stroke:"rgba(0,0,0,0.5)",strokeWidth:"5",strokeLinecap:"round"}),x.jsx("line",{x1:"60",y1:"22",x2:"60",y2:"78",stroke:"rgba(0,0,0,0.5)",strokeWidth:"5",strokeLinecap:"round"})]}),s==="connected"&&x.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),s==="connecting"&&x.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-yellow-500 rounded-full border-2 border-white animate-pulse"})]})]})]}),x.jsx("div",{className:"px-4 mt-2 mb-4",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:x.jsx("svg",{className:"w-4 h-4",style:{color:"rgba(0, 0, 0, 0.3)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x.jsx("input",{type:"text",placeholder:"Search",className:"w-full py-2.5 pl-10 pr-4 rounded-2xl text-sm outline-none",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.6)",color:"rgba(0, 0, 0, 0.8)"}})]})}),x.jsxs("div",{className:"pl-4 pb-4 overflow-x-auto whitespace-nowrap scrollbar-hide",children:[x.jsxs("div",{className:"inline-flex flex-col items-center mr-4 relative",children:[x.jsxs("div",{className:"w-16 h-16 rounded-full flex items-center justify-center relative",style:{background:"rgba(255, 255, 255, 0.35)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:[x.jsx("span",{className:"text-2xl font-bold",style:{color:"rgba(0, 0, 0, 0.3)"},children:"+"}),x.jsx("div",{className:"absolute bottom-0 right-0 bg-blue-500 rounded-full p-0.5",children:x.jsx(O5,{size:14,className:"text-white"})})]}),x.jsx("span",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:"Your note"})]}),e.map(m=>x.jsxs("div",{className:"inline-flex flex-col items-center mr-4",onClick:()=>t({id:m.id,name:m.user}),children:[x.jsx("div",{className:"w-16 h-16 rounded-full p-[2px]",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:x.jsx("div",{className:"w-full h-full rounded-full p-[2px]",style:{background:"rgba(255, 255, 255, 0.9)"},children:x.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-lg font-semibold cursor-pointer",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(m.user||"?")[0].toUpperCase()})})}),x.jsx("span",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.7)"},children:m.user})]},m.id))]}),x.jsxs("div",{className:"flex-1 overflow-y-auto",children:[x.jsxs("div",{className:"px-4 py-2 flex justify-between items-center",children:[x.jsx("h3",{className:"font-bold text-base",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Messages"}),x.jsx("span",{className:"text-[#0095F6] text-sm font-semibold",children:"Requests"})]}),e.length===0&&x.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 px-6 py-10",children:[x.jsxs("div",{className:"relative w-32 h-32 mb-8 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-[0.06]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.5)":"rgba(234, 179, 8, 0.5)",animationDuration:"2.5s"}}),x.jsx("div",{className:"absolute inset-4 rounded-full animate-ping opacity-[0.1]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.4)":"rgba(234, 179, 8, 0.4)",animationDuration:"2s",animationDelay:"0.5s"}}),x.jsx("div",{className:"absolute inset-8 rounded-full animate-ping opacity-[0.15]",style:{background:s==="connected"?"rgba(59, 130, 246, 0.3)":"rgba(234, 179, 8, 0.3)",animationDuration:"1.5s",animationDelay:"1s"}}),x.jsx("div",{className:"relative w-16 h-16 rounded-full flex items-center justify-center z-10",style:{background:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:s==="connecting"?x.jsx(fn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:x.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(234, 179, 8, 0.8)",strokeWidth:"2",strokeLinecap:"round",children:x.jsx("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})})}):s==="connected"?x.jsx(fn.div,{animate:{scale:[1,1.15,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:x.jsx(L5,{size:26,strokeWidth:1.5,className:"-rotate-12",style:{color:"rgba(59, 130, 246, 0.8)"}})}):x.jsx(t2,{size:26,style:{color:"rgba(0, 0, 0, 0.3)"}})})]}),x.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"rgba(0, 0, 0, 0.75)"},children:s==="connecting"?"Connecting...":s==="connected"?"Room is Ready":"Disconnected"}),x.jsx("p",{className:"text-sm text-center mb-6",style:{color:"rgba(0, 0, 0, 0.35)"},children:s==="connecting"?"Establishing secure connection":s==="connected"?"Share the room key with a friend to start chatting":"Connection lost, please try again"}),s==="connected"&&x.jsxs(fn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-4 py-2 rounded-2xl flex items-center gap-2 mb-4",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)"},children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),x.jsx("span",{className:"text-xs font-medium",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Encrypted & Listening"})]}),x.jsxs("div",{className:"w-full max-w-xs p-4 rounded-2xl mt-2",style:{background:"rgba(255, 255, 255, 0.35)",border:"1px solid rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)"},children:[x.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:"rgba(0, 0, 0, 0.3)"},children:"Quick Tips"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:x.jsx("span",{className:"text-xs",children:""})}),x.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Messages are end-to-end encrypted"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:x.jsx("span",{className:"text-xs",children:""})}),x.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Both users must enter the same room key"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(59, 130, 246, 0.08)"},children:x.jsx("span",{className:"text-xs",children:""})}),x.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.5)"},children:"Messages vanish when you close the app"})]})]})]})]}),e.map(m=>x.jsxs("button",{onClick:()=>t({id:m.id,name:m.user}),className:"w-full px-4 py-3 flex items-center gap-3 transition-colors",style:{background:"transparent"},onMouseEnter:y=>y.currentTarget.style.background="rgba(255,255,255,0.3)",onMouseLeave:y=>y.currentTarget.style.background="transparent",children:[x.jsxs("div",{className:"w-14 h-14 rounded-full flex items-center justify-center font-bold text-lg relative",style:{background:"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(255, 255, 255, 0.5)",color:"rgba(0, 0, 0, 0.7)"},children:[(m.user||"?")[0].toUpperCase(),x.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white"})]}),x.jsxs("div",{className:"flex-1 text-left",children:[x.jsx("h3",{className:"text-sm font-medium",style:{color:"rgba(0, 0, 0, 0.85)"},children:m.user}),x.jsxs("div",{className:"text-sm flex items-center gap-1",style:{color:"rgba(0, 0, 0, 0.4)"},children:[x.jsx("span",{children:"Active now"}),x.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"})]})]}),x.jsx("div",{style:{color:"rgba(0, 0, 0, 0.3)"},children:x.jsx(h5,{size:22,strokeWidth:1.5})})]},m.id))]})]})),KI=n=>{const t=new Date(n),s=new Date-t,a=Math.floor(s/6e4),l=Math.floor(s/36e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l<48?"Yesterday "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric"})+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},YI=(n,t)=>n?t.timestamp-n.timestamp>900*1e3:!0,QI=(n,t,e)=>n?t&&e?"rounded-[22px]":t?"rounded-[22px] rounded-br-md":e?"rounded-[22px] rounded-tr-md":"rounded-[22px] rounded-tr-md rounded-br-md":t&&e?"rounded-[22px]":t?"rounded-[22px] rounded-bl-md":e?"rounded-[22px] rounded-tl-md":"rounded-[22px] rounded-tl-md rounded-bl-md",XI=["","","","","",""],ZI=F.memo(({chat:n,onBack:t,messages:e,onSendMessage:s,onVideoCall:a,isTyping:l,onTyping:u,onOpenStore:d,onWipeAndLock:g})=>{const[m,y]=F.useState(""),[_,S]=F.useState(null),[A,N]=F.useState(!1),[B,L]=F.useState(!1),[K,tt]=F.useState(!1),[Z,lt]=F.useState(!1),{isPremium:at}=Ny(),ht=F.useRef(null),w=F.useRef(null),C=F.useRef(null),D=F.useRef(null),I=F.useCallback(ft=>{y(Et=>Et+ft),w.current||(u(),w.current=setTimeout(()=>{w.current=null},2e3))},[u]),V=F.useCallback(()=>{y(ft=>ft.slice(0,-1))},[]),j=F.useCallback(()=>{m.trim()&&(s(m,"text"),y(""),navigator.vibrate&&navigator.vibrate(10))},[m,s]),M=F.useCallback(()=>{if(!at){d();return}C.current?.click()},[at,d]),Ut=F.useCallback(ft=>{const Et=ft.target.files?.[0];if(!Et)return;if(!Et.type.startsWith("image/")){alert("Only images are supported.");return}if(Et.size>2*1024*1024){alert("Image must be under 2MB for P2P transfer.");return}const P=new FileReader;P.onload=()=>{s(P.result,"image")},P.readAsDataURL(Et),ft.target.value=""},[s]),ae=F.useCallback(()=>{if(!at){d();return}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Video calls require HTTPS and camera permissions.");return}try{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(ft=>{a(ft)}).catch(()=>alert("Camera access required for video calls."))}catch{alert("Video calls are not supported on this device/browser.")}},[at,d,a]),X=F.useCallback(ft=>{ft.preventDefault(),m.trim()&&(s(m,"text"),y(""),navigator.vibrate&&navigator.vibrate(10))},[m,s]),ot=F.useCallback(()=>{s("","sticker"),navigator.vibrate&&navigator.vibrate(10)},[s]);F.useEffect(()=>{ht.current?.scrollIntoView({behavior:"smooth"})},[e,l]);const dt=e.reduce((ft,Et,P)=>Et.isMe?P:ft,-1);return x.jsxs(fn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 flex flex-col z-20",children:[x.jsxs("header",{className:"px-3 py-2 flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderBottom:"1px solid rgba(255, 255, 255, 0.5)"},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:t,className:"active:opacity-50 transition-opacity",style:{color:"rgba(0, 0, 0, 0.7)"},children:x.jsx(Pf,{size:26,strokeWidth:1.5})}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-9 h-9 rounded-full p-[1.5px]",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:x.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.9)"},children:x.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-sm font-bold uppercase",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(n.name||"?")[0]})})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h3",{className:"text-[15px] font-semibold leading-tight",style:{color:"rgba(0, 0, 0, 0.85)"},children:n.name}),x.jsx("span",{className:"text-[11px] leading-tight",style:{color:"rgba(0, 0, 0, 0.4)"},children:l?x.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:["typing",x.jsxs("span",{className:"flex gap-0.5",children:[x.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),x.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),x.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Active now"})]})]})]}),x.jsxs("div",{className:"flex gap-5 pr-1",style:{color:"rgba(0, 0, 0, 0.5)"},children:[x.jsx(t2,{size:22,strokeWidth:1.5,className:"opacity-50"}),x.jsxs("button",{onClick:ae,className:"relative",children:[x.jsx(lh,{size:24,strokeWidth:1.5,className:at?"":"text-blue-500",style:at?{color:"rgba(0, 0, 0, 0.6)"}:{}}),!at&&x.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-400 rounded-full p-[2px]",children:x.jsx(ho,{size:8,className:"text-black fill-current"})})]}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>tt(!K),className:"active:opacity-50 transition-opacity",children:x.jsx(E5,{size:24,strokeWidth:1.5})}),x.jsx(ei,{children:K&&x.jsxs(fn.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-8 right-0 bg-white rounded-xl shadow-xl border border-gray-100 py-1 w-48 z-50 text-sm overflow-hidden flex flex-col",children:[x.jsxs("button",{onClick:()=>{tt(!1),g()},className:"px-4 py-2.5 flex items-center gap-3 text-red-500 hover:bg-red-50 font-medium transition-colors",children:[x.jsx(u5,{size:16})," Block User"]}),x.jsxs("button",{onClick:()=>{tt(!1),lt(!0)},className:"px-4 py-2.5 flex items-center gap-3 text-orange-500 hover:bg-orange-50 font-medium transition-colors",children:[x.jsx(fb,{size:16})," Report User"]})]})})]})]})]}),x.jsx(ei,{children:Z&&x.jsx(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0,0,0,0.4)",backdropFilter:"blur(10px)"},children:x.jsxs(fn.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center mb-4",children:x.jsx(fb,{size:32,className:"text-orange-500"})}),x.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:"Report Abuse"}),x.jsxs("p",{className:"text-sm text-gray-500 mb-6 font-medium",children:["Because Parallel is an encrypted, zero-knowledge network without central servers, we cannot access your chat logs. ",x.jsx("br",{}),x.jsx("br",{})," Reporting will immediately sever the P2P connection, purge all local RAM logs, and permanently block this user from your current session to ensure your safety."]}),x.jsxs("div",{className:"flex gap-3 w-full",children:[x.jsx("button",{onClick:()=>lt(!1),className:"flex-1 py-3 rounded-full font-semibold text-gray-600 bg-gray-100",children:"Cancel"}),x.jsx("button",{onClick:()=>{lt(!1),g()},className:"flex-1 py-3 rounded-full font-semibold text-white bg-orange-500",children:"Report & Wipe"})]})]})})}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-2",onClick:()=>S(null),children:[x.jsxs("div",{className:"flex flex-col items-center mb-6 mt-2",children:[x.jsx("div",{className:"w-20 h-20 rounded-full p-[2px] mb-3",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #6366f1, #0ea5e9)"},children:x.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.8)"},children:x.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center text-2xl font-bold uppercase",style:{background:"rgba(59, 130, 246, 0.08)",color:"rgba(0, 0, 0, 0.7)"},children:(n.name||"?")[0]})})}),x.jsx("h3",{className:"font-bold text-lg",style:{color:"rgba(0, 0, 0, 0.85)"},children:n.name}),x.jsx("p",{className:"text-xs mt-1",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Parallel  Encrypted P2P"}),x.jsxs("div",{className:"rounded-full px-3 py-1.5 mt-3 flex items-center gap-1.5",style:{background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.6)",backdropFilter:"blur(10px)"},children:[x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"rgba(0, 0, 0, 0.35)"},children:[x.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),x.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),x.jsx("span",{className:"text-[11px]",style:{color:"rgba(0, 0, 0, 0.35)"},children:"End-to-end encrypted"})]})]}),e.map((ft,Et)=>{const P=ft.isMe,H=Et>0?e[Et-1]:null,J=Et<e.length-1?e[Et+1]:null,it=H&&H.isMe===P,ut=J&&J.isMe===P,pt=!it,vt=!ut,It=!P&&vt,Tt=YI(H,ft),Gt=pt&&Et>0&&!Tt?"mt-2":"mt-[2px]",Xt=QI(P,pt,vt);return x.jsxs(QT.Fragment,{children:[Tt&&x.jsx("div",{className:"flex justify-center my-4",children:x.jsx("span",{className:"text-[11px] font-medium",style:{color:"rgba(0, 0, 0, 0.35)"},children:KI(ft.timestamp)})}),x.jsxs("div",{className:`flex ${P?"justify-end":"justify-start"} ${Gt} relative group`,children:[!P&&x.jsx("div",{className:"w-7 h-7 mr-2 flex-shrink-0 self-end",children:It?x.jsx("div",{className:"w-full h-full rounded-full p-[1px]",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1, #0ea5e9)"},children:x.jsx("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.85)"},children:x.jsx("span",{className:"text-[10px] font-bold uppercase select-none",style:{color:"rgba(0, 0, 0, 0.6)"},children:(ft.user||"?")[0]})})}):x.jsx("div",{className:"w-full h-full"})}),x.jsxs("div",{className:"relative max-w-[75%]",children:[x.jsx(ei,{children:_===ft.id&&x.jsx(fn.div,{initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30",children:x.jsx("div",{className:"rounded-full px-2 py-1.5 flex gap-1 shadow-2xl",style:{background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(30px) saturate(200%)",WebkitBackdropFilter:"blur(30px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:XI.map(de=>x.jsx("button",{className:"hover:scale-125 transition-transform px-0.5 active:scale-90",onClick:pn=>{pn.stopPropagation(),S(null)},children:x.jsx("img",{src:oh(de),alt:de,width:26,height:26,draggable:!1})},de))})})}),ft.type==="sticker"?x.jsx("div",{className:"hover:scale-110 transition-transform cursor-pointer active:scale-95",onDoubleClick:()=>S(ft.id),children:x.jsx("img",{src:oh(ft.text),alt:ft.text,width:100,height:100,draggable:!1,style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.15))"}})}):ft.type==="image"?x.jsx("div",{onDoubleClick:()=>S(ft.id),className:`overflow-hidden cursor-pointer ${Xt}`,style:P?{border:"2px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"}:{border:"2px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 4px 16px rgba(0,0,0,0.06)"},children:x.jsx("img",{src:ft.text,alt:"Shared",className:"max-w-[260px] max-h-[300px] object-cover",style:{borderRadius:"inherit"}})}):x.jsx("div",{onDoubleClick:()=>S(ft.id),className:`
                                                px-3.5 py-2 text-[15px] leading-[20px] break-words cursor-pointer select-none ${Xt}
                                            `,style:P?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.75), rgba(99, 102, 241, 0.65))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.25)",color:"white",boxShadow:"0 4px 16px rgba(59, 130, 246, 0.15)"}:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.65)",color:"rgba(0, 0, 0, 0.85)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:ft.text}),P&&vt&&x.jsx("div",{className:"flex justify-end mt-0.5 pr-1",children:Et===dt&&ft.status==="delivered"?x.jsx("span",{className:"text-[10px] font-normal",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Seen"}):ft.status==="delivered"?x.jsx(p5,{size:13,className:"text-blue-500"}):ft.status==="failed"?x.jsx("span",{className:"text-[10px] text-red-500 font-medium",children:"Not sent"}):x.jsx(ZT,{size:13,style:{color:"rgba(0, 0, 0, 0.25)"}})})]})]})]},ft.id)}),l&&x.jsxs("div",{className:"flex justify-start mt-2 mb-1",children:[x.jsx("div",{className:"w-7 h-7 rounded-full mr-2 flex-shrink-0 self-end flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.45)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:x.jsx("span",{className:"text-[10px] font-bold uppercase",style:{color:"rgba(0, 0, 0, 0.6)"},children:(n.name||"?")[0]})}),x.jsx("div",{className:"rounded-[22px] rounded-bl-md px-4 py-3",style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.65)"},children:x.jsxs("div",{className:"flex gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"0ms"}}),x.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"150ms"}}),x.jsx("span",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:"rgba(0, 0, 0, 0.3)",animationDelay:"300ms"}})]})})]}),x.jsx("div",{ref:ht})]}),x.jsx("input",{type:"file",ref:C,accept:"image/*",className:"hidden",onChange:Ut}),x.jsxs("form",{onSubmit:X,className:"px-3 py-2 flex items-center gap-2",style:{background:"rgba(255, 255, 255, 0.45)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.5)"},children:[x.jsxs("button",{type:"button",onClick:M,className:"h-11 w-11 flex items-center justify-center rounded-full text-white flex-shrink-0 active:scale-90 transition-transform relative",style:{background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.2)"},children:[x.jsx(JT,{size:22}),!at&&x.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-400 rounded-full p-[2px]",children:x.jsx(ho,{size:8,className:"text-black fill-current"})})]}),x.jsxs("div",{className:"flex-1 rounded-full h-11 flex items-center px-4 gap-2 cursor-text",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.65)",backdropFilter:"blur(10px)"},onClick:()=>{L(!0),N(!1)},children:[x.jsxs("div",{ref:D,className:"flex-1 text-[15px] min-h-[20px] select-none overflow-hidden whitespace-nowrap",style:{color:m?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.35)"},children:[m||"Message...",B&&x.jsx("span",{className:"inline-block w-[2px] h-[18px] bg-blue-500 ml-[1px] align-text-bottom animate-pulse"})]}),m?x.jsx("button",{type:"submit",className:"text-blue-500 font-bold text-sm flex-shrink-0 active:opacity-60",children:"Send"}):x.jsx(x.Fragment,{children:x.jsx("button",{type:"button",onClick:()=>{at?N(!A):d()},className:"flex-shrink-0 active:opacity-50",style:{color:"rgba(0, 0, 0, 0.5)"},children:x.jsx(z5,{size:22,strokeWidth:1.5})})})]}),!m&&x.jsx("button",{type:"button",onClick:ot,className:"flex-shrink-0 active:scale-75 transition-transform",style:{color:"rgba(0, 0, 0, 0.5)"},children:x.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),x.jsx(ei,{children:A&&x.jsx(HI,{onClose:()=>N(!1),onSelect:ft=>{s(ft,"sticker"),N(!1)}})}),x.jsx(ei,{children:x.jsx(dC,{visible:B&&!A,onKeyPress:I,onBackspace:V,onEnter:j})})]})}),JI=({onAnswer:n,onReject:t})=>x.jsxs(fn.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},className:"fixed top-4 left-4 right-4 rounded-3xl p-4 shadow-2xl z-50 flex items-center justify-between",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.7)"},children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-full animate-pulse",style:{background:"rgba(59, 130, 246, 0.1)"}}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Incoming Video Call..."}),x.jsx("span",{className:"text-xs",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Encrypted P2P Connection"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:t,className:"p-3 rounded-full text-white active:scale-90 transition-transform",style:{background:"rgba(239, 68, 68, 0.85)"},children:x.jsx(WT,{size:20})}),x.jsx("button",{onClick:n,className:"p-3 rounded-full text-white active:scale-90 transition-transform",style:{background:"rgba(34, 197, 94, 0.85)"},children:x.jsx(lh,{size:20})})]})]}),WI=({call:n,remoteStream:t,onEnd:e})=>{const s=F.useRef(null),a=F.useRef(null),[l,u]=F.useState(!1),[d,g]=F.useState(!1);F.useEffect(()=>{s.current&&t&&(s.current.srcObject=t),a.current&&n.stream&&(a.current.srcObject=n.stream)},[t,n.stream]);const m=()=>{n.stream&&(n.stream.getAudioTracks().forEach(_=>_.enabled=l),u(!l))},y=()=>{n.stream&&(n.stream.getVideoTracks().forEach(_=>_.enabled=d),g(!d))};return x.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col",style:{background:"#f0f0f0"},children:[x.jsxs("div",{className:"flex-1 relative",style:{background:"rgba(0, 0, 0, 0.05)"},children:[t?x.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Connecting..."}),x.jsx("div",{className:"absolute top-4 right-4 w-32 h-48 rounded-3xl overflow-hidden shadow-lg",style:{background:"rgba(255, 255, 255, 0.5)",border:"2px solid rgba(255, 255, 255, 0.7)"},children:x.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})})]}),x.jsxs("div",{className:"h-24 flex items-center justify-center gap-8 pb-4",style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",borderTop:"1px solid rgba(255, 255, 255, 0.6)"},children:[x.jsx("button",{onClick:m,className:"p-4 rounded-full transition-all active:scale-90",style:l?{background:"rgba(0,0,0,0.8)",color:"white"}:{background:"rgba(255,255,255,0.6)",color:"rgba(0,0,0,0.7)",border:"1px solid rgba(255,255,255,0.7)"},children:l?x.jsx(M5,{}):x.jsx(k5,{})}),x.jsx("button",{onClick:e,className:"p-4 rounded-full text-white shadow-lg scale-110 active:scale-95 transition-transform",style:{background:"rgba(220, 38, 38, 0.85)",boxShadow:"0 4px 20px rgba(220, 38, 38, 0.3)"},children:x.jsx(WT,{size:32})}),x.jsx("button",{onClick:y,className:"p-4 rounded-full transition-all active:scale-90",style:d?{background:"rgba(0,0,0,0.8)",color:"white"}:{background:"rgba(255,255,255,0.6)",color:"rgba(0,0,0,0.7)",border:"1px solid rgba(255,255,255,0.7)"},children:d?x.jsx(K5,{}):x.jsx(lh,{})})]})]})},tP=({onLock:n})=>{const[t,e]=F.useState("0"),[s,a]=F.useState(null),[l,u]=F.useState(null),[d,g]=F.useState(!1),m=F.useRef(null),y=(w,C,D)=>{const I=parseFloat(w),V=parseFloat(C);if(isNaN(I)||isNaN(V))return typeof C=="string"?C:String(C);let j=0;switch(D){case"+":j=I+V;break;case"-":j=I-V;break;case"":j=I*V;break;case"":if(V===0)return"Error";j=I/V;break;default:return String(C)}return String(parseFloat(Number(j).toPrecision(10)))},_=w=>{if(t==="Error"){e(w),g(!1);return}d?(e(w),g(!1)):e(t==="0"?w:t+w)},S=()=>{if(d){e("0."),g(!1);return}t.indexOf(".")===-1&&t!=="Error"&&e(t+".")},A=()=>{e("0"),a(null),u(null),g(!1)},N=()=>{if(t==="Error")return;const w=parseFloat(t);isNaN(w)||e(String(w*-1))},B=()=>{if(t==="Error")return;const w=parseFloat(t);isNaN(w)||e(String(parseFloat(Number(w/100).toPrecision(10))))},L=w=>{if(t!=="Error"){if(l&&!d){const C=y(s,t,l);e(C),a(C)}else a(t);u(w),g(!0)}},K=F.useCallback(()=>{if(!l||!s||t==="Error")return;const w=y(s,t,l);e(w),a(null),u(null),g(!0)},[l,s,t]),tt=F.useCallback(w=>{w.preventDefault(),K(),m.current=setTimeout(()=>{e(C=>((C==="2025"||C==="2025.")&&(navigator.vibrate&&navigator.vibrate([50,50,50]),n()),C))},1500)},[K,n]),Z=F.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null)},[]);F.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const lt=w=>{if(w==="Error")return w;const C=w.split(".");return C[0]=C[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),C.join(".")},at=t.length;let ht="text-7xl";return at>7&&(ht="text-6xl"),at>9&&(ht="text-5xl"),at>12&&(ht="text-4xl"),x.jsxs("div",{className:"h-[100dvh] w-full bg-black flex flex-col font-sans select-none overflow-hidden",children:[x.jsx("div",{className:`flex-1 flex items-end justify-end px-6 pb-4 ${ht} tracking-tight font-light text-white overflow-hidden break-all`,children:lt(t)}),x.jsxs("div",{className:"w-full px-4 pb-8 space-y-3",children:[x.jsxs("div",{className:"flex gap-3 justify-between",children:[x.jsx("button",{onClick:A,className:"w-[22%] aspect-square rounded-full bg-[#a5a5a5] active:bg-[#d4d4d2] text-black text-2xl font-medium transition-colors",children:t==="0"?"AC":"C"}),x.jsx("button",{onClick:N,className:"w-[22%] aspect-square rounded-full bg-[#a5a5a5] active:bg-[#d4d4d2] text-black text-2xl font-medium transition-colors",children:"+/-"}),x.jsx("button",{onClick:B,className:"w-[22%] aspect-square rounded-full bg-[#a5a5a5] active:bg-[#d4d4d2] text-black text-2xl font-medium transition-colors",children:"%"}),x.jsx("button",{onClick:()=>L(""),className:`w-[22%] aspect-square rounded-full text-3xl font-medium transition-colors ${l===""&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:""})]}),x.jsxs("div",{className:"flex gap-3 justify-between",children:[x.jsx("button",{onClick:()=>_("7"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"7"}),x.jsx("button",{onClick:()=>_("8"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"8"}),x.jsx("button",{onClick:()=>_("9"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"9"}),x.jsx("button",{onClick:()=>L(""),className:`w-[22%] aspect-square rounded-full text-3xl font-medium transition-colors ${l===""&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:""})]}),x.jsxs("div",{className:"flex gap-3 justify-between",children:[x.jsx("button",{onClick:()=>_("4"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"4"}),x.jsx("button",{onClick:()=>_("5"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"5"}),x.jsx("button",{onClick:()=>_("6"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"6"}),x.jsx("button",{onClick:()=>L("-"),className:`w-[22%] aspect-square rounded-full text-4xl font-medium transition-colors ${l==="-"&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:""})]}),x.jsxs("div",{className:"flex gap-3 justify-between",children:[x.jsx("button",{onClick:()=>_("1"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"1"}),x.jsx("button",{onClick:()=>_("2"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"2"}),x.jsx("button",{onClick:()=>_("3"),className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"3"}),x.jsx("button",{onClick:()=>L("+"),className:`w-[22%] aspect-square rounded-full text-4xl font-medium transition-colors ${l==="+"&&d?"bg-white text-[#f1a33b]":"bg-[#f1a33b] active:bg-[#f3c285] text-white"}`,children:"+"})]}),x.jsxs("div",{className:"flex gap-3 justify-between",children:[x.jsx("button",{onClick:()=>_("0"),className:"w-[47.5%] aspect-[2.15/1] rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors flex items-center justify-start pl-8 text-left",children:"0"}),x.jsx("button",{onClick:S,className:"w-[22%] aspect-square rounded-full bg-[#333333] active:bg-[#737373] text-white text-3xl font-normal transition-colors",children:"."}),x.jsx("button",{onMouseDown:tt,onMouseUp:Z,onMouseLeave:Z,onTouchStart:tt,onTouchEnd:Z,className:"w-[22%] aspect-square rounded-full bg-[#f1a33b] active:bg-[#f3c285] text-white text-4xl font-medium transition-colors select-none",children:"="})]})]})]})};class eP extends QT.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("[Parallel] Caught error:",t,e)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?x.jsxs("div",{className:"h-[100dvh] w-full ios26-wallpaper flex flex-col items-center justify-center p-8",children:[x.jsx("div",{className:"w-20 h-20 rounded-3xl flex items-center justify-center mb-6",style:{background:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.7)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:x.jsx("span",{className:"text-4xl",children:""})}),x.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"rgba(0, 0, 0, 0.85)"},children:"Something went wrong"}),x.jsx("p",{className:"text-sm text-center mb-6 max-w-xs",style:{color:"rgba(0, 0, 0, 0.45)"},children:"An unexpected error occurred. Tap below to recover."}),x.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-2xl font-semibold active:scale-95 transition-transform",style:{color:"white",background:"linear-gradient(135deg, #3b82f6, #6366f1)",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:"Try Again"})]}):this.props.children}}function nP(){const[n,t]=F.useState(!0),[e,s]=F.useState(!0),[a,l]=F.useState(!1);F.useEffect(()=>{const m=()=>l(!0),y=()=>l(!1);return window.addEventListener("blur",m),window.addEventListener("focus",y),()=>{window.removeEventListener("blur",m),window.removeEventListener("focus",y)}},[]);const u=()=>{t(!1)},d=()=>{s(!1)},g=()=>{s(!0),t(!0)};return x.jsx(BI,{children:x.jsx(eP,{children:x.jsxs("div",{className:"h-[100dvh] w-full ios26-wallpaper overflow-hidden relative",children:[x.jsx(ei,{children:a&&x.jsx(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)"},children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-20 h-20 rounded-3xl mx-auto mb-6 flex items-center justify-center",style:{background:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0,0,0,0.06)"},children:x.jsx("span",{className:"text-4xl",children:""})}),x.jsx("h2",{className:"text-2xl font-bold tracking-widest uppercase",style:{color:"rgba(0, 0, 0, 0.8)"},children:"Parallel Protected"}),x.jsx("p",{className:"text-sm mt-2",style:{color:"rgba(0, 0, 0, 0.35)"},children:"Content Hidden for Privacy"})]})})}),x.jsx(ei,{mode:"wait",children:n?x.jsx(tP,{onLock:u},"calc"):e?x.jsx(q4,{onAuthenticated:d},"auth"):x.jsx(GI,{onLock:g},"private")})]})})})}t5.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(nP,{})}));
