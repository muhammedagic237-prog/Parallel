function MR(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function yb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp={exports:{}},Hl={};var mT;function VR(){if(mT)return Hl;mT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Hl.Fragment=t,Hl.jsx=n,Hl.jsxs=n,Hl}var gT;function IR(){return gT||(gT=1,qp.exports=VR()),qp.exports}var I=IR(),Gp={exports:{}},Rt={};var yT;function PR(){if(yT)return Rt;yT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function F(j,tt,ut){this.props=j,this.context=tt,this.refs=B,this.updater=ut||M}F.prototype.isReactComponent={},F.prototype.setState=function(j,tt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,tt,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=F.prototype;function G(j,tt,ut){this.props=j,this.context=tt,this.refs=B,this.updater=ut||M}var at=G.prototype=new q;at.constructor=G,k(at,F.prototype),at.isPureReactComponent=!0;var st=Array.isArray;function lt(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(j,tt,ut){var ht=ut.ref;return{$$typeof:e,type:j,key:tt,ref:ht!==void 0?ht:null,props:ut}}function O(j,tt){return R(j.type,tt,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function L(j){var tt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ut){return tt[ut]})}var w=/\/+/g;function vt(j,tt){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):tt.toString(36)}function St(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(lt,lt):(j.status="pending",j.then(function(tt){j.status==="pending"&&(j.status="fulfilled",j.value=tt)},function(tt){j.status==="pending"&&(j.status="rejected",j.reason=tt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,tt,ut,ht,At){var It=typeof j;(It==="undefined"||It==="boolean")&&(j=null);var zt=!1;if(j===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(j.$$typeof){case e:case t:zt=!0;break;case y:return zt=j._init,Q(zt(j._payload),tt,ut,ht,At)}}if(zt)return At=At(j),zt=ht===""?"."+vt(j,0):ht,st(At)?(ut="",zt!=null&&(ut=zt.replace(w,"$&/")+"/"),Q(At,tt,ut,"",function(vr){return vr})):At!=null&&(N(At)&&(At=O(At,ut+(At.key==null||j&&j.key===At.key?"":(""+At.key).replace(w,"$&/")+"/")+zt)),tt.push(At)),1;zt=0;var Ne=ht===""?".":ht+":";if(st(j))for(var le=0;le<j.length;le++)ht=j[le],It=Ne+vt(ht,le),zt+=Q(ht,tt,ut,It,At);else if(le=C(j),typeof le=="function")for(j=le.call(j),le=0;!(ht=j.next()).done;)ht=ht.value,It=Ne+vt(ht,le++),zt+=Q(ht,tt,ut,It,At);else if(It==="object"){if(typeof j.then=="function")return Q(St(j),tt,ut,ht,At);throw tt=String(j),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function it(j,tt,ut){if(j==null)return j;var ht=[],At=0;return Q(j,ht,"","",function(It){return tt.call(ut,It,At++)}),ht}function ct(j){if(j._status===-1){var tt=j._result;tt=tt(),tt.then(function(ut){(j._status===0||j._status===-1)&&(j._status=1,j._result=ut)},function(ut){(j._status===0||j._status===-1)&&(j._status=2,j._result=ut)}),j._status===-1&&(j._status=0,j._result=tt)}if(j._status===1)return j._result.default;throw j._result}var Et=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Dt={map:it,forEach:function(j,tt,ut){it(j,function(){tt.apply(this,arguments)},ut)},count:function(j){var tt=0;return it(j,function(){tt++}),tt},toArray:function(j){return it(j,function(tt){return tt})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Rt.Activity=v,Rt.Children=Dt,Rt.Component=F,Rt.Fragment=n,Rt.Profiler=a,Rt.PureComponent=G,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Rt.cache=function(j){return function(){return j.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(j,tt,ut){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ht=k({},j.props),At=j.key;if(tt!=null)for(It in tt.key!==void 0&&(At=""+tt.key),tt)!x.call(tt,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&tt.ref===void 0||(ht[It]=tt[It]);var It=arguments.length-2;if(It===1)ht.children=ut;else if(1<It){for(var zt=Array(It),Ne=0;Ne<It;Ne++)zt[Ne]=arguments[Ne+2];ht.children=zt}return R(j.type,At,ht)},Rt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Rt.createElement=function(j,tt,ut){var ht,At={},It=null;if(tt!=null)for(ht in tt.key!==void 0&&(It=""+tt.key),tt)x.call(tt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(At[ht]=tt[ht]);var zt=arguments.length-2;if(zt===1)At.children=ut;else if(1<zt){for(var Ne=Array(zt),le=0;le<zt;le++)Ne[le]=arguments[le+2];At.children=Ne}if(j&&j.defaultProps)for(ht in zt=j.defaultProps,zt)At[ht]===void 0&&(At[ht]=zt[ht]);return R(j,It,At)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(j){return{$$typeof:h,render:j}},Rt.isValidElement=N,Rt.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ct}},Rt.memo=function(j,tt){return{$$typeof:m,type:j,compare:tt===void 0?null:tt}},Rt.startTransition=function(j){var tt=D.T,ut={};D.T=ut;try{var ht=j(),At=D.S;At!==null&&At(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(lt,Et)}catch(It){Et(It)}finally{tt!==null&&ut.types!==null&&(tt.types=ut.types),D.T=tt}},Rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Rt.use=function(j){return D.H.use(j)},Rt.useActionState=function(j,tt,ut){return D.H.useActionState(j,tt,ut)},Rt.useCallback=function(j,tt){return D.H.useCallback(j,tt)},Rt.useContext=function(j){return D.H.useContext(j)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(j,tt){return D.H.useDeferredValue(j,tt)},Rt.useEffect=function(j,tt){return D.H.useEffect(j,tt)},Rt.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Rt.useId=function(){return D.H.useId()},Rt.useImperativeHandle=function(j,tt,ut){return D.H.useImperativeHandle(j,tt,ut)},Rt.useInsertionEffect=function(j,tt){return D.H.useInsertionEffect(j,tt)},Rt.useLayoutEffect=function(j,tt){return D.H.useLayoutEffect(j,tt)},Rt.useMemo=function(j,tt){return D.H.useMemo(j,tt)},Rt.useOptimistic=function(j,tt){return D.H.useOptimistic(j,tt)},Rt.useReducer=function(j,tt,ut){return D.H.useReducer(j,tt,ut)},Rt.useRef=function(j){return D.H.useRef(j)},Rt.useState=function(j){return D.H.useState(j)},Rt.useSyncExternalStore=function(j,tt,ut){return D.H.useSyncExternalStore(j,tt,ut)},Rt.useTransition=function(){return D.H.useTransition()},Rt.version="19.2.4",Rt}var vT;function Rg(){return vT||(vT=1,Gp.exports=PR()),Gp.exports}var P=Rg();const vb=yb(P);var $p={exports:{}},ql={},Kp={exports:{}},Yp={};var _T;function OR(){return _T||(_T=1,(function(e){function t(Q,it){var ct=Q.length;Q.push(it);t:for(;0<ct;){var Et=ct-1>>>1,Dt=Q[Et];if(0<a(Dt,it))Q[Et]=it,Q[ct]=Dt,ct=Et;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var it=Q[0],ct=Q.pop();if(ct!==it){Q[0]=ct;t:for(var Et=0,Dt=Q.length,j=Dt>>>1;Et<j;){var tt=2*(Et+1)-1,ut=Q[tt],ht=tt+1,At=Q[ht];if(0>a(ut,ct))ht<Dt&&0>a(At,ut)?(Q[Et]=At,Q[ht]=ct,Et=ht):(Q[Et]=ut,Q[tt]=ct,Et=tt);else if(ht<Dt&&0>a(At,ct))Q[Et]=At,Q[ht]=ct,Et=ht;else break t}}return it}function a(Q,it){var ct=Q.sortIndex-it.sortIndex;return ct!==0?ct:Q.id-it.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,v=null,E=3,C=!1,M=!1,k=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function at(Q){for(var it=n(m);it!==null;){if(it.callback===null)s(m);else if(it.startTime<=Q)s(m),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(m)}}function st(Q){if(k=!1,at(Q),!M)if(n(p)!==null)M=!0,lt||(lt=!0,L());else{var it=n(m);it!==null&&St(st,it.startTime-Q)}}var lt=!1,D=-1,x=5,R=-1;function O(){return B?!0:!(e.unstable_now()-R<x)}function N(){if(B=!1,lt){var Q=e.unstable_now();R=Q;var it=!0;try{t:{M=!1,k&&(k=!1,q(D),D=-1),C=!0;var ct=E;try{e:{for(at(Q),v=n(p);v!==null&&!(v.expirationTime>Q&&O());){var Et=v.callback;if(typeof Et=="function"){v.callback=null,E=v.priorityLevel;var Dt=Et(v.expirationTime<=Q);if(Q=e.unstable_now(),typeof Dt=="function"){v.callback=Dt,at(Q),it=!0;break e}v===n(p)&&s(p),at(Q)}else s(p);v=n(p)}if(v!==null)it=!0;else{var j=n(m);j!==null&&St(st,j.startTime-Q),it=!1}}break t}finally{v=null,E=ct,C=!1}it=void 0}}finally{it?L():lt=!1}}}var L;if(typeof G=="function")L=function(){G(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,vt=w.port2;w.port1.onmessage=N,L=function(){vt.postMessage(null)}}else L=function(){F(N,0)};function St(Q,it){D=F(function(){Q(e.unstable_now())},it)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var it=3;break;default:it=E}var ct=E;E=it;try{return Q()}finally{E=ct}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(Q,it){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=E;E=Q;try{return it()}finally{E=ct}},e.unstable_scheduleCallback=function(Q,it,ct){var Et=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Et+ct:Et):ct=Et,Q){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=ct+Dt,Q={id:y++,callback:it,priorityLevel:Q,startTime:ct,expirationTime:Dt,sortIndex:-1},ct>Et?(Q.sortIndex=ct,t(m,Q),n(p)===null&&Q===n(m)&&(k?(q(D),D=-1):k=!0,St(st,ct-Et))):(Q.sortIndex=Dt,t(p,Q),M||C||(M=!0,lt||(lt=!0,L()))),Q},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Q){var it=E;return function(){var ct=E;E=it;try{return Q.apply(this,arguments)}finally{E=ct}}}})(Yp)),Yp}var TT;function NR(){return TT||(TT=1,Kp.exports=OR()),Kp.exports}var Qp={exports:{}},sn={};var ET;function kR(){if(ET)return sn;ET=1;var e=Rg();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,y)},sn.flushSync=function(p){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=y,s.d.f()}},sn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},sn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,m){return p(m)},sn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var bT;function LR(){if(bT)return Qp.exports;bT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qp.exports=kR(),Qp.exports}var ST;function jR(){if(ST)return ql;ST=1;var e=NR(),t=Rg(),n=LR();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return p(d),i;if(g===u)return p(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,u=g;break}if(S===u){T=!0,u=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,u=d;break}if(S===u){T=!0,u=g,o=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var w=Symbol.for("react.client.reference");function vt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===w?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case F:return"Profiler";case B:return"StrictMode";case st:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case G:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case at:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:vt(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return vt(i(r))}catch{}}return null}var St=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Et=[],Dt=-1;function j(i){return{current:i}}function tt(i){0>Dt||(i.current=Et[Dt],Et[Dt]=null,Dt--)}function ut(i,r){Dt++,Et[Dt]=i.current,i.current=r}var ht=j(null),At=j(null),It=j(null),zt=j(null);function Ne(i,r){switch(ut(It,r),ut(At,i),ut(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?j_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=j_(r),i=U_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ht),ut(ht,i)}function le(){tt(ht),tt(At),tt(It)}function vr(i){i.memoizedState!==null&&ut(zt,i);var r=ht.current,o=U_(r,i.type);r!==o&&(ut(At,i),ut(ht,o))}function ma(i){At.current===i&&(tt(ht),tt(At)),zt.current===i&&(tt(zt),Ul._currentValue=ct)}var ga,ya;function gi(i){if(ga===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ga=r&&r[1]||"",ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+i+ya}var Uo=!1;function _r(i,r){if(!i||Uo)return"";Uo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Z){var Y=Z}Reflect.construct(i,[],et)}else{try{et.call()}catch(Z){Y=Z}i.call(et.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var V=T.split(`
`),K=S.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===K.length)for(u=V.length-1,d=K.length-1;1<=u&&0<=d&&V[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==K[d]){var J=`
`+V[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{Uo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gi(o):""}function Bo(i,r){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return i.child!==r&&r!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return _r(i.type,!1);case 11:return _r(i.type.render,!1);case 1:return _r(i.type,!0);case 31:return gi("Activity");default:return""}}function zo(i){try{var r="",o=null;do r+=Bo(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var be=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,Es=e.unstable_cancelCallback,$h=e.unstable_shouldYield,ju=e.unstable_requestPaint,fn=e.unstable_now,Tr=e.unstable_getCurrentPriorityLevel,Fo=e.unstable_ImmediatePriority,Ho=e.unstable_UserBlockingPriority,bs=e.unstable_NormalPriority,Kh=e.unstable_LowPriority,Uu=e.unstable_IdlePriority,Bu=e.log,zu=e.unstable_setDisableYieldValue,Wn=null,Ke=null;function Nn(i){if(typeof Bu=="function"&&zu(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Wn,i)}catch{}}var ye=Math.clz32?Math.clz32:Hu,Fu=Math.log,va=Math.LN2;function Hu(i){return i>>>=0,i===0?32:31-(Fu(i)/va|0)|0}var yi=256,Er=262144,Se=4194304;function vi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _i(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=vi(u):(T&=S,T!==0?d=vi(T):o||(o=S&~i,o!==0&&(d=vi(o))))):(S=u&~g,S!==0?d=vi(S):T!==0?d=vi(T):o||(o=u&~i,o!==0&&(d=vi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ti(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Yh(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function Ti(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function br(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qh(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-ye(o),et=1<<J;S[J]=0,V[J]=-1;var Y=K[J];if(Y!==null)for(K[J]=null,J=0;J<Y.length;J++){var Z=Y[J];Z!==null&&(Z.lane&=-536870913)}o&=~et}u!==0&&Sr(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function Sr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ye(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function qo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ye(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Go(i,r){var o=r&-r;return o=(o&42)!==0?1:Cr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Cr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gu(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:lT(i.type))}function ei(i,r){var o=it.p;try{return it.p=i,r()}finally{it.p=o}}var ni=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ni,He="__reactProps$"+ni,Ei="__reactContainer$"+ni,_a="__reactEvents$"+ni,Xh="__reactListeners$"+ni,$u="__reactHandles$"+ni,Ku="__reactResources$"+ni,bi="__reactMarker$"+ni;function Ta(i){delete i[Ce],delete i[He],delete i[_a],delete i[Xh],delete i[$u]}function Si(i){var r=i[Ce];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ei]||o[Ce]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=$_(i);i!==null;){if(o=i[Ce])return o;i=$_(i)}return r}i=o,o=i.parentNode}return null}function kn(i){if(i=i[Ce]||i[Ei]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function xn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ci(i){var r=i[Ku];return r||(r=i[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(i){i[bi]=!0}var $o=new Set,Ko={};function Ai(i,r){xi(i,r),xi(i+"Capture",r)}function xi(i,r){for(Ko[i]=r,i=0;i<r.length;i++)$o.add(r[i])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Xo={};function Yu(i){return be.call(Xo,i)?!0:be.call(Qo,i)?!1:Yo.test(i)?Xo[i]=!0:(Qo[i]=!0,!1)}function Ea(i,r,o){if(Yu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Rn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function xe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ss(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zo(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qt(i){if(!i._valueTracker){var r=Ss(i)?"checked":"value";i._valueTracker=Zo(i,r,""+i[r])}}function Ar(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ss(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xr=/[\n"\\]/g;function yn(i){return i.replace(xr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ba(i,r,o,u,d,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Jo(i,T,qe(r)):o!=null?Jo(i,T,qe(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+qe(S):i.removeAttribute("name")}function Qu(i,r,o,u,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Qt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Qt(i)}function Jo(i,r,o){r==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Cs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xu(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function As(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(St(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qt(i)}function vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Zu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function tl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Wo(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Wo(i,g,r[g])}function Sa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(i){return xs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var el=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,wi=null;function Rr(i){var r=kn(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(ba(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[He]||null;if(!d)throw Error(s(90));ba(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Ar(u)}break t;case"textarea":Xu(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Cs(i,!!o.multiple,r,!1)}}}var Aa=!1;function ws(i,r,o){if(Aa)return i(r,o);Aa=!0;try{var u=i(r);return u}finally{if(Aa=!1,(Rs!==null||wi!==null)&&(Gc(),Rs&&(r=Rs,i=wi,wi=Rs=null,Rr(r),i)))for(r=0;r<i.length;r++)Rr(i[r])}}function si(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(jn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{wr=!1}var Di=null,nl=null,Dr=null;function il(){if(Dr)return Dr;var i,r=nl,o=r.length,u,d="value"in Di?Di.value:Di.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return Dr=d.slice(i,1<u?1-u:void 0)}function Mr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Qi(){return!0}function ri(){return!1}function Ye(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qi:ri,this.isPropagationStopped=ri,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),r}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Ye(Xi),Ds=v({},Xi,{view:0,detail:0}),sl=Ye(Ds),Ms,xa,Vi,Ra=v({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(Ms=i.screenX-Vi.screenX,xa=i.screenY-Vi.screenY):xa=Ms=0,Vi=i),Ms)},movementY:function(i){return"movementY"in i?i.movementY:xa}}),rl=Ye(Ra),Vr=v({},Ra,{dataTransfer:0}),Wu=Ye(Vr),tc=v({},Ds,{relatedTarget:0}),Ir=Ye(tc),al=v({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ec=Ye(al),wa=v({},Xi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nc=Ye(wa),ic=v({},Xi,{data:0}),Ii=Ye(ic),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ac[i])?!!r[i]:!1}function Vs(){return oc}var hn=v({},Ds,{key:function(i){if(i.key){var r=sc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Mr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(i){return i.type==="keypress"?Mr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lc=Ye(hn),uc=v({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ye(uc),f=v({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),_=Ye(f),b=v({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ye(b),H=v({},Ra,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Ye(H),ot=v({},Xi,{newState:0,oldState:0}),Mt=Ye(ot),ve=[9,13,27,32],$t=jn&&"CompositionEvent"in window,ue=null;jn&&"documentMode"in document&&(ue=document.documentMode);var Un=jn&&"TextEvent"in window&&!ue,Pi=jn&&(!$t||ue&&8<ue&&11>=ue),ai=" ",oi=!1;function Pr(i,r){switch(i){case"keyup":return ve.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ma=!1;function tx(i,r){switch(i){case"compositionend":return Da(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return i=r.data,i===ai&&oi?null:i;default:return null}}function ex(i,r){if(Ma)return i==="compositionend"||!$t&&Pr(i,r)?(i=il(),Dr=nl=Di=null,Ma=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!nx[i.type]:r==="textarea"}function Xy(i,r,o,u){Rs?wi?wi.push(u):wi=[u]:Rs=u,r=Jc(r,"onChange"),0<r.length&&(o=new Mi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ol=null,ll=null;function ix(i){I_(i,0)}function cc(i){var r=xn(i);if(Ar(r))return i}function Zy(i,r){if(i==="change")return r}var Jy=!1;if(jn){var Zh;if(jn){var Jh="oninput"in document;if(!Jh){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),Jh=typeof Wy.oninput=="function"}Zh=Jh}else Zh=!1;Jy=Zh&&(!document.documentMode||9<document.documentMode)}function t0(){ol&&(ol.detachEvent("onpropertychange",e0),ll=ol=null)}function e0(i){if(i.propertyName==="value"&&cc(ll)){var r=[];Xy(r,ll,i,Ln(i)),ws(ix,r)}}function sx(i,r,o){i==="focusin"?(t0(),ol=r,ll=o,ol.attachEvent("onpropertychange",e0)):i==="focusout"&&t0()}function rx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cc(ll)}function ax(i,r){if(i==="click")return cc(r)}function ox(i,r){if(i==="input"||i==="change")return cc(r)}function lx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var wn=typeof Object.is=="function"?Object.is:lx;function ul(i,r){if(wn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!be.call(r,d)||!wn(i[d],r[d]))return!1}return!0}function n0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function i0(i,r){var o=n0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=n0(o)}}function s0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?s0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function r0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ri(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ri(i.document)}return r}function Wh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ux=jn&&"documentMode"in document&&11>=document.documentMode,Va=null,td=null,cl=null,ed=!1;function a0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ed||Va==null||Va!==Ri(u)||(u=Va,"selectionStart"in u&&Wh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cl&&ul(cl,u)||(cl=u,u=Jc(td,"onSelect"),0<u.length&&(r=new Mi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Va)))}function Or(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ia={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},nd={},o0={};jn&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Nr(i){if(nd[i])return nd[i];if(!Ia[i])return i;var r=Ia[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in o0)return nd[i]=r[o];return i}var l0=Nr("animationend"),u0=Nr("animationiteration"),c0=Nr("animationstart"),cx=Nr("transitionrun"),fx=Nr("transitionstart"),hx=Nr("transitioncancel"),f0=Nr("transitionend"),h0=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function li(i,r){h0.set(i,r),Ai(r,[i])}var fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],Pa=0,sd=0;function hc(){for(var i=Pa,r=sd=Pa=0;r<i;){var o=Bn[r];Bn[r++]=null;var u=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&d0(o,d,g)}}function dc(i,r,o,u){Bn[Pa++]=i,Bn[Pa++]=r,Bn[Pa++]=o,Bn[Pa++]=u,sd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function rd(i,r,o,u){return dc(i,r,o,u),pc(i)}function kr(i,r){return dc(i,null,null,r),pc(i)}function d0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-ye(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function pc(i){if(50<Il)throw Il=0,pp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Oa={};function dx(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new dx(i,r,o,u)}function ad(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function p0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function mc(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")ad(i)&&(T=1);else if(typeof i=="string")T=vR(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Dn(31,o,r,d),i.elementType=R,i.lanes=g,i;case k:return Lr(o.children,d,g,r);case B:T=8,d|=24;break;case F:return i=Dn(12,o,r,d|2),i.elementType=F,i.lanes=g,i;case st:return i=Dn(13,o,r,d),i.elementType=st,i.lanes=g,i;case lt:return i=Dn(19,o,r,d),i.elementType=lt,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:T=10;break t;case q:T=9;break t;case at:T=11;break t;case D:T=14;break t;case x:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function Lr(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function od(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function m0(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function ld(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var g0=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=g0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:zo(r)},g0.set(i,r),r)}return{value:i,source:r,stack:zo(r)}}var Na=[],ka=0,gc=null,fl=0,Fn=[],Hn=0,Is=null,Oi=1,Ni="";function Wi(i,r){Na[ka++]=fl,Na[ka++]=gc,gc=i,fl=r}function y0(i,r,o){Fn[Hn++]=Oi,Fn[Hn++]=Ni,Fn[Hn++]=Is,Is=i;var u=Oi;i=Ni;var d=32-ye(u)-1;u&=~(1<<d),o+=1;var g=32-ye(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Oi=1<<32-ye(r)+d|o<<d|u,Ni=g+i}else Oi=1<<g|o<<d|u,Ni=i}function ud(i){i.return!==null&&(Wi(i,1),y0(i,1,0))}function cd(i){for(;i===gc;)gc=Na[--ka],Na[ka]=null,fl=Na[--ka],Na[ka]=null;for(;i===Is;)Is=Fn[--Hn],Fn[Hn]=null,Ni=Fn[--Hn],Fn[Hn]=null,Oi=Fn[--Hn],Fn[Hn]=null}function v0(i,r){Fn[Hn++]=Oi,Fn[Hn++]=Ni,Fn[Hn++]=Is,Oi=r.id,Ni=r.overflow,Is=i}var Qe=null,se=null,Bt=!1,Ps=null,qn=!1,fd=Error(s(519));function Os(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(zn(r,i)),fd}function _0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ce]=i,r[He]=u,o){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(o=0;o<Ol.length;o++)Nt(Ol[o],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),Qu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),As(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||k_(r.textContent,o)?(u.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),u.onScroll!=null&&Nt("scroll",r),u.onScrollEnd!=null&&Nt("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Os(i,!0)}function T0(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function La(i){if(i!==Qe)return!1;if(!Bt)return T0(i),Bt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Dp(i.type,i.memoizedProps)),o=!o),o&&se&&Os(i),T0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));se=G_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));se=G_(i)}else r===27?(r=se,Ys(i.type)?(i=Op,Op=null,se=i):se=r):se=Qe?$n(i.stateNode.nextSibling):null;return!0}function jr(){se=Qe=null,Bt=!1}function hd(){var i=Ps;return i!==null&&(bn===null?bn=i:bn.push.apply(bn,i),Ps=null),i}function hl(i){Ps===null?Ps=[i]:Ps.push(i)}var dd=j(null),Ur=null,ts=null;function Ns(i,r,o){ut(dd,r._currentValue),r._currentValue=o}function es(i){i._currentValue=dd.current,tt(dd)}function pd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function md(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=d;for(var V=0;V<r.length;V++)if(S.context===r[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),pd(g.return,o,i),u||(T=null);break t}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),pd(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function ja(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;wn(d.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(d===zt.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Ul):i=[Ul])}d=d.return}i!==null&&md(r,i,o,u),r.flags|=262144}function yc(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Br(i){Ur=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return E0(Ur,i)}function vc(i,r){return Ur===null&&Br(i),E0(i,r)}function E0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ts===null){if(i===null)throw Error(s(308));ts=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ts=ts.next=r;return o}var px=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},mx=e.unstable_scheduleCallback,gx=e.unstable_NormalPriority,Re={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new px,data:new Map,refCount:0}}function dl(i){i.refCount--,i.refCount===0&&mx(gx,function(){i.controller.abort()})}var pl=null,yd=0,Ua=0,Ba=null;function yx(i,r){if(pl===null){var o=pl=[];yd=0,Ua=Tp(),Ba={status:"pending",value:void 0,then:function(u){o.push(u)}}}return yd++,r.then(b0,b0),r}function b0(){if(--yd===0&&pl!==null){Ba!==null&&(Ba.status="fulfilled");var i=pl;pl=null,Ua=0,Ba=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function vx(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var S0=Q.S;Q.S=function(i,r){a_=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&yx(i,r),S0!==null&&S0(i,r)};var zr=j(null);function vd(){var i=zr.current;return i!==null?i:ne.pooledCache}function _c(i,r){r===null?ut(zr,zr.current):ut(zr,r.pool)}function C0(){var i=vd();return i===null?null:{parent:Re._currentValue,pool:i}}var za=Error(s(460)),_d=Error(s(474)),Tc=Error(s(542)),Ec={then:function(){}};function A0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function x0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,w0(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,w0(i),i}throw Hr=r,za}}function Fr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Hr=o,za):o}}var Hr=null;function R0(){if(Hr===null)throw Error(s(459));var i=Hr;return Hr=null,i}function w0(i){if(i===za||i===Tc)throw Error(s(483))}var Fa=null,ml=0;function bc(i){var r=ml;return ml+=1,Fa===null&&(Fa=[]),x0(Fa,i,r)}function gl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Sc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function D0(i){function r(z,U){if(i){var $=z.deletions;$===null?(z.deletions=[U],z.flags|=16):$.push(U)}}function o(z,U){if(!i)return null;for(;U!==null;)r(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function d(z,U){return z=Ji(z,U),z.index=0,z.sibling=null,z}function g(z,U,$){return z.index=$,i?($=z.alternate,$!==null?($=$.index,$<U?(z.flags|=67108866,U):$):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,U,$,W){return U===null||U.tag!==6?(U=od($,z.mode,W),U.return=z,U):(U=d(U,$),U.return=z,U)}function V(z,U,$,W){var _t=$.type;return _t===k?J(z,U,$.props.children,W,$.key):U!==null&&(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&Fr(_t)===U.type)?(U=d(U,$.props),gl(U,$),U.return=z,U):(U=mc($.type,$.key,$.props,null,z.mode,W),gl(U,$),U.return=z,U)}function K(z,U,$,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=ld($,z.mode,W),U.return=z,U):(U=d(U,$.children||[]),U.return=z,U)}function J(z,U,$,W,_t){return U===null||U.tag!==7?(U=Lr($,z.mode,W,_t),U.return=z,U):(U=d(U,$),U.return=z,U)}function et(z,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=od(""+U,z.mode,$),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return $=mc(U.type,U.key,U.props,null,z.mode,$),gl($,U),$.return=z,$;case M:return U=ld(U,z.mode,$),U.return=z,U;case x:return U=Fr(U),et(z,U,$)}if(St(U)||L(U))return U=Lr(U,z.mode,$,null),U.return=z,U;if(typeof U.then=="function")return et(z,bc(U),$);if(U.$$typeof===G)return et(z,vc(z,U),$);Sc(z,U)}return null}function Y(z,U,$,W){var _t=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _t!==null?null:S(z,U,""+$,W);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return $.key===_t?V(z,U,$,W):null;case M:return $.key===_t?K(z,U,$,W):null;case x:return $=Fr($),Y(z,U,$,W)}if(St($)||L($))return _t!==null?null:J(z,U,$,W,null);if(typeof $.then=="function")return Y(z,U,bc($),W);if($.$$typeof===G)return Y(z,U,vc(z,$),W);Sc(z,$)}return null}function Z(z,U,$,W,_t){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get($)||null,S(U,z,""+W,_t);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case C:return z=z.get(W.key===null?$:W.key)||null,V(U,z,W,_t);case M:return z=z.get(W.key===null?$:W.key)||null,K(U,z,W,_t);case x:return W=Fr(W),Z(z,U,$,W,_t)}if(St(W)||L(W))return z=z.get($)||null,J(U,z,W,_t,null);if(typeof W.then=="function")return Z(z,U,$,bc(W),_t);if(W.$$typeof===G)return Z(z,U,$,vc(U,W),_t);Sc(U,W)}return null}function dt(z,U,$,W){for(var _t=null,qt=null,gt=U,Pt=U=0,Lt=null;gt!==null&&Pt<$.length;Pt++){gt.index>Pt?(Lt=gt,gt=null):Lt=gt.sibling;var Gt=Y(z,gt,$[Pt],W);if(Gt===null){gt===null&&(gt=Lt);break}i&&gt&&Gt.alternate===null&&r(z,gt),U=g(Gt,U,Pt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,gt=Lt}if(Pt===$.length)return o(z,gt),Bt&&Wi(z,Pt),_t;if(gt===null){for(;Pt<$.length;Pt++)gt=et(z,$[Pt],W),gt!==null&&(U=g(gt,U,Pt),qt===null?_t=gt:qt.sibling=gt,qt=gt);return Bt&&Wi(z,Pt),_t}for(gt=u(gt);Pt<$.length;Pt++)Lt=Z(gt,z,Pt,$[Pt],W),Lt!==null&&(i&&Lt.alternate!==null&&gt.delete(Lt.key===null?Pt:Lt.key),U=g(Lt,U,Pt),qt===null?_t=Lt:qt.sibling=Lt,qt=Lt);return i&&gt.forEach(function(Ws){return r(z,Ws)}),Bt&&Wi(z,Pt),_t}function bt(z,U,$,W){if($==null)throw Error(s(151));for(var _t=null,qt=null,gt=U,Pt=U=0,Lt=null,Gt=$.next();gt!==null&&!Gt.done;Pt++,Gt=$.next()){gt.index>Pt?(Lt=gt,gt=null):Lt=gt.sibling;var Ws=Y(z,gt,Gt.value,W);if(Ws===null){gt===null&&(gt=Lt);break}i&&gt&&Ws.alternate===null&&r(z,gt),U=g(Ws,U,Pt),qt===null?_t=Ws:qt.sibling=Ws,qt=Ws,gt=Lt}if(Gt.done)return o(z,gt),Bt&&Wi(z,Pt),_t;if(gt===null){for(;!Gt.done;Pt++,Gt=$.next())Gt=et(z,Gt.value,W),Gt!==null&&(U=g(Gt,U,Pt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return Bt&&Wi(z,Pt),_t}for(gt=u(gt);!Gt.done;Pt++,Gt=$.next())Gt=Z(gt,z,Pt,Gt.value,W),Gt!==null&&(i&&Gt.alternate!==null&&gt.delete(Gt.key===null?Pt:Gt.key),U=g(Gt,U,Pt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return i&&gt.forEach(function(DR){return r(z,DR)}),Bt&&Wi(z,Pt),_t}function ee(z,U,$,W){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case C:t:{for(var _t=$.key;U!==null;){if(U.key===_t){if(_t=$.type,_t===k){if(U.tag===7){o(z,U.sibling),W=d(U,$.props.children),W.return=z,z=W;break t}}else if(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&Fr(_t)===U.type){o(z,U.sibling),W=d(U,$.props),gl(W,$),W.return=z,z=W;break t}o(z,U);break}else r(z,U);U=U.sibling}$.type===k?(W=Lr($.props.children,z.mode,W,$.key),W.return=z,z=W):(W=mc($.type,$.key,$.props,null,z.mode,W),gl(W,$),W.return=z,z=W)}return T(z);case M:t:{for(_t=$.key;U!==null;){if(U.key===_t)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(z,U.sibling),W=d(U,$.children||[]),W.return=z,z=W;break t}else{o(z,U);break}else r(z,U);U=U.sibling}W=ld($,z.mode,W),W.return=z,z=W}return T(z);case x:return $=Fr($),ee(z,U,$,W)}if(St($))return dt(z,U,$,W);if(L($)){if(_t=L($),typeof _t!="function")throw Error(s(150));return $=_t.call($),bt(z,U,$,W)}if(typeof $.then=="function")return ee(z,U,bc($),W);if($.$$typeof===G)return ee(z,U,vc(z,$),W);Sc(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(z,U.sibling),W=d(U,$),W.return=z,z=W):(o(z,U),W=od($,z.mode,W),W.return=z,z=W),T(z)):o(z,U)}return function(z,U,$,W){try{ml=0;var _t=ee(z,U,$,W);return Fa=null,_t}catch(gt){if(gt===za||gt===Tc)throw gt;var qt=Dn(29,gt,null,z.mode);return qt.lanes=W,qt.return=z,qt}}}var qr=D0(!0),M0=D0(!1),ks=!1;function Td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ls(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function js(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=pc(i),d0(i,null,o),r}return dc(i,u,r,o),pc(i)}function yl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,qo(i,o)}}function bd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Sd=!1;function vl(){if(Sd){var i=Ba;if(i!==null)throw i}}function _l(i,r,o,u){Sd=!1;var d=i.updateQueue;ks=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var V=S,K=V.next;V.next=null,T===null?g=K:T.next=K,T=V;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=V))}if(g!==null){var et=d.baseState;T=0,J=K=V=null,S=g;do{var Y=S.lane&-536870913,Z=Y!==S.lane;if(Z?(kt&Y)===Y:(u&Y)===Y){Y!==0&&Y===Ua&&(Sd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=i,bt=S;Y=r;var ee=o;switch(bt.tag){case 1:if(dt=bt.payload,typeof dt=="function"){et=dt.call(ee,et,Y);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=bt.payload,Y=typeof dt=="function"?dt.call(ee,et,Y):dt,Y==null)break t;et=v({},et,Y);break t;case 2:ks=!0}}Y=S.callback,Y!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=Z,V=et):J=J.next=Z,T|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);J===null&&(V=et),d.baseState=V,d.firstBaseUpdate=K,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Hs|=T,i.lanes=T,i.memoizedState=et}}function V0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function I0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)V0(o[i],r)}var Ha=j(null),Cc=j(0);function P0(i,r){i=cs,ut(Cc,i),ut(Ha,r),cs=i|r.baseLanes}function Cd(){ut(Cc,cs),ut(Ha,Ha.current)}function Ad(){cs=Cc.current,tt(Ha),tt(Cc)}var Mn=j(null),Gn=null;function Us(i){var r=i.alternate;ut(_e,_e.current&1),ut(Mn,i),Gn===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(Gn=i)}function xd(i){ut(_e,_e.current),ut(Mn,i),Gn===null&&(Gn=i)}function O0(i){i.tag===22?(ut(_e,_e.current),ut(Mn,i),Gn===null&&(Gn=i)):Bs()}function Bs(){ut(_e,_e.current),ut(Mn,Mn.current)}function Vn(i){tt(Mn),Gn===i&&(Gn=null),tt(_e)}var _e=j(0);function Ac(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ip(o)||Pp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ns=0,Vt=null,Wt=null,we=null,xc=!1,qa=!1,Gr=!1,Rc=0,Tl=0,Ga=null,_x=0;function de(){throw Error(s(321))}function Rd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!wn(i[o],r[o]))return!1;return!0}function wd(i,r,o,u,d,g){return ns=g,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?yv:Hd,Gr=!1,g=o(u,d),Gr=!1,qa&&(g=k0(r,o,u,d)),N0(i),g}function N0(i){Q.H=Sl;var r=Wt!==null&&Wt.next!==null;if(ns=0,we=Wt=Vt=null,xc=!1,Tl=0,Ga=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&yc(i)&&(De=!0))}function k0(i,r,o,u){Vt=i;var d=0;do{if(qa&&(Ga=null),Tl=0,qa=!1,25<=d)throw Error(s(301));if(d+=1,we=Wt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=vv,g=r(o,u)}while(qa);return g}function Tx(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?El(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Vt.flags|=1024),r}function Dd(){var i=Rc!==0;return Rc=0,i}function Md(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Vd(i){if(xc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xc=!1}ns=0,we=Wt=Vt=null,qa=!1,Tl=Rc=0,Ga=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Vt.memoizedState=we=i:we=we.next=i,we}function Te(){if(Wt===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=we===null?Vt.memoizedState:we.next;if(r!==null)we=r,Wt=i;else{if(i===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?Vt.memoizedState=we=i:we=we.next=i}return we}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(i){var r=Tl;return Tl+=1,Ga===null&&(Ga=[]),i=x0(Ga,i,r),r=Vt,(we===null?r.memoizedState:we.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?yv:Hd),i}function Dc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return El(i);if(i.$$typeof===G)return Xe(i)}throw Error(s(438,String(i)))}function Id(i){var r=null,o=Vt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Vt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wc(),Vt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function is(i,r){return typeof r=="function"?r(i):r}function Mc(i){var r=Te();return Pd(r,Wt,i)}function Pd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=T=null,V=null,K=r,J=!1;do{var et=K.lane&-536870913;if(et!==K.lane?(kt&et)===et:(ns&et)===et){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),et===Ua&&(J=!0);else if((ns&Y)===Y){K=K.next,Y===Ua&&(J=!0);continue}else et={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=et,T=g):V=V.next=et,Vt.lanes|=Y,Hs|=Y;et=K.action,Gr&&o(g,et),g=K.hasEagerState?K.eagerState:o(g,et)}else Y={lane:et,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=Y,T=g):V=V.next=Y,Vt.lanes|=et,Hs|=et;K=K.next}while(K!==null&&K!==r);if(V===null?T=g:V.next=S,!wn(g,i.memoizedState)&&(De=!0,J&&(o=Ba,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Od(i){var r=Te(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);wn(g,r.memoizedState)||(De=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function L0(i,r,o){var u=Vt,d=Te(),g=Bt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!wn((Wt||d).memoizedState,o);if(T&&(d.memoizedState=o,De=!0),d=d.queue,Ld(B0.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,$a(9,{destroy:void 0},U0.bind(null,u,d,o,r),null),ne===null)throw Error(s(349));g||(ns&127)!==0||j0(u,r,o)}return o}function j0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Vt.updateQueue,r===null?(r=wc(),Vt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function U0(i,r,o,u){r.value=o,r.getSnapshot=u,z0(r)&&F0(i)}function B0(i,r,o){return o(function(){z0(r)&&F0(i)})}function z0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!wn(i,o)}catch{return!0}}function F0(i){var r=kr(i,2);r!==null&&Sn(r,i,2)}function Nd(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),Gr){Nn(!0);try{o()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},r}function H0(i,r,o,u){return i.baseState=o,Pd(i,Wt,typeof u=="function"?u:is)}function Ex(i,r,o,u,d){if(Pc(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,q0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function q0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=Q.T,T={};Q.T=T;try{var S=o(d,u),V=Q.S;V!==null&&V(T,S),G0(i,r,S)}catch(K){kd(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}else try{g=o(d,u),G0(i,r,g)}catch(K){kd(i,r,K)}}function G0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$0(i,r,u)},function(u){return kd(i,r,u)}):$0(i,r,o)}function $0(i,r,o){r.status="fulfilled",r.value=o,K0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,q0(i,o)))}function kd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,K0(r),r=r.next;while(r!==u)}i.action=null}function K0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Y0(i,r){return r}function Q0(i,r){if(Bt){var o=ne.formState;if(o!==null){t:{var u=Vt;if(Bt){if(se){e:{for(var d=se,g=qn;d.nodeType!==8;){if(!g){d=null;break e}if(d=$n(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){se=$n(d.nextSibling),u=d.data==="F!";break t}}Os(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:r},o.queue=u,o=pv.bind(null,Vt,u),u.dispatch=o,u=Nd(!1),g=Fd.bind(null,Vt,!1,u.queue),u=dn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=Ex.bind(null,Vt,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function X0(i){var r=Te();return Z0(r,Wt,i)}function Z0(i,r,o){if(r=Pd(i,r,Y0)[0],i=Mc(is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=El(r)}catch(T){throw T===za?Tc:T}else u=r;r=Te();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Vt.flags|=2048,$a(9,{destroy:void 0},bx.bind(null,d,o),null)),[u,g,i]}function bx(i,r){i.action=r}function J0(i){var r=Te(),o=Wt;if(o!==null)return Z0(r,o,i);Te(),r=r.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function $a(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=wc(),Vt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function W0(){return Te().memoizedState}function Vc(i,r,o,u){var d=dn();Vt.flags|=i,d.memoizedState=$a(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ic(i,r,o,u){var d=Te();u=u===void 0?null:u;var g=d.memoizedState.inst;Wt!==null&&u!==null&&Rd(u,Wt.memoizedState.deps)?d.memoizedState=$a(r,g,o,u):(Vt.flags|=i,d.memoizedState=$a(1|r,g,o,u))}function tv(i,r){Vc(8390656,8,i,r)}function Ld(i,r){Ic(2048,8,i,r)}function Sx(i){Vt.flags|=4;var r=Vt.updateQueue;if(r===null)r=wc(),Vt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function ev(i){var r=Te().memoizedState;return Sx({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function nv(i,r){return Ic(4,2,i,r)}function iv(i,r){return Ic(4,4,i,r)}function sv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function rv(i,r,o){o=o!=null?o.concat([i]):null,Ic(4,4,sv.bind(null,r,i),o)}function jd(){}function av(i,r){var o=Te();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Rd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function ov(i,r){var o=Te();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Rd(r,u[1]))return u[0];if(u=i(),Gr){Nn(!0);try{i()}finally{Nn(!1)}}return o.memoizedState=[u,r],u}function Ud(i,r,o){return o===void 0||(ns&1073741824)!==0&&(kt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=l_(),Vt.lanes|=i,Hs|=i,o)}function lv(i,r,o,u){return wn(o,r)?o:Ha.current!==null?(i=Ud(i,o,u),wn(i,r)||(De=!0),i):(ns&42)===0||(ns&1073741824)!==0&&(kt&261930)===0?(De=!0,i.memoizedState=o):(i=l_(),Vt.lanes|=i,Hs|=i,r)}function uv(i,r,o,u,d){var g=it.p;it.p=g!==0&&8>g?g:8;var T=Q.T,S={};Q.T=S,Fd(i,!1,r,o);try{var V=d(),K=Q.S;if(K!==null&&K(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=vx(V,u);bl(i,r,J,On(i))}else bl(i,r,u,On(i))}catch(et){bl(i,r,{then:function(){},status:"rejected",reason:et},On())}finally{it.p=g,T!==null&&S.types!==null&&(T.types=S.types),Q.T=T}}function Cx(){}function Bd(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=cv(i).queue;uv(i,d,r,ct,o===null?Cx:function(){return fv(i),o(u)})}function cv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ct},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function fv(i){var r=cv(i);r.next===null&&(r=i.alternate.memoizedState),bl(i,r.next.queue,{},On())}function zd(){return Xe(Ul)}function hv(){return Te().memoizedState}function dv(){return Te().memoizedState}function Ax(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=Ls(o);var u=js(r,i,o);u!==null&&(Sn(u,r,o),yl(u,r,o)),r={cache:gd()},i.payload=r;return}r=r.return}}function xx(i,r,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(i)?mv(r,o):(o=rd(i,r,o,u),o!==null&&(Sn(o,i,u),gv(o,r,u)))}function pv(i,r,o){var u=On();bl(i,r,o,u)}function bl(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pc(i))mv(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,wn(S,T))return dc(i,r,d,0),ne===null&&hc(),!1}catch{}if(o=rd(i,r,d,u),o!==null)return Sn(o,i,u),gv(o,r,u),!0}return!1}function Fd(i,r,o,u){if(u={lane:2,revertLane:Tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Pc(i)){if(r)throw Error(s(479))}else r=rd(i,o,u,2),r!==null&&Sn(r,i,2)}function Pc(i){var r=i.alternate;return i===Vt||r!==null&&r===Vt}function mv(i,r){qa=xc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function gv(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,qo(i,o)}}var Sl={readContext:Xe,use:Dc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Sl.useEffectEvent=de;var yv={readContext:Xe,use:Dc,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Xe,useEffect:tv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Vc(4194308,4,sv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Vc(4194308,4,i,r)},useInsertionEffect:function(i,r){Vc(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(Gr){Nn(!0);try{i()}finally{Nn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var d=o(r);if(Gr){Nn(!0);try{o(r)}finally{Nn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=xx.bind(null,Vt,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Nd(i);var r=i.queue,o=pv.bind(null,Vt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:jd,useDeferredValue:function(i,r){var o=dn();return Ud(o,i,r)},useTransition:function(){var i=Nd(!1);return i=uv.bind(null,Vt,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Vt,d=dn();if(Bt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(kt&127)!==0||j0(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,tv(B0.bind(null,u,g,i),[i]),u.flags|=2048,$a(9,{destroy:void 0},U0.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=ne.identifierPrefix;if(Bt){var o=Ni,u=Oi;o=(u&~(1<<32-ye(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=_x++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:zd,useFormState:Q0,useActionState:Q0,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Fd.bind(null,Vt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Id,useCacheRefresh:function(){return dn().memoizedState=Ax.bind(null,Vt)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Hd={readContext:Xe,use:Dc,useCallback:av,useContext:Xe,useEffect:Ld,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:Mc,useRef:W0,useState:function(){return Mc(is)},useDebugValue:jd,useDeferredValue:function(i,r){var o=Te();return lv(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Mc(is)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:El(i),r]},useSyncExternalStore:L0,useId:hv,useHostTransitionStatus:zd,useFormState:X0,useActionState:X0,useOptimistic:function(i,r){var o=Te();return H0(o,Wt,i,r)},useMemoCache:Id,useCacheRefresh:dv};Hd.useEffectEvent=ev;var vv={readContext:Xe,use:Dc,useCallback:av,useContext:Xe,useEffect:Ld,useImperativeHandle:rv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:Od,useRef:W0,useState:function(){return Od(is)},useDebugValue:jd,useDeferredValue:function(i,r){var o=Te();return Wt===null?Ud(o,i,r):lv(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Od(is)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:El(i),r]},useSyncExternalStore:L0,useId:hv,useHostTransitionStatus:zd,useFormState:J0,useActionState:J0,useOptimistic:function(i,r){var o=Te();return Wt!==null?H0(o,Wt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Id,useCacheRefresh:dv};vv.useEffectEvent=ev;function qd(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Gd={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=On(),d=Ls(u);d.payload=r,o!=null&&(d.callback=o),r=js(i,d,u),r!==null&&(Sn(r,i,u),yl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=On(),d=Ls(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=js(i,d,u),r!==null&&(Sn(r,i,u),yl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),u=Ls(o);u.tag=2,r!=null&&(u.callback=r),r=js(i,u,o),r!==null&&(Sn(r,i,o),yl(r,i,o))}};function _v(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!ul(o,u)||!ul(d,g):!0}function Tv(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Gd.enqueueReplaceState(r,r.state,null)}function $r(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function Ev(i){fc(i)}function bv(i){console.error(i)}function Sv(i){fc(i)}function Oc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Cv(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $d(i,r,o){return o=Ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Oc(i,r)},o}function Av(i){return i=Ls(i),i.tag=3,i}function xv(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){Cv(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Cv(r,o,u),typeof d!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Rx(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ja(r,o,d,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?$c():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ec?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),yp(i,u,d)),!1;case 22:return o.flags|=65536,u===Ec?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),yp(i,u,d)),!1}throw Error(s(435,o.tag))}return yp(i,u,d),$c(),!1}if(Bt)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==fd&&(i=Error(s(422),{cause:u}),hl(zn(i,o)))):(u!==fd&&(r=Error(s(423),{cause:u}),hl(zn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=zn(u,o),d=$d(i.stateNode,u,d),bd(i,d),pe!==4&&(pe=2)),!1;var g=Error(s(520),{cause:u});if(g=zn(g,o),Vl===null?Vl=[g]:Vl.push(g),pe!==4&&(pe=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=$d(o.stateNode,u,i),bd(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qs===null||!qs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Av(d),xv(d,i,o,u),bd(o,d),!1}o=o.return}while(o!==null);return!1}var Kd=Error(s(461)),De=!1;function Ze(i,r,o,u){r.child=i===null?M0(r,null,o,u):qr(r,i.child,o,u)}function Rv(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Br(r),u=wd(i,r,o,T,g,d),S=Dd(),i!==null&&!De?(Md(i,r,d),ss(i,r,d)):(Bt&&S&&ud(r),r.flags|=1,Ze(i,r,u,d),r.child)}function wv(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!ad(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Dv(i,r,g,u,d)):(i=mc(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!ep(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:ul,o(T,u)&&i.ref===r.ref)return ss(i,r,d)}return r.flags|=1,i=Ji(g,u),i.ref=r.ref,i.return=r,r.child=i}function Dv(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(ul(g,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=g,ep(i,d))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,ss(i,r,d)}return Yd(i,r,o,u,d)}function Mv(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return Vv(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_c(r,g!==null?g.cachePool:null),g!==null?P0(r,g):Cd(),O0(r);else return u=r.lanes=536870912,Vv(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(_c(r,g.cachePool),P0(r,g),Bs(),r.memoizedState=null):(i!==null&&_c(r,null),Cd(),Bs());return Ze(i,r,d,o),r.child}function Cl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Vv(i,r,o,u,d){var g=vd();return g=g===null?null:{parent:Re._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&_c(r,null),Cd(),O0(r),i!==null&&ja(i,r,u,!0),r.childLanes=d,null}function Nc(i,r){return r=Lc({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Iv(i,r,o){return qr(r,i.child,null,o),i=Nc(r,r.pendingProps),i.flags|=2,Vn(r),r.memoizedState=null,i}function wx(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Bt){if(u.mode==="hidden")return i=Nc(r,u),r.lanes=536870912,Cl(null,i);if(xd(r),(i=se)?(i=q_(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=m0(i),o.return=r,r.child=o,Qe=r,se=null)):i=null,i===null)throw Os(r);return r.lanes=536870912,null}return Nc(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(xd(r),d)if(r.flags&256)r.flags&=-257,r=Iv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||ja(i,r,o,!1),d=(o&i.childLanes)!==0,De||d){if(u=ne,u!==null&&(T=Go(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,kr(i,T),Sn(u,i,T),Kd;$c(),r=Iv(i,r,o)}else i=g.treeContext,se=$n(T.nextSibling),Qe=r,Bt=!0,Ps=null,qn=!1,i!==null&&v0(r,i),r=Nc(r,u),r.flags|=4096;return r}return i=Ji(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Yd(i,r,o,u,d){return Br(r),o=wd(i,r,o,u,void 0,d),u=Dd(),i!==null&&!De?(Md(i,r,d),ss(i,r,d)):(Bt&&u&&ud(r),r.flags|=1,Ze(i,r,o,d),r.child)}function Pv(i,r,o,u,d,g){return Br(r),r.updateQueue=null,o=k0(r,u,o,d),N0(i),u=Dd(),i!==null&&!De?(Md(i,r,g),ss(i,r,g)):(Bt&&u&&ud(r),r.flags|=1,Ze(i,r,o,g),r.child)}function Ov(i,r,o,u,d){if(Br(r),r.stateNode===null){var g=Oa,T=o.contextType;typeof T=="object"&&T!==null&&(g=Xe(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Td(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Xe(T):Oa,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(qd(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Gd.enqueueReplaceState(g,g.state,null),_l(r,u,g,d),vl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,V=$r(o,S);g.props=V;var K=g.context,J=o.contextType;T=Oa,typeof J=="object"&&J!==null&&(T=Xe(J));var et=o.getDerivedStateFromProps;J=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==T)&&Tv(r,g,u,T),ks=!1;var Y=r.memoizedState;g.state=Y,_l(r,u,g,d),vl(),K=r.memoizedState,S||Y!==K||ks?(typeof et=="function"&&(qd(r,o,et,u),K=r.memoizedState),(V=ks||_v(r,o,V,u,Y,K,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Ed(i,r),T=r.memoizedProps,J=$r(o,T),g.props=J,et=r.pendingProps,Y=g.context,K=o.contextType,V=Oa,typeof K=="object"&&K!==null&&(V=Xe(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==et||Y!==V)&&Tv(r,g,u,V),ks=!1,Y=r.memoizedState,g.state=Y,_l(r,u,g,d),vl();var Z=r.memoizedState;T!==et||Y!==Z||ks||i!==null&&i.dependencies!==null&&yc(i.dependencies)?(typeof S=="function"&&(qd(r,o,S,u),Z=r.memoizedState),(J=ks||_v(r,o,J,u,Y,Z,V)||i!==null&&i.dependencies!==null&&yc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=J):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,kc(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=qr(r,i.child,null,d),r.child=qr(r,null,o,d)):Ze(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ss(i,r,d),i}function Nv(i,r,o,u){return jr(),r.flags|=256,Ze(i,r,o,u),r.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(i){return{baseLanes:i,cachePool:C0()}}function Zd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function kv(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Bt){if(d?Us(r):Bs(),(i=se)?(i=q_(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=m0(i),o.return=r,r.child=o,Qe=r,se=null)):i=null,i===null)throw Os(r);return Pp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(Bs(),d=r.mode,S=Lc({mode:"hidden",children:S},d),u=Lr(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Xd(o),u.childLanes=Zd(i,T,o),r.memoizedState=Qd,Cl(null,u)):(Us(r),Jd(r,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)r.flags&256?(Us(r),r.flags&=-257,r=Wd(i,r,o)):r.memoizedState!==null?(Bs(),r.child=i.child,r.flags|=128,r=null):(Bs(),S=u.fallback,d=r.mode,u=Lc({mode:"visible",children:u.children},d),S=Lr(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,qr(r,i.child,null,o),u=r.child,u.memoizedState=Xd(o),u.childLanes=Zd(i,T,o),r.memoizedState=Qd,r=Cl(null,u));else if(Us(r),Pp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,hl({value:u,source:null,stack:null}),r=Wd(i,r,o)}else if(De||ja(i,r,o,!1),T=(o&i.childLanes)!==0,De||T){if(T=ne,T!==null&&(u=Go(T,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,kr(i,u),Sn(T,i,u),Kd;Ip(S)||$c(),r=Wd(i,r,o)}else Ip(S)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,se=$n(S.nextSibling),Qe=r,Bt=!0,Ps=null,qn=!1,i!==null&&v0(r,i),r=Jd(r,u.children),r.flags|=4096);return r}return d?(Bs(),S=u.fallback,d=r.mode,V=i.child,K=V.sibling,u=Ji(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?S=Ji(K,S):(S=Lr(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Cl(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Xd(o):(d=S.cachePool,d!==null?(V=Re._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=C0(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=Zd(i,T,o),r.memoizedState=Qd,Cl(i.child,u)):(Us(r),o=i.child,i=o.sibling,o=Ji(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Jd(i,r){return r=Lc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lc(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function Wd(i,r,o){return qr(r,i.child,null,o),i=Jd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Lv(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),pd(i.return,r,o)}function tp(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function jv(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=_e.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ut(_e,T),Ze(i,r,u,o),u=Bt?fl:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lv(i,o,r);else if(i.tag===19)Lv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ac(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),tp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ac(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}tp(r,!0,o,null,g,u);break;case"together":tp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ss(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Hs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ja(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ji(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ji(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yc(i)))}function Dx(i,r,o){switch(r.tag){case 3:Ne(r,r.stateNode.containerInfo),Ns(r,Re,i.memoizedState.cache),jr();break;case 27:case 5:vr(r);break;case 4:Ne(r,r.stateNode.containerInfo);break;case 10:Ns(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Us(r),r.flags|=128,null):(o&r.child.childLanes)!==0?kv(i,r,o):(Us(r),i=ss(i,r,o),i!==null?i.sibling:null);Us(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ja(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return jv(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ut(_e,_e.current),u)break;return null;case 22:return r.lanes=0,Mv(i,r,o,r.pendingProps);case 24:Ns(r,Re,i.memoizedState.cache)}return ss(i,r,o)}function Uv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!ep(i,o)&&(r.flags&128)===0)return De=!1,Dx(i,r,o);De=(i.flags&131072)!==0}else De=!1,Bt&&(r.flags&1048576)!==0&&y0(r,fl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=Fr(r.elementType),r.type=i,typeof i=="function")ad(i)?(u=$r(i,u),r.tag=1,r=Ov(null,r,i,u,o)):(r.tag=0,r=Yd(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===at){r.tag=11,r=Rv(null,r,i,u,o);break t}else if(d===D){r.tag=14,r=wv(null,r,i,u,o);break t}}throw r=vt(i)||i,Error(s(306,r,""))}}return r;case 0:return Yd(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=$r(u,r.pendingProps),Ov(i,r,u,d,o);case 3:t:{if(Ne(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Ed(i,r),_l(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Ns(r,Re,u),u!==g.cache&&md(r,[Re],o,!0),vl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Nv(i,r,u,o);break t}else if(u!==d){d=zn(Error(s(424)),r),hl(d),r=Nv(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,se=$n(i.firstChild),Qe=r,Bt=!0,Ps=null,qn=!0,o=M0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jr(),u===d){r=ss(i,r,o);break t}Ze(i,r,u,o)}r=r.child}return r;case 26:return kc(i,r),i===null?(o=X_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,i=r.pendingProps,u=Wc(It.current).createElement(o),u[Ce]=r,u[He]=i,Je(u,o,i),Ae(u),r.stateNode=u):r.memoizedState=X_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vr(r),i===null&&Bt&&(u=r.stateNode=K_(r.type,r.pendingProps,It.current),Qe=r,qn=!0,d=se,Ys(r.type)?(Op=d,se=$n(u.firstChild)):se=d),Ze(i,r,r.pendingProps.children,o),kc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Bt&&((d=u=se)&&(u=rR(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qe=r,se=$n(u.firstChild),qn=!1,d=!0):d=!1),d||Os(r)),vr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Dp(d,g)?u=null:T!==null&&Dp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=wd(i,r,Tx,null,null,o),Ul._currentValue=d),kc(i,r),Ze(i,r,u,o),r.child;case 6:return i===null&&Bt&&((i=o=se)&&(o=aR(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Qe=r,se=null,i=!0):i=!1),i||Os(r)),null;case 13:return kv(i,r,o);case 4:return Ne(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=qr(r,null,u,o):Ze(i,r,u,o),r.child;case 11:return Rv(i,r,r.type,r.pendingProps,o);case 7:return Ze(i,r,r.pendingProps,o),r.child;case 8:return Ze(i,r,r.pendingProps.children,o),r.child;case 12:return Ze(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ns(r,r.type,u.value),Ze(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Br(r),d=Xe(d),u=u(d),r.flags|=1,Ze(i,r,u,o),r.child;case 14:return wv(i,r,r.type,r.pendingProps,o);case 15:return Dv(i,r,r.type,r.pendingProps,o);case 19:return jv(i,r,o);case 31:return wx(i,r,o);case 22:return Mv(i,r,o,r.pendingProps);case 24:return Br(r),u=Xe(Re),i===null?(d=vd(),d===null&&(d=ne,g=gd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Td(r),Ns(r,Re,d)):((i.lanes&o)!==0&&(Ed(i,r),_l(r,null,null,o),vl()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ns(r,Re,u)):(u=g.cache,Ns(r,Re,u),u!==d.cache&&md(r,[Re],o,!0))),Ze(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rs(i){i.flags|=4}function np(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(h_())i.flags|=8192;else throw Hr=Ec,_d}else i.flags&=-16777217}function Bv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!eT(r))if(h_())i.flags|=8192;else throw Hr=Ec,_d}function jc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?qu():536870912,i.lanes|=r,Xa|=r)}function Al(i,r){if(!Bt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function re(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function Mx(i,r,o){var u=r.pendingProps;switch(cd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(r),null;case 1:return re(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),es(Re),le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(La(r)?rs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hd())),re(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(rs(r),g!==null?(re(r),Bv(r,g)):(re(r),np(r,d,null,u,o))):g?g!==i.memoizedState?(rs(r),re(r),Bv(r,g)):(re(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&rs(r),re(r),np(r,d,i,u,o)),null;case 27:if(ma(r),o=It.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return re(r),null}i=ht.current,La(r)?_0(r):(i=K_(d,u,o),r.stateNode=i,rs(r))}return re(r),null;case 5:if(ma(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return re(r),null}if(g=ht.current,La(r))_0(r);else{var T=Wc(It.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[Ce]=r,g[He]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(Je(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&rs(r)}}return re(r),np(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=It.current,La(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Qe,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ce]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||k_(i.nodeValue,o)),i||Os(r,!0)}else i=Wc(i).createTextNode(u),i[Ce]=r,r.stateNode=i}return re(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=La(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ce]=r}else jr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;re(r),i=!1}else o=hd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return re(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=La(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ce]=r}else jr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;re(r),d=!1}else d=hd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),jc(r,r.updateQueue),re(r),null);case 4:return le(),i===null&&Cp(r.stateNode.containerInfo),re(r),null;case 10:return es(r.type),re(r),null;case 19:if(tt(_e),u=r.memoizedState,u===null)return re(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)Al(u,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ac(i),g!==null){for(r.flags|=128,Al(u,!1),i=g.updateQueue,r.updateQueue=i,jc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)p0(o,i),o=o.sibling;return ut(_e,_e.current&1|2),Bt&&Wi(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&fn()>Hc&&(r.flags|=128,d=!0,Al(u,!1),r.lanes=4194304)}else{if(!d)if(i=Ac(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,jc(r,i),Al(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Bt)return re(r),null}else 2*fn()-u.renderingStartTime>Hc&&o!==536870912&&(r.flags|=128,d=!0,Al(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=fn(),i.sibling=null,o=_e.current,ut(_e,d?o&1|2:o&1),Bt&&Wi(r,u.treeForkCount),i):(re(r),null);case 22:case 23:return Vn(r),Ad(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(re(r),r.subtreeFlags&6&&(r.flags|=8192)):re(r),o=r.updateQueue,o!==null&&jc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&tt(zr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),es(Re),re(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Vx(i,r){switch(cd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return es(Re),le(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ma(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));jr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Vn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));jr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return tt(_e),null;case 4:return le(),null;case 10:return es(r.type),null;case 22:case 23:return Vn(r),Ad(),i!==null&&tt(zr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return es(Re),null;case 25:return null;default:return null}}function zv(i,r){switch(cd(r),r.tag){case 3:es(Re),le();break;case 26:case 27:case 5:ma(r);break;case 4:le();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:tt(_e);break;case 10:es(r.type);break;case 22:case 23:Vn(r),Ad(),i!==null&&tt(zr);break;case 24:es(Re)}}function xl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(S){Zt(r,r.return,S)}}function zs(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=r;var V=o,K=S;try{K()}catch(J){Zt(d,V,J)}}}u=u.next}while(u!==g)}}catch(J){Zt(r,r.return,J)}}function Fv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{I0(r,o)}catch(u){Zt(i,i.return,u)}}}function Hv(i,r,o){o.props=$r(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function Rl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Zt(i,r,d)}}function ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Zt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Zt(i,r,d)}else o.current=null}function qv(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Zt(i,i.return,d)}}function ip(i,r,o){try{var u=i.stateNode;Wx(u,i.type,o,r),u[He]=r}catch(d){Zt(i,i.return,d)}}function Gv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function sp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Gv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(rp(i,r,o),i=i.sibling;i!==null;)rp(i,r,o),i=i.sibling}function Uc(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Uc(i,r,o),i=i.sibling;i!==null;)Uc(i,r,o),i=i.sibling}function $v(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Je(r,u,o),r[Ce]=i,r[He]=o}catch(g){Zt(i,i.return,g)}}var as=!1,Me=!1,ap=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Ix(i,r){if(i=i.containerInfo,Rp=of,i=r0(i),Wh(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,S=-1,V=-1,K=0,J=0,et=i,Y=null;e:for(;;){for(var Z;et!==o||d!==0&&et.nodeType!==3||(S=T+d),et!==g||u!==0&&et.nodeType!==3||(V=T+u),et.nodeType===3&&(T+=et.nodeValue.length),(Z=et.firstChild)!==null;)Y=et,et=Z;for(;;){if(et===i)break e;if(Y===o&&++K===d&&(S=T),Y===g&&++J===u&&(V=T),(Z=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=Z}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(wp={focusedElem:i,selectionRange:o},of=!1,Ge=r;Ge!==null;)if(r=Ge,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ge=i;else for(;Ge!==null;){switch(r=Ge,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var dt=$r(o.type,d);i=u.getSnapshotBeforeUpdate(dt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(bt){Zt(o,o.return,bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ge=i;break}Ge=r.return}}function Yv(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ls(i,o),u&4&&xl(5,o);break;case 1:if(ls(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var d=$r(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}u&64&&Fv(o),u&512&&Rl(o,o.return);break;case 3:if(ls(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{I0(i,r)}catch(T){Zt(o,o.return,T)}}break;case 27:r===null&&u&4&&$v(o);case 26:case 5:ls(i,o),r===null&&u&4&&qv(o),u&512&&Rl(o,o.return);break;case 12:ls(i,o);break;case 31:ls(i,o),u&4&&Zv(i,o);break;case 13:ls(i,o),u&4&&Jv(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=zx.bind(null,o),oR(i,o))));break;case 22:if(u=o.memoizedState!==null||as,!u){r=r!==null&&r.memoizedState!==null||Me,d=as;var g=Me;as=u,(Me=r)&&!g?us(i,o,(o.subtreeFlags&8772)!==0):ls(i,o),as=d,Me=g}break;case 30:break;default:ls(i,o)}}function Qv(i){var r=i.alternate;r!==null&&(i.alternate=null,Qv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ta(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,_n=!1;function os(i,r,o){for(o=o.child;o!==null;)Xv(i,r,o),o=o.sibling}function Xv(i,r,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Wn,o)}catch{}switch(o.tag){case 26:Me||ki(o,r),os(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||ki(o,r);var u=ce,d=_n;Ys(o.type)&&(ce=o.stateNode,_n=!1),os(i,r,o),kl(o.stateNode),ce=u,_n=d;break;case 5:Me||ki(o,r);case 6:if(u=ce,d=_n,ce=null,os(i,r,o),ce=u,_n=d,ce!==null)if(_n)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(g){Zt(o,r,g)}else try{ce.removeChild(o.stateNode)}catch(g){Zt(o,r,g)}break;case 18:ce!==null&&(_n?(i=ce,F_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),so(i)):F_(ce,o.stateNode));break;case 4:u=ce,d=_n,ce=o.stateNode.containerInfo,_n=!0,os(i,r,o),ce=u,_n=d;break;case 0:case 11:case 14:case 15:zs(2,o,r),Me||zs(4,o,r),os(i,r,o);break;case 1:Me||(ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Hv(o,r,u)),os(i,r,o);break;case 21:os(i,r,o);break;case 22:Me=(u=Me)||o.memoizedState!==null,os(i,r,o),Me=u;break;default:os(i,r,o)}}function Zv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{so(i)}catch(o){Zt(r,r.return,o)}}}function Jv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{so(i)}catch(o){Zt(r,r.return,o)}}function Px(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Kv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Kv),r;default:throw Error(s(435,i.tag))}}function Bc(i,r){var o=Px(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=Fx.bind(null,i,u);u.then(d,d)}})}function Tn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Ys(S.type)){ce=S.stateNode,_n=!1;break t}break;case 5:ce=S.stateNode,_n=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,_n=!0;break t}S=S.return}if(ce===null)throw Error(s(160));Xv(g,T,d),ce=null,_n=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Wv(r,i),r=r.sibling}var ui=null;function Wv(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),En(i),u&4&&(zs(3,i,i.return),xl(3,i),zs(5,i,i.return));break;case 1:Tn(r,i),En(i),u&512&&(Me||o===null||ki(o,o.return)),u&64&&as&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ui;if(Tn(r,i),En(i),u&512&&(Me||o===null||ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[bi]||g[Ce]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Je(g,u,o),g[Ce]=i,Ae(g),u=g;break t;case"link":var T=W_("link","href",d).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;case"meta":if(T=W_("meta","content",d).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ce]=i,Ae(g),u=g}i.stateNode=u}else tT(d,i.type,i.stateNode);else i.stateNode=J_(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?tT(d,i.type,i.stateNode):J_(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&ip(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,i),En(i),u&512&&(Me||o===null||ki(o,o.return)),o!==null&&u&4&&ip(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,i),En(i),u&512&&(Me||o===null||ki(o,o.return)),i.flags&32){d=i.stateNode;try{vn(d,"")}catch(dt){Zt(i,i.return,dt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,ip(i,d,o!==null?o.memoizedProps:d)),u&1024&&(ap=!0);break;case 6:if(Tn(r,i),En(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(dt){Zt(i,i.return,dt)}}break;case 3:if(nf=null,d=ui,ui=tf(r.containerInfo),Tn(r,i),ui=d,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{so(r.containerInfo)}catch(dt){Zt(i,i.return,dt)}ap&&(ap=!1,t_(i));break;case 4:u=ui,ui=tf(i.stateNode.containerInfo),Tn(r,i),En(i),ui=u;break;case 12:Tn(r,i),En(i);break;case 31:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bc(i,u)));break;case 13:Tn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fc=fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bc(i,u)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=as,J=Me;if(as=K||d,Me=J||V,Tn(r,i),Me=J,as=K,En(i),u&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||V||as||Me||Kr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=V.stateNode;var et=V.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(dt){Zt(V,V.return,dt)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(dt){Zt(V,V.return,dt)}}}else if(r.tag===18){if(o===null){V=r;try{var Z=V.stateNode;d?H_(Z,!0):H_(V.stateNode,!1)}catch(dt){Zt(V,V.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bc(i,o))));break;case 19:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bc(i,u)));break;case 30:break;case 21:break;default:Tn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Gv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=sp(i);Uc(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(vn(T,""),o.flags&=-33);var S=sp(i);Uc(i,S,T);break;case 3:case 4:var V=o.stateNode.containerInfo,K=sp(i);rp(i,K,V);break;default:throw Error(s(161))}}catch(J){Zt(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function t_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;t_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ls(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yv(i,r.alternate,r),r=r.sibling}function Kr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:zs(4,r,r.return),Kr(r);break;case 1:ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Hv(r,r.return,o),Kr(r);break;case 27:kl(r.stateNode);case 26:case 5:ki(r,r.return),Kr(r);break;case 22:r.memoizedState===null&&Kr(r);break;case 30:Kr(r);break;default:Kr(r)}i=i.sibling}}function us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:us(d,g,o),xl(4,g);break;case 1:if(us(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Zt(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)V0(V[d],S)}catch(K){Zt(u,u.return,K)}}o&&T&64&&Fv(g),Rl(g,g.return);break;case 27:$v(g);case 26:case 5:us(d,g,o),o&&u===null&&T&4&&qv(g),Rl(g,g.return);break;case 12:us(d,g,o);break;case 31:us(d,g,o),o&&T&4&&Zv(d,g);break;case 13:us(d,g,o),o&&T&4&&Jv(d,g);break;case 22:g.memoizedState===null&&us(d,g,o),Rl(g,g.return);break;case 30:break;default:us(d,g,o)}r=r.sibling}}function op(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&dl(o))}function lp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dl(i))}function ci(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)e_(i,r,o,u),r=r.sibling}function e_(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,o,u),d&2048&&xl(9,r);break;case 1:ci(i,r,o,u);break;case 3:ci(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dl(i)));break;case 12:if(d&2048){ci(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Zt(r,r.return,V)}}else ci(i,r,o,u);break;case 31:ci(i,r,o,u);break;case 13:ci(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?ci(i,r,o,u):wl(i,r):g._visibility&2?ci(i,r,o,u):(g._visibility|=2,Ka(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&op(T,r);break;case 24:ci(i,r,o,u),d&2048&&lp(r.alternate,r);break;default:ci(i,r,o,u)}}function Ka(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,S=o,V=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Ka(g,T,S,V,d),xl(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Ka(g,T,S,V,d):wl(g,T):(J._visibility|=2,Ka(g,T,S,V,d)),d&&K&2048&&op(T.alternate,T);break;case 24:Ka(g,T,S,V,d),d&&K&2048&&lp(T.alternate,T);break;default:Ka(g,T,S,V,d)}r=r.sibling}}function wl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:wl(o,u),d&2048&&op(u.alternate,u);break;case 24:wl(o,u),d&2048&&lp(u.alternate,u);break;default:wl(o,u)}r=r.sibling}}var Dl=8192;function Ya(i,r,o){if(i.subtreeFlags&Dl)for(i=i.child;i!==null;)n_(i,r,o),i=i.sibling}function n_(i,r,o){switch(i.tag){case 26:Ya(i,r,o),i.flags&Dl&&i.memoizedState!==null&&_R(o,ui,i.memoizedState,i.memoizedProps);break;case 5:Ya(i,r,o);break;case 3:case 4:var u=ui;ui=tf(i.stateNode.containerInfo),Ya(i,r,o),ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Dl,Dl=16777216,Ya(i,r,o),Dl=u):Ya(i,r,o));break;default:Ya(i,r,o)}}function i_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ml(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,r_(u,i)}i_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(i),i=i.sibling}function s_(i){switch(i.tag){case 0:case 11:case 15:Ml(i),i.flags&2048&&zs(9,i,i.return);break;case 3:Ml(i);break;case 12:Ml(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zc(i)):Ml(i);break;default:Ml(i)}}function zc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,r_(u,i)}i_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:zs(8,r,r.return),zc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zc(r));break;default:zc(r)}i=i.sibling}}function r_(i,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:zs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var d=u.sibling,g=u.return;if(Qv(u),u===o){Ge=null;break t}if(d!==null){d.return=g,Ge=d;break t}Ge=g}}}var Ox={getCacheForType:function(i){var r=Xe(Re),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xe(Re).controller.signal}},Nx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Ot=null,kt=0,Xt=0,In=null,Fs=!1,Qa=!1,up=!1,cs=0,pe=0,Hs=0,Yr=0,cp=0,Pn=0,Xa=0,Vl=null,bn=null,fp=!1,Fc=0,a_=0,Hc=1/0,qc=null,qs=null,Le=0,Gs=null,Za=null,fs=0,hp=0,dp=null,o_=null,Il=0,pp=null;function On(){return(Kt&2)!==0&&kt!==0?kt&-kt:Q.T!==null?Tp():Gu()}function l_(){if(Pn===0)if((kt&536870912)===0||Bt){var i=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Pn=i}else Pn=536870912;return i=Mn.current,i!==null&&(i.flags|=32),Pn}function Sn(i,r,o){(i===ne&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(Ja(i,0),$s(i,kt,Pn,!1)),br(i,o),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(Yr|=o),pe===4&&$s(i,kt,Pn,!1)),Li(i))}function u_(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ti(i,r),d=u?jx(i,r):gp(i,r,!0),g=u;do{if(d===0){Qa&&!u&&$s(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!kx(o)){d=gp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;d=Vl;var V=S.current.memoizedState.isDehydrated;if(V&&(Ja(S,T).flags|=256),T=gp(S,T,!1),T!==2){if(up&&!V){S.errorRecoveryDisabledLanes|=g,Yr|=g,d=4;break t}g=bn,bn=d,g!==null&&(bn===null?bn=g:bn.push.apply(bn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Ja(i,0),$s(i,r,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$s(u,r,Pn,!Fs);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Fc+300-fn(),10<d)){if($s(u,r,Pn,!Fs),_i(u,0,!0)!==0)break t;fs=r,u.timeoutHandle=B_(c_.bind(null,u,o,bn,qc,fp,r,Pn,Yr,Xa,Fs,g,"Throttled",-0,0),d);break t}c_(u,o,bn,qc,fp,r,Pn,Yr,Xa,Fs,g,null,-0,0)}}break}while(!0);Li(i)}function c_(i,r,o,u,d,g,T,S,V,K,J,et,Y,Z){if(i.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},n_(r,g,et);var dt=(g&62914560)===g?Fc-fn():(g&4194048)===g?a_-fn():0;if(dt=TR(et,dt),dt!==null){fs=g,i.cancelPendingCommit=dt(v_.bind(null,i,r,g,o,u,d,T,S,V,J,et,null,Y,Z)),$s(i,g,T,!K);return}}v_(i,r,g,o,u,d,T,S,V)}function kx(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!wn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $s(i,r,o,u){r&=~cp,r&=~Yr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-ye(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Sr(i,o,r)}function Gc(){return(Kt&6)===0?(Pl(0),!1):!0}function mp(){if(Ot!==null){if(Xt===0)var i=Ot.return;else i=Ot,ts=Ur=null,Vd(i),Fa=null,ml=0,i=Ot;for(;i!==null;)zv(i.alternate,i),i=i.return;Ot=null}}function Ja(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,nR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),fs=0,mp(),ne=i,Ot=o=Ji(i.current,null),kt=r,Xt=0,In=null,Fs=!1,Qa=ti(i,r),up=!1,Xa=Pn=cp=Yr=Hs=pe=0,bn=Vl=null,fp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-ye(u),g=1<<d;r|=i[d],u&=~g}return cs=r,hc(),o}function f_(i,r){Vt=null,Q.H=Sl,r===za||r===Tc?(r=R0(),Xt=3):r===_d?(r=R0(),Xt=4):Xt=r===Kd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Ot===null&&(pe=1,Oc(i,zn(r,i.current)))}function h_(){var i=Mn.current;return i===null?!0:(kt&4194048)===kt?Gn===null:(kt&62914560)===kt||(kt&536870912)!==0?i===Gn:!1}function d_(){var i=Q.H;return Q.H=Sl,i===null?Sl:i}function p_(){var i=Q.A;return Q.A=Ox,i}function $c(){pe=4,Fs||(kt&4194048)!==kt&&Mn.current!==null||(Qa=!0),(Hs&134217727)===0&&(Yr&134217727)===0||ne===null||$s(ne,kt,Pn,!1)}function gp(i,r,o){var u=Kt;Kt|=2;var d=d_(),g=p_();(ne!==i||kt!==r)&&(qc=null,Ja(i,r)),r=!1;var T=pe;t:do try{if(Xt!==0&&Ot!==null){var S=Ot,V=In;switch(Xt){case 8:mp(),T=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var K=Xt;if(Xt=0,In=null,Wa(i,S,V,K),o&&Qa){T=0;break t}break;default:K=Xt,Xt=0,In=null,Wa(i,S,V,K)}}Lx(),T=pe;break}catch(J){f_(i,J)}while(!0);return r&&i.shellSuspendCounter++,ts=Ur=null,Kt=u,Q.H=d,Q.A=g,Ot===null&&(ne=null,kt=0,hc()),T}function Lx(){for(;Ot!==null;)m_(Ot)}function jx(i,r){var o=Kt;Kt|=2;var u=d_(),d=p_();ne!==i||kt!==r?(qc=null,Hc=fn()+500,Ja(i,r)):Qa=ti(i,r);t:do try{if(Xt!==0&&Ot!==null){r=Ot;var g=In;e:switch(Xt){case 1:Xt=0,In=null,Wa(i,r,g,1);break;case 2:case 9:if(A0(g)){Xt=0,In=null,g_(r);break}r=function(){Xt!==2&&Xt!==9||ne!==i||(Xt=7),Li(i)},g.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:A0(g)?(Xt=0,In=null,g_(r)):(Xt=0,In=null,Wa(i,r,g,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var S=Ot;if(T?eT(T):S.stateNode.complete){Xt=0,In=null;var V=S.sibling;if(V!==null)Ot=V;else{var K=S.return;K!==null?(Ot=K,Kc(K)):Ot=null}break e}}Xt=0,In=null,Wa(i,r,g,5);break;case 6:Xt=0,In=null,Wa(i,r,g,6);break;case 8:mp(),pe=6;break t;default:throw Error(s(462))}}Ux();break}catch(J){f_(i,J)}while(!0);return ts=Ur=null,Q.H=u,Q.A=d,Kt=o,Ot!==null?0:(ne=null,kt=0,hc(),pe)}function Ux(){for(;Ot!==null&&!$h();)m_(Ot)}function m_(i){var r=Uv(i.alternate,i,cs);i.memoizedProps=i.pendingProps,r===null?Kc(i):Ot=r}function g_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Pv(o,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=Pv(o,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:Vd(r);default:zv(o,r),r=Ot=p0(r,cs),r=Uv(o,r,cs)}i.memoizedProps=i.pendingProps,r===null?Kc(i):Ot=r}function Wa(i,r,o,u){ts=Ur=null,Vd(r),Fa=null,ml=0;var d=r.return;try{if(Rx(i,d,r,o,kt)){pe=1,Oc(i,zn(o,i.current)),Ot=null;return}}catch(g){if(d!==null)throw Ot=d,g;pe=1,Oc(i,zn(o,i.current)),Ot=null;return}r.flags&32768?(Bt||u===1?i=!0:Qa||(kt&536870912)!==0?i=!1:(Fs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),y_(r,i)):Kc(r)}function Kc(i){var r=i;do{if((r.flags&32768)!==0){y_(r,Fs);return}i=r.return;var o=Mx(r.alternate,r,cs);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=i}while(r!==null);pe===0&&(pe=5)}function y_(i,r){do{var o=Vx(i.alternate,i);if(o!==null){o.flags&=32767,Ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=o}while(i!==null);pe=6,Ot=null}function v_(i,r,o,u,d,g,T,S,V){i.cancelPendingCommit=null;do Yc();while(Le!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=sd,Qh(i,o,g,T,S,V),i===ne&&(Ot=ne=null,kt=0),Za=r,Gs=i,fs=o,hp=g,dp=d,o_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Hx(bs,function(){return S_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,d=it.p,it.p=2,T=Kt,Kt|=4;try{Ix(i,r,o)}finally{Kt=T,it.p=d,Q.T=u}}Le=1,__(),T_(),E_()}}function __(){if(Le===1){Le=0;var i=Gs,r=Za,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=it.p;it.p=2;var d=Kt;Kt|=4;try{Wv(r,i);var g=wp,T=r0(i.containerInfo),S=g.focusedElem,V=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&s0(S.ownerDocument.documentElement,S)){if(V!==null&&Wh(S)){var K=V.start,J=V.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var et=S.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),dt=S.textContent.length,bt=Math.min(V.start,dt),ee=V.end===void 0?bt:Math.min(V.end,dt);!Z.extend&&bt>ee&&(T=ee,ee=bt,bt=T);var z=i0(S,bt),U=i0(S,ee);if(z&&U&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var $=et.createRange();$.setStart(z.node,z.offset),Z.removeAllRanges(),bt>ee?(Z.addRange($),Z.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),Z.addRange($))}}}}for(et=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&et.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var W=et[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}of=!!Rp,wp=Rp=null}finally{Kt=d,it.p=u,Q.T=o}}i.current=r,Le=2}}function T_(){if(Le===2){Le=0;var i=Gs,r=Za,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=it.p;it.p=2;var d=Kt;Kt|=4;try{Yv(i,r.alternate,r)}finally{Kt=d,it.p=u,Q.T=o}}Le=3}}function E_(){if(Le===4||Le===3){Le=0,ju();var i=Gs,r=Za,o=fs,u=o_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,Za=Gs=null,b_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(qs=null),Yi(o),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,d=it.p,it.p=2,Q.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var S=u[T];g(S.value,{componentStack:S.stack})}}finally{Q.T=r,it.p=d}}(fs&3)!==0&&Yc(),Li(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===pp?Il++:(Il=0,pp=i):Il=0,Pl(0)}}function b_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,dl(r)))}function Yc(){return __(),T_(),E_(),S_()}function S_(){if(Le!==5)return!1;var i=Gs,r=hp;hp=0;var o=Yi(fs),u=Q.T,d=it.p;try{it.p=32>o?32:o,Q.T=null,o=dp,dp=null;var g=Gs,T=fs;if(Le=0,Za=Gs=null,fs=0,(Kt&6)!==0)throw Error(s(331));var S=Kt;if(Kt|=4,s_(g.current),e_(g,g.current,T,o),Kt=S,Pl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Wn,g)}catch{}return!0}finally{it.p=d,Q.T=u,b_(i,r)}}function C_(i,r,o){r=zn(o,r),r=$d(i.stateNode,r,2),i=js(i,r,2),i!==null&&(br(i,2),Li(i))}function Zt(i,r,o){if(i.tag===3)C_(i,i,o);else for(;r!==null;){if(r.tag===3){C_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){i=zn(o,i),o=Av(2),u=js(r,o,2),u!==null&&(xv(o,u,r,i),br(u,2),Li(u));break}}r=r.return}}function yp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Nx;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(up=!0,d.add(o),i=Bx.bind(null,i,r,o),r.then(i,i))}function Bx(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(kt&o)===o&&(pe===4||pe===3&&(kt&62914560)===kt&&300>fn()-Fc?(Kt&2)===0&&Ja(i,0):cp|=o,Xa===kt&&(Xa=0)),Li(i)}function A_(i,r){r===0&&(r=qu()),i=kr(i,r),i!==null&&(br(i,r),Li(i))}function zx(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),A_(i,o)}function Fx(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),A_(i,o)}function Hx(i,r){return ke(i,r)}var Qc=null,to=null,vp=!1,Xc=!1,_p=!1,Ks=0;function Li(i){i!==to&&i.next===null&&(to===null?Qc=to=i:to=to.next=i),Xc=!0,vp||(vp=!0,Gx())}function Pl(i,r){if(!_p&&Xc){_p=!0;do for(var o=!1,u=Qc;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-ye(42|i)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,D_(u,g))}else g=kt,g=_i(u,u===ne?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ti(u,g)||(o=!0,D_(u,g));u=u.next}while(o);_p=!1}}function qx(){x_()}function x_(){Xc=vp=!1;var i=0;Ks!==0&&eR()&&(i=Ks);for(var r=fn(),o=null,u=Qc;u!==null;){var d=u.next,g=R_(u,r);g===0?(u.next=null,o===null?Qc=d:o.next=d,d===null&&(to=o)):(o=u,(i!==0||(g&3)!==0)&&(Xc=!0)),u=d}Le!==0&&Le!==5||Pl(i),Ks!==0&&(Ks=0)}function R_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-ye(g),S=1<<T,V=d[T];V===-1?((S&o)===0||(S&u)!==0)&&(d[T]=Yh(S,r)):V<=r&&(i.expiredLanes|=S),g&=~S}if(r=ne,o=kt,o=_i(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Es(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ti(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Es(u),Yi(o)){case 2:case 8:o=Ho;break;case 32:o=bs;break;case 268435456:o=Uu;break;default:o=bs}return u=w_.bind(null,i),o=ke(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Es(u),i.callbackPriority=2,i.callbackNode=null,2}function w_(i,r){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yc()&&i.callbackNode!==o)return null;var u=kt;return u=_i(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(u_(i,u,r),R_(i,fn()),i.callbackNode!=null&&i.callbackNode===o?w_.bind(null,i):null)}function D_(i,r){if(Yc())return null;u_(i,r,!0)}function Gx(){iR(function(){(Kt&6)!==0?ke(Fo,qx):x_()})}function Tp(){if(Ks===0){var i=Ua;i===0&&(i=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ks=i}return Ks}function M_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ca(""+i)}function V_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function $x(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=M_((d[He]||null).action),T=u.submitter;T&&(r=(r=T[He]||null)?M_(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new Mi("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ks!==0){var V=T?V_(d,T):new FormData(d);Bd(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=T?V_(d,T):new FormData(d),Bd(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Ep=0;Ep<id.length;Ep++){var bp=id[Ep],Kx=bp.toLowerCase(),Yx=bp[0].toUpperCase()+bp.slice(1);li(Kx,"on"+Yx)}li(l0,"onAnimationEnd"),li(u0,"onAnimationIteration"),li(c0,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(cx,"onTransitionRun"),li(fx,"onTransitionStart"),li(hx,"onTransitionCancel"),li(f0,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function I_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],V=S.instance,K=S.currentTarget;if(S=S.listener,V!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=K;try{g(d)}catch(J){fc(J)}d.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(S=u[T],V=S.instance,K=S.currentTarget,S=S.listener,V!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=K;try{g(d)}catch(J){fc(J)}d.currentTarget=null,g=V}}}}function Nt(i,r){var o=r[_a];o===void 0&&(o=r[_a]=new Set);var u=i+"__bubble";o.has(u)||(P_(r,i,2,!1),o.add(u))}function Sp(i,r,o){var u=0;r&&(u|=4),P_(o,i,u,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Cp(i){if(!i[Zc]){i[Zc]=!0,$o.forEach(function(o){o!=="selectionchange"&&(Qx.has(o)||Sp(o,!1,i),Sp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,Sp("selectionchange",!1,r))}}function P_(i,r,o,u){switch(lT(r)){case 2:var d=SR;break;case 8:d=CR;break;default:d=Up}o=d.bind(null,r,o,i),d=void 0,!wr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Ap(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Si(S),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue t}S=S.parentNode}}u=u.return}ws(function(){var K=g,J=Ln(o),et=[];t:{var Y=h0.get(i);if(Y!==void 0){var Z=Mi,dt=i;switch(i){case"keypress":if(Mr(o)===0)break t;case"keydown":case"keyup":Z=lc;break;case"focusin":dt="focus",Z=Ir;break;case"focusout":dt="blur",Z=Ir;break;case"beforeblur":case"afterblur":Z=Ir;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case l0:case u0:case c0:Z=ec;break;case f0:Z=A;break;case"scroll":case"scrollend":Z=sl;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Zi;break;case"toggle":case"beforetoggle":Z=Mt}var bt=(r&4)!==0,ee=!bt&&(i==="scroll"||i==="scrollend"),z=bt?Y!==null?Y+"Capture":null:Y;bt=[];for(var U=K,$;U!==null;){var W=U;if($=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||$===null||z===null||(W=si(U,z),W!=null&&bt.push(Nl(U,W,$))),ee)break;U=U.return}0<bt.length&&(Y=new Z(Y,dt,null,o,J),et.push({event:Y,listeners:bt}))}}if((r&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Y&&o!==el&&(dt=o.relatedTarget||o.fromElement)&&(Si(dt)||dt[Ei]))break t;if((Z||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(dt=o.relatedTarget||o.toElement,Z=K,dt=dt?Si(dt):null,dt!==null&&(ee=l(dt),bt=dt.tag,dt!==ee||bt!==5&&bt!==27&&bt!==6)&&(dt=null)):(Z=null,dt=K),Z!==dt)){if(bt=rl,W="onMouseLeave",z="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(bt=Zi,W="onPointerLeave",z="onPointerEnter",U="pointer"),ee=Z==null?Y:xn(Z),$=dt==null?Y:xn(dt),Y=new bt(W,U+"leave",Z,o,J),Y.target=ee,Y.relatedTarget=$,W=null,Si(J)===K&&(bt=new bt(z,U+"enter",dt,o,J),bt.target=$,bt.relatedTarget=ee,W=bt),ee=W,Z&&dt)e:{for(bt=Xx,z=Z,U=dt,$=0,W=z;W;W=bt(W))$++;W=0;for(var _t=U;_t;_t=bt(_t))W++;for(;0<$-W;)z=bt(z),$--;for(;0<W-$;)U=bt(U),W--;for(;$--;){if(z===U||U!==null&&z===U.alternate){bt=z;break e}z=bt(z),U=bt(U)}bt=null}else bt=null;Z!==null&&O_(et,Y,Z,bt,!1),dt!==null&&ee!==null&&O_(et,ee,dt,bt,!0)}}t:{if(Y=K?xn(K):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var qt=Zy;else if(Qy(Y))if(Jy)qt=ox;else{qt=rx;var gt=sx}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Sa(K.elementType)&&(qt=Zy):qt=ax;if(qt&&(qt=qt(i,K))){Xy(et,qt,o,J);break t}gt&&gt(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Jo(Y,"number",Y.value)}switch(gt=K?xn(K):window,i){case"focusin":(Qy(gt)||gt.contentEditable==="true")&&(Va=gt,td=K,cl=null);break;case"focusout":cl=td=Va=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,a0(et,o,J);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":a0(et,o,J)}var Pt;if($t)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ma?Pr(i,o)&&(Lt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Lt="onCompositionStart");Lt&&(Pi&&o.locale!=="ko"&&(Ma||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ma&&(Pt=il()):(Di=J,nl="value"in Di?Di.value:Di.textContent,Ma=!0)),gt=Jc(K,Lt),0<gt.length&&(Lt=new Ii(Lt,i,null,o,J),et.push({event:Lt,listeners:gt}),Pt?Lt.data=Pt:(Pt=Da(o),Pt!==null&&(Lt.data=Pt)))),(Pt=Un?tx(i,o):ex(i,o))&&(Lt=Jc(K,"onBeforeInput"),0<Lt.length&&(gt=new Ii("onBeforeInput","beforeinput",null,o,J),et.push({event:gt,listeners:Lt}),gt.data=Pt)),$x(et,i,K,o,J)}I_(et,r)})}function Nl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jc(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=si(i,o),d!=null&&u.unshift(Nl(i,d,g)),d=si(i,r),d!=null&&u.push(Nl(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Xx(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function O_(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var S=o,V=S.alternate,K=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||K===null||(V=K,d?(K=si(o,g),K!=null&&T.unshift(Nl(o,K,V))):d||(K=si(o,g),K!=null&&T.push(Nl(o,K,V)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var Zx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function N_(i){return(typeof i=="string"?i:""+i).replace(Zx,`
`).replace(Jx,"")}function k_(i,r){return r=N_(r),N_(i)===r}function te(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(i,""+u);break;case"className":Rn(i,"class",u);break;case"tabIndex":Rn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(i,o,u);break;case"style":tl(i,u,g);break;case"data":if(r!=="object"){Rn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ca(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&te(i,r,"name",d.name,d,null),te(i,r,"formEncType",d.formEncType,d,null),te(i,r,"formMethod",d.formMethod,d,null),te(i,r,"formTarget",d.formTarget,d,null)):(te(i,r,"encType",d.encType,d,null),te(i,r,"method",d.method,d,null),te(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ca(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ii);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ca(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),Ea(i,"popover",u);break;case"xlinkActuate":xe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ea(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ju.get(o)||o,Ea(i,o,u))}}function xp(i,r,o,u,d,g){switch(o){case"style":tl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?vn(i,u):(typeof u=="number"||typeof u=="bigint")&&vn(i,""+u);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ea(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,g,T,o,null)}}d&&te(i,r,"srcSet",o.srcSet,o,null),u&&te(i,r,"src",o.src,o,null);return;case"input":Nt("invalid",i);var S=g=T=d=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":T=J;break;case"checked":V=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:te(i,r,u,J,o,null)}}Qu(i,g,S,V,K,T,d,!1);return;case"select":Nt("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:te(i,r,d,S,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Cs(i,!!u,r,!1):o!=null&&Cs(i,!!u,o,!0);return;case"textarea":Nt("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:te(i,r,T,S,o,null)}As(i,u,d,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":te(i,r,V,u,o,null));return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(u=0;u<Ol.length;u++)Nt(Ol[u],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,K,u,o,null)}return;default:if(Sa(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&xp(i,r,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&te(i,r,S,u,o,null))}function Wx(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,V=null,K=null,J=null;for(Z in o){var et=o[Z];if(o.hasOwnProperty(Z)&&et!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=et;default:u.hasOwnProperty(Z)||te(i,r,Z,null,u,et)}}for(var Y in u){var Z=u[Y];if(et=o[Y],u.hasOwnProperty(Y)&&(Z!=null||et!=null))switch(Y){case"type":g=Z;break;case"name":d=Z;break;case"checked":K=Z;break;case"defaultChecked":J=Z;break;case"value":T=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==et&&te(i,r,Y,Z,u,et)}}ba(i,T,S,V,K,J,g,d);return;case"select":Z=T=S=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||te(i,r,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==V&&te(i,r,d,g,u,V)}r=S,o=T,u=Z,Y!=null?Cs(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Cs(i,!!o,r,!0):Cs(i,!!o,o?[]:"",!1));return;case"textarea":Z=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(i,r,S,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Y=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&te(i,r,T,d,u,g)}Xu(i,Y,Z);return;case"option":for(var dt in o)Y=o[dt],o.hasOwnProperty(dt)&&Y!=null&&!u.hasOwnProperty(dt)&&(dt==="selected"?i.selected=!1:te(i,r,dt,null,u,Y));for(V in u)Y=u[V],Z=o[V],u.hasOwnProperty(V)&&Y!==Z&&(Y!=null||Z!=null)&&(V==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":te(i,r,V,Y,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)Y=o[bt],o.hasOwnProperty(bt)&&Y!=null&&!u.hasOwnProperty(bt)&&te(i,r,bt,null,u,Y);for(K in u)if(Y=u[K],Z=o[K],u.hasOwnProperty(K)&&Y!==Z&&(Y!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:te(i,r,K,Y,u,Z)}return;default:if(Sa(r)){for(var ee in o)Y=o[ee],o.hasOwnProperty(ee)&&Y!==void 0&&!u.hasOwnProperty(ee)&&xp(i,r,ee,void 0,u,Y);for(J in u)Y=u[J],Z=o[J],!u.hasOwnProperty(J)||Y===Z||Y===void 0&&Z===void 0||xp(i,r,J,Y,u,Z);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&te(i,r,z,null,u,Y);for(et in u)Y=u[et],Z=o[et],!u.hasOwnProperty(et)||Y===Z||Y==null&&Z==null||te(i,r,et,Y,u,Z)}function L_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,S=d.duration;if(g&&S&&L_(T)){for(T=0,S=d.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>S)break;var J=V.transferSize,et=V.initiatorType;J&&L_(et)&&(V=V.responseEnd,T+=J*(V<S?1:(S-K)/(V-K)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Rp=null,wp=null;function Wc(i){return i.nodeType===9?i:i.ownerDocument}function j_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Dp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mp=null;function eR(){var i=window.event;return i&&i.type==="popstate"?i===Mp?!1:(Mp=i,!0):(Mp=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,iR=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(i){return z_.resolve(null).then(i).catch(sR)}:B_;function sR(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function F_(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),so(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")kl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,kl(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[bi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&kl(i.ownerDocument.body);o=d}while(o);so(r)}function H_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Vp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vp(o),Ta(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function rR(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[bi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function aR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=$n(i.nextSibling),i===null))return null;return i}function q_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=$n(i.nextSibling),i===null))return null;return i}function Ip(i){return i.data==="$?"||i.data==="$~"}function Pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function oR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Op=null;function G_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return $n(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function $_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function K_(i,r,o){switch(r=Wc(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function kl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ta(i)}var Kn=new Map,Y_=new Set;function tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hs=it.d;it.d={f:lR,r:uR,D:cR,C:fR,L:hR,m:dR,X:mR,S:pR,M:gR};function lR(){var i=hs.f(),r=Gc();return i||r}function uR(i){var r=kn(i);r!==null&&r.tag===5&&r.type==="form"?fv(r):hs.r(i)}var eo=typeof document>"u"?null:document;function Q_(i,r,o){var u=eo;if(u&&typeof r=="string"&&r){var d=yn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Y_.has(d)||(Y_.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Je(r,"link",i),Ae(r),u.head.appendChild(r)))}}function cR(i){hs.D(i),Q_("dns-prefetch",i,null)}function fR(i,r){hs.C(i,r),Q_("preconnect",i,r)}function hR(i,r,o){hs.L(i,r,o);var u=eo;if(u&&i&&r){var d='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+yn(o.imageSizes)+'"]')):d+='[href="'+yn(i)+'"]';var g=d;switch(r){case"style":g=no(i);break;case"script":g=io(i)}Kn.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Kn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Ll(g))||r==="script"&&u.querySelector(jl(g))||(r=u.createElement("link"),Je(r,"link",i),Ae(r),u.head.appendChild(r)))}}function dR(i,r){hs.m(i,r);var o=eo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=io(i)}if(!Kn.has(g)&&(i=v({rel:"modulepreload",href:i},r),Kn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(jl(g)))return}u=o.createElement("link"),Je(u,"link",i),Ae(u),o.head.appendChild(u)}}}function pR(i,r,o){hs.S(i,r,o);var u=eo;if(u&&i){var d=Ci(u).hoistableStyles,g=no(i);r=r||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Ll(g)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Kn.get(g))&&Np(i,o);var V=T=u.createElement("link");Ae(V),Je(V,"link",i),V._p=new Promise(function(K,J){V.onload=K,V.onerror=J}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ef(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function mR(i,r){hs.X(i,r);var o=eo;if(o&&i){var u=Ci(o).hoistableScripts,d=io(i),g=u.get(d);g||(g=o.querySelector(jl(d)),g||(i=v({src:i,async:!0},r),(r=Kn.get(d))&&kp(i,r),g=o.createElement("script"),Ae(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function gR(i,r){hs.M(i,r);var o=eo;if(o&&i){var u=Ci(o).hoistableScripts,d=io(i),g=u.get(d);g||(g=o.querySelector(jl(d)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Kn.get(d))&&kp(i,r),g=o.createElement("script"),Ae(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function X_(i,r,o,u){var d=(d=It.current)?tf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=no(o.href),o=Ci(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=no(o.href);var g=Ci(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Ll(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||yR(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(o),o=Ci(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function no(i){return'href="'+yn(i)+'"'}function Ll(i){return'link[rel="stylesheet"]['+i+"]"}function Z_(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function yR(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ae(r),i.head.appendChild(r))}function io(i){return'[src="'+yn(i)+'"]'}function jl(i){return"script[async]"+i}function J_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(u)return r.instance=u,Ae(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ae(u),Je(u,"style",d),ef(u,o.precedence,i),r.instance=u;case"stylesheet":d=no(o.href);var g=i.querySelector(Ll(d));if(g)return r.state.loading|=4,r.instance=g,Ae(g),g;u=Z_(o),(d=Kn.get(d))&&Np(u,d),g=(i.ownerDocument||i).createElement("link"),Ae(g);var T=g;return T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),Je(g,"link",u),r.state.loading|=4,ef(g,o.precedence,i),r.instance=g;case"script":return g=io(o.src),(d=i.querySelector(jl(g)))?(r.instance=d,Ae(d),d):(u=o,(d=Kn.get(g))&&(u=v({},o),kp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ae(d),Je(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ef(u,o.precedence,i));return r.instance}function ef(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Np(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function W_(i,r,o){if(nf===null){var u=new Map,d=nf=new Map;d.set(o,u)}else d=nf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[bi]||g[Ce]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var S=u.get(T);S?S.push(g):u.set(T,[g])}}return u}function tT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function vR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function eT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _R(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=no(u.href),g=r.querySelector(Ll(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ae(g);return}g=r.ownerDocument||r,u=Z_(u),(d=Kn.get(d))&&Np(u,d),g=g.createElement("link"),Ae(g);var T=g;T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),Je(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Lp=0;function TR(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Lp===0&&(Lp=62500*tR());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Lp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(ER,i),rf=null,sf.call(i))}function ER(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=sf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Ul={$$typeof:G,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function bR(i,r,o,u,d,g,T,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function nT(i,r,o,u,d,g,T,S,V,K,J,et){return i=new bR(i,r,o,T,V,K,J,et,S),r=1,g===!0&&(r|=24),g=Dn(3,null,null,r),i.current=g,g.stateNode=i,r=gd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Td(g),i}function iT(i){return i?(i=Oa,i):Oa}function sT(i,r,o,u,d,g){d=iT(d),u.context===null?u.context=d:u.pendingContext=d,u=Ls(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=js(i,u,r),o!==null&&(Sn(o,i,r),yl(o,i,r))}function rT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function jp(i,r){rT(i,r),(i=i.alternate)&&rT(i,r)}function aT(i){if(i.tag===13||i.tag===31){var r=kr(i,67108864);r!==null&&Sn(r,i,67108864),jp(i,67108864)}}function oT(i){if(i.tag===13||i.tag===31){var r=On();r=Cr(r);var o=kr(i,r);o!==null&&Sn(o,i,r),jp(i,r)}}var of=!0;function SR(i,r,o,u){var d=Q.T;Q.T=null;var g=it.p;try{it.p=2,Up(i,r,o,u)}finally{it.p=g,Q.T=d}}function CR(i,r,o,u){var d=Q.T;Q.T=null;var g=it.p;try{it.p=8,Up(i,r,o,u)}finally{it.p=g,Q.T=d}}function Up(i,r,o,u){if(of){var d=Bp(u);if(d===null)Ap(i,r,u,lf,o),uT(i,u);else if(xR(d,i,r,o,u))u.stopPropagation();else if(uT(i,u),r&4&&-1<AR.indexOf(i)){for(;d!==null;){var g=kn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=vi(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var V=1<<31-ye(T);S.entanglements[1]|=V,T&=~V}Li(g),(Kt&6)===0&&(Hc=fn()+500,Pl(0))}}break;case 31:case 13:S=kr(g,2),S!==null&&Sn(S,g,2),Gc(),jp(g,2)}if(g=Bp(u),g===null&&Ap(i,r,u,lf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Ap(i,r,u,null,o)}}function Bp(i){return i=Ln(i),zp(i)}var lf=null;function zp(i){if(lf=null,i=Si(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function lT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Fo:return 2;case Ho:return 8;case bs:case Kh:return 32;case Uu:return 268435456;default:return 32}default:return 32}}var Fp=!1,Qs=null,Xs=null,Zs=null,Bl=new Map,zl=new Map,Js=[],AR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(i,r){switch(i){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function Fl(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=kn(r),r!==null&&aT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function xR(i,r,o,u,d){switch(r){case"focusin":return Qs=Fl(Qs,i,r,o,u,d),!0;case"dragenter":return Xs=Fl(Xs,i,r,o,u,d),!0;case"mouseover":return Zs=Fl(Zs,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Bl.set(g,Fl(Bl.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,zl.set(g,Fl(zl.get(g)||null,i,r,o,u,d)),!0}return!1}function cT(i){var r=Si(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ei(i.priority,function(){oT(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,ei(i.priority,function(){oT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);el=u,o.target.dispatchEvent(u),el=null}else return r=kn(o),r!==null&&aT(r),i.blockedOn=o,!1;r.shift()}return!0}function fT(i,r,o){uf(i)&&o.delete(r)}function RR(){Fp=!1,Qs!==null&&uf(Qs)&&(Qs=null),Xs!==null&&uf(Xs)&&(Xs=null),Zs!==null&&uf(Zs)&&(Zs=null),Bl.forEach(fT),zl.forEach(fT)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,Fp||(Fp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RR)))}var ff=null;function hT(i){ff!==i&&(ff=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ff===i&&(ff=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(zp(u||o)===null)continue;break}var g=kn(o);g!==null&&(i.splice(r,3),r-=3,Bd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function so(i){function r(V){return cf(V,i)}Qs!==null&&cf(Qs,i),Xs!==null&&cf(Xs,i),Zs!==null&&cf(Zs,i),Bl.forEach(r),zl.forEach(r);for(var o=0;o<Js.length;o++){var u=Js[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Js.length&&(o=Js[0],o.blockedOn===null);)cT(o),o.blockedOn===null&&Js.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[He]||null;if(typeof g=="function")T||hT(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[He]||null)S=T.formAction;else if(zp(d)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),hT(o)}}}function dT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Hp(i){this._internalRoot=i}hf.prototype.render=Hp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=On();sT(o,u,i,r,null,null)},hf.prototype.unmount=Hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;sT(i.current,2,null,i,null,null),Gc(),r[Ei]=null}};function hf(i){this._internalRoot=i}hf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Js.length&&r!==0&&r<Js[o].priority;o++);Js.splice(o,0,i),o===0&&cT(i)}};var pT=t.version;if(pT!=="19.2.4")throw Error(s(527,pT,"19.2.4"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var wR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Wn=df.inject(wR),Ke=df}catch{}}return ql.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=Ev,g=bv,T=Sv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=nT(i,1,!1,null,null,o,u,null,d,g,T,dT),i[Ei]=r.current,Cp(i),new Hp(r)},ql.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=Ev,T=bv,S=Sv,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=nT(i,1,!0,r,o??null,u,d,V,g,T,S,dT),r.context=iT(null),o=r.current,u=On(),u=Cr(u),d=Ls(u),d.callback=null,js(o,d,u),o=u,r.current.lanes=o,br(r,o),Li(r),i[Ei]=r.current,Cp(i),new hf(r)},ql.version="19.2.4",ql}var CT;function UR(){if(CT)return $p.exports;CT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$p.exports=jR(),$p.exports}var BR=UR();var AT="popstate";function zR(e={}){function t(s,a){let{pathname:l,search:c,hash:h}=s.location;return Dm("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:cu(a)}return HR(t,n,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FR(){return Math.random().toString(36).substring(2,10)}function xT(e,t){return{usr:e.state,key:e.key,idx:t}}function Dm(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xu(t):t,state:n,key:t&&t.key||s||FR()}}function cu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function HR(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){h="POP";let B=y(),F=B==null?null:B-m;m=B,p&&p({action:h,location:k.location,delta:F})}function E(B,F){h="PUSH";let q=Dm(k.location,B,F);m=y()+1;let G=xT(q,m),at=k.createHref(q);try{c.pushState(G,"",at)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;a.location.assign(at)}l&&p&&p({action:h,location:k.location,delta:1})}function C(B,F){h="REPLACE";let q=Dm(k.location,B,F);m=y();let G=xT(q,m),at=k.createHref(q);c.replaceState(G,"",at),l&&p&&p({action:h,location:k.location,delta:0})}function M(B){return qR(B)}let k={get action(){return h},get location(){return e(a,c)},listen(B){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(AT,v),p=B,()=>{a.removeEventListener(AT,v),p=null}},createHref(B){return t(a,B)},createURL:M,encodeLocation(B){let F=M(B);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:C,go(B){return c.go(B)}};return k}function qR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:cu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _b(e,t,n="/"){return GR(e,t,n,!1)}function GR(e,t,n,s){let a=typeof t=="string"?xu(t):t,l=ms(a.pathname||"/",n);if(l==null)return null;let c=Tb(e);$R(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=iw(l);h=ew(c[p],m,s)}return h}function Tb(e,t=[],n=[],s="",a=!1){let l=(c,h,p=a,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;ze(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=ds([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Tb(c.children,t,E,v,p)),!(c.path==null&&!c.index)&&t.push({path:v,score:WR(v,c.index),routesMeta:E})};return e.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let p of Eb(c.path))l(c,h,!0,p)}),t}function Eb(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Eb(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function $R(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var KR=/^:[\w-]+$/,YR=3,QR=2,XR=1,ZR=10,JR=-2,RT=e=>e==="*";function WR(e,t){let n=e.split("/"),s=n.length;return n.some(RT)&&(s+=JR),t&&(s+=QR),n.filter(a=>!RT(a)).reduce((a,l)=>a+(KR.test(l)?YR:l===""?XR:ZR),s)}function tw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function ew(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!v&&m&&n&&!s[s.length-1].route.index&&(v=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ds([l,v.pathname]),pathnameBase:ow(ds([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=ds([l,v.pathnameBase]))}return c}function Yf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=nw(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},E)=>{if(y==="*"){let M=h[E]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=h[E];return v&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function nw(e,t=!1,n=!0){qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function iw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rw(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?xu(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=wT(n.substring(1),"/"):l=wT(n,t)):l=t,{pathname:l,search:lw(s),hash:uw(a)}}function wT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Xp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bb(e){let t=aw(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Sb(e,t,n,s=!1){let a;typeof e=="string"?a=xu(e):(a={...e},ze(!a.pathname||!a.pathname.includes("?"),Xp("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Xp("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Xp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?t[v]:"/"}let p=rw(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var ds=e=>e.join("/").replace(/\/\/+/g,"/"),ow=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,cw=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function hw(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ab(e,t){let n=e;if(typeof n!="string"||!sw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Cb)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=ms(c.pathname,t);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xb=["POST","PUT","PATCH","DELETE"];new Set(xb);var dw=["GET",...xb];new Set(dw);var Mo=P.createContext(null);Mo.displayName="DataRouter";var Eh=P.createContext(null);Eh.displayName="DataRouterState";var pw=P.createContext(!1),Rb=P.createContext({isTransitioning:!1});Rb.displayName="ViewTransition";var mw=P.createContext(new Map);mw.displayName="Fetchers";var gw=P.createContext(null);gw.displayName="Await";var Jn=P.createContext(null);Jn.displayName="Navigation";var bh=P.createContext(null);bh.displayName="Location";var Ts=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var wg=P.createContext(null);wg.displayName="RouteError";var wb="REACT_ROUTER_ERROR",yw="REDIRECT",vw="ROUTE_ERROR_RESPONSE";function _w(e){if(e.startsWith(`${wb}:${yw}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Tw(e){if(e.startsWith(`${wb}:${vw}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cw(t.status,t.statusText,t.data)}catch{}}function Ew(e,{relative:t}={}){ze(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Jn),{hash:a,pathname:l,search:c}=wu(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:ds([n,l])),s.createHref({pathname:h,search:c,hash:a})}function Ru(){return P.useContext(bh)!=null}function oa(){return ze(Ru(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(bh).location}var Db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mb(e){P.useContext(Jn).static||P.useLayoutEffect(e)}function bw(){let{isDataRoute:e}=P.useContext(Ts);return e?Nw():Sw()}function Sw(){ze(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Mo),{basename:t,navigator:n}=P.useContext(Jn),{matches:s}=P.useContext(Ts),{pathname:a}=oa(),l=JSON.stringify(bb(s)),c=P.useRef(!1);return Mb(()=>{c.current=!0}),P.useCallback((p,m={})=>{if(qi(c.current,Db),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Sb(p,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ds([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,l,a,e])}P.createContext(null);function wu(e,{relative:t}={}){let{matches:n}=P.useContext(Ts),{pathname:s}=oa(),a=JSON.stringify(bb(n));return P.useMemo(()=>Sb(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function Cw(e,t,n,s,a){ze(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Jn),{matches:c}=P.useContext(Ts),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let q=v&&v.path||"";Ib(m,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=oa(),C;C=E;let M=C.pathname||"/",k=M;if(y!=="/"){let q=y.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let B=_b(e,{pathname:k});return qi(v||B!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),qi(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Dw(B&&B.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:ds([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:ds([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a)}function Aw(){let e=Ow(),t=fw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:a},n):null,c)}var xw=P.createElement(Aw,null),Vb=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=Tw(e.digest);n&&(e=n)}let t=e!==void 0?P.createElement(Ts.Provider,{value:this.props.routeContext},P.createElement(wg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?P.createElement(Rw,{error:e},t):t}};Vb.contextType=pw;var Zp=new WeakMap;function Rw({children:e,error:t}){let{basename:n}=P.useContext(Jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=_w(t.digest);if(s){let a=Zp.get(t);if(a)throw a;let l=Ab(s.location,n);if(Cb&&!Zp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Zp.set(t,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function ww({routeContext:e,match:t,children:n}){let s=P.useContext(Mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Ts.Provider,{value:e},n)}function Dw(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:C}=n,M=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||M){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:hw(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,E)=>{let C,M=!1,k=null,B=null;n&&(C=c&&v.route.id?c[v.route.id]:void 0,k=v.route.errorElement||xw,h&&(p<0&&E===0?(Ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,B=null):p===E&&(M=!0,B=v.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,E+1)),q=()=>{let G;return C?G=k:M?G=B:v.route.Component?G=P.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=y,P.createElement(ww,{match:v,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?P.createElement(Vb,{location:n.location,revalidation:n.revalidation,component:k,error:C,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:m}):q()},null)}function Dg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(e){let t=P.useContext(Mo);return ze(t,Dg(e)),t}function Vw(e){let t=P.useContext(Eh);return ze(t,Dg(e)),t}function Iw(e){let t=P.useContext(Ts);return ze(t,Dg(e)),t}function Mg(e){let t=Iw(e),n=t.matches[t.matches.length-1];return ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Pw(){return Mg("useRouteId")}function Ow(){let e=P.useContext(wg),t=Vw("useRouteError"),n=Mg("useRouteError");return e!==void 0?e:t.errors?.[n]}function Nw(){let{router:e}=Mw("useNavigate"),t=Mg("useNavigate"),n=P.useRef(!1);return Mb(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{qi(n.current,Db),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var DT={};function Ib(e,t,n){!t&&!DT[e]&&(DT[e]=!0,qi(!1,n))}P.memo(kw);function kw({routes:e,future:t,state:n,onError:s}){return Cw(e,void 0,n,s,t)}function Lw({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ze(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=xu(n));let{pathname:m="/",search:y="",hash:v="",state:E=null,key:C="default"}=n,M=P.useMemo(()=>{let k=ms(m,h);return k==null?null:{location:{pathname:k,search:y,hash:v,state:E,key:C},navigationType:s}},[h,m,y,v,E,C,s]);return qi(M!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:P.createElement(Jn.Provider,{value:p},P.createElement(bh.Provider,{children:t,value:M}))}var Rf="get",wf="application/x-www-form-urlencoded";function Sh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function jw(e){return Sh(e)&&e.tagName.toLowerCase()==="button"}function Uw(e){return Sh(e)&&e.tagName.toLowerCase()==="form"}function Bw(e){return Sh(e)&&e.tagName.toLowerCase()==="input"}function zw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fw(e,t){return e.button===0&&(!t||t==="_self")&&!zw(e)}var pf=null;function Hw(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jp(e){return e!=null&&!qw.has(e)?(qi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):e}function Gw(e,t){let n,s,a,l,c;if(Uw(e)){let h=e.getAttribute("action");s=h?ms(h,t):null,n=e.getAttribute("method")||Rf,a=Jp(e.getAttribute("enctype"))||wf,l=new FormData(e)}else if(jw(e)||Bw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||h.getAttribute("action");if(s=p?ms(p,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Rf,a=Jp(e.getAttribute("formenctype"))||Jp(h.getAttribute("enctype"))||wf,l=new FormData(h,e),!Hw()){let{name:m,type:y,value:v}=e;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,v)}}else{if(Sh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,s=null,a=wf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $w(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&ms(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Kw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Qw(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await Kw(l,n);return c.links?c.links():[]}return[]}));return Ww(s.flat(1).filter(Yw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function MT(e,t,n,s,a,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?t.filter((p,m)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Xw(e,t,{includeHydrateFallback:n}={}){return Zw(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Zw(e){return[...new Set(e)]}function Jw(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function Ww(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(Jw(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Pb(){let e=P.useContext(Mo);return Vg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tD(){let e=P.useContext(Eh);return Vg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ig=P.createContext(void 0);Ig.displayName="FrameworkContext";function Ob(){let e=P.useContext(Ig);return Vg(e,"You must render this element inside a <HydratedRouter> element"),e}function eD(e,t){let n=P.useContext(Ig),[s,a]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,E=P.useRef(null);P.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=F=>{F.forEach(q=>{c(q.isIntersecting)})},B=new IntersectionObserver(k,{threshold:.5});return E.current&&B.observe(E.current),()=>{B.disconnect()}}},[e]),P.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let C=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:Gl(h,C),onBlur:Gl(p,M),onMouseEnter:Gl(m,C),onMouseLeave:Gl(y,M),onTouchStart:Gl(v,C)}]:[!1,E,{}]}function Gl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nD({page:e,...t}){let{router:n}=Pb(),s=P.useMemo(()=>_b(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?P.createElement(sD,{page:e,matches:s,...t}):null}function iD(e){let{manifest:t,routeModules:n}=Ob(),[s,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return Qw(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function sD({page:e,matches:t,...n}){let s=oa(),{future:a,manifest:l,routeModules:c}=Ob(),{basename:h}=Pb(),{loaderData:p,matches:m}=tD(),y=P.useMemo(()=>MT(e,t,m,l,s,"data"),[e,t,m,l,s]),v=P.useMemo(()=>MT(e,t,m,l,s,"assets"),[e,t,m,l,s]),E=P.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,B=!1;if(t.forEach(q=>{let G=l.routes[q.route.id];!G||!G.hasLoader||(!y.some(at=>at.route.id===q.route.id)&&q.route.id in p&&c[q.route.id]?.shouldRevalidate||G.hasClientLoader?B=!0:k.add(q.route.id))}),k.size===0)return[];let F=$w(e,h,a.unstable_trailingSlashAwareDataRequests,"data");return B&&k.size>0&&F.searchParams.set("_routes",t.filter(q=>k.has(q.route.id)).map(q=>q.route.id).join(",")),[F.pathname+F.search]},[h,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,t,e,c]),C=P.useMemo(()=>Xw(v,l),[v,l]),M=iD(v);return P.createElement(P.Fragment,null,E.map(k=>P.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),C.map(k=>P.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:B})=>P.createElement("link",{key:k,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function rD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var aD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aD&&(window.__reactRouterVersion="7.13.0")}catch{}function oD({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=P.useRef();a.current==null&&(a.current=zR({window:s,v5Compat:!0}));let l=a.current,[c,h]=P.useState({action:l.action,location:l.location}),p=P.useCallback(m=>{n===!1?h(m):P.startTransition(()=>h(m))},[n]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(Lw,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kb=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...C},M){let{basename:k,unstable_useTransitions:B}=P.useContext(Jn),F=typeof m=="string"&&Nb.test(m),q=Ab(m,k);m=q.to;let G=Ew(m,{relative:a}),[at,st,lt]=eD(s,C),D=fD(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:B});function x(O){t&&t(O),O.defaultPrevented||D(O)}let R=P.createElement("a",{...C,...lt,href:q.absoluteURL||G,onClick:q.isExternal||l?t:x,ref:rD(M,st),target:p,"data-discover":!F&&n==="render"?"true":void 0});return at&&!F?P.createElement(P.Fragment,null,R,P.createElement(nD,{page:G})):R});kb.displayName="Link";var lD=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:p,...m},y){let v=wu(c,{relative:m.relative}),E=oa(),C=P.useContext(Eh),{navigator:M,basename:k}=P.useContext(Jn),B=C!=null&&gD(v)&&h===!0,F=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,q=E.pathname,G=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(q=q.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&k&&(G=ms(G,k)||G);const at=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let st=q===F||!a&&q.startsWith(F)&&q.charAt(at)==="/",lt=G!=null&&(G===F||!a&&G.startsWith(F)&&G.charAt(F.length)==="/"),D={isActive:st,isPending:lt,isTransitioning:B},x=st?t:void 0,R;typeof s=="function"?R=s(D):R=[s,st?"active":null,lt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return P.createElement(kb,{...m,"aria-current":x,className:R,ref:y,style:O,to:c,viewTransition:h},typeof p=="function"?p(D):p)});lD.displayName="NavLink";var uD=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Rf,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...C},M)=>{let{unstable_useTransitions:k}=P.useContext(Jn),B=pD(),F=mD(h,{relative:m}),q=c.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&Nb.test(h),at=st=>{if(p&&p(st),st.defaultPrevented)return;st.preventDefault();let lt=st.nativeEvent.submitter,D=lt?.getAttribute("formmethod")||c,x=()=>B(lt||st.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});k&&n!==!1?P.startTransition(()=>x()):x()};return P.createElement("form",{ref:M,method:q,action:F,onSubmit:s?p:at,...C,"data-discover":!G&&e==="render"?"true":void 0})});uD.displayName="Form";function cD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(e){let t=P.useContext(Mo);return ze(t,cD(e)),t}function fD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=bw(),y=oa(),v=wu(e,{relative:l});return P.useCallback(E=>{if(Fw(E,t)){E.preventDefault();let C=n!==void 0?n:cu(y)===cu(v),M=()=>m(e,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});p?P.startTransition(()=>M()):M()}},[y,m,v,n,s,t,e,a,l,c,h,p])}var hD=0,dD=()=>`__${String(++hD)}__`;function pD(){let{router:e}=Lb("useSubmit"),{basename:t}=P.useContext(Jn),n=Pw(),s=e.fetch,a=e.navigate;return P.useCallback(async(l,c={})=>{let{action:h,method:p,encType:m,formData:y,body:v}=Gw(l,t);if(c.navigate===!1){let E=c.fetcherKey||dD();await s(E,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function mD(e,{relative:t}={}){let{basename:n}=P.useContext(Jn),s=P.useContext(Ts);ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...wu(e||".",{relative:t})},c=oa();if(e==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ds([n,l.pathname])),cu(l)}function gD(e,{relative:t}={}){let n=P.useContext(Rb);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lb("useViewTransitionState"),a=wu(e,{relative:t});if(!n.isTransitioning)return!1;let l=ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yf(a.pathname,c)!=null||Yf(a.pathname,l)!=null}const Pg=P.createContext({});function Og(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const jb=typeof window<"u",Ub=jb?P.useLayoutEffect:P.useEffect,Ch=P.createContext(null);function Ng(e,t){e.indexOf(t)===-1&&e.push(t)}function Qf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gi=(e,t,n)=>n>t?t:n<e?e:n;let kg=()=>{};const gs={},Bb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zb(e){return typeof e=="object"&&e!==null}const Fb=e=>/^0[^.\s]+$/u.test(e);function Lg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zn=e=>e,yD=(e,t)=>n=>t(e(n)),Du=(...e)=>e.reduce(yD),fu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class jg{constructor(){this.subscriptions=[]}add(t){return Ng(this.subscriptions,t),()=>Qf(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pi=e=>e*1e3,Xn=e=>e/1e3;function Hb(e,t){return t?e*(1e3/t):0}const qb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vD=1e-7,_D=12;function TD(e,t,n,s,a){let l,c,h=0;do c=t+(n-t)/2,l=qb(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>vD&&++h<_D);return c}function Mu(e,t,n,s){if(e===t&&n===s)return Zn;const a=l=>TD(l,0,1,e,n);return l=>l===0||l===1?l:qb(a(l),t,s)}const Gb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$b=e=>t=>1-e(1-t),Kb=Mu(.33,1.53,.69,.99),Ug=$b(Kb),Yb=Gb(Ug),Qb=e=>(e*=2)<1?.5*Ug(e):.5*(2-Math.pow(2,-10*(e-1))),Bg=e=>1-Math.sin(Math.acos(e)),Xb=$b(Bg),Zb=Gb(Bg),ED=Mu(.42,0,1,1),bD=Mu(0,0,.58,1),Jb=Mu(.42,0,.58,1),SD=e=>Array.isArray(e)&&typeof e[0]!="number",Wb=e=>Array.isArray(e)&&typeof e[0]=="number",CD={linear:Zn,easeIn:ED,easeInOut:Jb,easeOut:bD,circIn:Bg,circInOut:Zb,circOut:Xb,backIn:Ug,backInOut:Yb,backOut:Kb,anticipate:Qb},AD=e=>typeof e=="string",VT=e=>{if(Wb(e)){kg(e.length===4);const[t,n,s,a]=e;return Mu(t,n,s,a)}else if(AD(e))return CD[e];return e},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xD(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(m.schedule(y),e()),y(h)}const m={schedule:(y,v=!1,E=!1)=>{const M=E&&a?n:s;return v&&c.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const RD=40;function tS(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=mf.reduce((G,at)=>(G[at]=xD(l),G),{}),{setup:h,read:p,resolveKeyframes:m,preUpdate:y,update:v,preRender:E,render:C,postRender:M}=c,k=()=>{const G=gs.useManualTiming?a.timestamp:performance.now();n=!1,gs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(G-a.timestamp,RD),1)),a.timestamp=G,a.isProcessing=!0,h.process(a),p.process(a),m.process(a),y.process(a),v.process(a),E.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(k))},B=()=>{n=!0,s=!0,a.isProcessing||e(k)};return{schedule:mf.reduce((G,at)=>{const st=c[at];return G[at]=(lt,D=!1,x=!1)=>(n||B(),st.schedule(lt,D,x)),G},{}),cancel:G=>{for(let at=0;at<mf.length;at++)c[mf[at]].cancel(G)},state:a,steps:c}}const{schedule:ie,cancel:ur,state:We,steps:Wp}=tS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let Df;function wD(){Df=void 0}const pn={now:()=>(Df===void 0&&pn.set(We.isProcessing||gs.useManualTiming?We.timestamp:performance.now()),Df),set:e=>{Df=e,queueMicrotask(wD)}},eS=e=>t=>typeof t=="string"&&t.startsWith(e),nS=eS("--"),DD=eS("var(--"),zg=e=>DD(e)?MD.test(e.split("/*")[0].trim()):!1,MD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function IT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Vo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hu={...Vo,transform:e=>Gi(0,1,e)},gf={...Vo,default:1},eu=e=>Math.round(e*1e5)/1e5,Fg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VD(e){return e==null}const ID=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hg=(e,t)=>n=>!!(typeof n=="string"&&ID.test(n)&&n.startsWith(e)||t&&!VD(n)&&Object.prototype.hasOwnProperty.call(n,t)),iS=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Fg);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},PD=e=>Gi(0,255,e),tm={...Vo,transform:e=>Math.round(PD(e))},Jr={test:Hg("rgb","red"),parse:iS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+tm.transform(e)+", "+tm.transform(t)+", "+tm.transform(n)+", "+eu(hu.transform(s))+")"};function OD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Mm={test:Hg("#"),parse:OD,transform:Jr.transform},Vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tr=Vu("deg"),Bi=Vu("%"),pt=Vu("px"),ND=Vu("vh"),kD=Vu("vw"),PT={...Bi,parse:e=>Bi.parse(e)/100,transform:e=>Bi.transform(e*100)},co={test:Hg("hsl","hue"),parse:iS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Bi.transform(eu(t))+", "+Bi.transform(eu(n))+", "+eu(hu.transform(s))+")"},Pe={test:e=>Jr.test(e)||Mm.test(e)||co.test(e),parse:e=>Jr.test(e)?Jr.parse(e):co.test(e)?co.parse(e):Mm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jr.transform(e):co.transform(e),getAnimatableNone:e=>{const t=Pe.parse(e);return t.alpha=0,Pe.transform(t)}},LD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jD(e){return isNaN(e)&&typeof e=="string"&&(e.match(Fg)?.length||0)+(e.match(LD)?.length||0)>0}const sS="number",rS="color",UD="var",BD="var(",OT="${}",zD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function du(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(zD,p=>(Pe.test(p)?(s.color.push(l),a.push(rS),n.push(Pe.parse(p))):p.startsWith(BD)?(s.var.push(l),a.push(UD),n.push(p)):(s.number.push(l),a.push(sS),n.push(parseFloat(p))),++l,OT)).split(OT);return{values:n,split:h,indexes:s,types:a}}function aS(e){return du(e).values}function oS(e){const{split:t,types:n}=du(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const h=n[c];h===sS?l+=eu(a[c]):h===rS?l+=Pe.transform(a[c]):l+=a[c]}return l}}const FD=e=>typeof e=="number"?0:Pe.test(e)?Pe.getAnimatableNone(e):e;function HD(e){const t=aS(e);return oS(e)(t.map(FD))}const cr={test:jD,parse:aS,createTransformer:oS,getAnimatableNone:HD};function em(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const h=n<.5?n*(1+t):n+t-n*t,p=2*n-h;a=em(p,h,e+1/3),l=em(p,h,e),c=em(p,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Xf(e,t){return n=>n>0?t:e}const fe=(e,t,n)=>e+(t-e)*n,nm=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},GD=[Mm,Jr,co],$D=e=>GD.find(t=>t.test(e));function NT(e){const t=$D(e);if(!t)return!1;let n=t.parse(e);return t===co&&(n=qD(n)),n}const kT=(e,t)=>{const n=NT(e),s=NT(t);if(!n||!s)return Xf(e,t);const a={...n};return l=>(a.red=nm(n.red,s.red,l),a.green=nm(n.green,s.green,l),a.blue=nm(n.blue,s.blue,l),a.alpha=fe(n.alpha,s.alpha,l),Jr.transform(a))},Vm=new Set(["none","hidden"]);function KD(e,t){return Vm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function YD(e,t){return n=>fe(e,t,n)}function qg(e){return typeof e=="number"?YD:typeof e=="string"?zg(e)?Xf:Pe.test(e)?kT:ZD:Array.isArray(e)?lS:typeof e=="object"?Pe.test(e)?kT:QD:Xf}function lS(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>qg(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function QD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=qg(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function XD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],h=e.values[c]??0;n[a]=h,s[l]++}return n}const ZD=(e,t)=>{const n=cr.createTransformer(t),s=du(e),a=du(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Vm.has(e)&&!a.values.length||Vm.has(t)&&!s.values.length?KD(e,t):Du(lS(XD(s,a),a.values),n):Xf(e,t)};function uS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fe(e,t,n):qg(e)(e,t)}const JD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ie.update(t,n),stop:()=>ur(t),now:()=>We.isProcessing?We.timestamp:pn.now()}},cS=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Zf=2e4;function Gg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Zf;)t+=n,s=e.next(t);return t>=Zf?1/0:t}function WD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Gg(s),Zf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Xn(a)}}const tM=5;function fS(e,t,n){const s=Math.max(t-tM,0);return Hb(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},im=.001;function eM({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=Gi(me.minDamping,me.maxDamping,c),e=Gi(me.minDuration,me.maxDuration,Xn(e)),c<1?(a=m=>{const y=m*c,v=y*e,E=y-n,C=Im(m,c),M=Math.exp(-v);return im-E/C*M},l=m=>{const v=m*c*e,E=v*n+n,C=Math.pow(c,2)*Math.pow(m,2)*e,M=Math.exp(-v),k=Im(Math.pow(m,2),c);return(-a(m)+im>0?-1:1)*((E-C)*M)/k}):(a=m=>{const y=Math.exp(-m*e),v=(m-n)*e+1;return-im+y*v},l=m=>{const y=Math.exp(-m*e),v=(n-m)*(e*e);return y*v});const h=5/e,p=iM(a,l,h);if(e=pi(e),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const m=Math.pow(p,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:e}}}const nM=12;function iM(e,t,n){let s=n;for(let a=1;a<nM;a++)s=s-e(s)/t(s);return s}function Im(e,t){return e*Math.sqrt(1-t*t)}const sM=["duration","bounce"],rM=["stiffness","damping","mass"];function LT(e,t){return t.some(n=>e[n]!==void 0)}function aM(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!LT(e,rM)&&LT(e,sM))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Gi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=eM(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Jf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:v,velocity:E,isResolvedFromDuration:C}=aM({...n,velocity:-Xn(n.velocity||0)}),M=E||0,k=m/(2*Math.sqrt(p*y)),B=c-l,F=Xn(Math.sqrt(p/y)),q=Math.abs(B)<5;s||(s=q?me.restSpeed.granular:me.restSpeed.default),a||(a=q?me.restDelta.granular:me.restDelta.default);let G;if(k<1){const st=Im(F,k);G=lt=>{const D=Math.exp(-k*F*lt);return c-D*((M+k*F*B)/st*Math.sin(st*lt)+B*Math.cos(st*lt))}}else if(k===1)G=st=>c-Math.exp(-F*st)*(B+(M+F*B)*st);else{const st=F*Math.sqrt(k*k-1);G=lt=>{const D=Math.exp(-k*F*lt),x=Math.min(st*lt,300);return c-D*((M+k*F*B)*Math.sinh(x)+st*B*Math.cosh(x))/st}}const at={calculatedDuration:C&&v||null,next:st=>{const lt=G(st);if(C)h.done=st>=v;else{let D=st===0?M:0;k<1&&(D=st===0?pi(M):fS(G,st,lt));const x=Math.abs(D)<=s,R=Math.abs(c-lt)<=a;h.done=x&&R}return h.value=h.done?c:lt,h},toString:()=>{const st=Math.min(Gg(at),Zf),lt=cS(D=>at.next(st*D).value,st,30);return st+"ms "+lt},toTransition:()=>{}};return at}Jf.applyToOptions=e=>{const t=WD(e,100,Jf);return e.ease=t.ease,e.duration=pi(t.duration),e.type="keyframes",e};function Pm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const v=e[0],E={done:!1,value:v},C=x=>h!==void 0&&x<h||p!==void 0&&x>p,M=x=>h===void 0?p:p===void 0||Math.abs(h-x)<Math.abs(p-x)?h:p;let k=n*t;const B=v+k,F=c===void 0?B:c(B);F!==B&&(k=F-v);const q=x=>-k*Math.exp(-x/s),G=x=>F+q(x),at=x=>{const R=q(x),O=G(x);E.done=Math.abs(R)<=m,E.value=E.done?F:O};let st,lt;const D=x=>{C(E.value)&&(st=x,lt=Jf({keyframes:[E.value,M(E.value)],velocity:fS(G,x,E.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return D(0),{calculatedDuration:null,next:x=>{let R=!1;return!lt&&st===void 0&&(R=!0,at(x),D(x)),st!==void 0&&x>=st?lt.next(x-st):(!R&&at(x),E)}}}function oM(e,t,n){const s=[],a=n||gs.mix||uS,l=e.length-1;for(let c=0;c<l;c++){let h=a(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Zn:t;h=Du(p,h)}s.push(h)}return s}function lM(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(kg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=oM(t,s,a),p=h.length,m=y=>{if(c&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const E=fu(e[v],e[v+1],y);return h[v](E)};return n?y=>m(Gi(e[0],e[l-1],y)):m}function uM(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=fu(0,t,s);e.push(fe(n,1,a))}}function cM(e){const t=[0];return uM(t,e.length-1),t}function fM(e,t){return e.map(n=>n*t)}function hM(e,t){return e.map(()=>t||Jb).splice(0,e.length-1)}function nu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=SD(s)?s.map(VT):VT(s),l={done:!1,value:t[0]},c=fM(n&&n.length===t.length?n:cM(t),e),h=lM(c,t,{ease:Array.isArray(a)?a:hM(t,a)});return{calculatedDuration:e,next:p=>(l.value=h(p),l.done=p>=e,l)}}const dM=e=>e!==null;function $g(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(dM),h=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const pM={decay:Pm,inertia:Pm,tween:nu,keyframes:nu,spring:Jf};function hS(e){typeof e.type=="string"&&(e.type=pM[e.type])}class Kg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const mM=e=>e/100;class Yg extends Kg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hS(t);const{type:n=nu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const p=n||nu;p!==nu&&typeof h[0]!="number"&&(this.mixKeyframes=Du(mM,uS(h[0],h[1])),h=[0,100]);const m=p({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Gg(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:C,type:M,onUpdate:k,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-m*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,at=s;if(v){const x=Math.min(this.currentTime,a)/h;let R=Math.floor(x),O=x%1;!O&&x>=1&&(O=1),O===1&&R--,R=Math.min(R,v+1),R%2&&(E==="reverse"?(O=1-O,C&&(O-=C/h)):E==="mirror"&&(at=c)),G=Gi(0,1,O)*h}const st=q?{done:!1,value:y[0]}:at.next(G);l&&(st.value=l(st.value));let{done:lt}=st;!q&&p!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return D&&M!==Pm&&(st.value=$g(y,this.options,B,this.speed)),k&&k(st.value),D&&this.finish(),st}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=JD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function gM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wr=e=>e*180/Math.PI,Om=e=>{const t=Wr(Math.atan2(e[1],e[0]));return Nm(t)},yM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Om,rotateZ:Om,skewX:e=>Wr(Math.atan(e[1])),skewY:e=>Wr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nm=e=>(e=e%360,e<0&&(e+=360),e),jT=Om,UT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),BT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UT,scaleY:BT,scale:e=>(UT(e)+BT(e))/2,rotateX:e=>Nm(Wr(Math.atan2(e[6],e[5]))),rotateY:e=>Nm(Wr(Math.atan2(-e[2],e[0]))),rotateZ:jT,rotate:jT,skewX:e=>Wr(Math.atan(e[4])),skewY:e=>Wr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function km(e){return e.includes("scale")?1:0}function Lm(e,t){if(!e||e==="none")return km(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=vM,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=yM,a=h}if(!a)return km(t);const l=s[t],c=a[1].split(",").map(TM);return typeof l=="function"?l(c):c[l]}const _M=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Lm(n,t)};function TM(e){return parseFloat(e.trim())}const Io=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(Io),zT=e=>e===Vo||e===pt,EM=new Set(["x","y","z"]),bM=Io.filter(e=>!EM.has(e));function SM(e){const t=[];return bM.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const er={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Lm(t,"x"),y:(e,{transform:t})=>Lm(t,"y")};er.translateX=er.x;er.translateY=er.y;const ea=new Set;let jm=!1,Um=!1,Bm=!1;function dS(){if(Um){const e=Array.from(ea).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=SM(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Um=!1,jm=!1,ea.forEach(e=>e.complete(Bm)),ea.clear()}function pS(){ea.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Um=!0)})}function CM(){Bm=!0,pS(),dS(),Bm=!1}class Qg{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),jm||(jm=!0,ie.read(pS),ie.resolveKeyframes(dS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}gM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AM=e=>e.startsWith("--");function xM(e,t,n){AM(t)?e.style.setProperty(t,n):e.style[t]=n}const RM=Lg(()=>window.ScrollTimeline!==void 0),wM={};function DM(e,t){const n=Lg(e);return()=>wM[t]??n()}const mS=DM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ql=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,FT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ql([0,.65,.55,1]),circOut:Ql([.55,0,1,.45]),backIn:Ql([.31,.01,.66,-.59]),backOut:Ql([.33,1.53,.69,.99])};function gS(e,t){if(e)return typeof e=="function"?mS()?cS(e,t):"ease-out":Wb(e)?Ql(e):Array.isArray(e)?e.map(n=>gS(n,t)||FT.easeOut):FT[e]}function MM(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:p}={},m=void 0){const y={[t]:n};p&&(y.offset=p);const v=gS(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),e.animate(y,E)}function yS(e){return typeof e=="function"&&"applyToOptions"in e}function VM({type:e,...t}){return yS(e)&&mS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vS extends Kg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,kg(typeof t.type!="string");const m=VM(t);this.animation=MM(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=$g(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):xM(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&RM()?(this.animation.timeline=t,Zn):n(this)}}const _S={anticipate:Qb,backInOut:Yb,circInOut:Zb};function IM(e){return e in _S}function PM(e){typeof e.ease=="string"&&IM(e.ease)&&(e.ease=_S[e.ease])}const sm=10;class OM extends vS{constructor(t){PM(t),hS(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new Yg({...c,autoplay:!1}),p=Math.max(sm,pn.now()-this.startTime),m=Gi(0,sm,p-sm);n.setWithVelocity(h.sample(Math.max(0,p-m)).value,h.sample(p).value,m),h.stop()}}const HT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cr.test(e)||e==="0")&&!e.startsWith("url("));function NM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function kM(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=HT(a,t),h=HT(l,t);return!c||!h?!1:NM(e)||(n==="spring"||yS(n))&&s}function zm(e){e.duration=0,e.type="keyframes"}const LM=new Set(["opacity","clipPath","filter","transform"]),jM=Lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UM(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return jM()&&n&&LM.has(n)&&(n!=="transform"||!m)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const BM=40;class zM extends Kg{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:p,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:m,element:y,...v},C=y?.KeyframeResolver||Qg;this.keyframeResolver=new C(h,(M,k,B)=>this.onKeyframesResolved(M,k,E,!B),p,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:p,isHandoff:m,onUpdate:y}=s;this.resolvedAt=pn.now(),kM(t,l,c,h)||((gs.instantAnimations||!p)&&y?.($g(t,s,n)),t[0]=t[t.length-1],zm(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>BM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!m&&UM(E),M=E.motionValue?.owner?.current,k=C?new OM({...E,element:M}):new Yg(E);k.finished.then(()=>{this.notifyFinished()}).catch(Zn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),CM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function TS(e,t,n,s=0,a=1){const l=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),c=e.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HM(e){const t=FM.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function ES(e,t,n=1){const[s,a]=HM(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Bb(c)?parseFloat(c):c}return zg(a)?ES(a,t,n+1):a}const qM={type:"spring",stiffness:500,damping:25,restSpeed:10},GM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$M={type:"keyframes",duration:.8},KM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YM=(e,{keyframes:t})=>t.length>2?$M:Po.has(e)?e.startsWith("scale")?GM(t[1]):qM:KM,QM=e=>e!==null;function XM(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(QM),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function bS(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Xg(e,t){const n=e?.[t]??e?.default??e;return n!==e?bS(n,e):n}function ZM({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const Zg=(e,t,n,s={},a,l)=>c=>{const h=Xg(s,e)||{},p=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-pi(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:a};ZM(h)||Object.assign(y,YM(e,y)),y.duration&&(y.duration=pi(y.duration)),y.repeatDelay&&(y.repeatDelay=pi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(zm(y),y.delay===0&&(v=!0)),(gs.instantAnimations||gs.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,zm(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=XM(y.keyframes,h);if(E!==void 0){ie.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new Yg(y):new zM(y)};function qT(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Jg(e,t,n,s){if(typeof t=="function"){const[a,l]=qT(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=qT(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function go(e,t,n){const s=e.getProps();return Jg(s,t,n!==void 0?n:s.custom,e)}const SS=new Set(["width","height","top","left","right","bottom",...Io]),GT=30,JM=e=>!isNaN(parseFloat(e));class WM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jg);const s=this.events[t].add(n);return t==="change"?()=>{s(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GT);return Hb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function So(e,t){return new WM(e,t)}const Fm=e=>Array.isArray(e);function t4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,So(n))}function e4(e){return Fm(e)?e[e.length-1]||0:e}function n4(e,t){const n=go(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=e4(l[c]);t4(e,c,h)}}const un=e=>!!(e&&e.getVelocity);function i4(e){return!!(un(e)&&e.add)}function Hm(e,t){const n=e.getValue("willChange");if(i4(n))return n.add(t);if(!n&&gs.WillChange){const s=new gs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Wg(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const s4="framerAppearId",CS="data-"+Wg(s4);function AS(e){return e.props[CS]}function r4({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function xS(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...h}=t;const p=e.getDefaultTransition();l=l?bS(l,p):p;const m=l?.reduceMotion;s&&(l=s);const y=[],v=a&&e.animationState&&e.animationState.getState()[a];for(const E in h){const C=e.getValue(E,e.latestValues[E]??null),M=h[E];if(M===void 0||v&&r4(v,E))continue;const k={delay:n,...Xg(l||{},E)},B=C.get();if(B!==void 0&&!C.isAnimating&&!Array.isArray(M)&&M===B&&!k.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const at=AS(e);if(at){const st=window.MotionHandoffAnimation(at,E,ie);st!==null&&(k.startTime=st,F=!0)}}Hm(e,E);const q=m??e.shouldReduceMotion;C.start(Zg(E,C,M,q&&SS.has(E)?{type:!1}:k,e,F));const G=C.animation;G&&y.push(G)}if(c){const E=()=>ie.update(()=>{c&&n4(e,c)});y.length?Promise.all(y).then(E):E()}return y}function qm(e,t,n={}){const s=go(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(xS(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return a4(e,t,p,m,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,m]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function a4(e,t,n=0,s=0,a=0,l=1,c){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(qm(p,t,{...c,delay:n+(typeof s=="function"?0:s)+TS(e.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function o4(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>qm(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=qm(e,t,n);else{const a=typeof t=="function"?go(e,t,n.custom):t;s=Promise.all(xS(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const l4={test:e=>e==="auto",parse:e=>e},RS=e=>t=>t.test(e),wS=[Vo,pt,Bi,tr,kD,ND,l4],$T=e=>wS.find(RS(e));function u4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Fb(e):!0}const c4=new Set(["brightness","contrast","saturate","opacity"]);function f4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Fg)||[];if(!s)return e;const a=n.replace(s,"");let l=c4.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const h4=/\b([a-z-]*)\(.*?\)/gu,Gm={...cr,getAnimatableNone:e=>{const t=e.match(h4);return t?t.map(f4).join(" "):e}},KT={...Vo,transform:Math.round},d4={rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:tr,skewX:tr,skewY:tr,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:hu,originX:PT,originY:PT,originZ:pt},ty={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...d4,zIndex:KT,fillOpacity:hu,strokeOpacity:hu,numOctaves:KT},p4={...ty,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:Gm,WebkitFilter:Gm},DS=e=>p4[e];function MS(e,t){let n=DS(e);return n!==Gm&&(n=cr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const m4=new Set(["auto","none","0"]);function g4(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!m4.has(l)&&du(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=MS(n,a)}class y4 extends Qg{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),zg(v))){const E=ES(v,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!SS.has(s)||t.length!==2)return;const[a,l]=t,c=$T(a),h=$T(l),p=IT(a),m=IT(l);if(p!==m&&er[s]){this.needsMeasurement=!0;return}if(c!==h)if(zT(c)&&zT(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else er[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||u4(t[a]))&&s.push(a);s.length&&g4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=er[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=er[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const v4=new Set(["opacity","clipPath","filter","transform"]);function VS(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const IS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function $m(e){return zb(e)&&"offsetHeight"in e}const{schedule:ey}=tS(queueMicrotask,!1),hi={x:!1,y:!1};function PS(){return hi.x||hi.y}function _4(e){return e==="x"||e==="y"?hi[e]?null:(hi[e]=!0,()=>{hi[e]=!1}):hi.x||hi.y?null:(hi.x=hi.y=!0,()=>{hi.x=hi.y=!1})}function OS(e,t){const n=VS(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function T4(e){return!(e.pointerType==="touch"||PS())}function E4(e,t,n={}){const[s,a,l]=OS(e,n);return s.forEach(c=>{let h=!1,p=!1,m;const y=()=>{c.removeEventListener("pointerleave",M)},v=B=>{m&&(m(B),m=void 0),y()},E=B=>{h=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),p&&(p=!1,v(B))},C=()=>{h=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},M=B=>{if(B.pointerType!=="touch"){if(h){p=!0;return}v(B)}},k=B=>{if(!T4(B))return;p=!1;const F=t(c,B);typeof F=="function"&&(m=F,c.addEventListener("pointerleave",M,a))};c.addEventListener("pointerenter",k,a),c.addEventListener("pointerdown",C,a)}),l}const NS=(e,t)=>t?e===t?!0:NS(e,t.parentElement):!1,ny=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,b4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S4(e){return b4.has(e.tagName)||e.isContentEditable===!0}const C4=new Set(["INPUT","SELECT","TEXTAREA"]);function A4(e){return C4.has(e.tagName)||e.isContentEditable===!0}const Mf=new WeakSet;function YT(e){return t=>{t.key==="Enter"&&e(t)}}function rm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const x4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=YT(()=>{if(Mf.has(n))return;rm(n,"down");const a=YT(()=>{rm(n,"up")}),l=()=>rm(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function QT(e){return ny(e)&&!PS()}const XT=new WeakSet;function R4(e,t,n={}){const[s,a,l]=OS(e,n),c=h=>{const p=h.currentTarget;if(!QT(h)||XT.has(h))return;Mf.add(p),n.stopPropagation&&XT.add(h);const m=t(p,h),y=(C,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Mf.has(p)&&Mf.delete(p),QT(C)&&typeof m=="function"&&m(C,{success:M})},v=C=>{y(C,p===window||p===document||n.useGlobalTarget||NS(p,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),$m(h)&&(h.addEventListener("focus",m=>x4(m,a)),!S4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function iy(e){return zb(e)&&"ownerSVGElement"in e}const Vf=new WeakMap;let If;const kS=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:iy(s)&&"getBBox"in s?s.getBBox()[t]:s[n],w4=kS("inline","width","offsetWidth"),D4=kS("block","height","offsetHeight");function M4({target:e,borderBoxSize:t}){Vf.get(e)?.forEach(n=>{n(e,{get width(){return w4(e,t)},get height(){return D4(e,t)}})})}function V4(e){e.forEach(M4)}function I4(){typeof ResizeObserver>"u"||(If=new ResizeObserver(V4))}function P4(e,t){If||I4();const n=VS(e);return n.forEach(s=>{let a=Vf.get(s);a||(a=new Set,Vf.set(s,a)),a.add(t),If?.observe(s)}),()=>{n.forEach(s=>{const a=Vf.get(s);a?.delete(t),a?.size||If?.unobserve(s)})}}const Pf=new Set;let fo;function O4(){fo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Pf.forEach(t=>t(e))},window.addEventListener("resize",fo)}function N4(e){return Pf.add(e),fo||O4(),()=>{Pf.delete(e),!Pf.size&&typeof fo=="function"&&(window.removeEventListener("resize",fo),fo=void 0)}}function ZT(e,t){return typeof e=="function"?N4(e):P4(e,t)}function k4(e){return iy(e)&&e.tagName==="svg"}const L4=[...wS,Pe,cr],j4=e=>L4.find(RS(e)),JT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:JT(),y:JT()}),WT=()=>({min:0,max:0}),je=()=>({x:WT(),y:WT()}),U4=new WeakMap;function Ah(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const sy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ry=["initial",...sy];function xh(e){return Ah(e.animate)||ry.some(t=>pu(e[t]))}function LS(e){return!!(xh(e)||e.variants)}function B4(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,So(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,So(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Km={current:null},jS={current:!1},z4=typeof window<"u";function F4(){if(jS.current=!0,!!z4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Km.current=e.matches;e.addEventListener("change",t),t()}else Km.current=!1}const t1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Wf={};function US(e){Wf=e}function H4(){return Wf}class q4{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Qg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=pn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ie.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=xh(n),this.isVariantNode=LS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in E){const M=E[C];m[C]!==void 0&&un(M)&&M.set(m[C])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,U4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(jS.current||F4(),this.shouldReduceMotion=Km.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&v4.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:p,ease:m,duration:y}=n.accelerate,v=new vS({element:this.current,name:t,keyframes:h,times:p,ease:m,duration:pi(y)}),E=c(v);this.valueSubscriptions.set(t,()=>{E(),v.cancel()});return}const s=Po.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ie.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wf){const n=Wf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<t1.length;s++){const a=t1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=B4(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=So(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Bb(s)||Fb(s))?s=parseFloat(s):!j4(s)&&cr.test(n)&&(s=MS(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Jg(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ey.render(this.render)}}class BS extends q4{constructor(){super(...arguments),this.KeyframeResolver=y4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zS({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function G4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function am(e){return e===void 0||e===1}function Ym({scale:e,scaleX:t,scaleY:n}){return!am(e)||!am(t)||!am(n)}function Xr(e){return Ym(e)||FS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FS(e){return e1(e.x)||e1(e.y)}function e1(e){return e&&e!=="0%"}function th(e,t,n){const s=e-n,a=t*s;return n+a}function n1(e,t,n,s,a){return a!==void 0&&(e=th(e,a,s)),th(e,n,s)+t}function Qm(e,t=0,n=1,s,a){e.min=n1(e.min,t,n,s,a),e.max=n1(e.max,t,n,s,a)}function HS(e,{x:t,y:n}){Qm(e.x,t.translate,t.scale,t.originPoint),Qm(e.y,n.translate,n.scale,n.originPoint)}const i1=.999999999999,s1=1.0000000000001;function K4(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&mo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,HS(e,c)),s&&Xr(l.latestValues)&&mo(e,l.latestValues))}t.x<s1&&t.x>i1&&(t.x=1),t.y<s1&&t.y>i1&&(t.y=1)}function po(e,t){e.min=e.min+t,e.max=e.max+t}function r1(e,t,n,s,a=.5){const l=fe(e.min,e.max,a);Qm(e,t,n,l,s)}function mo(e,t){r1(e.x,t.x,t.scaleX,t.scale,t.originX),r1(e.y,t.y,t.scaleY,t.scale,t.originY)}function qS(e,t){return zS($4(e.getBoundingClientRect(),t))}function Y4(e,t,n){const s=qS(e,n),{scroll:a}=t;return a&&(po(s.x,a.offset.x),po(s.y,a.offset.y)),s}const Q4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X4=Io.length;function Z4(e,t,n){let s="",a=!0;for(let l=0;l<X4;l++){const c=Io[l],h=e[c];if(h===void 0)continue;let p=!0;if(typeof h=="number")p=h===(c.startsWith("scale")?1:0);else{const m=parseFloat(h);p=c.startsWith("scale")?m===1:m===0}if(!p||n){const m=IS(h,ty[c]);if(!p){a=!1;const y=Q4[c]||c;s+=`${y}(${m}) `}n&&(t[c]=m)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function ay(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,h=!1;for(const p in t){const m=t[p];if(Po.has(p)){c=!0;continue}else if(nS(p)){a[p]=m;continue}else{const y=IS(m,ty[p]);p.startsWith("origin")?(h=!0,l[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=Z4(t,e.transform,n):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${m} ${y}`}}function GS(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function a1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $l={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=a1(e,t.target.x),s=a1(e,t.target.y);return`${n}% ${s}%`}},J4={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=cr.parse(e);if(a.length>5)return s;const l=cr.createTransformer(e),c=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,p=n.y.scale*t.y;a[0+c]/=h,a[1+c]/=p;const m=fe(h,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Xm={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:J4};function $S(e,{layout:t,layoutId:n}){return Po.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xm[e]||e==="opacity")}function oy(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(un(s[c])||a&&un(a[c])||$S(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function W4(e){return window.getComputedStyle(e)}class tV extends BS{constructor(){super(...arguments),this.type="html",this.renderInstance=GS}readValueFromInstance(t,n){if(Po.has(n))return this.projection?.isProjecting?km(n):_M(t,n);{const s=W4(t),a=(nS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qS(t,n)}build(t,n,s){ay(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return oy(t,n,s)}}const eV={offset:"stroke-dashoffset",array:"stroke-dasharray"},nV={offset:"strokeDashoffset",array:"strokeDasharray"};function iV(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?eV:nV;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const sV=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function KS(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},p,m,y){if(ay(e,h,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:E}=e;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const C of sV)v[C]!==void 0&&(E[C]=v[C],delete v[C]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&iV(v,a,l,c,!1)}const YS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),QS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rV(e,t,n,s){GS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(YS.has(a)?a:Wg(a),t.attrs[a])}function XS(e,t,n){const s=oy(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=Io.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class aV extends BS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Po.has(n)){const s=DS(n);return s&&s.default||0}return n=YS.has(n)?n:Wg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return XS(t,n,s)}build(t,n,s){KS(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){rV(t,n,s,a)}mount(t){this.isSVGTag=QS(t.tagName),super.mount(t)}}const oV=ry.length;function ZS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ZS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<oV;n++){const s=ry[n],a=e.props[s];(pu(a)||a===!1)&&(t[s]=a)}return t}function JS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const lV=[...sy].reverse(),uV=sy.length;function cV(e){return t=>Promise.all(t.map(({animation:n,options:s})=>o4(e,n,s)))}function fV(e){let t=cV(e),n=o1(),s=!0;const a=p=>(m,y)=>{const v=go(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:C,...M}=v;m={...m,...M,...C}}return m};function l(p){t=p(e)}function c(p){const{props:m}=e,y=ZS(e.parent)||{},v=[],E=new Set;let C={},M=1/0;for(let B=0;B<uV;B++){const F=lV[B],q=n[F],G=m[F]!==void 0?m[F]:y[F],at=pu(G),st=F===p?q.isActive:null;st===!1&&(M=B);let lt=G===y[F]&&G!==m[F]&&at;if(lt&&s&&e.manuallyAnimateOnMount&&(lt=!1),q.protectedKeys={...C},!q.isActive&&st===null||!G&&!q.prevProp||Ah(G)||typeof G=="boolean")continue;if(F==="exit"&&q.isActive&&st!==!0){q.prevResolvedValues&&(C={...C,...q.prevResolvedValues});continue}const D=hV(q.prevProp,G);let x=D||F===p&&q.isActive&&!lt&&at||B>M&&at,R=!1;const O=Array.isArray(G)?G:[G];let N=O.reduce(a(F),{});st===!1&&(N={});const{prevResolvedValues:L={}}=q,w={...L,...N},vt=it=>{x=!0,E.has(it)&&(R=!0,E.delete(it)),q.needsAnimating[it]=!0;const ct=e.getValue(it);ct&&(ct.liveStyle=!1)};for(const it in w){const ct=N[it],Et=L[it];if(C.hasOwnProperty(it))continue;let Dt=!1;Fm(ct)&&Fm(Et)?Dt=!JS(ct,Et):Dt=ct!==Et,Dt?ct!=null?vt(it):E.add(it):ct!==void 0&&E.has(it)?vt(it):q.protectedKeys[it]=!0}q.prevProp=G,q.prevResolvedValues=N,q.isActive&&(C={...C,...N}),s&&e.blockInitialAnimation&&(x=!1);const St=lt&&D;x&&(!St||R)&&v.push(...O.map(it=>{const ct={type:F};if(typeof it=="string"&&s&&!St&&e.manuallyAnimateOnMount&&e.parent){const{parent:Et}=e,Dt=go(Et,it);if(Et.enteringChildren&&Dt){const{delayChildren:j}=Dt.transition||{};ct.delay=TS(Et.enteringChildren,e,j)}}return{animation:it,options:ct}}))}if(E.size){const B={};if(typeof m.initial!="boolean"){const F=go(e,Array.isArray(m.initial)?m.initial[0]:m.initial);F&&F.transition&&(B.transition=F.transition)}E.forEach(F=>{const q=e.getBaseTarget(F),G=e.getValue(F);G&&(G.liveStyle=!0),B[F]=q??null}),v.push({animation:B})}let k=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(v):Promise.resolve()}function h(p,m){if(n[p].isActive===m)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,m)),n[p].isActive=m;const y=c(p);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=o1()}}}function hV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!JS(t,e):!1}function Qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o1(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}function l1(e,t){e.min=t.min,e.max=t.max}function fi(e,t){l1(e.x,t.x),l1(e.y,t.y)}function u1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const WS=1e-4,dV=1-WS,pV=1+WS,tC=.01,mV=0-tC,gV=0+tC;function mn(e){return e.max-e.min}function yV(e,t,n){return Math.abs(e-t)<=n}function c1(e,t,n,s=.5){e.origin=s,e.originPoint=fe(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=dV&&e.scale<=pV||isNaN(e.scale))&&(e.scale=1),(e.translate>=mV&&e.translate<=gV||isNaN(e.translate))&&(e.translate=0)}function iu(e,t,n,s){c1(e.x,t.x,n.x,s?s.originX:void 0),c1(e.y,t.y,n.y,s?s.originY:void 0)}function f1(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function vV(e,t,n){f1(e.x,t.x,n.x),f1(e.y,t.y,n.y)}function h1(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function eh(e,t,n){h1(e.x,t.x,n.x),h1(e.y,t.y,n.y)}function d1(e,t,n,s,a){return e-=t,e=th(e,1/n,s),a!==void 0&&(e=th(e,1/a,s)),e}function _V(e,t=0,n=1,s=.5,a,l=e,c=e){if(Bi.test(t)&&(t=parseFloat(t),t=fe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=fe(l.min,l.max,s);e===l&&(h-=t),e.min=d1(e.min,t,n,h,a),e.max=d1(e.max,t,n,h,a)}function p1(e,t,[n,s,a],l,c){_V(e,t[n],t[s],t[a],t.scale,l,c)}const TV=["x","scaleX","originX"],EV=["y","scaleY","originY"];function m1(e,t,n,s){p1(e.x,t,TV,n?n.x:void 0,s?s.x:void 0),p1(e.y,t,EV,n?n.y:void 0,s?s.y:void 0)}function g1(e){return e.translate===0&&e.scale===1}function eC(e){return g1(e.x)&&g1(e.y)}function y1(e,t){return e.min===t.min&&e.max===t.max}function bV(e,t){return y1(e.x,t.x)&&y1(e.y,t.y)}function v1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nC(e,t){return v1(e.x,t.x)&&v1(e.y,t.y)}function _1(e){return mn(e.x)/mn(e.y)}function T1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ji(e){return[e("x"),e("y")]}function SV(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:E,skewX:C,skewY:M}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),M&&(s+=`skewY(${M}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(s+=`scale(${h}, ${p})`),s||"none"}const iC=["TopLeft","TopRight","BottomLeft","BottomRight"],CV=iC.length,E1=e=>typeof e=="string"?parseFloat(e):e,b1=e=>typeof e=="number"||pt.test(e);function AV(e,t,n,s,a,l){a?(e.opacity=fe(0,n.opacity??1,xV(s)),e.opacityExit=fe(t.opacity??1,0,RV(s))):l&&(e.opacity=fe(t.opacity??1,n.opacity??1,s));for(let c=0;c<CV;c++){const h=`border${iC[c]}Radius`;let p=S1(t,h),m=S1(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||b1(p)===b1(m)?(e[h]=Math.max(fe(E1(p),E1(m),s),0),(Bi.test(m)||Bi.test(p))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,s))}function S1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xV=sC(0,.5,Xb),RV=sC(.5,.95,Zn);function sC(e,t,n){return s=>s<e?0:s>t?1:n(fu(e,t,s))}function wV(e,t,n){const s=un(e)?e:So(e);return s.start(Zg("",s,t,n)),s.animation}function mu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const DV=(e,t)=>e.depth-t.depth;class MV{constructor(){this.children=[],this.isDirty=!1}add(t){Ng(this.children,t),this.isDirty=!0}remove(t){Qf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(DV),this.isDirty=!1,this.children.forEach(t)}}function VV(e,t){const n=pn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(ur(s),e(l-t))};return ie.setup(s,!0),()=>ur(s)}function Of(e){return un(e)?e.get():e}class IV{constructor(){this.members=[]}add(t){Ng(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Qf(this.members,s)}t.scheduleRender()}remove(t){if(Qf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const p=s.instance;p&&p.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:h}=t.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},om=["","X","Y","Z"],PV=1e3;let OV=0;function lm(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function rC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ie,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&rC(s)}function aC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=t?.()){this.id=OV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LV),this.nodes.forEach(zV),this.nodes.forEach(FV),this.nodes.forEach(jV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new MV)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new jg),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=iy(c)&&!k4(c),this.instance=c;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ie.read(()=>{v=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=VV(E,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(x1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||KV,{onLayoutAnimationStart:k,onLayoutAnimationComplete:B}=m.getProps(),F=!this.targetLayout||!nC(this.targetLayout,C),q=!v&&E;if(this.options.layoutRoot||this.resumeFrom||q||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...Xg(M,"layout"),onPlay:k,onComplete:B};(m.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(y,q)}else v||x1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BV),this.nodes.forEach(NV),this.nodes.forEach(kV)):this.nodes.forEach(A1),this.clearAllSnapshots();const h=pn.now();We.delta=Gi(0,1e3/60,h-We.timestamp),We.timestamp=h,We.isProcessing=!0,Wp.update.process(We),Wp.preRender.process(We),Wp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UV),this.sharedNodes.forEach(qV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!eC(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Xr(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),YV(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return je();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QV))){const{scroll:m}=this.root;m&&(po(h.x,m.offset.x),po(h.y,m.offset.y))}return h}removeElementScroll(c){const h=je();if(fi(h,c),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&fi(h,c),po(h.x,y.offset.x),po(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const p=je();fi(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&mo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Xr(y.latestValues)&&mo(p,y.latestValues)}return Xr(this.latestValues)&&mo(p,this.latestValues),p}removeTransform(c){const h=je();fi(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Xr(m.latestValues))continue;Ym(m.latestValues)&&m.updateSnapshot();const y=je(),v=m.measurePageBox();fi(y,v),m1(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Xr(this.latestValues)&&m1(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=We.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),HS(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ym(this.parent.latestValues)||FS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),eh(this.relativeTargetOrigin,h,p),fi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;fi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;K4(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=je());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u1(this.prevProjectionDelta.x,this.projectionDelta.x),u1(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!T1(this.projectionDelta.x,this.prevProjectionDelta.x)||!T1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},v=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=je(),C=p?p.source:void 0,M=this.layout?this.layout.source:void 0,k=C!==M,B=this.getStack(),F=!B||B.members.length<=1,q=!!(k&&!F&&this.options.crossfade===!0&&!this.path.some($V));this.animationProgress=0;let G;this.mixTargetDelta=at=>{const st=at/1e3;R1(v.x,c.x,st),R1(v.y,c.y,st),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GV(this.relativeTarget,this.relativeTargetOrigin,E,st),G&&bV(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=je()),fi(G,this.relativeTarget)),k&&(this.animationValues=y,AV(y,m,this.latestValues,st,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=So(0)),this.currentAnimation=wV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&oC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||je();const v=mn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const E=mn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}fi(h,p),mo(h,y),iu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new IV),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&lm("z",c,m,this.animationValues);for(let y=0;y<om.length;y++)lm(`rotate${om[y]}`,c,m,this.animationValues),lm(`skew${om[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Of(h?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Of(h?.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=SV(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),c.transform=v;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Xm){if(y[M]===void 0)continue;const{correct:k,applyTo:B,isCSSVariable:F}=Xm[M],q=v==="none"?y[M]:k(y[M],m);if(B){const G=B.length;for(let at=0;at<G;at++)c[B[at]]=q}else F?this.options.visualElement.renderState.vars[M]=q:c[M]=q}this.options.layoutId&&(c.pointerEvents=m===this?Of(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(C1),this.root.sharedNodes.clear()}}}function NV(e){e.updateLayout()}function kV(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ji(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=mn(v);v.min=n[y].min,v.max=v.min+E}):oC(a,t.layoutBox,n)&&ji(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=mn(n[y]);v.max=v.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+E)});const c=ho();iu(c,n,t.layoutBox);const h=ho();l?iu(h,e.applyTransform(s,!0),t.measuredBox):iu(h,n,t.layoutBox);const p=!eC(c);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const C=je();eh(C,t.layoutBox,v.layoutBox);const M=je();eh(M,n,E.layoutBox),nC(C,M)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function LV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UV(e){e.clearSnapshot()}function C1(e){e.clearMeasurements()}function A1(e){e.isLayoutDirty=!1}function BV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zV(e){e.resolveTargetDelta()}function FV(e){e.calcProjection()}function HV(e){e.resetSkewAndRotation()}function qV(e){e.removeLeadSnapshot()}function R1(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function w1(e,t,n,s){e.min=fe(t.min,n.min,s),e.max=fe(t.max,n.max,s)}function GV(e,t,n,s){w1(e.x,t.x,n.x,s),w1(e.y,t.y,n.y,s)}function $V(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KV={duration:.45,ease:[.4,0,.1,1]},D1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),M1=D1("applewebkit/")&&!D1("chrome/")?Math.round:Zn;function V1(e){e.min=M1(e.min),e.max=M1(e.max)}function YV(e){V1(e.x),V1(e.y)}function oC(e,t,n){return e==="position"||e==="preserve-aspect"&&!yV(_1(t),_1(n),.2)}function QV(e){return e!==e.root&&e.scroll?.wasRoot}const XV=aC({attachResizeListener:(e,t)=>mu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),um={current:void 0},lC=aC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!um.current){const e=new XV({});e.mount(window),e.setOptions({layoutScroll:!0}),um.current=e}return um.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ly=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function I1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ZV(...e){return t=>{let n=!1;const s=e.map(a=>{const l=I1(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():I1(e[a],null)}}}}function JV(...e){return P.useCallback(ZV(...e),e)}class WV extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=$m(s)&&s.offsetWidth||0,l=$m(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function tI({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=P.useId(),h=P.useRef(null),p=P.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=P.useContext(ly),y=e.props?.ref??e?.ref,v=JV(h,y);return P.useInsertionEffect(()=>{const{width:E,height:C,top:M,left:k,right:B,bottom:F}=p.current;if(t||l===!1||!h.current||!E||!C)return;const q=n==="left"?`left: ${k}`:`right: ${B}`,G=s==="bottom"?`bottom: ${F}`:`top: ${M}`;h.current.dataset.motionPopId=c;const at=document.createElement("style");m&&(at.nonce=m);const st=a??document.head;return st.appendChild(at),at.sheet&&at.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${C}px !important;
            ${q}px !important;
            ${G}px !important;
          }
        `),()=>{st.contains(at)&&st.removeChild(at)}},[t]),I.jsx(WV,{isPresent:t,childRef:h,sizeRef:p,pop:l,children:l===!1?e:P.cloneElement(e,{ref:v})})}const eI=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:p,root:m})=>{const y=Og(nI),v=P.useId();let E=!0,C=P.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:n,custom:a,onExitComplete:M=>{y.set(M,!0);for(const k of y.values())if(!k)return;s&&s()},register:M=>(y.set(M,!1),()=>y.delete(M))}),[n,y,s]);return l&&E&&(C={...C}),P.useMemo(()=>{y.forEach((M,k)=>y.set(k,!1))},[n]),P.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=I.jsx(tI,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:p,root:m,children:e}),I.jsx(Ch.Provider,{value:C,children:e})};function nI(){return new Map}function uC(e=!0){const t=P.useContext(Ch);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=P.useId();P.useEffect(()=>{if(e)return a(l)},[e]);const c=P.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const yf=e=>e.key||"";function P1(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const cC=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:p="top",root:m})=>{const[y,v]=uC(c),E=P.useMemo(()=>P1(e),[e]),C=c&&!y?[]:E.map(yf),M=P.useRef(!0),k=P.useRef(E),B=Og(()=>new Map),F=P.useRef(new Set),[q,G]=P.useState(E),[at,st]=P.useState(E);Ub(()=>{M.current=!1,k.current=E;for(let x=0;x<at.length;x++){const R=yf(at[x]);C.includes(R)?(B.delete(R),F.current.delete(R)):B.get(R)!==!0&&B.set(R,!1)}},[at,C.length,C.join("-")]);const lt=[];if(E!==q){let x=[...E];for(let R=0;R<at.length;R++){const O=at[R],N=yf(O);C.includes(N)||(x.splice(R,0,O),lt.push(O))}return l==="wait"&&lt.length&&(x=lt),st(P1(x)),G(E),null}const{forceRender:D}=P.useContext(Pg);return I.jsx(I.Fragment,{children:at.map(x=>{const R=yf(x),O=c&&!y?!1:E===at||C.includes(R),N=()=>{if(F.current.has(R))return;if(F.current.add(R),B.has(R))B.set(R,!0);else return;let L=!0;B.forEach(w=>{w||(L=!1)}),L&&(D?.(),st(k.current),c&&v?.(),s&&s())};return I.jsx(eI,{isPresent:O,initial:!M.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:O?void 0:N,anchorX:h,anchorY:p,children:x},R)})})},fC=P.createContext({strict:!1}),O1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let N1=!1;function iI(){if(N1)return;const e={};for(const t in O1)e[t]={isEnabled:n=>O1[t].some(s=>!!n[s])};US(e),N1=!0}function hC(){return iI(),H4()}function sI(e){const t=hC();for(const n in e)t[n]={...t[n],...e[n]};US(t)}const rI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function nh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rI.has(e)}let dC=e=>!nh(e);function aI(e){typeof e=="function"&&(dC=t=>t.startsWith("on")?!nh(t):e(t))}try{aI(require("@emotion/is-prop-valid").default)}catch{}function oI(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(dC(a)||n===!0&&nh(a)||!t&&!nh(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Rh=P.createContext({});function lI(e,t){if(xh(e)){const{initial:n,animate:s}=e;return{initial:n===!1||pu(n)?n:void 0,animate:pu(s)?s:void 0}}return e.inherit!==!1?t:{}}function uI(e){const{initial:t,animate:n}=lI(e,P.useContext(Rh));return P.useMemo(()=>({initial:t,animate:n}),[k1(t),k1(n)])}function k1(e){return Array.isArray(e)?e.join(" "):e}const uy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pC(e,t,n){for(const s in t)!un(t[s])&&!$S(s,n)&&(e[s]=t[s])}function cI({transformTemplate:e},t){return P.useMemo(()=>{const n=uy();return ay(n,t,e),Object.assign({},n.vars,n.style)},[t])}function fI(e,t){const n=e.style||{},s={};return pC(s,n,e),Object.assign(s,cI(e,t)),s}function hI(e,t){const n={},s=fI(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const mC=()=>({...uy(),attrs:{}});function dI(e,t,n,s){const a=P.useMemo(()=>{const l=mC();return KS(l,t,QS(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};pC(l,e.style,e),a.style={...l,...a.style}}return a}const pI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cy(e){return typeof e!="string"||e.includes("-")?!1:!!(pI.indexOf(e)>-1||/[A-Z]/u.test(e))}function mI(e,t,n,{latestValues:s},a,l=!1,c){const p=(c??cy(e)?dI:hI)(t,s,a,e),m=oI(t,typeof e=="string",l),y=e!==P.Fragment?{...m,...p,ref:n}:{},{children:v}=t,E=P.useMemo(()=>un(v)?v.get():v,[v]);return P.createElement(e,{...y,children:E})}function gI({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:yI(n,s,a,e),renderState:t()}}function yI(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=Of(l[E]);let{initial:c,animate:h}=e;const p=xh(e),m=LS(e);t&&m&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!Ah(v)){const E=Array.isArray(v)?v:[v];for(let C=0;C<E.length;C++){const M=Jg(e,E[C]);if(M){const{transitionEnd:k,transition:B,...F}=M;for(const q in F){let G=F[q];if(Array.isArray(G)){const at=y?G.length-1:0;G=G[at]}G!==null&&(a[q]=G)}for(const q in k)a[q]=k[q]}}}return a}const gC=e=>(t,n)=>{const s=P.useContext(Rh),a=P.useContext(Ch),l=()=>gI(e,t,s,a);return n?l():Og(l)},vI=gC({scrapeMotionValuesFromProps:oy,createRenderState:uy}),_I=gC({scrapeMotionValuesFromProps:XS,createRenderState:mC}),TI=Symbol.for("motionComponentSymbol");function EI(e,t,n){const s=P.useRef(n);P.useInsertionEffect(()=>{s.current=n});const a=P.useRef(null);return P.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const yC=P.createContext({});function ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bI(e,t,n,s,a,l){const{visualElement:c}=P.useContext(Rh),h=P.useContext(fC),p=P.useContext(Ch),m=P.useContext(ly),y=m.reducedMotion,v=m.skipAnimations,E=P.useRef(null),C=P.useRef(!1);s=s||h.renderer,!E.current&&s&&(E.current=s(e,{visualState:t,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),C.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const M=E.current,k=P.useContext(yC);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&SI(E.current,n,a,k);const B=P.useRef(!1);P.useInsertionEffect(()=>{M&&B.current&&M.update(n,p)});const F=n[CS],q=P.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return Ub(()=>{C.current=!0,M&&(B.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),q.current&&M.animationState&&M.animationState.animateChanges())}),P.useEffect(()=>{M&&(!q.current&&M.animationState&&M.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),q.current=!1),M.enteringChildren=void 0)}),M}function SI(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&ro(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:m})}function vC(e){if(e)return e.options.allowProjection!==!1?e.projection:vC(e.parent)}function cm(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&sI(s);const l=n?n==="svg":cy(e),c=l?_I:vI;function h(m,y){let v;const E={...P.useContext(ly),...m,layoutId:CI(m)},{isStatic:C}=E,M=uI(m),k=c(m,C);if(!C&&jb){AI();const B=xI(E);v=B.MeasureLayout,M.visualElement=bI(e,k,E,a,B.ProjectionNode,l)}return I.jsxs(Rh.Provider,{value:M,children:[v&&M.visualElement?I.jsx(v,{visualElement:M.visualElement,...E}):null,mI(e,m,EI(k,M.visualElement,y),k,C,t,l)]})}h.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const p=P.forwardRef(h);return p[TI]=e,p}function CI({layoutId:e}){const t=P.useContext(Pg).id;return t&&e!==void 0?t+"-"+e:e}function AI(e,t){P.useContext(fC).strict}function xI(e){const t=hC(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function RI(e,t){if(typeof Proxy>"u")return cm;const n=new Map,s=(l,c)=>cm(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,cm(c,void 0,e,t)),n.get(c))})}const wI=(e,t)=>t.isSVG??cy(e)?new aV(t):new tV(t,{allowProjection:e!==P.Fragment});class DI extends yr{constructor(t){super(t),t.animationState||(t.animationState=fV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ah(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let MI=0;class VI extends yr{constructor(){super(...arguments),this.id=MI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const II={animation:{Feature:DI},exit:{Feature:VI}};function Iu(e){return{point:{x:e.pageX,y:e.pageY}}}const PI=e=>t=>ny(t)&&e(t,Iu(t));function su(e,t,n,s){return mu(e,t,PI(n),s)}const _C=({current:e})=>e?e.ownerDocument.defaultView:null,L1=(e,t)=>Math.abs(e-t);function OI(e,t){const n=L1(e.x,t.x),s=L1(e.y,t.y);return Math.sqrt(n**2+s**2)}const j1=new Set(["auto","scroll"]);class TC{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=hm(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,k=OI(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!k)return;const{point:B}=C,{timestamp:F}=We;this.history.push({...B,timestamp:F});const{onStart:q,onMove:G}=this.handlers;M||(q&&q(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=fm(M,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:k,onSessionEnd:B,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=hm(C.type==="pointercancel"?this.lastMoveEventInfo:fm(M,this.transformPagePoint),this.history);this.startEvent&&k&&k(C,q),B&&B(C,q)},!ny(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const p=Iu(t),m=fm(p,this.transformPagePoint),{point:y}=m,{timestamp:v}=We;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=n;E&&E(t,hm(m,this.history)),this.removeListeners=Du(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(j1.has(s.overflowX)||j1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ie.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ur(this.updatePoint)}}function fm(e,t){return t?{point:t(e.point)}:e}function U1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hm({point:e},t){return{point:e,delta:U1(e,EC(t)),offset:U1(e,NI(t)),velocity:kI(t,.1)}}function NI(e){return e[0]}function EC(e){return e[e.length-1]}function kI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=EC(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>pi(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>pi(t)*2&&(s=e[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function LI(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?fe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?fe(n,e,s.max):Math.min(e,n)),e}function B1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jI(e,{top:t,left:n,bottom:s,right:a}){return{x:B1(e.x,n,a),y:B1(e.y,t,s)}}function z1(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function UI(e,t){return{x:z1(e.x,t.x),y:z1(e.y,t.y)}}function BI(e,t){let n=.5;const s=mn(e),a=mn(t);return a>s?n=fu(t.min,t.max-s,e.min):s>a&&(n=fu(e.min,e.max-a,t.min)),Gi(0,1,n)}function zI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zm=.35;function FI(e=Zm){return e===!1?e=0:e===!0&&(e=Zm),{x:F1(e,"left","right"),y:F1(e,"top","bottom")}}function F1(e,t,n){return{min:H1(e,t),max:H1(e,n)}}function H1(e,t){return typeof e=="number"?e:e[t]||0}const HI=new WeakMap;class qI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n&&this.snapToCursor(Iu(v).point),this.stopAnimation()},c=(v,E)=>{const{drag:C,dragPropagation:M,onDragStart:k}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_4(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ji(F=>{let q=this.getAxisMotionValue(F).get()||0;if(Bi.test(q)){const{projection:G}=this.visualElement;if(G&&G.layout){const at=G.layout.layoutBox[F];at&&(q=mn(at)*(parseFloat(q)/100))}}this.originPoint[F]=q}),k&&ie.update(()=>k(v,E),!1,!0),Hm(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:k,onDrag:B}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:F}=E;if(M&&this.currentDirection===null){this.currentDirection=$I(F),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),B&&ie.update(()=>B(v,E),!1,!0)},p=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new TC(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:_C(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ie.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!vf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=LI(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ro(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=jI(s.layoutBox,t):this.constraints=!1,this.elastic=FI(n),a!==this.constraints&&!ro(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&ji(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zI(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ro(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Y4(s,a.root,this.visualElement.getTransformPagePoint());let c=UI(a.layout.layoutBox,l);if(n){const h=n(G4(c));this.hasMutatedConstraints=!!h,h&&(c=zS(h))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=ji(y=>{if(!vf(y,n,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Hm(this.visualElement,t),s.start(Zg(t,s,0,n,this.visualElement,!1))}stopAnimation(){ji(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ji(n=>{const{drag:s}=this.getProps();if(!vf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],p=l.get()||0;l.set(t[n]-fe(c,h,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ro(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ji(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();a[c]=BI({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),ji(c=>{if(!vf(c,t,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(fe(p,m,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;HI.set(this.visualElement,this);const t=this.visualElement.current,n=su(t,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps(),E=m.target,C=E!==t&&A4(E);y&&v&&!C&&this.start(m)});let s;const a=()=>{const{dragConstraints:m}=this.getProps();ro(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=GI(t,m.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ie.read(a);const h=mu(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(ji(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),p&&p(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Zm,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function q1(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function GI(e,t,n){const s=ZT(e,q1(n)),a=ZT(t,q1(n));return()=>{s(),a()}}function vf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $I(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class KI extends yr{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new qI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const dm=e=>(t,n)=>{e&&ie.update(()=>e(t,n),!1,!0)};class YI extends yr{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new TC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_C(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:dm(t),onStart:dm(n),onMove:dm(s),onEnd:(l,c)=>{delete this.session,a&&ie.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pm=!1;class QI extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),pm&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),pm=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ie.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ey.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;pm=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bC(e){const[t,n]=uC(),s=P.useContext(Pg);return I.jsx(QI,{...e,layoutGroup:s,switchLayoutGroup:P.useContext(yC),isPresent:t,safeToRemove:n})}const XI={pan:{Feature:YI},drag:{Feature:KI,ProjectionNode:lC,MeasureLayout:bC}};function G1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ie.postRender(()=>l(t,Iu(t)))}class ZI extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=E4(t,(n,s)=>(G1(this.node,s,"Start"),a=>G1(this.node,a,"End"))))}unmount(){}}class JI extends yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ie.postRender(()=>l(t,Iu(t)))}class WI extends yr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=R4(t,(a,l)=>($1(this.node,l,"Start"),(c,{success:h})=>$1(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Jm=new WeakMap,mm=new WeakMap,t3=e=>{const t=Jm.get(e.target);t&&t(e)},e3=e=>{e.forEach(t3)};function n3({root:e,...t}){const n=e||document;mm.has(n)||mm.set(n,{});const s=mm.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(e3,{root:e,...t})),s[a]}function i3(e,t,n){const s=n3(t);return Jm.set(e,n),s.observe(e),()=>{Jm.delete(e),s.unobserve(e)}}const s3={some:0,all:1};class r3 extends yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:s3[a]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=m?y:v;E&&E(p)};return i3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(a3(t,n))&&this.startObserver()}unmount(){}}function a3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const o3={inView:{Feature:r3},tap:{Feature:WI},focus:{Feature:JI},hover:{Feature:ZI}},l3={layout:{ProjectionNode:lC,MeasureLayout:bC}},u3={...II,...o3,...XI,...l3},wh=RI(u3,wI);const SC=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const c3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const f3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const K1=e=>{const t=f3(e);return t.charAt(0).toUpperCase()+t.slice(1)};var h3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const d3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const p3=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},p)=>P.createElement("svg",{ref:p,...h3,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:SC("lucide",a),...!l&&!d3(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>P.createElement(m,y)),...Array.isArray(l)?l:[l]]));const ge=(e,t)=>{const n=P.forwardRef(({className:s,...a},l)=>P.createElement(p3,{ref:l,iconNode:t,className:SC(`lucide-${c3(K1(e))}`,`lucide-${e}`,s),...a}));return n.displayName=K1(e),n};const m3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Y1=ge("activity",m3);const g3=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],y3=ge("arrow-down-right",g3);const v3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dh=ge("arrow-left",v3);const _3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Q1=ge("arrow-up-right",_3);const T3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],CC=ge("camera",T3);const E3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],b3=ge("credit-card",E3);const S3=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],C3=ge("fingerprint-pattern",S3);const A3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],x3=ge("heart",A3);const R3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],w3=ge("image",R3);const D3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M3=ge("info",D3);const V3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],I3=ge("lock",V3);const P3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],O3=ge("mic-off",P3);const N3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],AC=ge("mic",N3);const k3=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],xC=ge("phone-off",k3);const L3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],j3=ge("phone",L3);const U3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B3=ge("plus",U3);const z3=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],X1=ge("refresh-ccw",z3);const F3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],H3=ge("send",F3);const q3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z1=ge("settings",q3);const G3=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$3=ge("video-off",G3);const K3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mh=ge("video",K3);const Y3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Q3=ge("wallet",Y3),X3=({onAuthenticated:e,onCancel:t})=>{const[n,s]=P.useState(""),[a,l]=P.useState(!1),c="2025",h="0000",p=y=>{if(n.length<4){const v=n+y;s(v),v.length===4&&(v===c?e("private"):v===h?e("dummy"):(l(!0),setTimeout(()=>{s(""),l(!1)},500)))}},m=()=>{s(n.slice(0,-1))};return I.jsxs(wh.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex flex-col items-center justify-center text-white select-none",children:[I.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[I.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-colors ${a?"bg-red-500":"bg-white/10"}`,children:a?I.jsx(I3,{size:32}):I.jsx("div",{className:"animate-pulse",children:I.jsx(C3,{size:40})})}),I.jsx("h2",{className:"text-xl font-medium tracking-wide",children:"Enter Passcode"}),I.jsx("div",{className:"flex gap-4 mt-6 h-4",children:[0,1,2,3].map(y=>I.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${y<n.length?"bg-white":"bg-white/20"}`},y))})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-6 w-72",children:[[1,2,3,4,5,6,7,8,9].map(y=>I.jsx("button",{onClick:()=>p(y),className:"w-16 h-16 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 flex items-center justify-center text-2xl font-light transition-colors",children:y},y)),I.jsx("button",{className:"w-16 h-16 flex items-center justify-center text-sm font-medium text-gray-400",onClick:t,children:"Cancel"}),I.jsx("button",{onClick:()=>p(0),className:"w-16 h-16 rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 flex items-center justify-center text-2xl font-light transition-colors",children:"0"}),I.jsx("button",{className:"w-16 h-16 flex items-center justify-center",onClick:m,children:I.jsx("span",{className:"text-xl",children:""})})]})]})};class Z3{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return J3(t).buffer}}function J3(e){let t=0;for(const a of e)t+=a.byteLength;const n=new Uint8Array(t);let s=0;for(const a of e){const l=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(l,s),s+=a.byteLength}return n}function RC(e){return new W3(e).unpack()}function wC(e){const t=new t6,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class W3{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let s=0,a="",l,c;for(;s<t;)l=n[s],l<160?(c=l,s++):(l^192)<32?(c=(l&31)<<6|n[s+1]&63,s+=2):(l^224)<16?(c=(l&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(c=(l&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(c);return this.index+=t,a}unpack_array(t){const n=new Array(t);for(let s=0;s<t;s++)n[s]=this.unpack();return n}unpack_map(t){const n={};for(let s=0;s<t;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,s=(t>>23&255)-127,a=t&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),s=t>>31,a=(t>>20&2047)-1023,c=(t&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*c}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class t6{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const s=this.pack_array(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const s=t;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(t);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const l=this.pack(t[a]);return l instanceof Promise?l.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const s=Math.floor(Math.log(t)/Math.LN2),a=t/2**s-1,l=Math.floor(a*2**52),c=2**32,h=n<<31|s+1023<<20|l/c&1048575,p=l%c;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(p)}pack_object(t){const n=Object.keys(t),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=l=>{if(l<n.length){const c=n[l];if(t.hasOwnProperty(c)){this.pack(c);const h=this.pack(t[c]);if(h instanceof Promise)return h.then(()=>a(l+1))}return a(l+1)}};return a(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,s=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),s=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new Z3,this._textEncoder=new TextEncoder}}let DC=!0,MC=!0;function Xl(e,t,n){const s=e.match(t);return s&&s.length>=n&&parseFloat(s[n],10)}function la(e,t,n){if(!e.RTCPeerConnection)return;const s=e.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(c,h){if(c!==t)return a.apply(this,arguments);const p=m=>{const y=n(m);y&&(h.handleEvent?h.handleEvent(y):h(y))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(h,p),a.apply(this,[c,p])};const l=s.removeEventListener;s.removeEventListener=function(c,h){if(c!==t||!this._eventMap||!this._eventMap[t])return l.apply(this,arguments);if(!this._eventMap[t].has(h))return l.apply(this,arguments);const p=this._eventMap[t].get(h);return this._eventMap[t].delete(h),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[c,p])},Object.defineProperty(s,"on"+t,{get(){return this["_on"+t]},set(c){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),c&&this.addEventListener(t,this["_on"+t]=c)},enumerable:!0,configurable:!0})}function e6(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(DC=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function n6(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(MC=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function VC(){if(typeof window=="object"){if(DC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function fy(e,t){MC&&console.warn(e+" is deprecated, please use "+t+" instead.")}function i6(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Xl(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Xl(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Xl(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Xl(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function J1(e){return Object.prototype.toString.call(e)==="[object Object]"}function IC(e){return J1(e)?Object.keys(e).reduce(function(t,n){const s=J1(e[n]),a=s?IC(e[n]):e[n],l=s&&!Object.keys(a).length;return a===void 0||l?t:Object.assign(t,{[n]:a})},{}):e}function Wm(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(s=>{s.endsWith("Id")?Wm(e,e.get(t[s]),n):s.endsWith("Ids")&&t[s].forEach(a=>{Wm(e,e.get(a),n)})}))}function W1(e,t,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;const l=[];return e.forEach(c=>{c.type==="track"&&c.trackIdentifier===t.id&&l.push(c)}),l.forEach(c=>{e.forEach(h=>{h.type===s&&h.trackId===c.id&&Wm(e,h,a)})}),a}const tE=VC;function PC(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const s=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const p={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const y=typeof h[m]=="object"?h[m]:{ideal:h[m]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const v=function(E,C){return E?E+C.charAt(0).toUpperCase()+C.slice(1):C==="deviceId"?"sourceId":C};if(y.ideal!==void 0){p.optional=p.optional||[];let E={};typeof y.ideal=="number"?(E[v("min",m)]=y.ideal,p.optional.push(E),E={},E[v("max",m)]=y.ideal,p.optional.push(E)):(E[v("",m)]=y.ideal,p.optional.push(E))}y.exact!==void 0&&typeof y.exact!="number"?(p.mandatory=p.mandatory||{},p.mandatory[v("",m)]=y.exact):["min","max"].forEach(E=>{y[E]!==void 0&&(p.mandatory=p.mandatory||{},p.mandatory[v(E,m)]=y[E])})}),h.advanced&&(p.optional=(p.optional||[]).concat(h.advanced)),p},a=function(h,p){if(t.version>=61)return p(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(y,v,E){v in y&&!(E in y)&&(y[E]=y[v],delete y[v])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=s(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const y=t.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete h.video.facingMode;let v;if(m.exact==="environment"||m.ideal==="environment"?v=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(v=["front"]),v)return n.mediaDevices.enumerateDevices().then(E=>{E=E.filter(M=>M.kind==="videoinput");let C=E.find(M=>v.some(k=>M.label.toLowerCase().includes(k)));return!C&&E.length&&v.includes("back")&&(C=E[E.length-1]),C&&(h.video.deviceId=m.exact?{exact:C.deviceId}:{ideal:C.deviceId}),h.video=s(h.video),tE("chrome: "+JSON.stringify(h)),p(h)})}h.video=s(h.video)}return tE("chrome: "+JSON.stringify(h)),p(h)},l=function(h){return t.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},c=function(h,p,m){a(h,y=>{n.webkitGetUserMedia(y,p,v=>{m&&m(l(v))})})};if(n.getUserMedia=c.bind(n),n.mediaDevices.getUserMedia){const h=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(p){return a(p,m=>h(m).then(y=>{if(m.audio&&!y.getAudioTracks().length||m.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(v=>{v.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(l(y))))}}}function OC(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function NC(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let l;e.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(h=>h.track&&h.track.id===a.track.id):l={track:a.track};const c=new Event("track");c.track=a.track,c.receiver=l,c.transceiver={receiver:l},c.streams=[s.stream],this.dispatchEvent(c)}),s.stream.getTracks().forEach(a=>{let l;e.RTCPeerConnection.prototype.getReceivers?l=this.getReceivers().find(h=>h.track&&h.track.id===a.id):l={track:a};const c=new Event("track");c.track=a,c.receiver=l,c.transceiver={receiver:l},c.streams=[s.stream],this.dispatchEvent(c)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else la(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function kC(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(a,l){return{track:l,get dtmf(){return this._dtmf===void 0&&(l.kind==="audio"?this._dtmf=a.createDTMFSender(l):this._dtmf=null),this._dtmf},_pc:a}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(h,p){let m=a.apply(this,arguments);return m||(m=t(this,h),this._senders.push(m)),m};const l=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(h){l.apply(this,arguments);const p=this._senders.indexOf(h);p!==-1&&this._senders.splice(p,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){this._senders=this._senders||[],n.apply(this,[l]),l.getTracks().forEach(c=>{this._senders.push(t(this,c))})};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(l){this._senders=this._senders||[],s.apply(this,[l]),l.getTracks().forEach(c=>{const h=this._senders.find(p=>p.track===c);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function LC(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const l=n.apply(this,[]);return l.forEach(c=>c._pc=this),l});const s=e.RTCPeerConnection.prototype.addTrack;s&&(e.RTCPeerConnection.prototype.addTrack=function(){const l=s.apply(this,arguments);return l._pc=this,l}),e.RTCRtpSender.prototype.getStats=function(){const l=this;return this._pc.getStats().then(c=>W1(c,l.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(l=>l._pc=this),a}),la(e,"track",s=>(s.receiver._pc=s.srcElement,s)),e.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(l=>W1(l,a.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const s=arguments[0];let a,l,c;return this.getSenders().forEach(h=>{h.track===s&&(a?c=!0:a=h)}),this.getReceivers().forEach(h=>(h.track===s&&(l?c=!0:l=h),h.track===s)),c||a&&l?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():l?l.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function jC(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(c=>this._shimmedLocalStreams[c][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(c,h){if(!h)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const p=t.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(p)===-1&&this._shimmedLocalStreams[h.id].push(p):this._shimmedLocalStreams[h.id]=[h,p],p};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._shimmedLocalStreams=this._shimmedLocalStreams||{},c.getTracks().forEach(m=>{if(this.getSenders().find(v=>v.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();n.apply(this,arguments);const p=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[c.id]=[c].concat(p)};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[c.id],s.apply(this,arguments)};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},c&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const p=this._shimmedLocalStreams[h].indexOf(c);p!==-1&&this._shimmedLocalStreams[h].splice(p,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),a.apply(this,arguments)}}function UC(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return jC(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(v=>this._reverseStreams[v.id])};const s=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(v=>{if(this.getSenders().find(C=>C.track===v))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const v=new e.MediaStream(y.getTracks());this._streams[y.id]=v,this._reverseStreams[v.id]=y,y=v}s.apply(this,[y])};const a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},e.RTCPeerConnection.prototype.addTrack=function(y,v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const E=[].slice.call(arguments,1);if(E.length!==1||!E[0].getTracks().find(k=>k===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(k=>k.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const M=this._streams[v.id];if(M)M.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const k=new e.MediaStream([y]);this._streams[v.id]=k,this._reverseStreams[k.id]=v,this.addStream(k)}return this.getSenders().find(k=>k.track===y)};function l(m,y){let v=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(E=>{const C=m._reverseStreams[E],M=m._streams[C.id];v=v.replace(new RegExp(M.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:v})}function c(m,y){let v=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(E=>{const C=m._reverseStreams[E],M=m._streams[C.id];v=v.replace(new RegExp(C.id,"g"),M.id)}),new RTCSessionDescription({type:y.type,sdp:v})}["createOffer","createAnswer"].forEach(function(m){const y=e.RTCPeerConnection.prototype[m],v={[m](){const E=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[M=>{const k=l(this,M);E[0].apply(null,[k])},M=>{E[1]&&E[1].apply(null,M)},arguments[2]]):y.apply(this,arguments).then(M=>l(this,M))}};e.RTCPeerConnection.prototype[m]=v[m]});const h=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=c(this,arguments[0]),h.apply(this,arguments))};const p=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const m=p.get.apply(this);return m.type===""?m:l(this,m)}}),e.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let E;Object.keys(this._streams).forEach(C=>{this._streams[C].getTracks().find(k=>y.track===k)&&(E=this._streams[C])}),E&&(E.getTracks().length===1?this.removeStream(this._reverseStreams[E.id]):E.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function tg(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=e.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=a[n]})}function BC(e,t){la(e,"negotiationneeded",n=>{const s=n.target;if(!((t.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const eE=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:BC,shimAddTrackRemoveTrack:UC,shimAddTrackRemoveTrackWithNative:jC,shimGetSendersWithDtmf:kC,shimGetUserMedia:PC,shimMediaStream:OC,shimOnTrack:NC,shimPeerConnection:tg,shimSenderReceiverGetStats:LC},Symbol.toStringTag,{value:"Module"}));function zC(e,t){const n=e&&e.navigator,s=e&&e.MediaStreamTrack;if(n.getUserMedia=function(a,l,c){fy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(l,c)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(c,h,p){h in c&&!(p in c)&&(c[p]=c[h],delete c[h])},l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(c){return typeof c=="object"&&typeof c.audio=="object"&&(c=JSON.parse(JSON.stringify(c)),a(c.audio,"autoGainControl","mozAutoGainControl"),a(c.audio,"noiseSuppression","mozNoiseSuppression")),l(c)},s&&s.prototype.getSettings){const c=s.prototype.getSettings;s.prototype.getSettings=function(){const h=c.apply(this,arguments);return a(h,"mozAutoGainControl","autoGainControl"),a(h,"mozNoiseSuppression","noiseSuppression"),h}}if(s&&s.prototype.applyConstraints){const c=s.prototype.applyConstraints;s.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),a(h,"autoGainControl","mozAutoGainControl"),a(h,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[h])}}}}function s6(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:t}:s.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(s)})}function FC(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eg(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const l=e.RTCPeerConnection.prototype[a],c={[a](){return arguments[0]=new(a==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};e.RTCPeerConnection.prototype[a]=c[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[l,c,h]=arguments;return s.apply(this,[l||null]).then(p=>{if(t.version<53&&!c)try{p.forEach(m=>{m.type=n[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;p.forEach((y,v)=>{p.set(v,Object.assign({},y,{type:n[y.type]||y.type}))})}return p}).then(c,h)}}function HC(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(l=>l._pc=this),a});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function qC(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s}),la(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function GC(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){fy("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function $C(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function KC(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(c=>{if("rid"in c&&!/^[a-z0-9]{0,16}$/i.test(c.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in c&&!(parseFloat(c.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in c&&!(parseFloat(c.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const l=t.apply(this,arguments);if(a){const{sender:c}=l,h=c.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=s,c.sendEncodings=s,this.setParametersPromises.push(c.setParameters(h).then(()=>{delete c.sendEncodings}).catch(()=>{delete c.sendEncodings})))}return l})}function YC(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const s=t.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function QC(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function XC(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const nE=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:KC,shimCreateAnswer:XC,shimCreateOffer:QC,shimGetDisplayMedia:s6,shimGetParameters:YC,shimGetUserMedia:zC,shimOnTrack:FC,shimPeerConnection:eg,shimRTCDataChannel:$C,shimReceiverGetStats:qC,shimRemoveStream:GC,shimSenderGetStats:HC},Symbol.toStringTag,{value:"Module"}));function ZC(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>t.call(this,a,s)),s.getVideoTracks().forEach(a=>t.call(this,a,s))},e.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(l=>{a.includes(l.track)&&this.removeTrack(l)})})}}function JC(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const l=new Event("addstream");l.stream=a,this.dispatchEvent(l)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(l=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(l)>=0)return;s._remoteStreams.push(l);const c=new Event("addstream");c.stream=l,s.dispatchEvent(c)})}),t.apply(s,arguments)}}}function WC(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,s=t.createAnswer,a=t.setLocalDescription,l=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(m,y){const v=arguments.length>=2?arguments[2]:arguments[0],E=n.apply(this,[v]);return y?(E.then(m,y),Promise.resolve()):E},t.createAnswer=function(m,y){const v=arguments.length>=2?arguments[2]:arguments[0],E=s.apply(this,[v]);return y?(E.then(m,y),Promise.resolve()):E};let h=function(p,m,y){const v=a.apply(this,[p]);return y?(v.then(m,y),Promise.resolve()):v};t.setLocalDescription=h,h=function(p,m,y){const v=l.apply(this,[p]);return y?(v.then(m,y),Promise.resolve()):v},t.setRemoteDescription=h,h=function(p,m,y){const v=c.apply(this,[p]);return y?(v.then(m,y),Promise.resolve()):v},t.addIceCandidate=h}function tA(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,s=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=a=>s(eA(a))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(s,a,l){t.mediaDevices.getUserMedia(s).then(a,l)}).bind(t))}function eA(e){return e&&e.video!==void 0?Object.assign({},e,{video:IC(e.video)}):e}function nA(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const l=[];for(let c=0;c<s.iceServers.length;c++){let h=s.iceServers[c];h.urls===void 0&&h.url?(fy("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,l.push(h)):l.push(s.iceServers[c])}s.iceServers=l}return new t(s,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function iA(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function sA(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(c=>c.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const l=this.getTransceivers().find(c=>c.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveVideo===!0&&!l&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function rA(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const iE=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:rA,shimCallbacksAPI:WC,shimConstraints:eA,shimCreateOfferLegacy:sA,shimGetUserMedia:tA,shimLocalStreamsAPI:ZC,shimRTCIceServerUrls:nA,shimRemoteStreamsAPI:JC,shimTrackEventTransceiver:iA},Symbol.toStringTag,{value:"Module"}));var gm={exports:{}},sE;function r6(){return sE||(sE=1,(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},t.splitSections=function(n){return n.split(`
m=`).map((a,l)=>(l>0?"m="+a:a).trim()+`\r
`)},t.getDescription=function(n){const s=t.splitSections(n);return s&&s[0]},t.getMediaSections=function(n){const s=t.splitSections(n);return s.shift(),s},t.matchPrefix=function(n,s){return t.splitLines(n).filter(a=>a.indexOf(s)===0)},t.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let l=8;l<s.length;l+=2)switch(s[l]){case"raddr":a.relatedAddress=s[l+1];break;case"rport":a.relatedPort=parseInt(s[l+1],10);break;case"tcptype":a.tcpType=s[l+1];break;case"ufrag":a.ufrag=s[l+1],a.usernameFragment=s[l+1];break;default:a[s[l]]===void 0&&(a[s[l]]=s[l+1]);break}return a},t.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const l=n.type;return s.push("typ"),s.push(l),l!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},t.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},t.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const s={};let a;const l=n.substring(n.indexOf(" ")+1).split(";");for(let c=0;c<l.length;c++)a=l[c].trim().split("="),s[a[0].trim()]=a[1];return s},t.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const l=[];Object.keys(n.parameters).forEach(c=>{n.parameters[c]!==void 0?l.push(c+"="+n.parameters[c]):l.push(c)}),s+="a=fmtp:"+a+" "+l.join(";")+`\r
`}return s},t.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},t.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(l=>{s+="a=rtcp-fb:"+a+" "+l.type+(l.parameter&&l.parameter.length?" "+l.parameter:"")+`\r
`}),s},t.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},l=n.indexOf(":",s);return l>-1?(a.attribute=n.substring(s+1,l),a.value=n.substring(l+1)):a.attribute=n.substring(s+1),a},t.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},t.getMid=function(n){const s=t.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},t.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},t.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:t.matchPrefix(n+s,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(l=>{a+="a=fingerprint:"+l.algorithm+" "+l.value+`\r
`}),a},t.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,s){return t.matchPrefix(n+s,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,s){const a=t.matchPrefix(n+s,"a=ice-ufrag:")[0],l=t.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&l?{usernameFragment:a.substring(12),password:l.substring(10)}:null},t.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},t.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},l=t.splitLines(n)[0].split(" ");s.profile=l[2];for(let h=3;h<l.length;h++){const p=l[h],m=t.matchPrefix(n,"a=rtpmap:"+p+" ")[0];if(m){const y=t.parseRtpMap(m),v=t.matchPrefix(n,"a=fmtp:"+p+" ");switch(y.parameters=v.length?t.parseFmtp(v[0]):{},y.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+p+" ").map(t.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(h=>{s.headerExtensions.push(t.parseExtmap(h))});const c=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return s.codecs.forEach(h=>{c.forEach(p=>{h.rtcpFeedback.find(y=>y.type===p.type&&y.parameter===p.parameter)||h.rtcpFeedback.push(p)})}),s},t.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(c=>c.preferredPayloadType!==void 0?c.preferredPayloadType:c.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(c=>{a+=t.writeRtpMap(c),a+=t.writeFmtp(c),a+=t.writeRtcpFb(c)});let l=0;return s.codecs.forEach(c=>{c.maxptime>l&&(l=c.maxptime)}),l>0&&(a+="a=maxptime:"+l+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(c=>{a+=t.writeExtmap(c)}),a},t.parseRtpEncodingParameters=function(n){const s=[],a=t.parseRtpParameters(n),l=a.fecMechanisms.indexOf("RED")!==-1,c=a.fecMechanisms.indexOf("ULPFEC")!==-1,h=t.matchPrefix(n,"a=ssrc:").map(E=>t.parseSsrcMedia(E)).filter(E=>E.attribute==="cname"),p=h.length>0&&h[0].ssrc;let m;const y=t.matchPrefix(n,"a=ssrc-group:FID").map(E=>E.substring(17).split(" ").map(M=>parseInt(M,10)));y.length>0&&y[0].length>1&&y[0][0]===p&&(m=y[0][1]),a.codecs.forEach(E=>{if(E.name.toUpperCase()==="RTX"&&E.parameters.apt){let C={ssrc:p,codecPayloadType:parseInt(E.parameters.apt,10)};p&&m&&(C.rtx={ssrc:m}),s.push(C),l&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:p,mechanism:c?"red+ulpfec":"red"},s.push(C))}}),s.length===0&&p&&s.push({ssrc:p});let v=t.matchPrefix(n,"b=");return v.length&&(v[0].indexOf("b=TIAS:")===0?v=parseInt(v[0].substring(7),10):v[0].indexOf("b=AS:")===0?v=parseInt(v[0].substring(5),10)*1e3*.95-2e3*8:v=void 0,s.forEach(E=>{E.maxBitrate=v})),s},t.parseRtcpParameters=function(n){const s={},a=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const l=t.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=l.length>0,s.compound=l.length===0;const c=t.matchPrefix(n,"a=rtcp-mux");return s.mux=c.length>0,s},t.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},t.parseMsid=function(n){let s;const a=t.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const l=t.matchPrefix(n,"a=ssrc:").map(c=>t.parseSsrcMedia(c)).filter(c=>c.attribute==="msid");if(l.length>0)return s=l[0].value.split(" "),{stream:s[0],track:s[1]}},t.parseSctpDescription=function(n){const s=t.parseMLine(n),a=t.matchPrefix(n,"a=max-message-size:");let l;a.length>0&&(l=parseInt(a[0].substring(19),10)),isNaN(l)&&(l=65536);const c=t.matchPrefix(n,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:s.fmt,maxMessageSize:l};const h=t.matchPrefix(n,"a=sctpmap:");if(h.length>0){const p=h[0].substring(10).split(" ");return{port:parseInt(p[0],10),protocol:p[1],maxMessageSize:l}}},t.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,s,a){let l;const c=s!==void 0?s:2;return n?l=n:l=t.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+l+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,s){const a=t.splitLines(n);for(let l=0;l<a.length;l++)switch(a[l]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[l].substring(2)}return s?t.getDirection(s):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const a=t.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},t.parseOLine=function(n){const a=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=t.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},e.exports=t})(gm)),gm.exports}var aA=r6();const yo=yb(aA),a6=MR({__proto__:null,default:yo},[aA]);function kf(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new t(s),l=yo.parseCandidate(s.candidate);for(const c in l)c in a||Object.defineProperty(a,c,{value:l[c]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(s)},e.RTCIceCandidate.prototype=t.prototype,la(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function ng(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||la(e,"icecandidate",t=>{if(t.candidate){const n=yo.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Lf(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(h){if(!h||!h.sdp)return!1;const p=yo.splitSections(h.sdp);return p.shift(),p.some(m=>{const y=yo.parseMLine(m);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(h){const p=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(p===null||p.length<2)return-1;const m=parseInt(p[1],10);return m!==m?-1:m},a=function(h){let p=65536;return t.browser==="firefox"&&(t.version<57?h===-1?p=16384:p=2147483637:t.version<60?p=t.version===57?65535:65536:p=2147483637),p},l=function(h,p){let m=65536;t.browser==="firefox"&&t.version===57&&(m=65535);const y=yo.matchPrefix(h.sdp,"a=max-message-size:");return y.length>0?m=parseInt(y[0].substring(19),10):t.browser==="firefox"&&p!==-1&&(m=2147483637),m},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:p}=this.getConfiguration();p==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const p=s(arguments[0]),m=a(p),y=l(arguments[0],p);let v;m===0&&y===0?v=Number.POSITIVE_INFINITY:m===0||y===0?v=Math.max(m,y):v=Math.min(m,y);const E={};Object.defineProperty(E,"maxMessageSize",{get(){return v}}),this._sctp=E}return c.apply(this,arguments)}}function jf(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(s,a){const l=s.send;s.send=function(){const h=arguments[0],p=h.length||h.size||h.byteLength;if(s.readyState==="open"&&a.sctp&&p>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return l.apply(s,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return t(a,this),a},la(e,"datachannel",s=>(t(s.channel,s.target),s))}function ig(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const l=a.target;if(l._lastConnectionState!==l.connectionState){l._lastConnectionState=l.connectionState;const c=new Event("connectionstatechange",a);l.dispatchEvent(c)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function sg(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const l=a.sdp.split(`
`).filter(c=>c.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&a instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:a.type,sdp:l}):a.sdp=l}return n.apply(this,arguments)}}function Uf(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Bf(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(c=>n.apply(this,[c]))})}const o6=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:sg,shimAddIceCandidateNullOrEmpty:Uf,shimConnectionState:ig,shimMaxMessageSize:Lf,shimParameterlessSetLocalDescription:Bf,shimRTCIceCandidate:kf,shimRTCIceCandidateRelayProtocol:ng,shimSendThrowTypeError:jf},Symbol.toStringTag,{value:"Module"}));function l6({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=VC,s=i6(e),a={browserDetails:s,commonShim:o6,extractVersion:Xl,disableLog:e6,disableWarnings:n6,sdp:a6};switch(s.browser){case"chrome":if(!eE||!tg||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=eE,Uf(e,s),Bf(e),PC(e,s),OC(e),tg(e,s),NC(e),UC(e,s),kC(e),LC(e),BC(e,s),kf(e),ng(e),ig(e),Lf(e,s),jf(e),sg(e,s);break;case"firefox":if(!nE||!eg||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=nE,Uf(e,s),Bf(e),zC(e,s),eg(e,s),FC(e),GC(e),HC(e),qC(e),$C(e),KC(e),YC(e),QC(e),XC(e),kf(e),ig(e),Lf(e,s),jf(e);break;case"safari":if(!iE||!t.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=iE,Uf(e,s),Bf(e),nA(e),sA(e),WC(e),ZC(e),JC(e),iA(e),tA(e),rA(e),kf(e),ng(e),Lf(e,s),jf(e),sg(e,s);break;default:n("Unsupported browser!");break}return a}const rE=l6({window:typeof window>"u"?void 0:window});function ua(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}class oA{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],s=t.byteLength,a=Math.ceil(s/this.chunkedMTU);let l=0,c=0;for(;c<s;){const h=Math.min(s,c+this.chunkedMTU),p=t.slice(c,h),m={__peerData:this._dataCount,n:l,data:p,total:a};n.push(m),c=h,l++}return this._dataCount++,n}}}function u6(e){let t=0;for(const a of e)t+=a.byteLength;const n=new Uint8Array(t);let s=0;for(const a of e)n.set(a,s),s+=a.byteLength;return n}const ym=rE.default||rE,Kl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return ym.browserDetails.browser}getVersion(){return ym.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=ym.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},c6=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),lA=()=>Math.random().toString(36).slice(2),aE={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class f6 extends oA{noop(){}blobToArrayBuffer(t,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(t),s}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=aE,this.browser=Kl.getBrowser(),this.browserVersion=Kl.getVersion(),this.pack=wC,this.unpack=RC,this.supports=(function(){const n={browser:Kl.isBrowserSupported(),webRTC:Kl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(aE),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!Kl.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=c6,this.randomToken=lA}}const Cn=new f6,h6="PeerJS: ";class d6{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const s=[h6,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);t>=3?console.log(...s):t>=2?console.warn("WARNING",...s):t>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var mt=new d6,hy={},p6=Object.prototype.hasOwnProperty,gn="~";function gu(){}Object.create&&(gu.prototype=Object.create(null),new gu().__proto__||(gn=!1));function m6(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function uA(e,t,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var l=new m6(n,s||e,a),c=gn?gn+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],l]:e._events[c].push(l):(e._events[c]=l,e._eventsCount++),e}function zf(e,t){--e._eventsCount===0?e._events=new gu:delete e._events[t]}function cn(){this._events=new gu,this._eventsCount=0}cn.prototype.eventNames=function(){var t=[],n,s;if(this._eventsCount===0)return t;for(s in n=this._events)p6.call(n,s)&&t.push(gn?s.slice(1):s);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};cn.prototype.listeners=function(t){var n=gn?gn+t:t,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,l=s.length,c=new Array(l);a<l;a++)c[a]=s[a].fn;return c};cn.prototype.listenerCount=function(t){var n=gn?gn+t:t,s=this._events[n];return s?s.fn?1:s.length:0};cn.prototype.emit=function(t,n,s,a,l,c){var h=gn?gn+t:t;if(!this._events[h])return!1;var p=this._events[h],m=arguments.length,y,v;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,n),!0;case 3:return p.fn.call(p.context,n,s),!0;case 4:return p.fn.call(p.context,n,s,a),!0;case 5:return p.fn.call(p.context,n,s,a,l),!0;case 6:return p.fn.call(p.context,n,s,a,l,c),!0}for(v=1,y=new Array(m-1);v<m;v++)y[v-1]=arguments[v];p.fn.apply(p.context,y)}else{var E=p.length,C;for(v=0;v<E;v++)switch(p[v].once&&this.removeListener(t,p[v].fn,void 0,!0),m){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,n);break;case 3:p[v].fn.call(p[v].context,n,s);break;case 4:p[v].fn.call(p[v].context,n,s,a);break;default:if(!y)for(C=1,y=new Array(m-1);C<m;C++)y[C-1]=arguments[C];p[v].fn.apply(p[v].context,y)}}return!0};cn.prototype.on=function(t,n,s){return uA(this,t,n,s,!1)};cn.prototype.once=function(t,n,s){return uA(this,t,n,s,!0)};cn.prototype.removeListener=function(t,n,s,a){var l=gn?gn+t:t;if(!this._events[l])return this;if(!n)return zf(this,l),this;var c=this._events[l];if(c.fn)c.fn===n&&(!a||c.once)&&(!s||c.context===s)&&zf(this,l);else{for(var h=0,p=[],m=c.length;h<m;h++)(c[h].fn!==n||a&&!c[h].once||s&&c[h].context!==s)&&p.push(c[h]);p.length?this._events[l]=p.length===1?p[0]:p:zf(this,l)}return this};cn.prototype.removeAllListeners=function(t){var n;return t?(n=gn?gn+t:t,this._events[n]&&zf(this,n)):(this._events=new gu,this._eventsCount=0),this};cn.prototype.off=cn.prototype.removeListener;cn.prototype.addListener=cn.prototype.on;cn.prefixed=gn;cn.EventEmitter=cn;hy=cn;var ca={};ua(ca,"ConnectionType",()=>sr);ua(ca,"PeerErrorType",()=>Ie);ua(ca,"BaseConnectionErrorType",()=>rg);ua(ca,"DataConnectionErrorType",()=>dy);ua(ca,"SerializationType",()=>Vh);ua(ca,"SocketEventType",()=>nr);ua(ca,"ServerMessageType",()=>on);var sr=(function(e){return e.Data="data",e.Media="media",e})({}),Ie=(function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e})({}),rg=(function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e})({}),dy=(function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e})({}),Vh=(function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e})({}),nr=(function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e})({}),on=(function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e})({});const cA="1.5.5";class g6 extends hy.EventEmitter{constructor(t,n,s,a,l,c=5e3){super(),this.pingInterval=c,this._disconnected=!0,this._messagesQueue=[];const h=t?"wss://":"ws://";this._baseUrl=h+n+":"+s+a+"peerjs?key="+l}start(t,n){this._id=t;const s=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+cA),this._disconnected=!1,this._socket.onmessage=a=>{let l;try{l=JSON.parse(a.data),mt.log("Server message received:",l)}catch{mt.log("Invalid server message",a.data);return}this.emit(nr.Message,l)},this._socket.onclose=a=>{this._disconnected||(mt.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(nr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),mt.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){mt.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:on.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(nr.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class fA{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===sr.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const s=this.connection,a={ordered:!!t.reliable},l=n.createDataChannel(s.label,a);s._initializeDataChannel(l),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){mt.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,l=this.connection.provider;mt.log("Listening for ICE candidates."),t.onicecandidate=c=>{!c.candidate||!c.candidate.candidate||(mt.log(`Received ICE candidates for ${n}:`,c.candidate),l.socket.send({type:on.Candidate,payload:{candidate:c.candidate,type:a,connectionId:s},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":mt.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(rg.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":mt.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(rg.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":mt.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},mt.log("Listening for data channel"),t.ondatachannel=c=>{mt.log("Received data channel");const h=c.channel;l.getConnection(n,s)._initializeDataChannel(h)},mt.log("Listening for remote stream"),t.ontrack=c=>{mt.log("Received remote stream");const h=c.streams[0],p=l.getConnection(n,s);if(p.type===sr.Media){const m=p;this._addStreamToMediaConnection(h,m)}}}cleanup(){mt.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const s=await t.createOffer(this.connection.options.constraints);mt.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),mt.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===sr.Data){const l=this.connection;a={...a,label:l.label,reliable:l.reliable,serialization:l.serialization}}n.socket.send({type:on.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Ie.WebRTC,a),mt.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(Ie.WebRTC,s),mt.log("Failed to createOffer, ",s)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const s=await t.createAnswer();mt.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await t.setLocalDescription(s),mt.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:on.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(Ie.WebRTC,a),mt.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(Ie.WebRTC,s),mt.log("Failed to create answer, ",s)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;mt.log("Setting remote description",n);const l=this;try{await s.setRemoteDescription(n),mt.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await l._makeAnswer()}catch(c){a.emitError(Ie.WebRTC,c),mt.log("Failed to setRemoteDescription, ",c)}}async handleCandidate(t){mt.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),mt.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Ie.WebRTC,n),mt.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(mt.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return mt.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(s=>{n.addTrack(s,t)})}_addStreamToMediaConnection(t,n){mt.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class hA extends hy.EventEmitter{emitError(t,n){mt.error("Error:",n),this.emit("error",new y6(`${t}`,n))}}class y6 extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class dA extends hA{get open(){return this._open}constructor(t,n,s){super(),this.peer=t,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class ih extends dA{static#t=this.ID_PREFIX="mc_";get type(){return sr.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,s){super(t,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ih.ID_PREFIX+Cn.randomToken(),this._negotiator=new fA(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{mt.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{mt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){mt.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,s=t.payload;switch(t.type){case on.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case on.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:mt.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){mt.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class v6{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:s,port:a,path:l,key:c}=this._options,h=new URL(`${n}://${s}:${a}${l}${c}/${t}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",cA),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){mt.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Cn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Cn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw mt.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}class sh extends dA{static#t=this.ID_PREFIX="dc_";static#e=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return sr.Data}constructor(t,n,s){super(t,n,s),this.connectionId=this.options.connectionId||sh.ID_PREFIX+lA(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new fA(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{mt.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{mt.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{mt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(dy.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case on.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case on.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:mt.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}}class py extends sh{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>sh.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return mt.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class vm extends py{close(t){super.close(t),this._chunkedData={}}constructor(t,n,s){super(t,n,s),this.chunker=new oA,this.serialization=Vh.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=RC(t),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:t.total};if(s.data[t.n]=new Uint8Array(t.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=u6(s.data);this._handleDataMessage({data:a})}}_send(t,n){const s=wC(t);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);mt.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class _6 extends py{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Vh.None}}class T6 extends py{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const s=this.encoder.encode(this.stringify(t));if(s.byteLength>=Cn.chunkedMTU){this.emitError(dy.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...t){super(...t),this.serialization=Vh.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class my extends hA{static#t=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,s]of this._connections)t[n]=s;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:_6,json:T6,binary:vm,"binary-utf8":vm,default:vm},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(t&&t.constructor==Object?n=t:t&&(s=t.toString()),n={debug:0,host:Cn.CLOUD_HOST,port:Cn.CLOUD_PORT,path:"/",key:my.DEFAULT_KEY,token:Cn.randomToken(),config:Cn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Cn.CLOUD_HOST?this._options.secure=Cn.isSecure():this._options.host==Cn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&mt.setLogFunction(this._options.logFunction),mt.logLevel=this._options.debug||0,this._api=new v6(n),this._socket=this._createServerConnection(),!Cn.supports.audioVideo&&!Cn.supports.data){this._delayedAbort(Ie.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Cn.validateId(s)){this._delayedAbort(Ie.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(Ie.ServerError,a))}_createServerConnection(){const t=new g6(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(nr.Message,n=>{this._handleMessage(n)}),t.on(nr.Error,n=>{this._abort(Ie.SocketError,n)}),t.on(nr.Disconnected,()=>{this.disconnected||(this.emitError(Ie.Network,"Lost connection to server."),this.disconnect())}),t.on(nr.Close,()=>{this.disconnected||this._abort(Ie.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,s=t.payload,a=t.src;switch(n){case on.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case on.Error:this._abort(Ie.ServerError,s.msg);break;case on.IdTaken:this._abort(Ie.UnavailableID,`ID "${this.id}" is taken`);break;case on.InvalidKey:this._abort(Ie.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case on.Leave:mt.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case on.Expire:this.emitError(Ie.PeerUnavailable,`Could not connect to peer ${a}`);break;case on.Offer:{const l=s.connectionId;let c=this.getConnection(a,l);if(c&&(c.close(),mt.warn(`Offer received for existing Connection ID:${l}`)),s.type===sr.Media){const p=new ih(a,this,{connectionId:l,_payload:s,metadata:s.metadata});c=p,this._addConnection(a,c),this.emit("call",p)}else if(s.type===sr.Data){const p=new this._serializers[s.serialization](a,this,{connectionId:l,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});c=p,this._addConnection(a,c),this.emit("connection",p)}else{mt.warn(`Received malformed connection type:${s.type}`);return}const h=this._getMessages(l);for(const p of h)c.handleMessage(p);break}default:{if(!s){mt.warn(`You received a malformed message from ${a} of type ${n}`);return}const l=s.connectionId,c=this.getConnection(a,l);c&&c.peerConnection?c.handleMessage(t):l?this._storeMessage(l,t):mt.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){mt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ie.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,s),s}call(t,n,s={}){if(this.disconnected){mt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ie.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){mt.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new ih(t,this,{...s,_stream:n});return this._addConnection(t,a),a}_addConnection(t,n){mt.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const s=this._connections.get(t);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){mt.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(mt.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const t=this.id;mt.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)mt.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)mt.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(Ie.ServerError,n))}}var E6=my;const b6=()=>{};var oE={};const pA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},S6=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],h=e[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},mA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,h=c?e[a+1]:0,p=a+2<e.length,m=p?e[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|m>>6,C=m&63;p||(C=64,c||(E=64)),s.push(n[y],n[v],n[E],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):S6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],h=a<e.length?n[e.charAt(a)]:0;++a;const m=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new C6;const E=l<<2|h>>4;if(s.push(E),m!==64){const C=h<<4&240|m>>2;if(s.push(C),v!==64){const M=m<<6&192|v;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class C6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A6=function(e){const t=pA(e);return mA.encodeByteArray(t,!0)},rh=function(e){return A6(e).replace(/\./g,"")},x6=function(e){try{return mA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function R6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w6=()=>R6().__FIREBASE_DEFAULTS__,D6=()=>{if(typeof process>"u"||typeof oE>"u")return;const e=oE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},M6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&x6(e[1]);return t&&JSON.parse(t)},gy=()=>{try{return b6()||w6()||D6()||M6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},V6=e=>gy()?.emulatorHosts?.[e],I6=e=>{const t=V6(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},gA=()=>gy()?.config;class P6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function yy(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O6(e){return(await fetch(e,{credentials:"include"})).ok}function N6(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[rh(JSON.stringify(n)),rh(JSON.stringify(c)),""].join(".")}const ru={};function k6(){const e={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?e.emulator.push(t):e.prod.push(t);return e}function L6(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let lE=!1;function j6(e,t){if(typeof window>"u"||typeof document>"u"||!yy(window.location.host)||ru[e]===t||ru[e]||lE)return;ru[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=k6().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lE=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=L6(s),C=n("text"),M=document.getElementById(C)||document.createElement("span"),k=n("learnmore"),B=document.getElementById(k)||document.createElement("a"),F=n("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),y(B,k);const at=m();p(q,F),G.append(q,M,B,at),document.body.appendChild(G)}l?(M.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function U6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B6(){const e=gy()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z6(){return!B6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F6(){try{return typeof indexedDB=="object"}catch{return!1}}function H6(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const q6="FirebaseError";class Oo extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=q6,Object.setPrototypeOf(this,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yA.prototype.create)}}class yA{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?G6(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Oo(a,h,s)}}function G6(e,t){return e.replace($6,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const $6=/\{\$([^}]+)}/g;function ah(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(uE(l)&&uE(c)){if(!ah(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function uE(e){return e!==null&&typeof e=="object"}function Co(e){return e&&e._delegate?e._delegate:e}class yu{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class K6{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new P6;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Q6(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Y6(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y6(e){return e===Zr?void 0:e}function Q6(e){return e.instantiationMode==="EAGER"}class X6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new K6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const Z6={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},J6=Ht.INFO,W6={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},tP=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=W6[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vA{constructor(t){this.name=t,this._logLevel=J6,this._logHandler=tP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Z6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const eP=(e,t)=>t.some(n=>e instanceof n);let cE,fE;function nP(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iP(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _A=new WeakMap,ag=new WeakMap,TA=new WeakMap,_m=new WeakMap,vy=new WeakMap;function sP(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(rr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&_A.set(n,e)}).catch(()=>{}),vy.set(t,e),t}function rP(e){if(ag.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});ag.set(e,t)}let og={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ag.get(e);if(t==="objectStoreNames")return e.objectStoreNames||TA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function aP(e){og=e(og)}function oP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Tm(this),t,...n);return TA.set(s,t.sort?t.sort():[t]),rr(s)}:iP().includes(e)?function(...t){return e.apply(Tm(this),t),rr(_A.get(this))}:function(...t){return rr(e.apply(Tm(this),t))}}function lP(e){return typeof e=="function"?oP(e):(e instanceof IDBTransaction&&rP(e),eP(e,nP())?new Proxy(e,og):e)}function rr(e){if(e instanceof IDBRequest)return sP(e);if(_m.has(e))return _m.get(e);const t=lP(e);return t!==e&&(_m.set(e,t),vy.set(t,e)),t}const Tm=e=>vy.get(e);function uP(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),h=rr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(rr(c.result),p.oldVersion,p.newVersion,rr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const cP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],Em=new Map;function hE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Em.get(t))return Em.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=fP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||cP.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&p.done]))[0]};return Em.set(t,l),l}aP(e=>({...e,get:(t,n,s)=>hE(t,n)||e.get(t,n,s),has:(t,n)=>!!hE(t,n)||e.has(t,n)}));class hP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dP(e){return e.getComponent()?.type==="VERSION"}const lg="@firebase/app",dE="0.14.8";const ys=new vA("@firebase/app"),pP="@firebase/app-compat",mP="@firebase/analytics-compat",gP="@firebase/analytics",yP="@firebase/app-check-compat",vP="@firebase/app-check",_P="@firebase/auth",TP="@firebase/auth-compat",EP="@firebase/database",bP="@firebase/data-connect",SP="@firebase/database-compat",CP="@firebase/functions",AP="@firebase/functions-compat",xP="@firebase/installations",RP="@firebase/installations-compat",wP="@firebase/messaging",DP="@firebase/messaging-compat",MP="@firebase/performance",VP="@firebase/performance-compat",IP="@firebase/remote-config",PP="@firebase/remote-config-compat",OP="@firebase/storage",NP="@firebase/storage-compat",kP="@firebase/firestore",LP="@firebase/ai",jP="@firebase/firestore-compat",UP="firebase",BP="12.9.0";const ug="[DEFAULT]",zP={[lg]:"fire-core",[pP]:"fire-core-compat",[gP]:"fire-analytics",[mP]:"fire-analytics-compat",[vP]:"fire-app-check",[yP]:"fire-app-check-compat",[_P]:"fire-auth",[TP]:"fire-auth-compat",[EP]:"fire-rtdb",[bP]:"fire-data-connect",[SP]:"fire-rtdb-compat",[CP]:"fire-fn",[AP]:"fire-fn-compat",[xP]:"fire-iid",[RP]:"fire-iid-compat",[wP]:"fire-fcm",[DP]:"fire-fcm-compat",[MP]:"fire-perf",[VP]:"fire-perf-compat",[IP]:"fire-rc",[PP]:"fire-rc-compat",[OP]:"fire-gcs",[NP]:"fire-gcs-compat",[kP]:"fire-fst",[jP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[UP]:"fire-js-all"};const oh=new Map,FP=new Map,cg=new Map;function pE(e,t){try{e.container.addComponent(t)}catch(n){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lh(e){const t=e.name;if(cg.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;cg.set(t,e);for(const n of oh.values())pE(n,e);for(const n of FP.values())pE(n,e);return!0}function HP(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qP(e){return e==null?!1:e.settings!==void 0}const GP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new yA("app","Firebase",GP);class $P{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const KP=BP;function EA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:ug,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw ar.create("bad-app-name",{appName:String(a)});if(n||(n=gA()),!n)throw ar.create("no-options");const l=oh.get(a);if(l){if(ah(n,l.options)&&ah(s,l.config))return l;throw ar.create("duplicate-app",{appName:a})}const c=new X6(a);for(const p of cg.values())c.addComponent(p);const h=new $P(n,s,c);return oh.set(a,h),h}function YP(e=ug){const t=oh.get(e);if(!t&&e===ug&&gA())return EA();if(!t)throw ar.create("no-app",{appName:e});return t}function vo(e,t,n){let s=zP[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}lh(new yu(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const QP="firebase-heartbeat-database",XP=1,vu="firebase-heartbeat-store";let bm=null;function bA(){return bm||(bm=uP(QP,XP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})})),bm}async function ZP(e){try{const n=(await bA()).transaction(vu),s=await n.objectStore(vu).get(SA(e));return await n.done,s}catch(t){if(t instanceof Oo)ys.warn(t.message);else{const n=ar.create("idb-get",{originalErrorMessage:t?.message});ys.warn(n.message)}}}async function mE(e,t){try{const s=(await bA()).transaction(vu,"readwrite");await s.objectStore(vu).put(t,SA(e)),await s.done}catch(n){if(n instanceof Oo)ys.warn(n.message);else{const s=ar.create("idb-set",{originalErrorMessage:n?.message});ys.warn(s.message)}}}function SA(e){return`${e.name}!${e.options.appId}`}const JP=1024,WP=30;class tO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>WP){const a=iO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gE(),{heartbeatsToSend:n,unsentEntries:s}=eO(this._heartbeatsCache.heartbeats),a=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function gE(){return new Date().toISOString().substring(0,10)}function eO(e,t=JP){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F6()?H6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return mE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return mE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yE(e){return rh(JSON.stringify({version:2,heartbeats:e})).length}function iO(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function sO(e){lh(new yu("platform-logger",t=>new hP(t),"PRIVATE")),lh(new yu("heartbeat",t=>new tO(t),"PRIVATE")),vo(lg,dE,e),vo(lg,dE,"esm2020"),vo("fire-js","")}sO("");var rO="firebase",aO="12.9.0";vo(rO,aO,"app");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,CA;(function(){var e;function t(D,x){function R(){}R.prototype=x.prototype,D.F=x.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(O,N,L){for(var w=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)w[vt-2]=arguments[vt];return x.prototype[N].apply(O,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,R){R||(R=0);const O=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)O[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;N<16;++N)O[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=D.g[0],R=D.g[1],N=D.g[2];let L=D.g[3],w;w=x+(L^R&(N^L))+O[0]+3614090360&4294967295,x=R+(w<<7&4294967295|w>>>25),w=L+(N^x&(R^N))+O[1]+3905402710&4294967295,L=x+(w<<12&4294967295|w>>>20),w=N+(R^L&(x^R))+O[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(x^N&(L^x))+O[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=x+(L^R&(N^L))+O[4]+4118548399&4294967295,x=R+(w<<7&4294967295|w>>>25),w=L+(N^x&(R^N))+O[5]+1200080426&4294967295,L=x+(w<<12&4294967295|w>>>20),w=N+(R^L&(x^R))+O[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(x^N&(L^x))+O[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=x+(L^R&(N^L))+O[8]+1770035416&4294967295,x=R+(w<<7&4294967295|w>>>25),w=L+(N^x&(R^N))+O[9]+2336552879&4294967295,L=x+(w<<12&4294967295|w>>>20),w=N+(R^L&(x^R))+O[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(x^N&(L^x))+O[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=x+(L^R&(N^L))+O[12]+1804603682&4294967295,x=R+(w<<7&4294967295|w>>>25),w=L+(N^x&(R^N))+O[13]+4254626195&4294967295,L=x+(w<<12&4294967295|w>>>20),w=N+(R^L&(x^R))+O[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(x^N&(L^x))+O[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=x+(N^L&(R^N))+O[1]+4129170786&4294967295,x=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(x^R))+O[6]+3225465664&4294967295,L=x+(w<<9&4294967295|w>>>23),w=N+(x^R&(L^x))+O[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^x&(N^L))+O[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=x+(N^L&(R^N))+O[5]+3593408605&4294967295,x=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(x^R))+O[10]+38016083&4294967295,L=x+(w<<9&4294967295|w>>>23),w=N+(x^R&(L^x))+O[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^x&(N^L))+O[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=x+(N^L&(R^N))+O[9]+568446438&4294967295,x=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(x^R))+O[14]+3275163606&4294967295,L=x+(w<<9&4294967295|w>>>23),w=N+(x^R&(L^x))+O[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^x&(N^L))+O[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=x+(N^L&(R^N))+O[13]+2850285829&4294967295,x=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(x^R))+O[2]+4243563512&4294967295,L=x+(w<<9&4294967295|w>>>23),w=N+(x^R&(L^x))+O[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^x&(N^L))+O[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=x+(R^N^L)+O[5]+4294588738&4294967295,x=R+(w<<4&4294967295|w>>>28),w=L+(x^R^N)+O[8]+2272392833&4294967295,L=x+(w<<11&4294967295|w>>>21),w=N+(L^x^R)+O[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^x)+O[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=x+(R^N^L)+O[1]+2763975236&4294967295,x=R+(w<<4&4294967295|w>>>28),w=L+(x^R^N)+O[4]+1272893353&4294967295,L=x+(w<<11&4294967295|w>>>21),w=N+(L^x^R)+O[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^x)+O[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=x+(R^N^L)+O[13]+681279174&4294967295,x=R+(w<<4&4294967295|w>>>28),w=L+(x^R^N)+O[0]+3936430074&4294967295,L=x+(w<<11&4294967295|w>>>21),w=N+(L^x^R)+O[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^x)+O[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=x+(R^N^L)+O[9]+3654602809&4294967295,x=R+(w<<4&4294967295|w>>>28),w=L+(x^R^N)+O[12]+3873151461&4294967295,L=x+(w<<11&4294967295|w>>>21),w=N+(L^x^R)+O[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^x)+O[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=x+(N^(R|~L))+O[0]+4096336452&4294967295,x=R+(w<<6&4294967295|w>>>26),w=L+(R^(x|~N))+O[7]+1126891415&4294967295,L=x+(w<<10&4294967295|w>>>22),w=N+(x^(L|~R))+O[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~x))+O[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=x+(N^(R|~L))+O[12]+1700485571&4294967295,x=R+(w<<6&4294967295|w>>>26),w=L+(R^(x|~N))+O[3]+2399980690&4294967295,L=x+(w<<10&4294967295|w>>>22),w=N+(x^(L|~R))+O[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~x))+O[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=x+(N^(R|~L))+O[8]+1873313359&4294967295,x=R+(w<<6&4294967295|w>>>26),w=L+(R^(x|~N))+O[15]+4264355552&4294967295,L=x+(w<<10&4294967295|w>>>22),w=N+(x^(L|~R))+O[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~x))+O[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=x+(N^(R|~L))+O[4]+4149444226&4294967295,x=R+(w<<6&4294967295|w>>>26),w=L+(R^(x|~N))+O[11]+3174756917&4294967295,L=x+(w<<10&4294967295|w>>>22),w=N+(x^(L|~R))+O[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~x))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const R=x-this.blockSize,O=this.C;let N=this.h,L=0;for(;L<x;){if(N==0)for(;L<=R;)a(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<x;)if(O[N++]=D.charCodeAt(L++),N==this.blockSize){a(this,O),N=0;break}}else for(;L<x;)if(O[N++]=D[L++],N==this.blockSize){a(this,O),N=0;break}}this.h=N,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)D[x++]=this.g[R]>>>O&255;return D};function l(D,x){var R=h;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=x(D)}function c(D,x){this.h=x;const R=[];let O=!0;for(let N=D.length-1;N>=0;N--){const L=D[N]|0;O&&L==x||(R[N]=L,O=!1)}this.g=R}var h={};function p(D){return-128<=D&&D<128?l(D,function(x){return new c([x|0],x<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return B(m(-D));const x=[];let R=1;for(let O=0;D>=R;O++)x[O]=D/R|0,R*=4294967296;return new c(x,0)}function y(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return B(y(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(x,8));let O=v;for(let L=0;L<D.length;L+=8){var N=Math.min(8,D.length-L);const w=parseInt(D.substring(L,L+N),x);N<8?(N=m(Math.pow(x,N)),O=O.j(N).add(m(w))):(O=O.j(R),O=O.add(m(w)))}return O}var v=p(0),E=p(1),C=p(16777216);e=c.prototype,e.m=function(){if(k(this))return-B(this).m();let D=0,x=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);D+=(O>=0?O:4294967296+O)*x,x*=4294967296}return D},e.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(k(this))return"-"+B(this).toString(D);const x=m(Math.pow(D,6));var R=this;let O="";for(;;){const N=at(R,x).g;R=F(R,N.j(x));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=N,M(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},e.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function k(D){return D.h==-1}e.l=function(D){return D=F(this,D),k(D)?-1:M(D)?0:1};function B(D){const x=D.g.length,R=[];for(let O=0;O<x;O++)R[O]=~D.g[O];return new c(R,~D.h).add(E)}e.abs=function(){return k(this)?B(this):this},e.add=function(D){const x=Math.max(this.g.length,D.g.length),R=[];let O=0;for(let N=0;N<=x;N++){let L=O+(this.i(N)&65535)+(D.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);O=w>>>16,L&=65535,w&=65535,R[N]=w<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(D,x){return D.add(B(x))}e.j=function(D){if(M(this)||M(D))return v;if(k(this))return k(D)?B(this).j(B(D)):B(B(this).j(D));if(k(D))return B(this.j(B(D)));if(this.l(C)<0&&D.l(C)<0)return m(this.m()*D.m());const x=this.g.length+D.g.length,R=[];for(var O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<D.g.length;N++){const L=this.i(O)>>>16,w=this.i(O)&65535,vt=D.i(N)>>>16,St=D.i(N)&65535;R[2*O+2*N]+=w*St,q(R,2*O+2*N),R[2*O+2*N+1]+=L*St,q(R,2*O+2*N+1),R[2*O+2*N+1]+=w*vt,q(R,2*O+2*N+1),R[2*O+2*N+2]+=L*vt,q(R,2*O+2*N+2)}for(D=0;D<x;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=x;D<2*x;D++)R[D]=0;return new c(R,0)};function q(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function G(D,x){this.g=D,this.h=x}function at(D,x){if(M(x))throw Error("division by zero");if(M(D))return new G(v,v);if(k(D))return x=at(B(D),x),new G(B(x.g),B(x.h));if(k(x))return x=at(D,B(x)),new G(B(x.g),x.h);if(D.g.length>30){if(k(D)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=x;O.l(D)<=0;)R=st(R),O=st(O);var N=lt(R,1),L=lt(O,1);for(O=lt(O,2),R=lt(R,2);!M(O);){var w=L.add(O);w.l(D)<=0&&(N=N.add(R),L=w),O=lt(O,1),R=lt(R,1)}return x=F(D,N.j(x)),new G(N,x)}for(N=v;D.l(x)>=0;){for(R=Math.max(1,Math.floor(D.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=m(R),w=L.j(x);k(w)||w.l(D)>0;)R-=O,L=m(R),w=L.j(x);M(L)&&(L=E),N=N.add(L),D=F(D,w)}return new G(N,D)}e.B=function(D){return at(this,D).h},e.and=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)&D.i(O);return new c(R,this.h&D.h)},e.or=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)|D.i(O);return new c(R,this.h|D.h)},e.xor=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)^D.i(O);return new c(R,this.h^D.h)};function st(D){const x=D.g.length+1,R=[];for(let O=0;O<x;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(R,D.h)}function lt(D,x){const R=x>>5;x%=32;const O=D.g.length-R,N=[];for(let L=0;L<O;L++)N[L]=x>0?D.i(L+R)>>>x|D.i(L+R+1)<<32-x:D.i(L+R);return new c(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,or=c}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AA,Zl,xA,Ff,fg,RA,wA,DA;(function(){var e,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)t:{var b=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var H=f[A];if(!(H in b))break t;b=b[H]}f=f[f.length-1],A=b[f],_=_(A),_!=A&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&b.push([A,_[A]]);return b}});var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function p(f,_,b){return f.call.apply(f.bind,arguments)}function m(f,_,b){return m=p,m.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(A,H,X){for(var ot=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ot[Mt-2]=arguments[Mt];return _.prototype[H].apply(A,ot)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const _=f.length;if(_>0){const b=Array(_);for(let A=0;A<_;A++)b[A]=f[A];return b}return[]}function M(f,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=f.length||0;const X=H.length||0;f.length=b+X;for(let ot=0;ot<X;ot++)f[b+ot]=H[ot]}else f.push(H)}}class k{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(f){c.setTimeout(()=>{throw f},0)}function F(){var f=D;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,b){const A=G.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new k(()=>new at,f=>f.reset());class at{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let st,lt=!1,D=new q,x=()=>{const f=Promise.resolve(void 0);st=()=>{f.then(R)}};function R(){for(var f;f=F();){try{f.h.call(f.g)}catch(b){B(b)}var _=G;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}lt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};c.addEventListener("test",b,_),c.removeEventListener("test",b,_)}catch{}return f})();function w(f){return/^[\s\xa0]*$/.test(f)}function vt(f,_){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(vt,N),vt.prototype.init=function(f,_){const b=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),Q=0;function it(f,_,b,A,H){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=H,this.key=++Q,this.da=this.fa=!1}function ct(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Et(f,_,b){for(const A in f)_.call(b,f[A],A,f)}function Dt(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function j(f){const _={};for(const b in f)_[b]=f[b];return _}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(f,_){let b,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(b in A)f[b]=A[b];for(let X=0;X<tt.length;X++)b=tt[X],Object.prototype.hasOwnProperty.call(A,b)&&(f[b]=A[b])}}function ht(f){this.src=f,this.g={},this.h=0}ht.prototype.add=function(f,_,b,A,H){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const ot=It(f,_,A,H);return ot>-1?(_=f[ot],b||(_.fa=!1)):(_=new it(_,this.src,X,!!A,H),_.fa=b,f.push(_)),_};function At(f,_){const b=_.type;if(b in f.g){var A=f.g[b],H=Array.prototype.indexOf.call(A,_,void 0),X;(X=H>=0)&&Array.prototype.splice.call(A,H,1),X&&(ct(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function It(f,_,b,A){for(let H=0;H<f.length;++H){const X=f[H];if(!X.da&&X.listener==_&&X.capture==!!b&&X.ha==A)return H}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ne={};function le(f,_,b,A,H){if(Array.isArray(_)){for(let X=0;X<_.length;X++)le(f,_[X],b,A,H);return null}return b=zo(b),f&&f[St]?f.J(_,b,h(A)?!!A.capture:!1,H):vr(f,_,b,!1,A,H)}function vr(f,_,b,A,H,X){if(!_)throw Error("Invalid event type");const ot=h(H)?!!H.capture:!!H;let Mt=_r(f);if(Mt||(f[zt]=Mt=new ht(f)),b=Mt.add(_,b,A,ot,X),b.proxy)return b;if(A=ma(),b.proxy=A,A.src=f,A.listener=b,f.addEventListener)L||(H=ot),H===void 0&&(H=!1),f.addEventListener(_.toString(),A,H);else if(f.attachEvent)f.attachEvent(gi(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ma(){function f(b){return _.call(f.src,f.listener,b)}const _=Uo;return f}function ga(f,_,b,A,H){if(Array.isArray(_))for(var X=0;X<_.length;X++)ga(f,_[X],b,A,H);else A=h(A)?!!A.capture:!!A,b=zo(b),f&&f[St]?(f=f.i,X=String(_).toString(),X in f.g&&(_=f.g[X],b=It(_,b,A,H),b>-1&&(ct(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[X],f.h--)))):f&&(f=_r(f))&&(_=f.g[_.toString()],f=-1,_&&(f=It(_,b,A,H)),(b=f>-1?_[f]:null)&&ya(b))}function ya(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[St])At(_.i,f);else{var b=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(b,A,f.capture):_.detachEvent?_.detachEvent(gi(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=_r(_))?(At(b,f),b.h==0&&(b.src=null,_[zt]=null)):ct(f)}}}function gi(f){return f in Ne?Ne[f]:Ne[f]="on"+f}function Uo(f,_){if(f.da)f=!0;else{_=new vt(_,this);const b=f.listener,A=f.ha||f.src;f.fa&&ya(f),f=b.call(A,_)}return f}function _r(f){return f=f[zt],f instanceof ht?f:null}var Bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(f){return typeof f=="function"?f:(f[Bo]||(f[Bo]=function(_){return f.handleEvent(_)}),f[Bo])}function be(){O.call(this),this.i=new ht(this),this.M=this,this.G=null}v(be,O),be.prototype[St]=!0,be.prototype.removeEventListener=function(f,_,b,A){ga(this,f,_,b,A)};function ke(f,_){var b,A=f.G;if(A)for(b=[];A;A=A.G)b.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new N(_,f);else if(_ instanceof N)_.target=_.target||f;else{var H=_;_=new N(A,f),ut(_,H)}H=!0;let X,ot;if(b)for(ot=b.length-1;ot>=0;ot--)X=_.g=b[ot],H=Es(X,A,!0,_)&&H;if(X=_.g=f,H=Es(X,A,!0,_)&&H,H=Es(X,A,!1,_)&&H,b)for(ot=0;ot<b.length;ot++)X=_.g=b[ot],H=Es(X,A,!1,_)&&H}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let A=0;A<b.length;A++)ct(b[A]);delete f.g[_],f.h--}}this.G=null},be.prototype.J=function(f,_,b,A){return this.i.add(String(f),_,!1,b,A)},be.prototype.K=function(f,_,b,A){return this.i.add(String(f),_,!0,b,A)};function Es(f,_,b,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let X=0;X<_.length;++X){const ot=_[X];if(ot&&!ot.da&&ot.capture==b){const Mt=ot.listener,ve=ot.ha||ot.src;ot.fa&&At(f.i,ot),H=Mt.call(ve,A)!==!1&&H}}return H&&!A.defaultPrevented}function $h(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function ju(f){f.g=$h(()=>{f.g=null,f.i&&(f.i=!1,ju(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class fn extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(f){O.call(this),this.h=f,this.g={}}v(Tr,O);var Fo=[];function Ho(f){Et(f.g,function(_,b){this.g.hasOwnProperty(b)&&ya(_)},f),f.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Ho(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=c.JSON.stringify,Kh=c.JSON.parse,Uu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Bu(){}function zu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){N.call(this,"d")}v(Ke,N);function Nn(){N.call(this,"c")}v(Nn,N);var ye={},Fu=null;function va(){return Fu=Fu||new be}ye.Ia="serverreachability";function Hu(f){N.call(this,ye.Ia,f)}v(Hu,N);function yi(f){const _=va();ke(_,new Hu(_))}ye.STAT_EVENT="statevent";function Er(f,_){N.call(this,ye.STAT_EVENT,f),this.stat=_}v(Er,N);function Se(f){const _=va();ke(_,new Er(_,f))}ye.Ja="timingevent";function vi(f,_){N.call(this,ye.Ja,f),this.size=_}v(vi,N);function _i(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Yh(f,_,b,A,H,X){f.info(function(){if(f.g)if(X){var ot="",Mt=X.split("&");for(let $t=0;$t<Mt.length;$t++){var ve=Mt[$t].split("=");if(ve.length>1){const ue=ve[0];ve=ve[1];const Un=ue.split("_");ot=Un.length>=2&&Un[1]=="type"?ot+(ue+"="+ve+"&"):ot+(ue+"=redacted&")}}}else ot=null;else ot=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+b+`
`+ot})}function qu(f,_,b,A,H,X,ot){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+b+`
`+X+" "+ot})}function Ti(f,_,b,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qh(f,b)+(A?" "+A:"")})}function br(f,_){f.info(function(){return"TIMEOUT: "+_})}ti.prototype.info=function(){};function Qh(f,_){if(!f.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var b=X[f];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return bs(X)}catch{return _}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Cr(){}v(Cr,Bu),Cr.prototype.g=function(){return new XMLHttpRequest},Go=new Cr;function Yi(f){return encodeURIComponent(String(f))}function Gu(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function ei(f,_,b,A){this.j=f,this.i=_,this.l=b,this.S=A||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ce={},He={};function Ei(f,_,b){f.M=1,f.A=Ar(xe(_)),f.u=b,f.R=!0,_a(f,null)}function _a(f,_){f.F=Date.now(),bi(f),f.B=xe(f.A);var b=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Sa(b.i,"t",A),f.C=0,b=f.j.L,f.h=new ni,f.g=ac(f.j,b?_:null,!f.u),f.P>0&&(f.O=new fn(m(f.Y,f,f.g),f.P)),_=f.V,b=f.g,A=f.ba;var H="readystatechange";Array.isArray(H)||(H&&(Fo[0]=H.toString()),H=Fo);for(let X=0;X<H.length;X++){const ot=le(b,H[X],A||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),yi(),Yh(f.i,f.v,f.B,f.l,f.S,f.u)}ei.prototype.ba=function(f){f=f.target;const _=this.O;_&&ri(f)==3?_.j():this.Y(f)},ei.prototype.Y=function(f){try{if(f==this.g)t:{const Mt=ri(this.g),ve=this.g.ya(),$t=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Mt!=4||ve==7||(ve==8||$t<=0?yi(3):yi(2)),Si(this);var _=this.g.ca();this.X=_;var b=Xh(this);if(this.o=_==200,qu(this.i,this.v,this.B,this.l,this.S,Mt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var X=A;break e}}X=null}if(f=X)Ti(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,f);else{this.o=!1,this.m=3,Se(12),xn(this),kn(this);break t}}if(this.R){f=!0;let ue;for(;!this.K&&this.C<b.length;)if(ue=Ku(this,b),ue==He){Mt==4&&(this.m=4,Se(14),f=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ce){this.m=4,Se(15),Ti(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Ti(this.i,this.l,ue,null),Ci(this,ue);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||b.length!=0||this.h.h||(this.m=1,Se(16),f=!1),this.o=this.o&&f,!f)Ti(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),kn(this);else if(b.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),al(ot),ot.P=!0,Se(11))}}else Ti(this.i,this.l,b,null),Ci(this,b);Mt==4&&xn(this),this.o&&!this.K&&(Mt==4?nc(this.j,this):(this.o=!1,bi(this)))}else Xi(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),xn(this),kn(this)}}}catch{}};function Xh(f){if(!$u(f))return f.g.la();const _=Ye(f.g);if(_==="")return"";let b="";const A=_.length,H=ri(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return xn(f),kn(f),"";f.h.i=new c.TextDecoder}for(let X=0;X<A;X++)f.h.h=!0,b+=f.h.i.decode(_[X],{stream:!(H&&X==A-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function $u(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ku(f,_){var b=f.C,A=_.indexOf(`
`,b);return A==-1?He:(b=Number(_.substring(b,A)),isNaN(b)?Ce:(A+=1,A+b>_.length?He:(_=_.slice(A,A+b),f.C=A+b,_)))}ei.prototype.cancel=function(){this.K=!0,xn(this)};function bi(f){f.T=Date.now()+f.H,Ta(f,f.H)}function Ta(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=_i(m(f.aa,f),_)}function Si(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ei.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(br(this.i,this.B),this.M!=2&&(yi(),Se(17)),xn(this),this.m=2,kn(this)):Ta(this,this.T-f)};function kn(f){f.j.I==0||f.K||nc(f.j,f)}function xn(f){Si(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Ho(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Ci(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||xi(b.h,f))){if(!f.L&&xi(b.h,f)&&b.I==3){try{var A=b.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)wa(b),Ms(b);else break t;Ir(b),Se(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=_i(m(b.Va,b),6e3));Ai(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((f.L||b.g==f)&&wa(b),!w(_))for(H=b.Ba.g.parse(_),_=0;_<H.length;_++){let $t=H[_];const ue=$t[0];if(!(ue<=b.K))if(b.K=ue,$t=$t[1],b.I==2)if($t[0]=="c"){b.M=$t[1],b.ba=$t[2];const Un=$t[3];Un!=null&&(b.ka=Un,b.j.info("VER="+b.ka));const Pi=$t[4];Pi!=null&&(b.za=Pi,b.j.info("SVER="+b.za));const ai=$t[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const oi=f.g;if(oi){const Pr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var X=A.h;X.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Yo(X,X.h),X.h=null))}if(A.G){const Da=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(A.wa=Da,Qt(A.J,A.G,Da))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ot=f;if(A.na=rc(A,A.L?A.ba:null,A.W),ot.L){Qo(A.h,ot);var Mt=ot,ve=A.O;ve&&(Mt.H=ve),Mt.D&&(Si(Mt),bi(Mt)),A.g=ot}else tc(A);b.i.length>0&&Vi(b)}else $t[0]!="stop"&&$t[0]!="close"||Ii(b,7);else b.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ii(b,7):sl(b):$t[0]!="noop"&&b.l&&b.l.qa($t),b.A=0)}}yi(4)}catch{}}var Ae=class{constructor(f,_){this.g=f,this.map=_}};function $o(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ai(f){return f.h?1:f.g?f.g.size:0}function xi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Yo(f,_){f.g?f.g.add(_):f.h=_}function Qo(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}$o.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return C(f.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const A=f[b].indexOf("=");let H,X=null;A>=0?(H=f[b].substring(0,A),X=f[b].substring(A+1)):H=f[b],_(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Rn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Rn?(this.l=f.l,qe(this,f.j),this.o=f.o,this.g=f.g,Ss(this,f.u),this.h=f.h,Zo(this,Ju(f.i)),this.m=f.m):f&&(_=String(f).match(Yu))?(this.l=!1,qe(this,_[1]||"",!0),this.o=Ri(_[2]||""),this.g=Ri(_[3]||"",!0),Ss(this,_[4]),this.h=Ri(_[5]||"",!0),Zo(this,_[6]||"",!0),this.m=Ri(_[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Rn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(xr(_,ba,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(xr(_,ba,!0),"@"),f.push(Yi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(xr(b,b.charAt(0)=="/"?Jo:Qu,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",xr(b,Xu)),f.join("")},Rn.prototype.resolve=function(f){const _=xe(this);let b=!!f.j;b?qe(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var A=f.h;if(b)Ss(_,f.u);else if(b=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ot=0;ot<H.length;){const Mt=H[ot++];Mt=="."?A&&ot==H.length&&X.push(""):Mt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ot==H.length&&X.push("")):(X.push(Mt),A=!0)}A=X.join("/")}else A=H}return b?_.h=A:b=f.i.toString()!=="",b?Zo(_,Ju(f.i)):b=!!f.m,b&&(_.m=f.m),_};function xe(f){return new Rn(f)}function qe(f,_,b){f.j=b?Ri(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ss(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Zo(f,_,b){_ instanceof As?(f.i=_,Ca(f.i,f.l)):(b||(_=xr(_,Cs)),f.i=new As(_,f.l))}function Qt(f,_,b){f.i.set(_,b)}function Ar(f){return Qt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ri(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xr(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,yn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function yn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ba=/[#\/\?@]/g,Qu=/[#\?:]/g,Jo=/[#\?]/g,Cs=/[#\?@]/g,Xu=/#/g;function As(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ea(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}e=As.prototype,e.add=function(f,_){vn(this),this.i=null,f=xs(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Zu(f,_){vn(f),_=xs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Wo(f,_){return vn(f),_=xs(f,_),f.g.has(_)}e.forEach=function(f,_){vn(this),this.g.forEach(function(b,A){b.forEach(function(H){f.call(_,H,A,this)},this)},this)};function tl(f,_){vn(f);let b=[];if(typeof _=="string")Wo(f,_)&&(b=b.concat(f.g.get(xs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}e.set=function(f,_){return vn(this),this.i=null,f=xs(this,f),Wo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},e.get=function(f,_){return f?(f=tl(this,f),f.length>0?String(f[0]):_):_};function Sa(f,_,b){Zu(f,_),b.length>0&&(f.i=null,f.g.set(xs(f,_),C(b)),f.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var b=_[A];const H=Yi(b);b=tl(this,b);for(let X=0;X<b.length;X++){let ot=H;b[X]!==""&&(ot+="="+Yi(b[X])),f.push(ot)}}return this.i=f.join("&")};function Ju(f){const _=new As;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function xs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ca(f,_){_&&!f.j&&(vn(f),f.i=null,f.g.forEach(function(b,A){const H=A.toLowerCase();A!=H&&(Zu(this,A),Sa(this,H,b))},f)),f.j=_}function ii(f,_){const b=new ti;if(c.Image){const A=new Image;A.onload=y(Ln,b,"TestLoadImage: loaded",!0,_,A),A.onerror=y(Ln,b,"TestLoadImage: error",!1,_,A),A.onabort=y(Ln,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(Ln,b,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function el(f,_){const b=new ti,A=new AbortController,H=setTimeout(()=>{A.abort(),Ln(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?Ln(b,"TestPingServer: ok",!0,_):Ln(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Ln(b,"TestPingServer: error",!1,_)})}function Ln(f,_,b,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(b)}catch{}}function Rs(){this.g=new Uu}function wi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(wi,Bu),wi.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(f,_){be.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Rr,be),e=Rr.prototype,e.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,si(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ws(this):si(this),this.readyState==3&&Aa(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,ws(this))},e.Na=function(f){this.g&&(this.response=f,ws(this))},e.ga=function(){this.g&&ws(this)};function ws(f){f.readyState=4,f.l=null,f.j=null,f.B=null,si(f)}e.setRequestHeader=function(f,_){this.A.append(f,_)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function jn(f){let _="";return Et(f,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function wr(f,_,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=jn(b),typeof f=="string"?b!=null&&Yi(b):Qt(f,_,b))}function Jt(f){be.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Jt,be);var Di=/^https?$/i,nl=["POST","PUT"];e=Jt.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){Dr(this,X);return}if(f=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)b.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())b.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(nl,_,void 0)>=0)||A||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of b)this.g.setRequestHeader(X,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Dr(this,X)}};function Dr(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,il(f),Qi(f)}function il(f){f.A||(f.A=!0,ke(f,"complete"),ke(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,ke(this,"complete"),ke(this,"abort"),Qi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Jt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},e.Xa=function(){Mr(this)};function Mr(f){if(f.h&&typeof l<"u"){if(f.v&&ri(f)==4)setTimeout(f.Ca.bind(f),0);else if(ke(f,"readystatechange"),ri(f)==4){f.h=!1;try{const X=f.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var A;if(A=X===0){let ot=String(f.D).match(Yu)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Di.test(ot?ot.toLowerCase():"")}b=A}if(b)ke(f,"complete"),ke(f,"success");else{f.o=6;try{var H=ri(f)>2?f.g.statusText:""}catch{H=""}f.l=H+" ["+f.ca()+"]",il(f)}}finally{Qi(f)}}}}function Qi(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||ke(f,"ready");try{b.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(f){return f.g?f.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Kh(_)}};function Ye(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(f){const _={};f=(f.g&&ri(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(w(f[A]))continue;var b=Gu(f[A]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=_[H]||[];_[H]=X,X.push(b)}Dt(_,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function Ds(f){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,f),this.Za=Mi("retryDelaySeedMs",1e4,f),this.Ta=Mi("forwardChannelMaxRetries",2,f),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(f&&f.concurrentRequestLimit),this.Ba=new Rs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ds.prototype,e.ka=8,e.I=1,e.connect=function(f,_,b,A){Se(0),this.W=f,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=rc(this,null,this.W),Vi(this)};function sl(f){if(xa(f),f.I==3){var _=f.V++,b=xe(f.J);if(Qt(b,"SID",f.M),Qt(b,"RID",_),Qt(b,"TYPE","terminate"),Vr(f,b),_=new ei(f,f.j,_),_.M=2,_.A=Ar(xe(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=_.A,b=!0),b||(_.g=ac(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}sc(f)}function Ms(f){f.g&&(al(f),f.g.cancel(),f.g=null)}function xa(f){Ms(f),f.v&&(c.clearTimeout(f.v),f.v=null),wa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Vi(f){if(!Ko(f.h)&&!f.m){f.m=!0;var _=f.Ea;st||x(),lt||(st(),lt=!0),D.add(_,f),f.D=0}}function Ra(f,_){return Ai(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=_i(m(f.Ea,f,_),ic(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const H=new ei(this,this.j,f);let X=this.o;if(this.U&&(X?(X=j(X),ut(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Wu(this,H,_),b=xe(this.J),Qt(b,"RID",f),Qt(b,"CVER",22),this.G&&Qt(b,"X-HTTP-Session-Id",this.G),Vr(this,b),X&&(this.R?_="headers="+Yi(jn(X))+"&"+_:this.u&&wr(b,this.u,X)),Yo(this.h,H),this.Ra&&Qt(b,"TYPE","init"),this.S?(Qt(b,"$req",_),Qt(b,"SID","null"),H.U=!0,Ei(H,b,null)):Ei(H,b,_),this.I=2}}else this.I==3&&(f?rl(this,f):this.i.length==0||Ko(this.h)||rl(this))};function rl(f,_){var b;_?b=_.l:b=f.V++;const A=xe(f.J);Qt(A,"SID",f.M),Qt(A,"RID",b),Qt(A,"AID",f.K),Vr(f,A),f.u&&f.o&&wr(A,f.u,f.o),b=new ei(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Wu(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Yo(f.h,b),Ei(b,A,_)}function Vr(f,_){f.H&&Et(f.H,function(b,A){Qt(_,A,b)}),f.l&&Et({},function(b,A){Qt(_,A,b)})}function Wu(f,_,b){b=Math.min(f.i.length,b);const A=f.l?m(f.l.Ka,f.l,f):null;t:{var H=f.i;let Mt=-1;for(;;){const ve=["count="+b];Mt==-1?b>0?(Mt=H[0].g,ve.push("ofs="+Mt)):Mt=0:ve.push("ofs="+Mt);let $t=!0;for(let ue=0;ue<b;ue++){var X=H[ue].g;const Un=H[ue].map;if(X-=Mt,X<0)Mt=Math.max(0,H[ue].g-100),$t=!1;else try{X="req"+X+"_"||"";try{var ot=Un instanceof Map?Un:Object.entries(Un);for(const[Pi,ai]of ot){let oi=ai;h(ai)&&(oi=bs(ai)),ve.push(X+Pi+"="+encodeURIComponent(oi))}}catch(Pi){throw ve.push(X+"type="+encodeURIComponent("_badmap")),Pi}}catch{A&&A(Un)}}if($t){ot=ve.join("&");break t}}ot=void 0}return f=f.i.splice(0,b),_.G=f,ot}function tc(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;st||x(),lt||(st(),lt=!0),D.add(_,f),f.A=0}}function Ir(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=_i(m(f.Da,f),ic(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=_i(m(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ms(this),ec(this))};function al(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function ec(f){f.g=new ei(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=xe(f.na);Qt(_,"RID","rpc"),Qt(_,"SID",f.M),Qt(_,"AID",f.K),Qt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qt(_,"TO",f.ia),Qt(_,"TYPE","xmlhttp"),Vr(f,_),f.u&&f.o&&wr(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=Ar(xe(_)),b.u=null,b.R=!0,_a(b,f)}e.Va=function(){this.C!=null&&(this.C=null,Ms(this),Ir(this),Se(19))};function wa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function nc(f,_){var b=null;if(f.g==_){wa(f),al(f),f.g=null;var A=2}else if(xi(f.h,_))b=_.G,Qo(f.h,_),A=1;else return;if(f.I!=0){if(_.o)if(A==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var H=f.D;A=va(),ke(A,new vi(A,b)),Vi(f)}else tc(f);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&Ra(f,_)||A==2&&Ir(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),H){case 1:Ii(f,5);break;case 4:Ii(f,10);break;case 3:Ii(f,6);break;default:Ii(f,2)}}}function ic(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Ii(f,_){if(f.j.info("Error code "+_),_==2){var b=m(f.bb,f),A=f.Ua;const H=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(A,"https"),Ar(A),H?ii(A.toString(),b):el(A.toString(),b)}else Se(2);f.I=0,f.l&&f.l.pa(_),sc(f),xa(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function sc(f){if(f.I=0,f.ja=[],f.l){const _=Xo(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function rc(f,_,b){var A=b instanceof Rn?xe(b):new Rn(b);if(A.g!="")_&&(A.g=_+"."+A.g),Ss(A,A.u);else{var H=c.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const X=new Rn(null);A&&qe(X,A),_&&(X.g=_),H&&Ss(X,H),b&&(X.h=b),A=X}return b=f.G,_=f.wa,b&&_&&Qt(A,b,_),Qt(A,"VER",f.ka),Vr(f,A),A}function ac(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Jt(new wi({ab:b})):new Jt(f.ma),_.Fa(f.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}e=oc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Vs(){}Vs.prototype.g=function(f,_){return new hn(f,_)};function hn(f,_){be.call(this),this.g=new Ds(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!w(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!w(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Zi(this)}v(hn,be),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){sl(this.g)},hn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=bs(f),f=b);_.i.push(new Ae(_.Ya++,f)),_.I==3&&Vi(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,hn.Z.N.call(this)};function lc(f){Ke.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(lc,Ke);function uc(){Nn.call(this),this.status=1}v(uc,Nn);function Zi(f){this.g=f}v(Zi,oc),Zi.prototype.ra=function(){ke(this.g,"a")},Zi.prototype.qa=function(f){ke(this.g,new lc(f))},Zi.prototype.pa=function(f){ke(this.g,new uc)},Zi.prototype.oa=function(){ke(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,DA=function(){return new Vs},wA=function(){return va()},RA=ye,fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Ff=Sr,qo.COMPLETE="complete",xA=qo,zu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",be.prototype.listen=be.prototype.J,Zl=zu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,AA=Jt}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let No="12.9.0";function oO(e){No=e}const sa=new vA("@firebase/firestore");function ao(){return sa.logLevel}function ft(e,...t){if(sa.logLevel<=Ht.DEBUG){const n=t.map(_y);sa.debug(`Firestore (${No}): ${e}`,...n)}}function vs(e,...t){if(sa.logLevel<=Ht.ERROR){const n=t.map(_y);sa.error(`Firestore (${No}): ${e}`,...n)}}function ra(e,...t){if(sa.logLevel<=Ht.WARN){const n=t.map(_y);sa.warn(`Firestore (${No}): ${e}`,...n)}}function _y(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Ct(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,MA(e,s,n)}function MA(e,t,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vs(s),new Error(s)}function Yt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||MA(t,a,s)}function wt(e,t){return e}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Oo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class VA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class uO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cO{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new na;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new na,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},h=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new na)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new VA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class fO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _E{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qP(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _E(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class Ty{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=pO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function jt(e,t){return e<t?-1:e>t?1:0}function hg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Sm(a)===Sm(l)?jt(a,l):Sm(a)?1:-1}return jt(e.length,t.length)}const mO=55296,gO=57343;function Sm(e){const t=e.charCodeAt(0);return t>=mO&&t<=gO}function Ao(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const TE="__name__";class Ui{constructor(t,n,s){n===void 0?n=0:n>t.length&&Ct(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Ct(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Ui.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return jt(t.length,n.length)}static compareSegments(t,n){const s=Ui.isNumericId(t),a=Ui.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ui.extractNumericId(t).compare(Ui.extractNumericId(n)):hg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class ae extends Ui{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ui{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return yO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new en([TE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new yt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new yt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new yt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ae.fromString(t))}static fromName(t){return new Tt(ae.fromString(t).popFirst(5))}static empty(){return new Tt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ae(t.slice()))}}function IA(e,t,n){if(!n)throw new yt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vO(e,t,n,s){if(t===!0&&s===!0)throw new yt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function EE(e){if(!Tt.isDocumentKey(e))throw new yt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bE(e){if(Tt.isDocumentKey(e))throw new yt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function PA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Ey(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ct(12329,{type:typeof e})}function _o(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ey(e);throw new yt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Oe(e,t){const n={typeString:e};return t&&(n.value=t),n}function Pu(e,t){if(!PA(e))throw new yt(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new yt(rt.INVALID_ARGUMENT,n);return!0}const SE=-62135596800,CE=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*CE);return new oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<SE)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pu(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-SE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Oe("string",oe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new oe(0,0))}static max(){return new xt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function _O(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(s===1e9?new oe(n+1,0):new oe(n,s));return new fr(a,Tt.empty(),t)}function TO(e){return new fr(e.readTime,e.key,_u)}class fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new fr(xt.min(),Tt.empty(),_u)}static max(){return new fr(xt.max(),Tt.empty(),_u)}}function EO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(e.documentKey,t.documentKey),n!==0?n:jt(e.largestBatchId,t.largestBatchId))}const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ko(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==bO)throw e;ft("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(p=>s(p)))})),c=!0,l===a&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((a=>a?nt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,a)=>{const l=t.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;n(t[m]).next((y=>{c[m]=y,++h,h===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new nt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function CO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(e){return e.name==="IndexedDbTransactionError"}class Ih{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ih.ce=-1;const by=-1;function Ph(e){return e==null}function uh(e){return e===0&&1/e==-1/0}function AO(e){return typeof e=="number"&&Number.isInteger(e)&&!uh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const OA="";function xO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=AE(t)),t=RO(e.get(n),t);return AE(t)}function RO(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case OA:n+="";break;default:n+=l}}return n}function AE(e){return e+OA+""}function xE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class he{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tf(this.root,t,this.comparator,!0)}}class Tf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new tn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(t){return new RE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class RE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new di([])}unionWith(t){let n=new Fe(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new di(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class kA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kA("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const wO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=wO.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}const LA="server_timestamp",jA="__type__",UA="__previous_value__",BA="__local_write_time__";function Sy(e){return(e?.mapValue?.fields||{})[jA]?.stringValue===LA}function Oh(e){const t=e.mapValue.fields[UA];return Sy(t)?Oh(t):t}function Tu(e){const t=hr(e.mapValue.fields[BA].timestampValue);return new oe(t.seconds,t.nanos)}class DO{constructor(t,n,s,a,l,c,h,p,m,y,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const ch="(default)";class Eu{constructor(t,n){this.projectId=t,this.database=n||ch}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===ch}isEqual(t){return t instanceof Eu&&t.projectId===this.projectId&&t.database===this.database}}function MO(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(e.options.projectId,t)}const zA="__type__",VO="__max__",Ef={mapValue:{}},FA="__vector__",fh="value";function pr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sy(e)?4:PO(e)?9007199254740991:IO(e)?10:11:Ct(28295,{value:e})}function $i(e,t){if(e===t)return!0;const n=pr(e);if(n!==pr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tu(e).isEqual(Tu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=hr(a.timestampValue),h=hr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return dr(a.bytesValue).isEqual(dr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ee(a.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ee(a.integerValue)===Ee(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ee(a.doubleValue),h=Ee(l.doubleValue);return c===h?uh(c)===uh(h):isNaN(c)&&isNaN(h)}return!1})(e,t);case 9:return Ao(e.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(xE(c)!==xE(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!$i(c[p],h[p])))return!1;return!0})(e,t);default:return Ct(52216,{left:e})}}function bu(e,t){return(e.values||[]).find((n=>$i(n,t)))!==void 0}function xo(e,t){if(e===t)return 0;const n=pr(e),s=pr(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const h=Ee(l.integerValue||l.doubleValue),p=Ee(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(e,t);case 3:return wE(e.timestampValue,t.timestampValue);case 4:return wE(Tu(e),Tu(t));case 5:return hg(e.stringValue,t.stringValue);case 6:return(function(l,c){const h=dr(l),p=dr(c);return h.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=jt(h[m],p[m]);if(y!==0)return y}return jt(h.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const h=jt(Ee(l.latitude),Ee(c.latitude));return h!==0?h:jt(Ee(l.longitude),Ee(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return DE(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const h=l.fields||{},p=c.fields||{},m=h[fh]?.arrayValue,y=p[fh]?.arrayValue,v=jt(m?.values?.length||0,y?.values?.length||0);return v!==0?v:DE(m,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Ef.mapValue&&c===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const E=hg(p[v],y[v]);if(E!==0)return E;const C=xo(h[p[v]],m[y[v]]);if(C!==0)return C}return jt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw Ct(23264,{he:n})}}function wE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return jt(e,t);const n=hr(e),s=hr(t),a=jt(n.seconds,s.seconds);return a!==0?a:jt(n.nanos,s.nanos)}function DE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=xo(n[a],s[a]);if(l)return l}return jt(n.length,s.length)}function Ro(e){return dg(e)}function dg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=hr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return dr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Tt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=dg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${dg(n.fields[c])}`;return a+"}"})(e.mapValue):Ct(61005,{value:e})}function Hf(e){switch(pr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oh(e);return t?16+Hf(t):16;case 5:return 2*e.stringValue.length;case 6:return dr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Hf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return fa(s.fields,((l,c)=>{a+=l.length+Hf(c)})),a})(e.mapValue);default:throw Ct(13486,{value:e})}}function pg(e){return!!e&&"integerValue"in e}function Cy(e){return!!e&&"arrayValue"in e}function ME(e){return!!e&&"nullValue"in e}function VE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qf(e){return!!e&&"mapValue"in e}function IO(e){return(e?.mapValue?.fields||{})[zA]?.stringValue===FA}function au(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return fa(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=au(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=au(e.arrayValue.values[n]);return t}return{...e}}function PO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===VO}class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!qf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(n)}setAll(t){let n=en.emptyPath(),s={},a=[];t.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=au(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){fa(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Yn(au(this.value))}}function HA(e){const t=[];return fa(e.fields,((n,s)=>{const a=new en([n]);if(qf(s)){const l=HA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new di(t)}class ln{constructor(t,n,s,a,l,c,h){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,xt.min(),xt.min(),xt.min(),Yn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,xt.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,xt.min(),xt.min(),Yn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,xt.min(),xt.min(),Yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(t,n){this.position=t,this.inclusive=n}}function IE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=Tt.comparator(Tt.fromName(c.referenceValue),n.key):s=xo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function PE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$i(e.position[n],t.position[n]))return!1;return!0}class dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function OO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qA{}class Ue extends qA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new kO(t,n,s):n==="array-contains"?new UO(t,s):n==="in"?new BO(t,s):n==="not-in"?new zO(t,s):n==="array-contains-any"?new FO(t,s):new Ue(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new LO(t,s):new jO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends qA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ki(t,n)}matches(t){return GA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GA(e){return e.op==="and"}function $A(e){return NO(e)&&GA(e)}function NO(e){for(const t of e.filters)if(t instanceof Ki)return!1;return!0}function mg(e){if(e instanceof Ue)return e.field.canonicalString()+e.op.toString()+Ro(e.value);if($A(e))return e.filters.map((t=>mg(t))).join(",");{const t=e.filters.map((n=>mg(n))).join(",");return`${e.op}(${t})`}}function KA(e,t){return e instanceof Ue?(function(s,a){return a instanceof Ue&&s.op===a.op&&s.field.isEqual(a.field)&&$i(s.value,a.value)})(e,t):e instanceof Ki?(function(s,a){return a instanceof Ki&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&KA(c,a.filters[h])),!0):!1})(e,t):void Ct(19439)}function YA(e){return e instanceof Ue?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(e):e instanceof Ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"})(e):"Filter"}class kO extends Ue{constructor(t,n,s){super(t,n,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class LO extends Ue{constructor(t,n){super(t,"in",n),this.keys=QA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class jO extends Ue{constructor(t,n){super(t,"not-in",n),this.keys=QA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function QA(e,t){return(t.arrayValue?.values||[]).map((n=>Tt.fromName(n.referenceValue)))}class UO extends Ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cy(n)&&bu(n.arrayValue,this.value)}}class BO extends Ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class zO extends Ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class FO extends Ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}class HO{constructor(t,n=null,s=[],a=[],l=null,c=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function OE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new HO(e,t,n,s,a,l,c)}function Ay(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>mg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ph(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ro(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ro(s))).join(",")),t.Te=n}return t.Te}function xy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!OO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!KA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!PE(e.startAt,t.startAt)&&PE(e.endAt,t.endAt)}function gg(e){return Tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Nh{constructor(t,n=null,s=[],a=[],l=null,c="F",h=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function qO(e,t,n,s,a,l,c,h){return new Nh(e,t,n,s,a,l,c,h)}function Ry(e){return new Nh(e)}function NE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function GO(e){return Tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function $O(e){return e.collectionGroup!==null}function ou(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Fe(en.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new dh(l,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new dh(en.keyField(),s))}return t.Ie}function zi(e){const t=wt(e);return t.Ee||(t.Ee=KO(t,ou(e))),t.Ee}function KO(e,t){if(e.limitType==="F")return OE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new dh(a.field,l)}));const n=e.endAt?new hh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new hh(e.startAt.position,e.startAt.inclusive):null;return OE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function yg(e,t,n){return new Nh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kh(e,t){return xy(zi(e),zi(t))&&e.limitType===t.limitType}function XA(e){return`${Ay(zi(e))}|lt:${e.limitType}`}function oo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YA(a))).join(", ")}]`),Ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Ro(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Ro(a))).join(",")),`Target(${s})`})(zi(e))}; limitType=${e.limitType})`}function Lh(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Tt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,h,p){const m=IE(c,h,p);return c.inclusive?m<=0:m<0})(s.startAt,ou(s),a)||s.endAt&&!(function(c,h,p){const m=IE(c,h,p);return c.inclusive?m>=0:m>0})(s.endAt,ou(s),a))})(e,t)}function YO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ZA(e){return(t,n)=>{let s=!1;for(const a of ou(e)){const l=QO(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function QO(e,t,n){const s=e.field.isKeyField()?Tt.comparator(t.key,n.key):(function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?xo(p,m):Ct(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Ct(19790,{direction:e.dir})}}class ha{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){fa(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return NA(this.inner)}size(){return this.innerSize}}const XO=new he(Tt.comparator);function _s(){return XO}const JA=new he(Tt.comparator);function Jl(...e){let t=JA;for(const n of e)t=t.insert(n.key,n);return t}function WA(e){let t=JA;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ta(){return lu()}function t2(){return lu()}function lu(){return new ha((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ZO=new he(Tt.comparator),JO=new Fe(Tt.comparator);function Ut(...e){let t=JO;for(const n of e)t=t.add(n);return t}const WO=new Fe(jt);function tN(){return WO}function wy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(t)?"-0":t}}function e2(e){return{integerValue:""+e}}function eN(e,t){return AO(t)?e2(t):wy(e,t)}class jh{constructor(){this._=void 0}}function nN(e,t,n){return e instanceof Su?(function(a,l){const c={fields:{[jA]:{stringValue:LA},[BA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Sy(l)&&(l=Oh(l)),l&&(c.fields[UA]=l),{mapValue:c}})(n,t):e instanceof Cu?i2(e,t):e instanceof Au?s2(e,t):(function(a,l){const c=n2(a,l),h=kE(c)+kE(a.Ae);return pg(c)&&pg(a.Ae)?e2(h):wy(a.serializer,h)})(e,t)}function iN(e,t,n){return e instanceof Cu?i2(e,t):e instanceof Au?s2(e,t):n}function n2(e,t){return e instanceof ph?(function(s){return pg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Su extends jh{}class Cu extends jh{constructor(t){super(),this.elements=t}}function i2(e,t){const n=r2(t);for(const s of e.elements)n.some((a=>$i(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Au extends jh{constructor(t){super(),this.elements=t}}function s2(e,t){let n=r2(t);for(const s of e.elements)n=n.filter((a=>!$i(a,s)));return{arrayValue:{values:n}}}class ph extends jh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kE(e){return Ee(e.integerValue||e.doubleValue)}function r2(e){return Cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sN{constructor(t,n){this.field=t,this.transform=n}}function rN(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Au&&a instanceof Au?Ao(s.elements,a.elements,$i):s instanceof ph&&a instanceof ph?$i(s.Ae,a.Ae):s instanceof Su&&a instanceof Su})(e.transform,t.transform)}class aN{constructor(t,n){this.version=t,this.transformResults=n}}class ps{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ps}static exists(t){return new ps(void 0,t)}static updateTime(t){return new ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Uh{}function a2(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new l2(e.key,ps.none()):new Ou(e.key,e.data,ps.none());{const n=e.data,s=Yn.empty();let a=new Fe(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new da(e.key,s,new di(a.toArray()),ps.none())}}function oN(e,t,n){e instanceof Ou?(function(a,l,c){const h=a.value.clone(),p=jE(a.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(e,t,n):e instanceof da?(function(a,l,c){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=jE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(o2(a)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function uu(e,t,n,s){return e instanceof Ou?(function(l,c,h,p){if(!Gf(l.precondition,c))return h;const m=l.value.clone(),y=UE(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(e,t,n,s):e instanceof da?(function(l,c,h,p){if(!Gf(l.precondition,c))return h;const m=UE(l.fieldTransforms,p,c),y=c.data;return y.setAll(o2(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,s):(function(l,c,h){return Gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(e,t,n)}function lN(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=n2(s.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function LE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ao(s,a,((l,c)=>rN(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ou extends Uh{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class da extends Uh{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function o2(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function jE(e,t,n){const s=new Map;Yt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,h=t.data.field(l.field);s.set(l.field,iN(c,h,n[a]))}return s}function UE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,nN(l,c,t))}return s}class l2 extends Uh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends Uh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cN{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&oN(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=uu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=uu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=t2();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const p=a2(c,h);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(xt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ao(this.mutations,t.mutations,((n,s)=>LE(n,s)))&&Ao(this.baseMutations,t.baseMutations,((n,s)=>LE(n,s)))}}class Dy{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return ZO})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Dy(t,n,s,a)}}class fN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hN{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,Ft;function dN(e){switch(e){case rt.OK:return Ct(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Ct(15467,{code:e})}}function u2(e){if(e===void 0)return vs("GRPC error has no .code"),rt.UNKNOWN;switch(e){case Ve.OK:return rt.OK;case Ve.CANCELLED:return rt.CANCELLED;case Ve.UNKNOWN:return rt.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return rt.INTERNAL;case Ve.UNAVAILABLE:return rt.UNAVAILABLE;case Ve.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ve.NOT_FOUND:return rt.NOT_FOUND;case Ve.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ve.ABORTED:return rt.ABORTED;case Ve.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ve.DATA_LOSS:return rt.DATA_LOSS;default:return Ct(39323,{code:e})}}(Ft=Ve||(Ve={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function pN(){return new TextEncoder}const mN=new or([4294967295,4294967295],0);function BE(e){const t=pN().encode(e),n=new CA;return n.update(t),new Uint8Array(n.digest())}function zE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new or([n,s],0),new or([a,l],0)]}class My{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=or.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(or.fromNumber(s)));return a.compare(mN)===1&&(a=new or([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=BE(t),[s,a]=zE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new My(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const n=BE(t),[s,a]=zE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Bh(xt.min(),a,new he(jt),_s(),Ut())}}class Nu{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nu(s,n,Ut(),Ut(),Ut())}}class $f{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class c2{constructor(t,n){this.targetId=t,this.Ce=n}}class f2{constructor(t,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class FE{constructor(){this.ve=0,this.Fe=HE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ct(38017,{changeType:l})}})),new Nu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=HE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gN{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=bf(),this.Je=bf(),this.Ze=new he(jt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Ct(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(gg(l))if(s===0){const c=new Tt(l.path);this.et(n,c,ln.newNoDocument(c,xt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(t),p=h?this.ct(h,t,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=dr(s).toUint8Array()}catch(p){if(p instanceof kA)return ra("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new My(c,a,l)}catch(p){return ra(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&gg(h.target)){const p=new Tt(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,ln.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Ut();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Bh(t,n,this.Ze,this.je,s);return this.je=_s(),this.He=bf(),this.Je=bf(),this.Ze=new he(jt),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new FE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(jt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(jt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new FE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function bf(){return new he(Tt.comparator)}function HE(){return new he(Tt.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class TN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vg(e,t){return e.useProto3Json||Ph(t)?t:{value:t}}function mh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h2(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EN(e,t){return mh(e,t.toTimestamp())}function Fi(e){return Yt(!!e,49232),xt.fromTimestamp((function(n){const s=hr(n);return new oe(s.seconds,s.nanos)})(e))}function Vy(e,t){return _g(e,t).canonicalString()}function _g(e,t){const n=(function(a){return new ae(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function d2(e){const t=ae.fromString(e);return Yt(v2(t),10190,{key:t.toString()}),t}function Tg(e,t){return Vy(e.databaseId,t.path)}function Cm(e,t){const n=d2(t);if(n.get(1)!==e.databaseId.projectId)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tt(m2(n))}function p2(e,t){return Vy(e.databaseId,t)}function bN(e){const t=d2(e);return t.length===4?ae.emptyPath():m2(t)}function Eg(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function m2(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function qE(e,t,n){return{name:Tg(e,t),fields:n.value.mapValue.fields}}function SN(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ct(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?rt.UNKNOWN:u2(m.code);return new yt(y,m.message||"")})(c);n=new f2(s,a,l,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cm(e,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):xt.min(),h=new Yn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(a,l,c,h),m=s.targetIds||[],y=s.removedTargetIds||[];n=new $f(m,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Cm(e,s.document),l=s.readTime?Fi(s.readTime):xt.min(),c=ln.newNoDocument(a,l),h=s.removedTargetIds||[];n=new $f([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Cm(e,s.document),l=s.removedTargetIds||[];n=new $f([],l,a,null)}else{if(!("filter"in t))return Ct(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new hN(a,l),h=s.targetId;n=new c2(h,c)}}return n}function CN(e,t){let n;if(t instanceof Ou)n={update:qE(e,t.key,t.value)};else if(t instanceof l2)n={delete:Tg(e,t.key)};else if(t instanceof da)n={update:qE(e,t.key,t.data),updateMask:PN(t.fieldMask)};else{if(!(t instanceof uN))return Ct(16599,{dt:t.type});n={verify:Tg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof Su)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ph)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ct(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:EN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ct(27497)})(e,t.precondition)),n}function AN(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(xt.min())&&(c=Fi(l)),new aN(c,a.transformResults||[])})(n,t)))):[]}function xN(e,t){return{documents:[p2(e,t.path)]}}function RN(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=p2(e,a);const l=(function(m){if(m.length!==0)return y2(Ki.create(m,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:lo(E.field),direction:MN(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const h=vg(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:a}}function wN(e){let t=bN(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Yt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=g2(v);return E instanceof Ki&&$A(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((E=>(function(M){return new dh(uo(M.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Ph(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(v){const E=!!v.before,C=v.values||[];return new hh(C,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const E=!v.before,C=v.values||[];return new hh(C,E)})(n.endAt)),qO(t,a,c,l,h,"F",p,m)}function DN(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function g2(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=uo(n.unaryFilter.field);return Ue.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=uo(n.unaryFilter.field);return Ue.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uo(n.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ue.create(uo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ki.create(n.compositeFilter.filters.map((s=>g2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(n.compositeFilter.op))})(e):Ct(30097,{filter:e})}function MN(e){return yN[e]}function VN(e){return vN[e]}function IN(e){return _N[e]}function lo(e){return{fieldPath:e.canonicalString()}}function uo(e){return en.fromServerFormat(e.fieldPath)}function y2(e){return e instanceof Ue?(function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:VN(n.op),value:n.value}}})(e):e instanceof Ki?(function(n){const s=n.getFilters().map((a=>y2(a)));return s.length===1?s[0]:{compositeFilter:{op:IN(n.op),filters:s}}})(e):Ct(54877,{filter:e})}function PN(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function v2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function _2(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class ir{constructor(t,n,s,a,l=xt.min(),c=xt.min(),h=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ON{constructor(t){this.yt=t}}function NN(e){const t=wN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yg(t,t.limit,"L"):t}class kN{constructor(){this.Sn=new LN}addToCollectionParentIndex(t,n){return this.Sn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(fr.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class LN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(ae.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(ae.comparator)).toArray()}}const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T2=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(T2,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class wo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const $E="LruGarbageCollector",jN=1048576;function KE([e,t],[n,s]){const a=jt(e,n);return a===0?jt(t,s):a}class UN{constructor(t){this.Pr=t,this.buffer=new Fe(KE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ft($E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?ft($E,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Ar(3e5)}))}}class zN{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Ih.ce);const s=new UN(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(GE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,h,p,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(t,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(m=Date.now(),ao()<=Ht.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function FN(e,t){return new zN(e,t)}class HN{constructor(){this.changes=new ha((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class qN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class GN{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&uu(s.mutation,a,di.empty(),oe.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const a=ta();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Jl();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(t,n,s,a){let l=_s();const c=lu(),h=(function(){return lu()})();return n.forEach(((p,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof da)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),uu(y.mutation,m,y.mutation.getFieldMask(),oe.now())):c.set(m.key,di.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((m,y)=>c.set(m,y))),n.forEach(((m,y)=>h.set(m,new qN(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,n){const s=lu();let a=new he(((c,h)=>c-h)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=s.get(p)||di.empty();y=h.applyToLocalView(m,y),s.set(p,y);const v=(a.get(h.batchId)||Ut()).add(p);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,v=t2();y.forEach((E=>{if(!l.has(E)){const C=a2(n.get(E),s.get(E));C!==null&&v.set(E,C),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return nt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return GO(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$O(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):nt.resolve(ta());let h=_u,p=l;return c.next((m=>nt.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,p,m,Ut()))).next((y=>({batchId:h,changes:WA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next((s=>{let a=Jl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Jl();return this.indexManager.getCollectionParents(t,l).next((h=>nt.forEach(h,(p=>{const m=(function(v,E){return new Nh(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,s,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let h=Jl();return c.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&uu(y.mutation,m,di.empty(),oe.now()),Lh(n,m)&&(h=h.insert(p,m))})),h}))}}class $N{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return nt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:NN(a.bundledQuery),readTime:Fi(a.readTime)}})(n)),nt.resolve()}}class KN{constructor(){this.overlays=new he(Tt.comparator),this.Lr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ta();return nt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const a=ta(),l=n.length+1,c=new Tt(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new he(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=ta(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return nt.resolve(h)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new fN(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ut(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class YN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}class Iy{constructor(){this.kr=new Fe($e.Kr),this.qr=new Fe($e.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new $e(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new $e(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new Tt(new ae([])),s=new $e(n,t),a=new $e(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Tt(new ae([])),s=new $e(n,t),a=new $e(n,t+1);let l=Ut();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new $e(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class $e{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Tt.comparator(t.key,n.key)||jt(t.Hr,n.Hr)}static Ur(t,n){return jt(t.Hr,n.Hr)||Tt.comparator(t.key,n.key)}}class QN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe($e.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new cN(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new $e(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?by:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new $e(n,0),a=new $e(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(jt);return n.forEach((a=>{const l=new $e(a,0),c=new $e(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),nt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;Tt.isDocumentKey(l)||(l=l.child(""));const c=new $e(new Tt(l),0);let h=new Fe(jt);return this.Jr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(p.Hr)),!0)}),c),nt.resolve(this.Yr(h))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return nt.forEach(n.mutations,(a=>{const l=new $e(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new $e(n,0),a=this.Jr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XN{constructor(t){this.ti=t,this.docs=(function(){return new he(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=_s();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=_s();const c=n.path,h=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||EO(TO(y),s)<=0||(a.has(y.key)||Lh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Ct(9500)}ni(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new ZN(this)}getSize(t){return nt.resolve(this.size)}}class ZN extends HN{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class JN{constructor(t){this.persistence=t,this.ri=new ha((n=>Ay(n)),xy),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new Iy,this.targetCount=0,this.oi=wo._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),nt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new wo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.lr(n),nt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),nt.waitFor(l).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.si.containsKey(n))}}class E2{constructor(t,n){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new YN,this.referenceDelegate=t(this),this.li=new JN(this),this.indexManager=new kN,this.remoteDocumentCache=(function(a){return new XN(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new ON(n),this.Pi=new $N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new KN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new QN(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new WN(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return nt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class WN extends SO{constructor(t){super(),this.currentSequenceNumber=t}}class Py{constructor(t){this.persistence=t,this.Ri=new Iy,this.Ai=null}static Vi(t){return new Py(t)}get di(){if(this.Ai)return this.Ai;throw Ct(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(s=>{const a=Tt.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,xt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class gh{constructor(t,n){this.persistence=t,this.fi=new ha((s=>xO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=FN(this,n)}static Vi(t,n){return new gh(t,n)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return nt.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?nt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((h=>{h||(s++,l.removeEntry(c,xt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),nt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hf(t.data.value)),n}wr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Oy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Oy(t,n.fromCache,s,a)}}class tk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ek{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return z6()?8:CO(U6())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new tk;return this.ys(t,n,c).next((h=>{if(l.result=h,this.As)return this.ws(t,n,c,h.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(ao()<=Ht.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(ao()<=Ht.DEBUG&&ft("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ao()<=Ht.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(n))):nt.resolve())}gs(t,n){if(NE(n))return nt.resolve(null);let s=zi(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yg(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,s).next((p=>{const m=this.bs(n,h);return this.Ss(n,m,c,p.readTime)?this.gs(t,yg(n,null,"F")):this.Ds(t,m,n,p)}))))})))))}ps(t,n,s,a){return NE(n)||a.isEqual(xt.min())?nt.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?nt.resolve(null):(ao()<=Ht.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),oo(n)),this.Ds(t,c,n,_O(a,_u)).next((h=>h)))}))}bs(t,n){let s=new Fe(ZA(t));return n.forEach(((a,l)=>{Lh(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return ao()<=Ht.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",oo(n)),this.fs.getDocumentsMatchingQuery(t,n,fr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ny="LocalStore",nk=3e8;class ik{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new he(jt),this.Fs=new ha((l=>Ay(l)),xy),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function sk(e,t,n,s){return new ik(e,t,n,s)}async function b2(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let p=Ut();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function rk(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,y){const v=m.batch,E=v.keys();let C=nt.resolve();return E.forEach((M=>{C=C.next((()=>y.getEntry(p,M))).next((k=>{const B=m.docVersions.get(M);Yt(B!==null,48541),k.version.compareTo(B)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),y.addEntry(k)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function S2(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function ak(e,t){const n=wt(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let C=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(v,C),(function(k,B,F){return k.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=nk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,C,y)&&h.push(n.li.updateTargetData(l,C))}));let p=_s(),m=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(ok(l,c,t.documentUpdates).next((y=>{p=y.Bs,m=y.Ls}))),!s.isEqual(xt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return nt.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.vs=a,l)))}function ok(e,t,n){let s=Ut(),a=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=_s();return n.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(xt.min())?(t.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(h,p)):ft(Ny,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function lk(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=by),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function uk(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,nt.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new ir(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function bg(e,t,n){const s=wt(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Lo(c))throw c;ft(Ny,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function YE(e,t,n){const s=wt(e);let a=xt.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const v=wt(p),E=v.Fs.get(y);return E!==void 0?nt.resolve(v.vs.get(E)):v.li.getTargetData(m,y)})(s,c,zi(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:xt.min(),n?l:Ut()))).next((h=>(ck(s,YO(t),h),{documents:h,ks:l})))))}function ck(e,t,n){let s=e.Ms.get(t)||xt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class QE{constructor(){this.activeTargetIds=tN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fk{constructor(){this.vo=new QE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new QE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hk{Mo(t){}shutdown(){}}const XE="ConnectivityMonitor";class ZE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(XE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ft(XE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sf=null;function Sg(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}const Am="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pk{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=Sg(),h=this.Qo(t,n.toUriEncodedString());ft(Am,`Sending RPC '${t}' ${c}:`,h,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:m}=new URL(h),y=yy(m);return this.zo(t,h,p,s,y).then((v=>(ft(Am,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw ra(Am,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=dk[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class mk{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",Yl=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class To extends pk{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!To.c_){const t=wA();Yl(t,RA.STAT_EVENT,(n=>{n.stat===fg.PROXY?ft(rn,"STAT_EVENT: detected buffering proxy"):n.stat===fg.NOPROXY&&ft(rn,"STAT_EVENT: detected no buffering proxy")})),To.c_=!0}}zo(t,n,s,a,l){const c=Sg();return new Promise(((h,p)=>{const m=new AA;m.setWithCredentials(!0),m.listenOnce(xA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ff.NO_ERROR:const v=m.getResponseJson();ft(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case Ff.TIMEOUT:ft(rn,`RPC '${t}' ${c} timed out`),p(new yt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const E=m.getStatus();if(ft(rn,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const k=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(q)>=0?q:rt.UNKNOWN})(M.status);p(new yt(k,M.message))}else p(new yt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new yt(rt.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(rn,`RPC '${t}' ${c} sending request:`,a),m.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=Sg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");ft(rn,`Creating RPC '${t}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let v=!1,E=!1;const C=new mk({Ho:M=>{E?ft(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(v||(ft(rn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),ft(rn,`RPC '${t}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return Yl(y,Zl.EventType.OPEN,(()=>{E||(ft(rn,`RPC '${t}' stream ${a} transport opened.`),C.i_())})),Yl(y,Zl.EventType.CLOSE,(()=>{E||(E=!0,ft(rn,`RPC '${t}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Yl(y,Zl.EventType.ERROR,(M=>{E||(E=!0,ra(rn,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new yt(rt.UNAVAILABLE,"The operation could not be completed")))})),Yl(y,Zl.EventType.MESSAGE,(M=>{if(!E){const k=M.data[0];Yt(!!k,16349);const B=k,F=B?.error||B[0]?.error;if(F){ft(rn,`RPC '${t}' stream ${a} received error:`,F);const q=F.status;let G=(function(lt){const D=Ve[lt];if(D!==void 0)return u2(D)})(q),at=F.message;q==="NOT_FOUND"&&at.includes("database")&&at.includes("does not exist")&&at.includes(this.databaseId.database)&&ra(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=rt.INTERNAL,at="Unknown error status: "+q+" with message "+F.message),E=!0,C.o_(new yt(G,at)),y.close()}else ft(rn,`RPC '${t}' stream ${a} received:`,k),C.__(k)}})),To.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DA()}}function gk(e){return new To(e)}function xm(){return typeof document<"u"?document:null}function zh(e){return new TN(e,!0)}To.c_=!1;class C2{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const JE="PersistentStream";class A2{constructor(t,n,s,a,l,c,h,p){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new C2(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new yt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(JE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ft(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yk extends A2{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=SN(this.serializer,t),s=(function(l){if(!("targetChange"in l))return xt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Fi(c.readTime):xt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Eg(this.serializer),n.addTarget=(function(l,c){let h;const p=c.target;if(h=gg(p)?{documents:xN(l,p)}:{query:RN(l,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=h2(l,c.resumeToken);const m=vg(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(xt.min())>0){h.readTime=mh(l,c.snapshotVersion.toTimestamp());const m=vg(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const s=DN(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Eg(this.serializer),n.removeTarget=t,this.K_(n)}}class vk extends A2{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=AN(t.writeResults,t.commitTime),s=Fi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Eg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>CN(this.serializer,s)))};this.K_(n)}}class _k{}class Tk extends _k{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,_g(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(rt.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,_g(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Ek(e,t,n,s){return new Tk(e,t,n,s)}class bk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class Sk{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{pa(this)&&(ft(aa,"Restarting streams for network reachability change."),await(async function(p){const m=wt(p);m.Ea.add(4),await ku(m),m.Va.set("Unknown"),m.Ea.delete(4),await Fh(m)})(this))}))})),this.Va=new bk(s,a)}}async function Fh(e){if(pa(e))for(const t of e.Ra)await t(!0)}async function ku(e){for(const t of e.Ra)await t(!1)}function x2(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Uy(n)?jy(n):jo(n).O_()&&Ly(n,t))}function ky(e,t){const n=wt(e),s=jo(n);n.Ia.delete(t),s.O_()&&R2(n,t),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Va.set("Unknown"))}function Ly(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jo(e).Z_(t)}function R2(e,t){e.da.$e(t),jo(e).X_(t)}function jy(e){e.da=new gN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),jo(e).start(),e.Va.ua()}function Uy(e){return pa(e)&&!jo(e).x_()&&e.Ia.size>0}function pa(e){return wt(e).Ea.size===0}function w2(e){e.da=void 0}async function Ck(e){e.Va.set("Online")}async function Ak(e){e.Ia.forEach(((t,n)=>{Ly(e,t)}))}async function xk(e,t){w2(e),Uy(e)?(e.Va.ha(t),jy(e)):e.Va.set("Unknown")}async function Rk(e,t,n){if(e.Va.set("Online"),t instanceof f2&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(e,t)}catch(s){ft(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await yh(e,s)}else if(t instanceof $f?e.da.Xe(t):t instanceof c2?e.da.st(t):e.da.tt(t),!n.isEqual(xt.min()))try{const s=await S2(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),R2(l,p);const v=new ir(y.target,p,m,y.sequenceNumber);Ly(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(s){ft(aa,"Failed to raise snapshot:",s),await yh(e,s)}}async function yh(e,t,n){if(!Lo(t))throw t;e.Ea.add(1),await ku(e),e.Va.set("Offline"),n||(n=()=>S2(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(aa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Fh(e)}))}function D2(e,t){return t().catch((n=>yh(e,n,t)))}async function Hh(e){const t=wt(e),n=mr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:by;for(;wk(t);)try{const a=await lk(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,Dk(t,a)}catch(a){await yh(t,a)}M2(t)&&V2(t)}function wk(e){return pa(e)&&e.Ta.length<10}function Dk(e,t){e.Ta.push(t);const n=mr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function M2(e){return pa(e)&&!mr(e).x_()&&e.Ta.length>0}function V2(e){mr(e).start()}async function Mk(e){mr(e).ra()}async function Vk(e){const t=mr(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ik(e,t,n){const s=e.Ta.shift(),a=Dy.from(s,t,n);await D2(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Hh(e)}async function Pk(e,t){t&&mr(e).Y_&&await(async function(s,a){if((function(c){return dN(c)&&c!==rt.ABORTED})(a.code)){const l=s.Ta.shift();mr(s).B_(),await D2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Hh(s)}})(e,t),M2(e)&&V2(e)}async function WE(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ft(aa,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await ku(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Fh(n)}async function Ok(e,t){const n=wt(e);t?(n.Ea.delete(2),await Fh(n)):t||(n.Ea.add(2),await ku(n),n.Va.set("Unknown"))}function jo(e){return e.ma||(e.ma=(function(n,s,a){const l=wt(n);return l.sa(),new yk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:Ck.bind(null,e),Yo:Ak.bind(null,e),t_:xk.bind(null,e),J_:Rk.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),Uy(e)?jy(e):e.Va.set("Unknown")):(await e.ma.stop(),w2(e))}))),e.ma}function mr(e){return e.fa||(e.fa=(function(n,s,a){const l=wt(n);return l.sa(),new vk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Mk.bind(null,e),t_:Pk.bind(null,e),ta:Vk.bind(null,e),na:Ik.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Hh(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(aa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class By{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,h=new By(t,n,c,a,l);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(e,t){if(vs("AsyncQueue",`${t}: ${e}`),Lo(e))return new yt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Tt.comparator(n.key,s.key):(n,s)=>Tt.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class tb{constructor(){this.ga=new he(Tt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ct(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Do{constructor(t,n,s,a,l,c,h,p,m){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Do(t,n,Eo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class Nk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class kk{constructor(){this.queries=eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=wt(n),l=a.queries;a.queries=eb(),l.forEach(((c,h)=>{for(const p of h.ba)p.onError(s)}))})(this,new yt(rt.ABORTED,"Firestore shutting down"))}}function eb(){return new ha((e=>XA(e)),kh)}async function Lk(e,t){const n=wt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new Nk,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=zy(c,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(h)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Fy(n)}async function jk(e,t){const n=wt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Uk(e,t){const n=wt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&Fy(n)}function Bk(e,t,n){const s=wt(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function Fy(e){e.Ca.forEach((t=>{t.next()}))}var Cg,nb;(nb=Cg||(Cg={})).Ma="default",nb.Cache="cache";class zk{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Do(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Do.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cg.Cache}}class I2{constructor(t){this.key=t}}class P2{constructor(t){this.key=t}}class Fk{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=ZA(t),this.tu=new Eo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new tb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),C=Lh(this.query,v)?v:null,M=!!E&&this.mutatedKeys.has(E.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;E&&C?E.data.isEqual(C.data)?M!==k&&(s.track({type:3,doc:C}),B=!0):this.su(E,C)||(s.track({type:2,doc:C}),B=!0,(p&&this.eu(C,p)>0||m&&this.eu(C,m)<0)&&(h=!0)):!E&&C?(s.track({type:0,doc:C}),B=!0):E&&!C&&(s.track({type:1,doc:E}),B=!0,(p||m)&&(h=!0)),B&&(C?(c=c.add(C),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(C,M){const k=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Vt:B})}};return k(C)-k(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Xa;return this.Xa=p,c.length!==0||m?{snapshot:new Do(this.query,t.tu,l,c,t.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new P2(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new I2(s))})),n}cu(t){this.Za=t.ks,this.Ya=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hy="SyncEngine";class Hk{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class qk{constructor(t){this.key=t,this.hu=!1}}class Gk{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ha((h=>XA(h)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(Tt.comparator),this.Au=new Map,this.Vu=new Iy,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $k(e,t,n=!0){const s=U2(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await O2(s,t,n,!0),a}async function Kk(e,t){const n=U2(e);await O2(n,t,!0,!1)}async function O2(e,t,n,s){const a=await uk(e.localStore,zi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await Yk(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&x2(e.remoteStore,a),h}async function Yk(e,t,n,s,a){e.pu=(v,E,C)=>(async function(k,B,F,q){let G=B.view.ru(F);G.Ss&&(G=await YE(k.localStore,B.query,!1).then((({documents:D})=>B.view.ru(D,G))));const at=q&&q.targetChanges.get(B.targetId),st=q&&q.targetMismatches.get(B.targetId)!=null,lt=B.view.applyChanges(G,k.isPrimaryClient,at,st);return sb(k,B.targetId,lt.au),lt.snapshot})(e,v,E,C);const l=await YE(e.localStore,t,!0),c=new Fk(t,l.ks),h=c.ru(l.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),m=c.applyChanges(h,e.isPrimaryClient,p);sb(e,n,m.au);const y=new Hk(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function Qk(e,t,n){const s=wt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!kh(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await bg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ky(s.remoteStore,a.targetId),Ag(s,a.targetId)})).catch(ko)):(Ag(s,a.targetId),await bg(s.localStore,a.targetId,!0))}async function Xk(e,t){const n=wt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ky(n.remoteStore,s.targetId))}async function Zk(e,t,n){const s=s5(e);try{const a=await(function(c,h){const p=wt(c),m=oe.now(),y=h.reduce(((C,M)=>C.add(M.key)),Ut());let v,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=_s(),k=Ut();return p.xs.getEntries(C,y).next((B=>{M=B,M.forEach(((F,q)=>{q.isValidDocument()||(k=k.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,M))).next((B=>{v=B;const F=[];for(const q of h){const G=lN(q,v.get(q.key).overlayedDocument);G!=null&&F.push(new da(q.key,G,HA(G.value.mapValue),ps.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,F,h)})).next((B=>{E=B;const F=B.applyToLocalDocumentSet(v,k);return p.documentOverlayCache.saveOverlays(C,B.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:WA(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,p){let m=c.du[c.currentUser.toKey()];m||(m=new he(jt)),m=m.insert(h,p),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await Lu(s,a.changes),await Hh(s.remoteStore)}catch(a){const l=zy(a,"Failed to persist write");n.reject(l)}}async function N2(e,t){const n=wt(e);try{const s=await ak(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Yt(c.hu,14607):a.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await Lu(n,s,t)}catch(s){await ko(s)}}function ib(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const p=wt(c);p.onlineState=h;let m=!1;p.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(m=!0)})),m&&Fy(p)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Jk(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new he(Tt.comparator);c=c.insert(l,ln.newNoDocument(l,xt.min()));const h=Ut().add(l),p=new Bh(xt.min(),new Map,new he(jt),c,h);await N2(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(t),qy(s)}else await bg(s.localStore,t,!1).then((()=>Ag(s,t,n))).catch(ko)}async function Wk(e,t){const n=wt(e),s=t.batch.batchId;try{const a=await rk(n.localStore,t);L2(n,s,null),k2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,a)}catch(a){await ko(a)}}async function t5(e,t,n){const s=wt(e);try{const a=await(function(c,h){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next((v=>(Yt(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(s.localStore,t);L2(s,t,n),k2(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Lu(s,a)}catch(a){await ko(a)}}function k2(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function L2(e,t,n){const s=wt(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function Ag(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||j2(e,s)}))}function j2(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(ky(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),qy(e))}function sb(e,t,n){for(const s of n)s instanceof I2?(e.Vu.addReference(s.key,t),e5(e,s)):s instanceof P2?(ft(Hy,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||j2(e,s.key)):Ct(19791,{wu:s})}function e5(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(ft(Hy,"New document in limbo: "+n),e.Eu.add(s),qy(e))}function qy(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Tt(ae.fromString(t)),s=e.fu.next();e.Au.set(s,new qk(n)),e.Ru=e.Ru.insert(n,s),x2(e.remoteStore,new ir(zi(Ry(n.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function Lu(e,t,n){const s=wt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,p)=>{c.push(s.pu(p,t,n).then((m=>{if((m||n)&&s.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Oy.Es(p.targetId,m);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(p,m){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>nt.forEach(m,(E=>nt.forEach(E.Ts,(C=>y.persistence.referenceDelegate.addReference(v,E.targetId,C))).next((()=>nt.forEach(E.Is,(C=>y.persistence.referenceDelegate.removeReference(v,E.targetId,C)))))))))}catch(v){if(!Lo(v))throw v;ft(Ny,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const C=y.vs.get(E),M=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(E,k)}}})(s.localStore,l))}async function n5(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ft(Hy,"User change. New user:",t.toKey());const s=await b2(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new yt(rt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Ns)}}function i5(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function U2(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=N2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jk.bind(null,t),t.Pu.J_=Uk.bind(null,t.eventManager),t.Pu.yu=Bk.bind(null,t.eventManager),t}function s5(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=t5.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return sk(this.persistence,new ek,t.initialUser,this.serializer)}Cu(t){return new E2(Py.Vi,this.serializer)}Du(t){return new fk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class r5 extends vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new E2((s=>gh.Vi(s,n)),this.serializer)}}class xg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ib(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n5.bind(null,this.syncEngine),await Ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kk})()}createDatastore(t){const n=zh(t.databaseInfo.databaseId),s=gk(t.databaseInfo);return Ek(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,h){return new Sk(s,a,l,c,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>ib(this.syncEngine,n,0)),(function(){return ZE.v()?new ZE:new hk})())}createSyncEngine(t,n){return(function(a,l,c,h,p,m,y){const v=new Gk(a,l,c,h,p,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ft(aa,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xg.provider={build:()=>new xg};class a5{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const gr="FirestoreClient";class o5{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=Ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(gr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(gr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=zy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rm(e,t){e.asyncQueue.verifyOperationInProgress(),ft(gr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await b2(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await l5(e);ft(gr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>WE(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>WE(t.remoteStore,a))),e._onlineComponents=t}async function l5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(gr,"Using user provided OfflineComponentProvider");try{await Rm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Rm(e,new vh)}}else ft(gr,"Using default OfflineComponentProvider"),await Rm(e,new r5(void 0));return e._offlineComponents}async function B2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(gr,"Using user provided OnlineComponentProvider"),await rb(e,e._uninitializedComponentsProvider._online)):(ft(gr,"Using default OnlineComponentProvider"),await rb(e,new xg))),e._onlineComponents}function u5(e){return B2(e).then((t=>t.syncEngine))}async function ab(e){const t=await B2(e),n=t.eventManager;return n.onListen=$k.bind(null,t.syncEngine),n.onUnlisten=Qk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Kk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Xk.bind(null,t.syncEngine),n}function c5(e,t,n,s){const a=new a5(s),l=new zk(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>Lk(await ab(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>jk(await ab(e),l)))}}function f5(e,t){const n=new na;return e.asyncQueue.enqueueAndForget((async()=>Zk(await u5(e),t,n))),n.promise}function z2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const h5="ComponentProvider",ob=new Map;function d5(e,t,n,s,a){return new DO(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,z2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const F2="firestore.googleapis.com",lb=!0;class ub{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F2,this.ssl=lb}else this.host=t.host,this.ssl=t.ssl??lb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jN)throw new yt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z2(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qh{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ub(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lO;switch(s.type){case"firstParty":return new hO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ob.get(n);s&&(ft(h5,"Removing Datastore"),ob.delete(n),s.terminate())})(this),Promise.resolve()}}function p5(e,t,n,s={}){e=_o(e,qh);const a=yy(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;a&&(O6(`https://${h}`),j6("Firestore",!0)),l.host!==F2&&l.host!==h&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:a,emulatorOptions:s};if(!ah(p,c)&&(e._setSettings(p),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=an.MOCK_USER;else{m=N6(s.mockUserToken,e._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new yt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(v)}e._authCredentials=new uO(new VA(m,y))}}class Gh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gh(this.firestore,t,this._query)}}class Be{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Pu(n,Be._jsonSchema))return new Be(t,s||null,new Tt(ae.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Oe("string",Be._jsonSchemaVersion),referencePath:Oe("string")};class lr extends Gh{constructor(t,n,s){super(t,n,Ry(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new Tt(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function m5(e,t,...n){if(e=Co(e),IA("collection","path",t),e instanceof qh){const s=ae.fromString(t,...n);return bE(s),new lr(e,null,s)}{if(!(e instanceof Be||e instanceof lr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ae.fromString(t,...n));return bE(s),new lr(e.firestore,null,s)}}function g5(e,t,...n){if(e=Co(e),arguments.length===1&&(t=Ty.newId()),IA("doc","path",t),e instanceof qh){const s=ae.fromString(t,...n);return EE(s),new Be(e,null,new Tt(s))}{if(!(e instanceof Be||e instanceof lr))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ae.fromString(t,...n));return EE(s),new Be(e.firestore,e instanceof lr?e.converter:null,new Tt(s))}}const cb="AsyncQueue";class fb{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new C2(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&ft(cb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Lo(t))throw t;ft(cb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",hb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=By.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ct(47125,{Pc:hb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function hb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class _h extends qh{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new fb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fb(t),this._firestoreClient=void 0,await t}}}function y5(e,t){const n=typeof e=="object"?e:YP(),s=typeof e=="string"?e:ch,a=HP(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=I6("firestore");l&&p5(a,...l)}return a}function H2(e){if(e._terminated)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||v5(e),e._firestoreClient}function v5(e){const t=e._freezeSettings(),n=d5(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new o5(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(nn.fromBase64String(t))}catch(n){throw new yt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pu(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Oe("string",Qn._jsonSchemaVersion),bytes:Oe("string")};class q2{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gy{constructor(t){this._methodName=t}}class Hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Pu(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Oe("string",Hi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pu(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new mi(t.vectorValues);throw new yt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Oe("string",mi._jsonSchemaVersion),vectorValues:Oe("object")};const _5=/^__.*__$/;class T5{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new da(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(t,this.data,n,this.fieldTransforms)}}function G2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{dataSource:e})}}class $y{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new $y({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(G2(this.dataSource)&&_5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class E5{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||zh(t)}createContext(t,n,s,a=!1){return new $y({dataSource:t,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b5(e){const t=e._freezeSettings(),n=zh(e._databaseId);return new E5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function S5(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);Q2("Data must be an object, but it was:",c,s);const h=K2(s,c);let p,m;if(l.merge)p=new di(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Yy(t,v,n);if(!c.contains(E))throw new yt(rt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);x5(y,E)||y.push(E)}p=new di(y),m=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=c.fieldTransforms;return new T5(new Yn(h),p,m)}class Ky extends Gy{_toFieldTransform(t){return new sN(t.path,new Su)}isEqual(t){return t instanceof Ky}}function $2(e,t){if(Y2(e=Co(e)))return Q2("Unsupported field value:",t,e),K2(e,t);if(e instanceof Gy)return(function(s,a){if(!G2(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let p=$2(h,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Co(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=oe.fromDate(s);return{timestampValue:mh(a.serializer,l)}}if(s instanceof oe){const l=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(a.serializer,l)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:h2(a.serializer,s._byteString)};if(s instanceof Be){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof mi)return(function(c,h){const p=c instanceof mi?c.toArray():c;return{mapValue:{fields:{[zA]:{stringValue:FA},[fh]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return wy(h.serializer,y)}))}}}}}})(s,a);if(_2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ey(s)}`)})(e,t)}function K2(e,t){const n={};return NA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fa(e,((s,a)=>{const l=$2(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Y2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof Hi||e instanceof Qn||e instanceof Be||e instanceof Gy||e instanceof mi||_2(e))}function Q2(e,t,n){if(!Y2(n)||!PA(n)){const s=Ey(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Yy(e,t,n){if((t=Co(t))instanceof q2)return t._internalPath;if(typeof t=="string")return A5(e,t);throw Th("Field path arguments must be of type string or ",e,!1,void 0,n)}const C5=new RegExp("[~\\*/\\[\\]]");function A5(e,t,n){if(t.search(C5)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new q2(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Th(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new yt(rt.INVALID_ARGUMENT,h+e+p)}function x5(e,t){return e.some((n=>n.isEqual(t)))}class R5{convertValue(t,n="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return fa(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[fh].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new mi(n)}convertGeoPoint(t){return new Hi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Oh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tu(t));default:return null}}convertTimestamp(t){const n=hr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);Yt(v2(s),9688,{name:t});const a=new Eu(s.get(1),s.get(3)),l=new Tt(s.popFirst(5));return a.isEqual(n)||vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class X2 extends R5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function w5(){return new Ky("serverTimestamp")}const db="@firebase/firestore",pb="4.11.0";function mb(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class Z2{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D5 extends Z2{data(){return super.data()}}function M5(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new yt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function V5(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class tu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends Z2{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Yy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Oe("string",ia._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Kf extends ia{data(t={}){return super.data(t)}}class bo{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new tu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Kf(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const p=new Kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:I5(h.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=bo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function I5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:e})}}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:Oe("string",bo._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function P5(e,t,n){e=_o(e,Be);const s=_o(e.firestore,_h),a=V5(e.converter,t),l=b5(s);return N5(s,[S5(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,ps.none())])}function O5(e,...t){e=Co(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||mb(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mb(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,h;if(e instanceof Be)c=_o(e.firestore,_h),h=Ry(e._key.path),l={next:m=>{t[s]&&t[s](k5(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=_o(e,Gh);c=_o(m.firestore,_h),h=m._query;const y=new X2(c);l={next:v=>{t[s]&&t[s](new bo(c,y,m,v))},error:t[s+1],complete:t[s+2]},M5(e._query)}const p=H2(c);return c5(p,h,a,l)}function N5(e,t){const n=H2(e);return f5(n,t)}function k5(e,t,n){const s=n.docs.get(t._key),a=new X2(e);return new ia(e,a,t._key,s,new tu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){oO(KP),lh(new yu("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new _h(new cO(s.getProvider("auth-internal")),new dO(c,s.getProvider("app-check-internal")),MO(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),vo(db,pb,t),vo(db,pb,"esm2020")})();const L5={apiKey:"AIzaSyBQDdzlJemo4Cbw3SKcTDX_YjQ27eCp5ug",authDomain:"ghost-chatamd.firebaseapp.com",projectId:"ghost-chatamd",storageBucket:"ghost-chatamd.appspot.com",messagingSenderId:"100973455099363666904",appId:"1:100973455099363666904:web:abcdef123456"},j5=EA(L5),J2=y5(j5),U5=async(e,t,n)=>{const s=g5(J2,"parallel_rooms",e,"peers",t);await P5(s,{...n,lastSeen:w5()})},B5=(e,t)=>{const n=m5(J2,"parallel_rooms",e,"peers");return O5(n,s=>{const a=[];s.forEach(l=>{a.push({id:l.id,...l.data()})}),t(a)})},W2={name:"ECDH",namedCurve:"P-256"},z5={name:"AES-GCM",length:256};async function F5(){return window.crypto.subtle.generateKey(W2,!0,["deriveKey","deriveBits"])}async function H5(e){return window.crypto.subtle.exportKey("jwk",e)}async function Cf(e){return window.crypto.subtle.importKey("jwk",e,W2,!0,[])}async function wm(e,t){return window.crypto.subtle.deriveKey({name:"ECDH",public:t},e,z5,!1,["encrypt","decrypt"])}async function gb(e,t){const n=new TextEncoder,s=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},t,n.encode(e));return JSON.stringify({iv:Array.from(s),data:Array.from(new Uint8Array(a))})}async function q5(e,t){try{const n=JSON.parse(e),s=new Uint8Array(n.iv),a=new Uint8Array(n.data),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,a);return new TextDecoder().decode(l)}catch(n){return console.error("Decrypt failed",n),null}}const G5=(e,t)=>{const[n,s]=P.useState("disconnected"),[a,l]=P.useState([]),[c,h]=P.useState([]),[p,m]=P.useState(null),[y,v]=P.useState(null),[E,C]=P.useState(null),[M,k]=P.useState(null),B=(L,w)=>{if(!st.current)return;console.log("Calling peer:",L);const vt=st.current.call(L,w);vt.on("stream",St=>{console.log("Remote stream received (Outgoing)"),k(St)}),vt.on("close",()=>q()),vt.on("error",St=>console.error("Call error:",St)),C({call:vt,stream:w})},F=L=>{if(!y)return;const{call:w}=y;console.log("Answering call..."),w.answer(L),w.on("stream",vt=>{console.log("Remote stream received (Incoming)"),k(vt)}),w.on("close",()=>q()),C({call:w,stream:L}),v(null)},q=()=>{E&&(E.call.close(),E.stream?.getTracks().forEach(L=>L.stop())),y&&y.call.close(),C(null),v(null),k(null)},G=P.useRef({}),at=P.useRef(null),st=P.useRef(null),lt=P.useRef([]),D=L=>{h(w=>[...w,L].sort((vt,St)=>vt.timestamp-St.timestamp))},x=async(L,w,vt)=>{G.current[vt]={conn:L},w&&(G.current[vt].sharedSecret=await wm(at.current.privateKey,w)),L.on("data",async St=>{if(St.payload){const Q=G.current[vt];if(!Q.sharedSecret){const ct=lt.current.find(Et=>Et.id===vt);if(ct)try{const Et=await Cf(JSON.parse(ct.key));Q.sharedSecret=await wm(at.current.privateKey,Et)}catch(Et){console.error("Lazy key derivation failed",Et)}}if(!Q.sharedSecret){console.warn("Received data but no secret yet for",vt);return}const it=await q5(St.payload,Q.sharedSecret);if(it){const ct=JSON.parse(it);D({...ct,peerId:vt,isMe:!1})}}}),L.on("close",()=>{delete G.current[vt]})},R=async L=>{const w=L.peer,vt=lt.current.find(Q=>Q.id===w);let St=null;if(vt)try{St=await Cf(JSON.parse(vt.key))}catch(Q){console.error("Failed to import key for incoming conn",Q)}x(L,St,w)},O=async L=>{const w=st.current;if(!w)return;const vt=w.connect(L.id,{metadata:{user:t}}),St=await Cf(JSON.parse(L.key));x(vt,St,L.id)};return P.useEffect(()=>{if(!e||!t)return;let L=()=>{};return typeof window<"u"&&(async()=>{s("connecting"),at.current=await F5();const vt=await H5(at.current.publicKey),St=`parallel_${e}_${t}_${Math.floor(Math.random()*1e5)}`;m(St);const Q=new E6(St,{debug:1,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}});st.current=Q,lt.current=[],Q.on("open",async it=>{console.log("My Peer ID:",it),s("connected"),await U5(e,it,{user:t,key:JSON.stringify(vt)}),L=B5(e,ct=>{const Et=ct.filter(Dt=>Dt.id!==it);l(Et),lt.current=Et,Et.forEach(async Dt=>{if(!G.current[Dt.id])O(Dt);else{const j=G.current[Dt.id];if(j&&!j.sharedSecret){const tt=await Cf(JSON.parse(Dt.key));j.sharedSecret=await wm(at.current.privateKey,tt)}}})})}),Q.on("connection",it=>R(it)),Q.on("call",it=>{console.log("Incoming Call from:",it.peer),v({call:it})}),Q.on("error",it=>{console.error("Peer Error:",it),s("error")})})(),()=>{st.current&&st.current.destroy(),L(),G.current={}}},[e,t]),{status:n,peers:a,messages:c,sendMessage:async(L,w)=>{const vt={id:Date.now()+Math.random(),user:t,text:L,timestamp:Date.now()};if(w){const St=G.current[w];if(St&&St.conn.open&&St.sharedSecret){const Q=await gb(JSON.stringify(vt),St.sharedSecret);St.conn.send({payload:Q}),D({...vt,isMe:!0,peerId:w})}else console.error("Cannot send to",w,"- Connection not ready")}else Object.values(G.current).forEach(async St=>{if(St.conn.open&&St.sharedSecret){const Q=await gb(JSON.stringify(vt),St.sharedSecret);St.conn.send({payload:Q})}}),D({...vt,isMe:!0,peerId:"broadcast"})},myPeerId:p,callPeer:B,incomingCall:y,answerCall:F,endCall:q,activeCall:E,remoteStream:M}},$5=({onLock:e})=>{const[t,n]=P.useState(null),[s,a]=P.useState(!0),[l,c]=P.useState(""),[h,p]=P.useState(""),m=G5(s?null:l,s?null:h),y=v=>{v.preventDefault(),l&&h&&a(!1)};return s?I.jsxs("div",{className:"bg-white text-black h-[100dvh] flex flex-col items-center justify-center p-8 font-sans overflow-hidden",children:[I.jsxs("div",{className:"mb-12 relative flex flex-col items-center",children:[I.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[I.jsx("defs",{children:I.jsx("clipPath",{id:"roundedBox",children:I.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25"})})}),I.jsx("rect",{x:"5",y:"5",width:"90",height:"90",rx:"25",stroke:"black",strokeWidth:"3",fill:"none"}),I.jsxs("g",{clipPath:"url(#roundedBox)",children:[I.jsx("line",{x1:"38",y1:"0",x2:"38",y2:"100",stroke:"black",strokeWidth:"4"}),I.jsx("line",{x1:"62",y1:"0",x2:"62",y2:"100",stroke:"black",strokeWidth:"4"})]})]}),I.jsx("h1",{className:"text-2xl font-light tracking-[0.3em] mt-6",style:{fontFamily:"Inter, sans-serif"},children:"PARALLEL"})]}),I.jsxs("form",{onSubmit:y,className:"w-full max-w-sm space-y-4",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsx("input",{value:h,onChange:v=>p(v.target.value),placeholder:"Username",className:"w-full bg-gray-50 text-black p-4 rounded-lg outline-none border border-gray-300 focus:border-black text-base placeholder-gray-500 transition-colors",autoFocus:!0}),I.jsx("input",{value:l,onChange:v=>c(v.target.value),placeholder:"Room Key",className:"w-full bg-gray-50 text-black p-4 rounded-lg outline-none border border-gray-300 focus:border-black text-base placeholder-gray-500 transition-colors"})]}),I.jsxs("button",{type:"submit",className:"w-full bg-black text-white p-4 rounded-lg font-semibold text-base hover:opacity-80 transition-opacity flex items-center justify-center gap-2",children:[I.jsx("span",{children:"Enter Parallel"}),I.jsx(Dh,{className:"rotate-180",size:18})]})]}),I.jsx("div",{className:"mt-auto mb-4 text-xs text-gray-400 font-medium tracking-widest text-center",children:"ENCRYPTED P2P MESSENGER"})]}):I.jsxs("div",{className:"bg-black text-white h-[100dvh] w-full flex flex-col font-sans overflow-hidden",children:[I.jsx(cC,{initial:!1,mode:"wait",children:t?I.jsx(Y5,{chat:t,messages:m.messages.filter(v=>v.peerId===t.id),onSendMessage:v=>m.sendMessage(v,t.id),onVideoCall:v=>m.callPeer(t.id,v),onBack:()=>n(null)},"conversation"):I.jsx(K5,{peers:m.peers,onLock:e,onSelectChat:v=>n(v),status:m.status,currentUser:h},"list")}),m.incomingCall&&I.jsx(Q5,{call:m.incomingCall,onAnswer:()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(v=>{m.answerCall(v)})},onReject:()=>m.endCall()}),m.activeCall&&I.jsx(X5,{call:m.activeCall,remoteStream:m.remoteStream,onEnd:()=>m.endCall()})]})},K5=({onLock:e,onSelectChat:t,peers:n,status:s,currentUser:a})=>I.jsxs(wh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full bg-black",children:[I.jsxs("header",{className:"px-4 py-3 flex justify-between items-center sticky top-0 z-10 bg-black",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("button",{onClick:e,className:"text-white",children:I.jsx(Dh,{size:24,strokeWidth:2})}),I.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",children:[I.jsx("h1",{className:"text-xl font-bold",children:a}),I.jsx("span",{className:"text-[10px] mt-1 text-gray-400",children:""})]})]}),I.jsxs("div",{className:"flex gap-6 text-white",children:[I.jsxs("div",{className:"relative",children:[I.jsx(Mh,{size:28,strokeWidth:1.5}),s==="connected"&&I.jsx("div",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-black"})]}),I.jsxs("div",{className:"relative",children:[I.jsx(H3,{size:26,strokeWidth:1.5,className:"-rotate-12 translate-y-0.5"}),I.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-[10px] font-bold px-1 rounded-full min-w-[16px] text-center",children:"1"})]})]})]}),I.jsx("div",{className:"px-4 mt-2 mb-4",children:I.jsxs("div",{className:"relative",children:[I.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:I.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),I.jsx("input",{type:"text",placeholder:"Search",className:"w-full bg-[#262626] text-white py-2 pl-10 pr-4 rounded-xl text-sm outline-none placeholder-gray-500"})]})}),I.jsxs("div",{className:"pl-4 pb-4 overflow-x-auto whitespace-nowrap scrollbar-hide",children:[I.jsxs("div",{className:"inline-flex flex-col items-center mr-4 relative",children:[I.jsxs("div",{className:"w-16 h-16 rounded-full bg-[#262626] flex items-center justify-center relative",children:[I.jsx("span",{className:"text-2xl font-bold text-gray-500",children:"+"}),I.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full p-0.5",children:I.jsx(B3,{size:14,className:"text-black"})})]}),I.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Your note"})]}),n.map(l=>I.jsxs("div",{className:"inline-flex flex-col items-center mr-4",onClick:()=>t(l),children:[I.jsx("div",{className:"w-16 h-16 rounded-full p-[2px] bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-600",children:I.jsx("div",{className:"w-full h-full rounded-full bg-black p-[2px]",children:I.jsx("div",{className:"w-full h-full rounded-full bg-gray-700 flex items-center justify-center text-lg font-semibold cursor-pointer",children:l.user[0].toUpperCase()})})}),I.jsx("span",{className:"text-xs text-white mt-1",children:l.user})]},l.id))]}),I.jsxs("div",{className:"flex-1 overflow-y-auto",children:[I.jsxs("div",{className:"px-4 py-2 flex justify-between items-center text-white",children:[I.jsx("h3",{className:"font-bold text-base",children:"Messages"}),I.jsx("span",{className:"text-[#0095F6] text-sm font-semibold",children:"Requests"})]}),n.length===0&&I.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:I.jsx("p",{children:"No active peers found."})}),n.map(l=>I.jsxs("button",{onClick:()=>t({id:l.id,name:l.user}),className:"w-full px-4 py-3 flex items-center gap-3 active:bg-[#121212] transition-colors",children:[I.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-700 flex items-center justify-center font-bold text-lg text-white",children:l.user[0].toUpperCase()}),I.jsxs("div",{className:"flex-1 text-left",children:[I.jsx("h3",{className:"text-sm font-normal text-white",children:l.user}),I.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[I.jsx("span",{children:"Active now"}),I.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"})]})]}),I.jsx("div",{className:"text-gray-500",children:I.jsx(CC,{size:22,strokeWidth:1.5})})]},l.id))]})]}),Y5=({chat:e,onBack:t,messages:n,onSendMessage:s,onVideoCall:a})=>{const[l,c]=P.useState(""),h=P.useRef(null),p=()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(y=>{a(y)}).catch(y=>alert("Camera access required for video calls."))},m=y=>{y.preventDefault(),l.trim()&&(s(l),c(""))};return P.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[n]),I.jsxs(wh.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 bg-black flex flex-col z-20",children:[I.jsxs("header",{className:"px-3 py-2 flex items-center justify-between bg-black border-b border-[#262626]",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("button",{onClick:t,className:"text-white",children:I.jsx(Dh,{size:28,strokeWidth:1.5})}),I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-600 p-[1.5px]",children:I.jsx("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center",children:I.jsx("div",{className:"w-full h-full rounded-full bg-gray-700 flex items-center justify-center text-[10px] text-white",children:e.name[0]})})}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("h3",{className:"text-sm font-bold leading-tight text-white",children:e.name}),I.jsx("span",{className:"text-[11px] text-gray-400",children:"Safe P2P  Active now"})]})]})]}),I.jsxs("div",{className:"flex gap-6 text-white pr-2",children:[I.jsx(j3,{size:24,strokeWidth:1.5}),I.jsx("button",{onClick:p,children:I.jsx(Mh,{size:28,strokeWidth:1.5})}),I.jsx(M3,{size:24,strokeWidth:1.5})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[n.map((y,v)=>{const E=y.isMe,C=v===n.length-1,M=!E&&(C||n[v+1]?.isMe);return I.jsxs("div",{className:`flex ${E?"justify-end":"justify-start"} mb-1`,children:[!E&&I.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-700 mr-2 flex-shrink-0 self-end overflow-hidden",children:M&&I.jsx("div",{className:"w-full h-full flex items-center justify-center text-[10px]",children:y.user[0]})}),I.jsx("div",{className:`
                                max-w-[70%] px-4 py-3 text-[15px] leading-snug break-words
                                ${E?"bg-[#3797F0] text-white rounded-[22px] rounded-br-md":"bg-[#262626] text-white rounded-[22px] rounded-bl-md"}
                            `,children:y.text})]},y.id)}),I.jsx("div",{ref:h})]}),I.jsxs("form",{onSubmit:m,className:"p-3 bg-black flex items-center gap-3 mb-1",children:[I.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-[#262626] text-white cursor-pointer",children:I.jsx(CC,{size:22,className:"text-[#3797F0]"})}),I.jsxs("div",{className:"flex-1 bg-[#262626] rounded-full h-11 flex items-center px-4 gap-2 border border-transparent focus-within:border-gray-700 transition-colors",children:[I.jsx("input",{value:l,onChange:y=>c(y.target.value),type:"text",placeholder:"Message...",className:"bg-transparent border-none outline-none text-white text-[15px] w-full placeholder-gray-400"}),!l&&I.jsx(AC,{size:20,className:"text-white"}),!l&&I.jsx(w3,{size:20,className:"text-white"}),l&&I.jsx("button",{type:"submit",className:"text-[#0095F6] font-semibold text-sm",children:"Send"})]}),!l&&I.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full text-white cursor-pointer hover:bg-[#121212]",children:I.jsx(x3,{size:24,strokeWidth:1.5})})]})]})},Q5=({call:e,onAnswer:t,onReject:n})=>I.jsxs(wh.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-4 left-4 right-4 bg-gray-900 rounded-2xl p-4 shadow-2xl border border-gray-800 z-50 flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 animate-pulse"}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-white font-bold",children:"Incoming Video Call..."}),I.jsx("span",{className:"text-xs text-gray-400",children:"Encrypted P2P Connection"})]})]}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:n,className:"p-3 bg-red-500 rounded-full text-white",children:I.jsx(xC,{size:20})}),I.jsx("button",{onClick:t,className:"p-3 bg-green-500 rounded-full text-white",children:I.jsx(Mh,{size:20})})]})]}),X5=({call:e,remoteStream:t,onEnd:n})=>{const s=P.useRef(null),a=P.useRef(null),[l,c]=P.useState(!1),[h,p]=P.useState(!1);P.useEffect(()=>{s.current&&t&&(s.current.srcObject=t),a.current&&e.stream&&(a.current.srcObject=e.stream)},[t,e.stream]);const m=()=>{e.stream&&(e.stream.getAudioTracks().forEach(y=>y.enabled=!l),c(!l))};return I.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[I.jsxs("div",{className:"flex-1 relative bg-gray-900",children:[t?I.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):I.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:"Connecting..."}),I.jsx("div",{className:"absolute top-4 right-4 w-32 h-48 bg-gray-800 rounded-xl overflow-hidden border-2 border-white/20 shadow-lg",children:I.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})})]}),I.jsxs("div",{className:"h-24 bg-black/80 backdrop-blur-md flex items-center justify-center gap-8 pb-4",children:[I.jsx("button",{onClick:m,className:`p-4 rounded-full ${l?"bg-white text-black":"bg-gray-800 text-white"}`,children:l?I.jsx(O3,{}):I.jsx(AC,{})}),I.jsx("button",{onClick:n,className:"p-4 rounded-full bg-red-600 text-white shadow-lg scale-110",children:I.jsx(xC,{size:32})}),I.jsx("button",{onClick:()=>p(!h),className:`p-4 rounded-full ${h?"bg-white text-black":"bg-gray-800 text-white"}`,children:h?I.jsx($3,{}):I.jsx(Mh,{})})]})]})},Z5=({onLock:e})=>{const[t,n]=P.useState([{id:"bitcoin",symbol:"BTC",name:"Bitcoin",balance:.245,price:96400,change:2.4,history:[94e3,95200,94800,96e3,96400]},{id:"ethereum",symbol:"ETH",name:"Ethereum",balance:4.12,price:2750,change:-1.2,history:[2800,2780,2760,2740,2750]},{id:"solana",symbol:"SOL",name:"Solana",balance:145.5,price:112.4,change:5.8,history:[105,108,110,111,112.4]}]),[s,a]=P.useState(!1),l=async()=>{a(!0);try{const m=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana&vs_currencies=usd&include_24hr_change=true")).json();m&&n(y=>y.map(v=>{const E=m[v.id];return E?{...v,price:E.usd,change:E.usd_24h_change}:v}))}catch(p){console.error("Failed to fetch prices",p)}finally{setTimeout(()=>a(!1),800)}};P.useEffect(()=>{l();const p=setInterval(l,6e4);return()=>clearInterval(p)},[]);const c=t.reduce((p,m)=>p+m.price*m.balance,0),h=(p,m,y)=>{const v=Math.min(...p),C=Math.max(...p)-v||1,M=m/(p.length-1);return`M ${p.map((B,F)=>{const q=F*M,G=y-(B-v)/C*y;return`${q},${G}`}).join(" L ")}`};return I.jsxs("div",{className:"bg-black text-white h-[100dvh] flex flex-col font-sans overflow-hidden",children:[I.jsxs("div",{className:"p-6 pt-8 bg-gradient-to-b from-[#1a1a1a] to-black rounded-b-3xl shadow-lg relative z-10",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("button",{onClick:e,className:"p-2 bg-[#262626] rounded-full hover:bg-gray-700 transition-colors",children:I.jsx(Dh,{size:20})}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("div",{className:"p-2 bg-[#262626] rounded-full",children:I.jsx(Z1,{size:20})}),I.jsx("div",{className:"p-2 bg-[#262626] rounded-full",children:I.jsx(Y1,{size:20})})]})]}),I.jsxs("div",{className:"flex flex-col items-center mb-4",children:[I.jsx("span",{className:"text-gray-400 text-sm font-medium tracking-wider mb-1",children:"TOTAL BALANCE"}),I.jsxs("h1",{className:"text-4xl font-bold tracking-tight",children:["$",c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),I.jsxs("div",{className:"flex items-center gap-1 mt-2 px-3 py-1 bg-green-500/10 text-green-400 rounded-full text-xs font-bold",children:[I.jsx(Q1,{size:14}),I.jsx("span",{children:"+$1,240.50 (2.4%)"})]})]}),I.jsxs("div",{className:"flex justify-center gap-6 mt-6",children:[I.jsx(Af,{icon:I.jsx(Q1,{}),label:"Send"}),I.jsx(Af,{icon:I.jsx(y3,{}),label:"Receive"}),I.jsx(Af,{icon:I.jsx(X1,{className:s?"animate-spin":""}),label:"Swap",onClick:l}),I.jsx(Af,{icon:I.jsx(b3,{}),label:"Buy"})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[I.jsxs("div",{className:"flex justify-between items-center px-2 mb-2",children:[I.jsx("h3",{className:"text-lg font-bold",children:"Assets"}),I.jsx("span",{className:"text-sm text-[#0095F6] font-semibold cursor-pointer",children:"See All"})]}),t.map(p=>I.jsxs("div",{className:"bg-[#121212] p-4 rounded-2xl flex items-center justify-between active:bg-[#1a1a1a] transition-colors",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center font-bold text-white border border-gray-700",children:p.symbol[0]}),I.jsxs("div",{children:[I.jsx("h4",{className:"font-bold text-base",children:p.name}),I.jsxs("span",{className:"text-xs text-gray-500",children:[p.balance," ",p.symbol]})]})]}),I.jsx("div",{className:"w-16 h-8",children:I.jsx("svg",{width:"64",height:"32",viewBox:"0 0 100 50",preserveAspectRatio:"none",children:I.jsx("path",{d:h(p.history,100,50),fill:"none",stroke:p.change>=0?"#4ade80":"#ef4444",strokeWidth:"3",vectorEffect:"non-scaling-stroke"})})}),I.jsxs("div",{className:"text-right",children:[I.jsxs("h4",{className:"font-bold text-base",children:["$",p.price.toLocaleString()]}),I.jsxs("div",{className:`text-xs font-semibold flex items-center justify-end gap-0.5 ${p.change>=0?"text-green-400":"text-red-400"}`,children:[p.change>=0?"+":"",p.change.toFixed(2),"%"]})]})]},p.id))]}),I.jsxs("div",{className:"h-20 bg-black border-t border-[#262626] flex items-center justify-around text-gray-500 pb-4",children:[I.jsx(xf,{icon:I.jsx(Q3,{}),label:"Wallet",active:!0}),I.jsx(xf,{icon:I.jsx(Y1,{}),label:"Market"}),I.jsx(xf,{icon:I.jsx(X1,{}),label:"Trade"}),I.jsx(xf,{icon:I.jsx(Z1,{}),label:"Settings"})]})]})},Af=({icon:e,label:t,onClick:n})=>I.jsxs("div",{className:"flex flex-col items-center gap-2 cursor-pointer group",onClick:n,children:[I.jsx("div",{className:"w-12 h-12 rounded-full bg-[#262626] flex items-center justify-center text-white group-active:scale-95 transition-transform border border-transparent group-hover:border-gray-600",children:vb.cloneElement(e,{size:20})}),I.jsx("span",{className:"text-xs text-gray-400 font-medium",children:t})]}),xf=({icon:e,label:t,active:n})=>I.jsxs("div",{className:`flex flex-col items-center gap-1 cursor-pointer ${n?"text-white":"text-gray-600"}`,children:[vb.cloneElement(e,{size:24}),I.jsx("span",{className:"text-[10px] font-medium",children:t})]});function J5(){const[e,t]=P.useState(!0),[n,s]=P.useState("private"),a=c=>{s(c),t(!1)},l=()=>{t(!0)};return I.jsx("div",{className:"h-screen w-full overflow-hidden bg-gray-50 relative",children:I.jsx(cC,{mode:"wait",children:e?I.jsx(X3,{onAuthenticated:a},"auth"):n==="dummy"?I.jsx(Z5,{onLock:l},"dummy"):I.jsx("div",{className:"absolute inset-0 z-20",children:I.jsx($5,{onLock:l},"private")})})})}console.log("APP ENTRY POINT LOADED - IF YOU SEE THIS, JS IS RUNNING");BR.createRoot(document.getElementById("root")).render(I.jsx(P.StrictMode,{children:I.jsx(oD,{children:I.jsx(J5,{})})}));
